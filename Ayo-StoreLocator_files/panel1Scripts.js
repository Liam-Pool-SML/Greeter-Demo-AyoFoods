function panel1Load(shadowPanel) {
	if(gLog==1){console.log("panel1Load - START",shadowPanel);}
	isItAutoMM = 1;
	clearInterval(p1PHW);
	clearInterval(p1CHW);
	p1ErrorArray.length = 0;
	if (p1LoadPSwitch == 1) {
		if (prodURLCartLoad == 0) {
			var testDaProd = document.getElementById('PROD').value;
			if(gLog==1){console.log("panel1Load - testDaProd: " + testDaProd);}
			if (testDaProd.indexOf(",") != -1) {
			}
			else {
				prodCartArray.length = 0;
				for (tp=0; tp<prodDisplayArray.length; tp++) {
					if (prodDisplayArray[tp][1] == testDaProd) {
						prodCartArray.push(prodDisplayArray[tp][0]);
						break;
					}
				}
				if(gLog==1){console.log("panel1Load - prodCartArray:" + prodCartArray.toString(","));}
			}
			prodURLCartLoad++;
		}
	}
	for (q=0; q<catArray.length; q++) {
		window["catActiveTrack"+catArray[q][0]] = 0;
	}
	if (allOnOne == 0) {
		var baseHTML = autotextIt(p1TemplateSet.panel1BaseDiv,"panel1");
		if (baseHTML.length != -1) {
			var jqvalON = 1;
			var jqval =  Math.floor((Math.random() * 10000000) + 1);
			while (jqvalON == 1) {
				var jqValTagStart = baseHTML.indexOf("|--JQVAL");
				if (jqValTagStart != -1) {
					var jqValTagEnd = baseHTML.indexOf("|",jqValTagStart+1);
					var jqValHTMLStart = baseHTML.substr(0,jqValTagStart);
					var jqValHTMLEnd = baseHTML.substr((jqValTagEnd+1));
					baseHTML = jqValHTMLStart + jqval + jqValHTMLEnd;
				}
				else {
					jqvalON = 0;
				}
			}
			if (cPanelOp == 1) {
				var controlPanelButtonTagStart = baseHTML.indexOf("<!--CONTROLPANELBUTTON");
				if (controlPanelButtonTagStart != -1) {
					var controlPanelButtonTagEnd = baseHTML.indexOf(">",controlPanelButtonTagStart);
					var controlPanelButtonTagStrip = baseHTML.substring(controlPanelButtonTagStart,(controlPanelButtonTagEnd+1));
					var controlPanelButtonHTMLStart = baseHTML.substr(0,controlPanelButtonTagStart);
					var controlPanelButtonHTMLEnd = baseHTML.substr((controlPanelButtonTagEnd+1));
					var controlPanelButtonRender = "";
					var controlPanelButtonValueStart = controlPanelButtonTagStrip.indexOf(" VALUE=");
					if (controlPanelButtonValueStart != -1) {
						var controlPanelButtonValueEnd = controlPanelButtonTagStrip.indexOf("]",controlPanelButtonValueStart);
						var controlPanelButtonValueVar = controlPanelButtonTagStrip.substring((controlPanelButtonValueStart+8),(controlPanelButtonValueEnd));
					}
					else {
						var controlPanelButtonValueVar = "REFINE SEARCH";
					}
					var controlPanelButtonItalicStart = controlPanelButtonTagStrip.indexOf(" FNTAW=");
					if (controlPanelButtonItalicStart != -1) {
						var controlPanelButtonItalicEnd = controlPanelButtonTagStrip.indexOf("]",controlPanelButtonItalicStart);
						var controlPanelButtonItalicVar = "<i class='fa " + controlPanelButtonTagStrip.substring((controlPanelButtonItalicStart+8),(controlPanelButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var controlPanelButtonItalicVar = "";
					}
					controlPanelButtonRender += "<div id='controlPanelButtonP1' class='control_panel_button_P1 control_panel_button_P1_off'";
					if (hoverState==1) {
						controlPanelButtonRender += " onmouseover='controlPanelButtonOver(\"P1\");' onfocus='controlPanelButtonOver(\"P1\");' onmouseout='controlPanelButtonOut(\"P1\");' onblur='controlPanelButtonOut(\"P1\");'";
					}
					controlPanelButtonRender += " onclick='controlPanelOpen(whatPanelUp);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){controlPanelOpen(whatPanelUp);}' tabindex='0' title=\"" + controlPanelButtonValueVar + "\">" + controlPanelButtonItalicVar + controlPanelButtonValueVar + "<\/div>";
					baseHTML = controlPanelButtonHTMLStart + controlPanelButtonRender + controlPanelButtonHTMLEnd;
				}
				var controlPanelSmallTagStart = baseHTML.indexOf("<!--CONTROLPANELSMALL");
				if (controlPanelSmallTagStart != -1) {
					var controlPanelSmallTagEnd = baseHTML.indexOf(">",controlPanelSmallTagStart);
					var controlPanelSmallTagStrip = baseHTML.substring(controlPanelSmallTagStart,(controlPanelSmallTagEnd+1));
					var controlPanelSmallHTMLStart = baseHTML.substr(0,controlPanelSmallTagStart);
					var controlPanelSmallHTMLEnd = baseHTML.substr((controlPanelSmallTagEnd+1));
					var controlPanelSmallOpenStart = controlPanelSmallTagStrip.indexOf(" OPEN");
					cpsP1 = 1;
					if (controlPanelSmallOpenStart != -1) {
						cpsP1 = 2;
					}
					baseHTML = controlPanelSmallHTMLStart + controlPanelSmallHTMLEnd;
				}
				var controlPanelTagStart = baseHTML.indexOf("<!--CONTROLPANEL");
				if (controlPanelTagStart != -1) {
					var controlPanelTagEnd = baseHTML.indexOf(">",controlPanelTagStart);
					var controlPanelTagStrip = baseHTML.substring(controlPanelTagStart,(controlPanelTagEnd+1));
					var controlPanelHTMLStart = baseHTML.substr(0,controlPanelTagStart);
					var controlPanelHTMLEnd = baseHTML.substr((controlPanelTagEnd+1));
					var controlPanelHideStart = controlPanelTagStrip.indexOf(" HIDE");
					if (controlPanelHideStart != -1) {
						cpPH1 = 1;
					}
					var controlPanelMobileHideStart = controlPanelTagStrip.indexOf(" MOBILEHIDE");
					if (controlPanelMobileHideStart != -1) {
						cpPH1m = 1;
					}
					var controlPanelOpenStart = controlPanelTagStrip.indexOf(" OPEN");
					cpP1 = 1;
					if (controlPanelOpenStart != -1) {
						cpP1 = 2;
					}
					var controlPanelOpenStart = controlPanelTagStrip.indexOf(" LOCK");
					if (controlPanelOpenStart != -1) {
						cpP1Lock = 1;
					}
					baseHTML = controlPanelHTMLStart + controlPanelHTMLEnd;
				}
			}
			var eCommButTagStart = baseHTML.indexOf("<!--ECOMMBUTTON");
			if (eCommButTagStart != -1 && onretOn == 2) {
				var eCommButTagEnd = baseHTML.indexOf(">",eCommButTagStart);
				var eCommButTagStrip = baseHTML.substring(eCommButTagStart,(eCommButTagEnd+1));
				var eCommButHTMLStart = baseHTML.substr(0,eCommButTagStart);
				var eCommButHTMLEnd = baseHTML.substr((eCommButTagEnd+1));
				var eCommButRender = "";
				var orFoundArr = [];
				for (c=0; c<prodDisplayArray.length; c++) {
					for (p=0; p<onretProdArray.length; p++) {
						if (onretProdArray[p][2] == prodDisplayArray[c][0]  && (ecOutStock >= 1 || onretProdArray[p][7] != 2)) {
							orFoundArr.push(onretProdArray[p][1]);
						}
					}
				}
				var orcAllIs = 0;
				for (g=0; g<onretClientArray.length; g++) {
					if (onretClientArray[g][10] == 1) {
						orcAllIs++;
						break;
					}
				}
				var ocFoundArr = orFoundArr.filter( onlyUnique );
				var eCommButDisplay = "";
				var eCommButDisplayNone = " style='display:none'";
				var eCommButDisplayLoad = " style='display:none'";
				if (numPost == 1) {
					eCommButDisplay = " style='display:none'";
					eCommButDisplayNone = " style='display:none'";
					eCommButDisplayLoad = "";
				}
				else {
					if (ocFoundArr.length == 0 && orcAllIs == 0) {
						eCommButDisplay = " style='display:none'";
						eCommButDisplayNone = " style='display:none'";
						eCommButDisplayLoad = " style='display:none'";
					}
				}
				var eCommCountSingularStart = eCommButTagStrip.indexOf(" SINGULAR=");
				if (eCommCountSingularStart != -1) {
					var eCommCountSingularEnd = eCommButTagStrip.indexOf("]",eCommCountSingularStart);
					panel1ECommCountSingularVar = " " + eCommButTagStrip.substring((eCommCountSingularStart+11),(eCommCountSingularEnd));
				}
				var eCommCountPluralStart = eCommButTagStrip.indexOf(" PLURAL=");
				if (eCommCountPluralStart != -1) {
					var eCommCountPluralEnd = eCommButTagStrip.indexOf("]",eCommCountPluralStart);
					panel1ECommCountPluralVar = " " + eCommButTagStrip.substring((eCommCountPluralStart+9),(eCommCountPluralEnd));
				}
				var eCommCountNoneVar = "NO PRODUCTS FOUND"
				var eCommCountNoneStart = eCommButTagStrip.indexOf(" NONE=");
				if (eCommCountNoneStart != -1) {
					var eCommCountNoneEnd = eCommButTagStrip.indexOf("]",eCommCountNoneStart);
					eCommCountNoneVar = " " + eCommButTagStrip.substring((eCommCountNoneStart+7),(eCommCountNoneEnd));
				}
				var eCommCountLoadVar = "LOADING..."
				var eCommCountLoadStart = eCommButTagStrip.indexOf(" LOAD=");
				if (eCommCountLoadStart != -1) {
					var eCommCountLoadEnd = eCommButTagStrip.indexOf("]",eCommCountLoadStart);
					eCommCountLoadVar = " " + eCommButTagStrip.substring((eCommCountLoadStart+7),(eCommCountLoadEnd));
				}
				if (ocFoundArr.length == 1) {
					var thisSCT = panel1ECommCountSingularVar;
				}
				else {
					var thisSCT = panel1ECommCountPluralVar;
				}
				eCommButRender = "<div id='panel1ECommButton' class='panel_1_ecomm_button panel_1_ecomm_button_off'";
				if (hoverState==1) {
					eCommButRender += " onmouseover='genericButtonOver(\"panel_1_ecomm_button\",\"panel_1_ecomm_button\");' onfocus='genericButtonOver(\"panel_1_ecomm_button\",\"panel_1_ecomm_button\");' onmouseout='genericButtonOut(\"panel_1_ecomm_button\",\"panel_1_ecomm_button\");' onblur='genericButtonOut(\"panel_1_ecomm_button\",\"panel_1_ecomm_button\");'";
				}
				eCommButRender += " onclick='showOnRet();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){showOnRet();}'" + eCommButDisplay + " tabindex='0' title=\"Show Retailers\"><span id='panel1ECommButNum'>" + ocFoundArr.length + "<\/span><span id='panel1ECommButText'>" +  thisSCT + "<\/span><\/div><div id='panel1ECommButtonNone' class='panel_1_ecomm_button_none'" + eCommButDisplayNone + "><span id='panel1ECommButNoneText'>" +  eCommCountNoneVar + "<\/span><\/div><div id='panel1ECommButtonLoad' class='panel_1_ecomm_button_none'" + eCommButDisplayLoad + "><span id='panel1ECommButLoadText'>" +  eCommCountLoadVar + "<\/span><\/div>";
				baseHTML = eCommButHTMLStart + eCommButRender + eCommButHTMLEnd;
			}
			var simpleFilterTagStart = baseHTML.indexOf("<!--SIMPLEFILTER");
			var redrawFilterTagStart = baseHTML.indexOf("<!--REDRAWFILTER");
			if (simpleFilterTagStart != -1) {
				var simpleFilterTagEnd = baseHTML.indexOf(">",simpleFilterTagStart);
				var simpleFilterTagStrip = baseHTML.substring(simpleFilterTagStart,(simpleFilterTagEnd+1));
				var simpleFilterHTMLStart = baseHTML.substr(0,simpleFilterTagStart);
				var simpleFilterHTMLEnd = baseHTML.substr((simpleFilterTagEnd+1));
				var simpleFilterTypeStart = simpleFilterTagStrip.indexOf(" TYPE=");
				if (simpleFilterTypeStart != -1) {
					var simpleFilterTypeEnd = simpleFilterTagStrip.indexOf("]",simpleFilterTypeStart);
					var simpleFilterType = simpleFilterTagStrip.substring((simpleFilterTypeStart+7),(simpleFilterTypeEnd));
					if (simpleFilterType == "CATEGORY") {
						p1SimpFillType = 1;
					}
				}
				panel1SimpleVar = 1;
				var p1filterType = "panel1SimpleFilter();";
				baseHTML = simpleFilterHTMLStart + simpleFilterHTMLEnd;
			}
			else if (redrawFilterTagStart != -1) {
				var redrawFilterTagEnd = baseHTML.indexOf(">",redrawFilterTagStart);
				var redrawFilterTagStrip = baseHTML.substring(redrawFilterTagStart,(redrawFilterTagEnd+1));
				var redrawFilterHTMLStart = baseHTML.substr(0,redrawFilterTagStart);
				var redrawFilterHTMLEnd = baseHTML.substr((redrawFilterTagEnd+1));
				panel1RedrawType = 1;
				var redrawFilterTypeStart = redrawFilterTagStrip.indexOf(" TYPE=");
				if (redrawFilterTypeStart != -1) {
					var redrawFilterTypeEnd = redrawFilterTagStrip.indexOf("]",redrawFilterTypeStart);
					var redrawFilterType = redrawFilterTagStrip.substring((redrawFilterTypeStart+7),(redrawFilterTypeEnd));
					if (redrawFilterType == "GROUP") {
						panel1RedrawType = 2;
					}
				}
				var redrawFilterPredrawStart = redrawFilterTagStrip.indexOf(" PREDRAW=");
				if (redrawFilterPredrawStart != -1) {
					var redrawFilterPredrawEnd = redrawFilterTagStrip.indexOf("]",redrawFilterPredrawStart);
					preRedrawOn = redrawFilterTagStrip.substring((redrawFilterPredrawStart+10),(redrawFilterPredrawEnd));
					if(gLog==1){console.log("REDRAWFILTER - preRedrawOn",preRedrawOn);}
				}
				panel1RedrawVar = 1;
				var p1filterType = "panel1RedrawFilter();";
				baseHTML = redrawFilterHTMLStart + redrawFilterHTMLEnd;
			}
			else {
				var p1filterType = "panel1DynamicFilter();";
			}
			var sliderON = 1;
			while (sliderON == 1) {
				var sliderTagStart = baseHTML.indexOf("<!--SLIDER");
				if (sliderTagStart != -1) {
					var sliderTagEnd = baseHTML.indexOf(">",sliderTagStart+1);
					var sliderTagStrip = baseHTML.substring(sliderTagStart,(sliderTagEnd+1));
					var sliderHTMLStart = baseHTML.substr(0,sliderTagStart);
					var sliderHTMLEnd = baseHTML.substr((sliderTagEnd+1));
					var sl = panel1SliderArray.length;
					var sliderValueStart = sliderTagStrip.indexOf(" VALUE=");
					if (sliderValueStart != -1) {
						var sliderValueEnd = sliderTagStrip.indexOf("]",sliderValueStart);
						var sliderValueVal = sliderTagStrip.substring((sliderValueStart+8),(sliderValueEnd));
					}
					else {
						var sliderValueVal = "GENERIC SLIDER";
					}
					var sliderFamIDStart = sliderTagStrip.indexOf(" FAMID=");
					if (sliderFamIDStart != -1) {
						var sliderFamIDEnd = sliderTagStrip.indexOf("]",sliderFamIDStart);
						var sliderFamID = sliderTagStrip.substring((sliderFamIDStart+8),(sliderFamIDEnd));
						for (slf=0; slf<famArray.length; slf++) {
							if (famArray[slf][0] == sliderFamID) {
								sliderValueVal = famArray[slf][1];
								break;
							}
						}
					}
					var sliderCatIDStart = sliderTagStrip.indexOf(" CATID=");
					if (sliderCatIDStart != -1) {
						var sliderCatIDEnd = sliderTagStrip.indexOf("]",sliderCatIDStart);
						var sliderCatID = sliderTagStrip.substring((sliderCatIDStart+8),(sliderCatIDEnd));
						for (slc=0; slc<catArray.length; slc++) {
							if (catArray[slc][0] == sliderCatID) {
								sliderValueVal = catArray[slc][1];
								break;
							}
						}
					}
					var sliderDivStart = sliderTagStrip.indexOf(" DIV=");
					if (sliderDivStart != -1) {
						var sliderDivEnd = sliderTagStrip.indexOf("]",sliderDivStart);
						sliderDivVal = sliderTagStrip.substring((sliderDivStart+6),(sliderDivEnd));
					}
					else {
						sliderDivVal = "declare_da_div_dude";
					}
					var sliderOnItalicStart = sliderTagStrip.indexOf(" FNTAWON=");
					if (sliderOnItalicStart != -1) {
						var sliderOnItalicEnd = sliderTagStrip.indexOf("]",sliderOnItalicStart);
						sliderOnItalicVar = sliderTagStrip.substring((sliderOnItalicStart+10),(sliderOnItalicEnd));
					}
					else {
						sliderOnItalicVar = "";
					}
					var sliderOffItalicStart = sliderTagStrip.indexOf(" FNTAWOFF=");
					if (sliderOffItalicStart != -1) {
						var sliderOffItalicEnd = sliderTagStrip.indexOf("]",sliderOffItalicStart);
						sliderOffItalicVar = sliderTagStrip.substring((sliderOffItalicStart+11),(sliderOffItalicEnd));
					}
					else {
						sliderOffItalicVar = "";
					}
					panel1SliderArray[sl] = [sliderDivVal, sliderOnItalicVar, sliderOffItalicVar, 0];
					baseHTML = sliderHTMLStart + "<div id='panel1SliderWrap_" + sl + "' class='panel_1_slider_wrap'><div id='panel1SliderContainer_" + sl + "' class='panel_1_slider_container' onclick='panel1SliderControl(" + sl + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1SliderControl(" + sl + ");}' tabindex='0' title=\"" + sliderValueVal + "\"><i class='panel_1_slider_i panel_1_slider_i_" + sl + " " + sliderOffItalicVar + "'><\/i><div id='panel1SliderTitle_" + sl + "' class='panel_1_slider_title'>" + sliderValueVal + "<\/div><\/div><\/div>" + sliderHTMLEnd;
				}
				else {
					sliderON = 0;
				}
			}
			var addFieldTagStart = baseHTML.indexOf("<!--ADDFIELD");
			if (addFieldTagStart != -1) {
				var addFieldTagEnd = baseHTML.indexOf(">",addFieldTagStart);
				var addFieldTagStrip = baseHTML.substring(addFieldTagStart,(addFieldTagEnd+1));
				var addFieldHTMLStart = baseHTML.substr(0,addFieldTagStart);
				var addFieldHTMLEnd = baseHTML.substr((addFieldTagEnd+1));
				var addFieldClearStart = addFieldTagStrip.indexOf(" CLEAR");
				if (addFieldClearStart != -1) {
					var addFieldClearRender = "clearAddfield(1);";
				}
				else {
					var addFieldClearRender = "";
				}
				var addFieldRender = "";
				var addFieldValueStart = addFieldTagStrip.indexOf(" VALUE=");
				if (addFieldValueStart != -1) {
					var addFieldValueEnd = addFieldTagStrip.indexOf("]");
					var addFieldValueVal = addFieldTagStrip.substring((addFieldValueStart+8),(addFieldValueEnd));
					p1AddFieldValueVar = addFieldValueVal;
					var addFieldValueRender = " placeholder='"+addFieldValueVal+"'";
					var addFieldFocusRender = " onfocus='" + addFieldClearRender + "'";
					var addFieldBlurRender = "";
				}
				else {
					p1AddFieldValueVar = "";
					var addFieldValueRender = "";
					var addFieldFocusRender = " onfocus='" + addFieldClearRender + "'";
					var addFieldBlurRender = "";
				}
				var addFieldBlankStart = addFieldTagStrip.indexOf(" BLANK");
				if (addFieldBlankStart != -1) {
					var addFieldBlankRender = " enforce_blank";
				}
				else {
					var addFieldBlankRender = "";
				}
				var addFieldReqStart = addFieldTagStrip.indexOf(" REQUIRED");
				if (addFieldReqStart != -1) {
					var addFieldReqRender = " class='panel_1_address_field panel_1_address_field_base panel_1_required" + addFieldBlankRender + "'";
				}
				else {
					var addFieldReqRender = " class='panel_1_address_field panel_1_address_field_base" + addFieldBlankRender + "'";
				}
				var addFieldCartStart = addFieldTagStrip.indexOf(" CART");
				if (addFieldCartStart != -1) {
					panel1CartReq = 1;
				}
				var addFieldSubStart = addFieldTagStrip.indexOf(" SUBMIT");
				if (addFieldSubStart != -1) {
					var addFieldSubRender = " onkeyup='panel1FieldKeypress(event,\"panel1AddressField\",1);'";
				}
				else {
					var addFieldSubRender = "";
				}
				var addFieldHideStart = addFieldTagStrip.indexOf(" HIDE");
				if (addFieldHideStart != -1) {
					p1HideAddField = 1;
					var addFieldHideText = " style='display:none;'";
				}
				else {
					var addFieldHideText = "";
				}
				addFieldRender = "<input type='text' name='panel1AddressField' id='panel1AddressField'" + addFieldValueRender + addFieldFocusRender + addFieldBlurRender + addFieldReqRender + addFieldSubRender + addFieldHideText + " title=\"" + p1AddFieldValueVar + "\" aria-label='Enter a city, state, or postal code to find stores near you'>";
				baseHTML = addFieldHTMLStart + addFieldRender + addFieldHTMLEnd;
			}
			var cityFieldTagStart = baseHTML.indexOf("<!--CITYFIELD");
			if (cityFieldTagStart != -1) {
				var cityFieldTagEnd = baseHTML.indexOf(">",cityFieldTagStart);
				var cityFieldTagStrip = baseHTML.substring(cityFieldTagStart,(cityFieldTagEnd+1));
				var cityFieldHTMLStart = baseHTML.substr(0,cityFieldTagStart);
				var cityFieldHTMLEnd = baseHTML.substr((cityFieldTagEnd+1));
				var cityFieldRender = "";
				var cityFieldValueStart = cityFieldTagStrip.indexOf(" VALUE=");
				if (cityFieldValueStart != -1) {
					var cityFieldValueEnd = cityFieldTagStrip.indexOf("]");
					var cityFieldValueVal = cityFieldTagStrip.substring((cityFieldValueStart+8),(cityFieldValueEnd));
					cityFieldValueVar = cityFieldValueVal;
					var cityFieldValueRender = " value='"+cityFieldValueVal+"'";
					var cityFieldFocusRender = " onfocus='fieldBlurFocus(\"panel1CityField\",\""+cityFieldValueVal+"\",1);'";
					var cityFieldBlurRender = " onblur='fieldBlurFocus(\"panel1CityField\",\""+cityFieldValueVal+"\",0);'";
				}
				else {
					cityFieldValueVar = "";
					var cityFieldValueRender = "";
					var cityFieldFocusRender = "";
					var cityFieldBlurRender = "";
				}
				var cityFieldReqStart = cityFieldTagStrip.indexOf(" REQUIRED");
				if (cityFieldReqStart != -1) {
					var cityFieldReqRender = " class='panel_1_city_field panel_1_city_field_base panel_1_required'";
				}
				else {
					var cityFieldReqRender = " class='panel_1_city_field panel_1_city_field_base'";
				}
				var cityFieldSubStart = cityFieldTagStrip.indexOf(" SUBMIT");
				if (cityFieldSubStart != -1) {
					var cityFieldSubRender = " onkeyup='panel1FieldKeypress(event,\"panel1CityField\",1);'";
				}
				else {
					var cityFieldSubRender = " onkeyup='panel1FieldKeypress(event,\"panel1CityField\",0);'";
				}
				cityFieldRender = "<input type='text' name='panel1CityField' id='panel1CityField'" + cityFieldValueRender + cityFieldFocusRender + cityFieldBlurRender + cityFieldReqRender + cityFieldSubRender + " title=\"" + cityFieldValueVar + "\">";
				baseHTML = cityFieldHTMLStart + cityFieldRender + cityFieldHTMLEnd;
			}
			var stateFieldTagStart = baseHTML.indexOf("<!--STATEFIELD");
			if (stateFieldTagStart != -1) {
				var stateFieldTagEnd = baseHTML.indexOf(">",stateFieldTagStart);
				var stateFieldTagStrip = baseHTML.substring(stateFieldTagStart,(stateFieldTagEnd+1));
				var stateFieldHTMLStart = baseHTML.substr(0,stateFieldTagStart);
				var stateFieldHTMLEnd = baseHTML.substr((stateFieldTagEnd+1));
				var stateFieldRender = "";
				var stateFieldValueStart = stateFieldTagStrip.indexOf(" VALUE=");
				if (stateFieldValueStart != -1 && stateBase == "") {
					var stateFieldValueEnd = stateFieldTagStrip.indexOf("]");
					var stateFieldValueVal = stateFieldTagStrip.substring((stateFieldValueStart+8),(stateFieldValueEnd));
					var stateFieldValueRender = "<option value='" + stateFieldValueVal + "' selected='selected'>" + stateFieldValueVal + "<\/option>";
				}
				else if (stateBase != "") {
					var stateFieldValueVal = stateBase;
					var stateFieldValueRender = "<option value='" + stateFieldValueVal + "' selected='selected'>" + stateFieldValueVal + "<\/option>";
				}
				else {
					var stateFieldValueRender = "";
				}
				stateFieldRender = "<input type='hidden' name='panel1StateField' id='panel1StateField' value='" + stateFieldValueVal + "'><select name='panel1StateSelect' id='panel1StateSelect' class='panel_1_state_field panel_1_state_field_base' onchange='setSelect(\"panel1StateSelect\",\"panel1StateField\");' title=\"" + stateFieldValueVal + "\">" + stateFieldValueRender;
				for (s=0; s<stateArray.length; s++) {
					if (stateArray[s] != stateFieldValueVal) {
						stateFieldRender += "<option value='" + stateArray[s] + "'>" + stateArray[s] + "<\/option>";
					}
				}
				stateFieldRender += "<\/select>";
				baseHTML = stateFieldHTMLStart + stateFieldRender + stateFieldHTMLEnd;
			}
			var zipFieldTagStart = baseHTML.indexOf("<!--ZIPFIELD");
			if (zipFieldTagStart != -1) {
				var zipFieldTagEnd = baseHTML.indexOf(">",zipFieldTagStart);
				var zipFieldTagStrip = baseHTML.substring(zipFieldTagStart,(zipFieldTagEnd+1));
				var zipFieldHTMLStart = baseHTML.substr(0,zipFieldTagStart);
				var zipFieldHTMLEnd = baseHTML.substr((zipFieldTagEnd+1));
				var zipFieldRender = "";
				var zipFieldValueStart = zipFieldTagStrip.indexOf(" VERIFY");
				if (zipFieldValueStart != -1) {
					zipFieldValueVar = 1;
				}
				else {
					zipFieldValueVar = 0;
				}
				var zipFieldReqStart = zipFieldTagStrip.indexOf(" REQUIRED");
				if (zipFieldReqStart != -1) {
					var zipFieldReqRender = " class='panel_1_zip_field panel_1_zip_field_base panel_1_required'";
				}
				else {
					var zipFieldReqRender = " class='panel_1_zip_field panel_1_zip_field_base'";
				}
				var zipFieldSubStart = zipFieldTagStrip.indexOf(" SUBMIT");
				if (zipFieldSubStart != -1) {
					var zipFieldSubRender = " onkeyup='panel1FieldKeypress(event,\"panel1ZipField\",1);'";
				}
				else {
					var zipFieldSubRender = " onkeyup='panel1FieldKeypress(event,\"panel1ZipField\",0);'";
				}
				zipFieldRender = "<input type='text' name='panel1ZipField' id='panel1ZipField'" + zipFieldReqRender + zipFieldSubRender + " title=\"Zip Code\">";
				baseHTML = zipFieldHTMLStart + zipFieldRender + zipFieldHTMLEnd;
			}
			var productSelectTagStart = baseHTML.indexOf("<!--PRODUCTSELECT");
			if (productSelectTagStart != -1) {
				var productSelectTagEnd = baseHTML.indexOf(">",productSelectTagStart);
				var productSelectTagStrip = baseHTML.substring(productSelectTagStart,(productSelectTagEnd+1));
				var productSelectHTMLStart = baseHTML.substr(0,productSelectTagStart);
				var productSelectHTMLEnd = baseHTML.substr((productSelectTagEnd+1));
				var productSelectRender = "";
				var productSelectValueStart = productSelectTagStrip.indexOf(" ALL=");
				if (productSelectValueStart != -1) {
					var productSelectValueEnd = productSelectTagStrip.indexOf("]",productSelectValueStart);
					var productSelectValueVal = productSelectTagStrip.substring((productSelectValueStart+6),(productSelectValueEnd));
				}
				else {
					var productSelectValueVal = "Any/All Products";
				}
				var productSelectFamilyStart = productSelectTagStrip.indexOf(" FAMILY");
				if (productSelectFamilyStart != -1) {
					var productSelectFamilyVal = 1;
				}
				else {
					var productSelectFamilyVal = 0;
				}
				productSelectRender += "<select name='panel1ProductSelect' id='panel1ProductSelect' class='panel_1_product_select' onchange='setProductSelect(\"panel1ProductSelect\");'><option value='ALL'";
				if (document.getElementById('PROD').value == document.getElementById('FULLPROD').value || document.getElementById('PROD').value == "") {
					productSelectRender += " selected='selected'";
				}
				productSelectRender += ">" + productSelectValueVal + "<\/option>";
				if (productSelectFamilyVal == 1) {
					for (fm=0; fm<famArray.length; fm++) {
						productSelectRender += '<optgroup label="' + famArray[fm][1] + '"><\/optgroup>';
						for (ct=0; ct<catArray.length; ct++) {
							if (famArray[fm][0] == catArray[ct][2]) {
								productSelectRender += '<optgroup label="&nbsp;&nbsp;' + catArray[ct][1] + '">';
								for (pr=0; pr<prodDisplayArray.length; pr++) {
									if (prodDisplayArray[pr][8] == catArray[ct][0]) {
										productSelectRender += '<option value="&nbsp;&nbsp;' + prodDisplayArray[pr][1] + '"';
										if (document.getElementById('PROD').value == prodDisplayArray[pr][1]) {
											productSelectRender += ' selected="selected"';
										}
										productSelectRender += '>' + prodDisplayArray[pr][2] + '<\/option>';
									}
								}
								productSelectRender += '<\/optgroup>';
							}
						}
					}
				}
				else {
					for (ct=0; ct<catArray.length; ct++) {
						productSelectRender += '<optgroup label="' + catArray[ct][1] + '">';
						for (pr=0; pr<prodDisplayArray.length; pr++) {
							if (prodDisplayArray[pr][8] == catArray[ct][0]) {
								productSelectRender += '<option value="' + prodDisplayArray[pr][1] + '"';
								if (document.getElementById('PROD').value == prodDisplayArray[pr][1]) {
									productSelectRender += ' selected="selected"';
								}
								productSelectRender += '>' + prodDisplayArray[pr][2] + '<\/option>';
							}
						}
						productSelectRender += '<\/optgroup>';
					}
				}
				productSelectRender += "<\/select>";
				baseHTML = productSelectHTMLStart + productSelectRender + productSelectHTMLEnd;
			}
			var scopeFieldTagStart = baseHTML.indexOf("<!--SCOPEFIELD");
			if (scopeFieldTagStart != -1) {
				var scopeFieldTagEnd = baseHTML.indexOf(">",scopeFieldTagStart);
				var scopeFieldTagStrip = baseHTML.substring(scopeFieldTagStart,(scopeFieldTagEnd+1));
				var scopeFieldHTMLStart = baseHTML.substr(0,scopeFieldTagStart);
				var scopeFieldHTMLEnd = baseHTML.substr((scopeFieldTagEnd+1));
				var scopeFieldRender = "";
				var scopeFieldValueStart = scopeFieldTagStrip.indexOf(" VALUE=");
				if (scopeFieldValueStart != -1) {
					var scopeFieldValueEnd = scopeFieldTagStrip.indexOf("]");
					var scopeFieldValueVal = scopeFieldTagStrip.substring((scopeFieldValueStart+8),(scopeFieldValueEnd));
				}
				else {
					var scopeFieldValueVal = 0;
				}
				scopeFieldRender = "<input type='hidden' name='panel1ScopeField' id='panel1ScopeField' value='" + scopeFieldValueVal + "' title=\"Scope\"><select name='panel1ScopeSelect' id='panel1ScopeSelect' class='panel_1_scope_field panel_1_scope_field_base' onchange='setSelect(\"panel1ScopeSelect\",\"panel1ScopeField\");'><option value='0'";
				if (scopeFieldValueVal == 0) {
					scopeFieldRender += " selected='selected'";
				}
				scopeFieldRender += ">Any<\/option><option value='1'";
				if (scopeFieldValueVal == 1) {
					scopeFieldRender += " selected='selected'";
				}
				scopeFieldRender += ">All<\/option><\/select>";
				baseHTML = scopeFieldHTMLStart + scopeFieldRender + scopeFieldHTMLEnd;
			}
			var distanceFieldTagStart = baseHTML.indexOf("<!--DISTANCEFIELD");
			if (distanceFieldTagStart != -1) {
				var distanceFieldTagEnd = baseHTML.indexOf(">",distanceFieldTagStart);
				var distanceFieldTagStrip = baseHTML.substring(distanceFieldTagStart,(distanceFieldTagEnd+1));
				var distanceFieldHTMLStart = baseHTML.substr(0,distanceFieldTagStart);
				var distanceFieldHTMLEnd = baseHTML.substr((distanceFieldTagEnd+1));
				var distanceFieldRender = "";
				var distanceFieldValueStart = distanceFieldTagStrip.indexOf(" VALUE=");
				if (distanceFieldValueStart != -1) {
					var distanceFieldValueEnd = distanceFieldTagStrip.indexOf("]",distanceFieldValueStart);
					var distanceFieldValueVal = distanceFieldTagStrip.substring((distanceFieldValueStart+8),(distanceFieldValueEnd));
				}
				else {
					var distanceFieldValueVal = 20;
				}
				var distanceDivValueStart = distanceFieldTagStrip.indexOf(" DIVRENDER");
				if (distanceDivValueStart != -1) {
					var distanceDivValueVal = 1;
				}
				else {
					var distanceDivValueVal = 0;
				}
				var distanceKMValueStart = distanceFieldTagStrip.indexOf(" KM");
				if (distanceKMValueStart != -1 || forceKM == 1) {
					panel1DistanceFlag = 1;
					var distanceText = "km";
				}
				else {
					var distanceText = "miles";
				}
				var distanceTextValueStart = distanceFieldTagStrip.indexOf(" TEXT");
				if (distanceTextValueStart != -1) {
					var distanceTextValueEnd = distanceFieldTagStrip.indexOf("]",distanceTextValueStart);
					var distanceText = distanceFieldTagStrip.substring((distanceTextValueStart+7),(distanceTextValueEnd));
				}
				var distanceFieldOptionsStart = distanceFieldTagStrip.indexOf(" OPTIONS=");
				if (distanceFieldOptionsStart != -1) {
					var distanceFieldOptionsEnd = distanceFieldTagStrip.indexOf("]",distanceFieldOptionsStart);
					var distanceFieldOptionsVar = distanceFieldTagStrip.substring((distanceFieldOptionsStart+10),(distanceFieldOptionsEnd));
					var distanceFieldOptionsArray = distanceFieldOptionsVar.split(",");
				}
				else {
					var distanceFieldOptionsArray = new Array(5,10,20,50,75,100);
				}
				var distanceFieldItalicStart = distanceFieldTagStrip.indexOf(" FNTAW=");
				if (distanceFieldItalicStart != -1) {
					var distanceFieldItalicEnd = distanceFieldTagStrip.indexOf("]",distanceFieldItalicStart);
					distanceFieldItalicVar = "<i class='fa " + distanceFieldTagStrip.substring((distanceFieldItalicStart+8),(distanceFieldItalicEnd)) + "'><\/i>";
				}
				else {
					distanceFieldItalicVar = "";
				}
				distanceFieldRender = "<input type='hidden' name='panel1DistanceField' id='panel1DistanceField' value='" + distanceFieldValueVal + "' title=\"Distance\">";
				if (distanceDivValueVal == 0) {
					distanceFieldRender += "<select name='panel1DistanceSelect' id='panel1DistanceSelect' class='panel_1_distance_field panel_1_distance_field_base' onchange='setSelect(\"panel1DistanceSelect\",\"panel1DistanceField\");panel1DistanceUpdate();'>";
					for (w=0; w<distanceFieldOptionsArray.length; w++) {
						distanceFieldRender += "<option value='" + distanceFieldOptionsArray[w] + "'";
						if (distanceFieldValueVal == distanceFieldOptionsArray[w]) {
							distanceFieldRender += " selected='selected'";
						}
						distanceFieldRender += ">" + distanceFieldOptionsArray[w] + " " + distanceText + "<\/option>";
					}
					distanceFieldRender += "<\/select>";
				}
				else {
					distanceFieldRender += "<div id='panel1DistanceDivShell' class='panel_1_distance_div_shell'><div class='panel_1_distance_div_filter_arrow'><div class='panel_1_distance_div_filter panel_1_distance_div_filter_base panel_1_distance_div_filter_base_off'";
					if (hoverState==1) {
						distanceFieldRender += " onmouseover='genericButtonOver(\"panel_1_distance_div_filter\",\"panel_1_distance_div_filter_base\");' onfocus='genericButtonOver(\"panel_1_distance_div_filter\",\"panel_1_distance_div_filter_base\");' onmouseout='genericButtonOut(\"panel_1_distance_div_filter\",\"panel_1_distance_div_filter_base\");' onblur='genericButtonOut(\"panel_1_distance_div_filter\",\"panel_1_distance_div_filter_base\");'";
					}
					distanceFieldRender += " onclick='$(\".panel_1_distance_div_filter_slider\").toggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){$(\".panel_1_distance_div_filter_slider\").toggle();}'><div class='panel_1_distance_div_filter_text'><span id='panel1DistanceDivNum' tabindex='0' title=\"" + distanceFieldValueVal + "\">" + distanceFieldValueVal + "<\/span> <span class='distancefield_miles_span'>" + distanceText + "<\/span> " + distanceFieldItalicVar + "<\/div><\/div><\/div><div class='panel_1_distance_div_filter_slider panel_close_me' style='display:none;'><div class='panel_1_distance_div_filter_liner'>";
					for (w=0; w<distanceFieldOptionsArray.length; w++) {
						distanceFieldRender += "<div class='panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + " panel_1_distance_div_filter_item panel_1_distance_div_filter_item_off'";
						if (hoverState==1) {
							distanceFieldRender += " onmouseover='genericButtonOver(\"panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + "\",\"panel_1_distance_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + "\",\"panel_1_distance_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + "\",\"panel_1_distance_div_filter_item\");' onblur='genericButtonOut(\"panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + "\",\"panel_1_distance_div_filter_item\");'";
						}
						distanceFieldRender += " onclick='panel1DistanceUpdate(" + distanceFieldOptionsArray[w] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1DistanceUpdate(" + distanceFieldOptionsArray[w] + ");}' tabindex='0' title=\"" + distanceFieldOptionsArray[w] + " " + distanceText + "\">" + distanceFieldOptionsArray[w] + " " + distanceText + "<\/div>";
					}
					distanceFieldRender += "<\/div><\/div><\/div>";
				}
				baseHTML = distanceFieldHTMLStart + distanceFieldRender + distanceFieldHTMLEnd;
			}
			var resultsFieldTagStart = baseHTML.indexOf("<!--RESULTSFIELD");
			if (resultsFieldTagStart != -1) {
				var resultsFieldTagEnd = baseHTML.indexOf(">",resultsFieldTagStart);
				var resultsFieldTagStrip = baseHTML.substring(resultsFieldTagStart,(resultsFieldTagEnd+1));
				var resultsFieldHTMLStart = baseHTML.substr(0,resultsFieldTagStart);
				var resultsFieldHTMLEnd = baseHTML.substr((resultsFieldTagEnd+1));
				var resultsFieldRender = "";
				var resultsFieldValueStart = resultsFieldTagStrip.indexOf(" VALUE=");
				if (resultsFieldValueStart != -1) {
					var resultsFieldValueEnd = resultsFieldTagStrip.indexOf("]");
					var resultsFieldValueVal = resultsFieldTagStrip.substring((resultsFieldValueStart+8),(resultsFieldValueEnd));
				}
				else {
					var resultsFieldValueVal = 50;
				}
				resultsFieldRender = "<input type='hidden' name='panel1ResultsField' id='panel1ResultsField' value='" + resultsFieldValueVal + "' title=\"Results\"><select name='panel1ResultsSelect' id='panel1ResultsSelect' class='panel_1_results_field panel_1_results_field_base' onchange='setSelect(\"panel1ResultsSelect\",\"panel1ResultsField\");'><option value='10'";
				if (resultsFieldValueVal == 10) {
					resultsFieldRender += " selected='selected'";
				}
				resultsFieldRender += ">10 results<\/option><option value='25'";
				if (resultsFieldValueVal == 25) {
					resultsFieldRender += " selected='selected'";
				}
				resultsFieldRender += ">25 results<\/option><option value='50'";
				if (resultsFieldValueVal == 50) {
					resultsFieldRender += " selected='selected'";
				}
				resultsFieldRender += ">50 results<\/option><option value='100'";
				if (resultsFieldValueVal == 100) {
					resultsFieldRender += " selected='selected'";
				}
				resultsFieldRender += ">100 results<\/option><\/select>";
				baseHTML = resultsFieldHTMLStart + resultsFieldRender + resultsFieldHTMLEnd;
			}
			var sortFieldTagStart = baseHTML.indexOf("<!--SORTFIELD");
			if (sortFieldTagStart != -1) {
				var sortFieldTagEnd = baseHTML.indexOf(">",sortFieldTagStart);
				var sortFieldTagStrip = baseHTML.substring(sortFieldTagStart,(sortFieldTagEnd+1));
				var sortFieldHTMLStart = baseHTML.substr(0,sortFieldTagStart);
				var sortFieldHTMLEnd = baseHTML.substr((sortFieldTagEnd+1));
				var sortFieldRender = "";
				var sortFieldValueStart = sortFieldTagStrip.indexOf(" VALUE=");
				if (sortFieldValueStart != -1) {
					var sortFieldValueEnd = sortFieldTagStrip.indexOf("]");
					var sortFieldValueVal = sortFieldTagStrip.substring((sortFieldValueStart+8),(sortFieldValueEnd));
					var sortFieldValueText = sortFieldOptionsArray[sortFieldValueVal][1];
				}
				else {
					var sortFieldValueVal = 0;
					var sortFieldValueText = sortFieldOptionsArray[0][1];
				}
				var sortDivValueStart = sortFieldTagStrip.indexOf(" DIVRENDER");
				if (sortDivValueStart != -1) {
					var sortDivValueVal = 1;
				}
				else {
					var sortDivValueVal = 0;
				}
				var sortFieldItalicStart = sortFieldTagStrip.indexOf(" FNTAW=");
				if (sortFieldItalicStart != -1) {
					var sortFieldItalicEnd = sortFieldTagStrip.indexOf("]",sortFieldItalicStart);
					sortFieldItalicVar = "<i class='fa " + sortFieldTagStrip.substring((sortFieldItalicStart+8),(sortFieldItalicEnd)) + "'><\/i>";
				}
				else {
					sortFieldItalicVar = "";
				}
				sortFieldRender = "<input type='hidden' name='panel1SortField' id='panel1SortField' value='" + sortFieldValueVal + "' title=\"Sort\">";
				if (sortDivValueVal == 0) {
					sortFieldRender += "<select name='panel1SortSelect' id='panel1SortSelect' class='panel_1_sort_field panel_1_sort_field_base' onchange='setSelect(\"panel1SortSelect\",\"panel1SortField\");'><option value='0'";
					if (sortFieldValueVal == 0) {
						sortFieldRender += " selected='selected'";
					}
					sortFieldRender += ">Distance<\/option><option value='1'";
					if (sortFieldValueVal == 1) {
						sortFieldRender += " selected='selected'";
					}
					sortFieldRender += ">Store Name<\/option><\/select>";
				}
				else {
					sortFieldRender += "<div id='panel1SortDivShell' class='panel_1_sort_div_shell'><div class='panel_1_sort_div_filter_arrow'><div class='panel_1_sort_div_filter panel_1_sort_div_filter_base panel_1_sort_div_filter_base_off'";
					if (hoverState==1) {
						sortFieldRender += " onmouseover='genericButtonOver(\"panel_1_sort_div_filter\",\"panel_1_sort_div_filter_base\");' onfocus='genericButtonOver(\"panel_1_sort_div_filter\",\"panel_1_sort_div_filter_base\");' onmouseout='genericButtonOut(\"panel_1_sort_div_filter\",\"panel_1_sort_div_filter_base\");' onblur='genericButtonOut(\"panel_1_sort_div_filter\",\"panel_1_sort_div_filter_base\");'";
					}
					sortFieldRender += " onclick='$(\".panel_1_sort_div_filter_slider\").toggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){$(\".panel_1_sort_div_filter_slider\").toggle();}' tabindex='0' title=\"" + sortFieldValueText + "\"><div class='panel_1_sort_div_filter_text'><span id='panel1SortDivNum'>" + sortFieldValueText + "<\/span> " + sortFieldItalicVar + "<\/div><\/div><\/div><div class='panel_1_sort_div_filter_slider panel_close_me' style='display:none;'><div class='panel_1_sort_div_filter_liner'>";
					for (w=0; w<sortFieldOptionsArray.length; w++) {
						sortFieldRender += "<div class='panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + " panel_1_sort_div_filter_item panel_1_sort_div_filter_item_off'";
						if (hoverState==1) {
							sortFieldRender += " onmouseover='genericButtonOver(\"panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + "\",\"panel_1_sort_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + "\",\"panel_1_sort_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + "\",\"panel_1_sort_div_filter_item\");' onblur='genericButtonOut(\"panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + "\",\"panel_1_sort_div_filter_item\");'";
						}
						sortFieldRender += " onclick='panel1SortUpdate(" + sortFieldOptionsArray[w][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1SortUpdate(" + sortFieldOptionsArray[w][0] + ");}' tabindex='0' title=\"" + sortFieldOptionsArray[w][1] + "\">" + sortFieldOptionsArray[w][1] + "<\/div>";
					}
					sortFieldRender += "<\/div><\/div><\/div>";
				}
				baseHTML = sortFieldHTMLStart + sortFieldRender + sortFieldHTMLEnd;
			}
			var catMenuTagStart = baseHTML.indexOf("<!--CATMENU");
			if (catMenuTagStart != -1) {
				var catMenuTagEnd = baseHTML.indexOf(">",catMenuTagStart);
				var catMenuTagStrip = baseHTML.substring(catMenuTagStart,(catMenuTagEnd+1));
				var catMenuHTMLStart = baseHTML.substr(0,catMenuTagStart);
				var catMenuHTMLEnd = baseHTML.substr((catMenuTagEnd+1));
				var catMenuRender = "";
				panel1HasCatMenu = 1;
				var catMenuValueStart = catMenuTagStrip.indexOf(" VALUE=");
				if (catMenuValueStart != -1) {
					var catMenuValueEnd = catMenuTagStrip.indexOf("]",catMenuValueStart);
					var catMenuValueVal = catMenuTagStrip.substring((catMenuValueStart+8),(catMenuValueEnd));
				}
				else {
					var catMenuValueVal = "SELECT A CATEGORY";
				}
				panel1CatMenuText = catMenuValueVal;
				panel1ThereIsACat = 0;
				var findAProdComma = document.getElementById('PROD').value.indexOf(",");
				if (findAProdComma != -1) {
					theProdSplit = document.getElementById('PROD').value.split(",");
					theProdCheck = theProdSplit[0];
				}
				else {
					theProdCheck = document.getElementById('PROD').value;
				}
				for (pc=0; pc<prodDisplayArray.length; pc++) {
					if (prodDisplayArray[pc][1] == theProdCheck) {
						panel1ThereIsACat = prodDisplayArray[pc][8];
						for (cc=0; cc<catArray.length; cc++) {
							if (catArray[cc][0] == panel1ThereIsACat) {
								catMenuValueVal = catArray[cc][1];
								break;
							}
						}
						break;
					}
				}
				var catMenuItalicStart = catMenuTagStrip.indexOf(" FNTAW=");
				if (catMenuItalicStart != -1) {
					var catMenuItalicEnd = catMenuTagStrip.indexOf("]",catMenuItalicStart);
					catMenuItalicVar = "<i class='fa " + catMenuTagStrip.substring((catMenuItalicStart+8),(catMenuItalicEnd)) + "'><\/i>";
				}
				else {
					catMenuItalicVar = "";
				}
				var catDivValueStart = catMenuTagStrip.indexOf(" DIVRENDER");
				if (catDivValueStart != -1) {
					var catDivValueVal = 1;
				}
				else {
					var catDivValueVal = 0;
				}
				catMenuRender = "<input type='hidden' name='panel1CatMenuHolder' id='panel1CatMenuHolder' value='" + panel1ThereIsACat + "' title=\"Category\"><div id='panel1CatMenuShell' class='panel_1_cat_menu_div_shell'";
				if (panel1HasFamMenu == 1) {
					catMenuRender += " style='display:none;'";
				}
				catMenuRender += ">";
				if (catDivValueVal == 0) {
					catMenuRender += "<select name='panel1CatSelect' id='panel1CatSelect' class='panel_1_cat_field panel_1_cat_field_base' onchange='panel1SetCatSelect();'><option value='0'";
					if (panel1ThereIsACat == 0) {
						catMenuRender += " selected='selected'";
					}
					catMenuRender += ">" + panel1CatMenuText + "<\/option>";
					if (panel1HasFamMenu == 0) {
						for (c=0; c<catArray.length; c++) {
							catMenuRender += "<option value='" + catArray[c][0] + "'";
							if (catMenuValueVal == catArray[c][1]) {
								catMenuRender += " selected='selected'";
							}
							catMenuRender += ">" + catArray[c][1] + "<\/option>";
						}
					}
					catMenuRender += "<\/select>";
				}
				else {
					catMenuRender += "<div class='panel_1_cat_menu_div_filter_arrow'><div class='panel_1_cat_menu_div_filter panel_1_cat_menu_div_filter_base panel_1_cat_menu_div_filter_base_off'";
					if (hoverState==1) {
						catMenuRender += " onmouseover='genericButtonOver(\"panel_1_cat_menu_div_filter\",\"panel_1_cat_menu_div_filter_base\");' onfocus='genericButtonOver(\"panel_1_cat_menu_div_filter\",\"panel_1_cat_menu_div_filter_base\");' onmouseout='genericButtonOut(\"panel_1_cat_menu_div_filter\",\"panel_1_cat_menu_div_filter_base\");' onblur='genericButtonOut(\"panel_1_cat_menu_div_filter\",\"panel_1_cat_menu_div_filter_base\");'";
					}
					catMenuRender += " onclick='$(\".panel_1_cat_menu_div_filter_slider\").toggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){$(\".panel_1_cat_menu_div_filter_slider\").toggle();}' tabindex='0' title=\"View Products\"><div class='panel_1_cat_menu_div_filter_text'><span id='panel1CatMenuDisplay'>" + catMenuValueVal + "<\/span> " + catMenuItalicVar + "<\/div><\/div><\/div><div class='panel_1_cat_menu_div_filter_slider panel_close_me' style='display:none;'><div class='panel_1_cat_menu_div_filter_liner' id='panel1CatMenuContent'>";
					if (panel1HasFamMenu == 0) {
						for (c=0; c<catArray.length; c++) {
							catMenuRender += "<div class='panel_1_cat_menu_div_filter_item_" + catArray[c][0] + " panel_1_cat_menu_div_filter_item panel_1_cat_menu_div_filter_item_off'";
							if (hoverState==1){
								catMenuRender += " onmouseover='genericButtonOver(\"panel_1_cat_menu_div_filter_item_" + catArray[c][0] + "\",\"panel_1_cat_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_cat_menu_div_filter_item_" + catArray[c][0] + "\",\"panel_1_cat_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_cat_menu_div_filter_item_" + catArray[c][0] + "\",\"panel_1_cat_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_cat_menu_div_filter_item_" + catArray[c][0] + "\",\"panel_1_cat_menu_div_filter_item\");'";
							}
							catMenuRender += " onclick='panel1CatMenuSelect(" + catArray[c][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatMenuSelect(" + catArray[c][0] + ");}' tabindex='0' title=\"" + catArray[c][1] + "\">" + catArray[c][1] + "<\/div>";
						}
					}
					catMenuRender += "<\/div><\/div>";
				}
				catMenuRender += "<\/div>";
				baseHTML = catMenuHTMLStart + catMenuRender + catMenuHTMLEnd;
			}
			var prodMenuTagStart = baseHTML.indexOf("<!--PRODMENU");
			if (prodMenuTagStart != -1) {
				var prodMenuTagEnd = baseHTML.indexOf(">",prodMenuTagStart);
				var prodMenuTagStrip = baseHTML.substring(prodMenuTagStart,(prodMenuTagEnd+1));
				var prodMenuHTMLStart = baseHTML.substr(0,prodMenuTagStart);
				var prodMenuHTMLEnd = baseHTML.substr((prodMenuTagEnd+1));
				var prodMenuRender = "";
				panel1HasProdMenu = 1;
				var prodMenuValueStart = prodMenuTagStrip.indexOf(" VALUE=");
				if (prodMenuValueStart != -1) {
					var prodMenuValueEnd = prodMenuTagStrip.indexOf("]",prodMenuValueStart);
					var prodMenuValueVal = prodMenuTagStrip.substring((prodMenuValueStart+8),(prodMenuValueEnd));
				}
				else {
					var prodMenuValueVal = "SELECT A PRODUCT";
				}
				panel1ProdMenuText = prodMenuValueVal;
				panel1ThereIsAProd = "";
				if (panel1ThereIsACat != 0) {
					prodMenuArray = [];
					for (p=0; p<prodDisplayArray.length; p++) {
						if (prodDisplayArray[p][8] == panel1ThereIsACat) {
							prodMenuArray.push(prodDisplayArray[p][1]);
						}
					}
					panel1ProdAllList = prodMenuArray.toString();
				}
				for (pc=0; pc<prodDisplayArray.length; pc++) {
					if (prodDisplayArray[pc][1] == document.getElementById('PROD').value) {
						panel1ThereIsAProd = prodDisplayArray[pc][1];
						prodMenuValueVal = prodDisplayArray[pc][2];
						break;
					}
				}
				if (panel1ProdAllList == document.getElementById('PROD').value) {
					panel1ThereIsAProd = 999999;
				}
				var prodMenuItalicStart = prodMenuTagStrip.indexOf(" FNTAW=");
				if (prodMenuItalicStart != -1) {
					var prodMenuItalicEnd = prodMenuTagStrip.indexOf("]",prodMenuItalicStart);
					prodMenuItalicVar = "<i class='fa " + prodMenuTagStrip.substring((prodMenuItalicStart+8),(prodMenuItalicEnd)) + "'><\/i>";
				}
				else {
					prodMenuItalicVar = "";
				}
				var prodMenuAllStart = prodMenuTagStrip.indexOf(" ALL=");
				if (prodMenuAllStart != -1) {
					var prodMenuAllEnd = prodMenuTagStrip.indexOf("]",prodMenuAllStart);
					panel1ProdMenuAllVar = prodMenuTagStrip.substring((prodMenuAllStart+6),(prodMenuAllEnd));
				}
				var prodDivValueStart = prodMenuTagStrip.indexOf(" DIVRENDER");
				if (prodDivValueStart != -1) {
					var prodDivValueVal = 1;
				}
				else {
					var prodDivValueVal = 0;
				}
				var prodGoValueStart = prodMenuTagStrip.indexOf(" AUTOGO");
				if (prodGoValueStart != -1) {
					panel1ProdGoValueVal = 1;
				}
				prodMenuRender = "<input type='hidden' name='panel1ProdMenuHolder' id='panel1ProdMenuHolder' value='" + panel1ThereIsAProd + "' title=\"Products\"><div id='panel1ProdMenuShell' class='panel_1_prod_menu_div_shell'";
				if (panel1HasCatMenu == 1 && panel1ThereIsAProd == "") {
					prodMenuRender += " style='display:none;'";
				}
				prodMenuRender += ">";
				if (prodDivValueVal == 0) {
					prodMenuRender += "<select name='panel1ProdSelect' id='panel1ProdSelect' class='panel_1_prod_field panel_1_prod_field_base' onchange='panel1SetProdSelect(" + panel1ProdGoValueVal + ");'><option value='0'";
					if (panel1ThereIsAProd == 0) {
						prodMenuRender += " selected='selected'";
					}
					prodMenuRender += ">" + panel1ProdMenuText + "<\/option>";
					if (panel1HasCatMenu == 0) {
						for (p=0; p<prodDisplayArray.length; p++) {
							prodMenuRender += "<option value='" + prodDisplayArray[p][0] + "'";
							if (prodMenuValueVal == prodDisplayArray[p][2]) {
								prodMenuRender += " selected='selected'";
							}
							prodMenuRender += ">" + prodDisplayArray[p][2] + "<\/option>";
						}
					}
					else if (panel1ThereIsACat != 0) {
						if (panel1ProdMenuAllVar != "") {
							prodMenuRender += "<option value='999999'";
							if (panel1ThereIsAProd == 999999) {
								prodMenuRender += " selected='selected'";
							}
							prodMenuRender += ">" + panel1ProdMenuAllVar + "<\/option>";
						}
						for (p=0; p<prodDisplayArray.length; p++) {
							if (prodDisplayArray[p][8] == panel1ThereIsACat) {
								prodMenuRender += "<option value='" + prodDisplayArray[p][0] + "'";
								if (prodMenuValueVal == prodDisplayArray[p][2]) {
									prodMenuRender += " selected='selected'";
								}
								prodMenuRender += ">" + prodDisplayArray[p][2] + "<\/option>";
							}
						}
					}
					prodMenuRender += "<\/select>";
				}
				else {
					prodMenuRender += "<div class='panel_1_prod_menu_div_filter_arrow'><div class='panel_1_prod_menu_div_filter panel_1_prod_menu_div_filter_base panel_1_prod_menu_div_filter_base_off'";
					if (hoverState==1) {
						prodMenuRender += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter\",\"panel_1_prod_menu_div_filter_base\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter\",\"panel_1_prod_menu_div_filter_base\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter\",\"panel_1_prod_menu_div_filter_base\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter\",\"panel_1_prod_menu_div_filter_base\");'";
					}
					prodMenuRender += " onclick='$(\".panel_1_prod_menu_div_filter_slider\").toggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){$(\".panel_1_prod_menu_div_filter_slider\").toggle();}' tabindex='0' title=\"View Products\"><div class='panel_1_prod_menu_div_filter_text'><span id='panel1ProdMenuDisplay'>";
					if (panel1ThereIsAProd == 999999) {
						prodMenuRender += panel1ProdMenuAllVar;
					}
					else {
						prodMenuRender += prodMenuValueVal
					}
					prodMenuRender += "<\/span> " + prodMenuItalicVar + "<\/div><\/div><\/div><div class='panel_1_prod_menu_div_filter_slider panel_close_me' style='display:none;'><div class='panel_1_prod_menu_div_filter_liner' id='panel1ProdMenuContent'>";
					if (panel1HasCatMenu == 0) {
						for (p=0; p<prodDisplayArray.length; p++) {
							prodMenuRender += "<div class='panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + " panel_1_prod_menu_div_filter_item panel_1_prod_menu_div_filter_item_off'";
							if (hoverState==1) {
								prodMenuRender += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");'";
							}
							prodMenuRender += " onclick='panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");}' tabindex='0' title=\"" + prodDisplayArray[p][2] + "\">" + prodDisplayArray[p][2] + "<\/div>";
						}
					}
					else if (panel1ThereIsACat != 0) {
						if (panel1ProdMenuAllVar != "") {
							prodMenuRender += "<div class='panel_1_prod_menu_div_filter_item_999999 panel_1_prod_menu_div_filter_item panel_1_prod_menu_div_filter_item_off'";
							if (hoverState==1) {
								prodMenuRender += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");'";
							}
							prodMenuRender += " onclick='panel1ProdMenuSelect(999999," + panel1ProdGoValueVal + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdMenuSelect(999999," + panel1ProdGoValueVal + ");}' tabindex='0' title=\"" + panel1ProdMenuAllVar + "\">" + panel1ProdMenuAllVar + "<\/div>";
						}
						for (p=0; p<prodDisplayArray.length; p++) {
							if (prodDisplayArray[p][8] == panel1ThereIsACat) {
								prodMenuRender += "<div class='panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + " panel_1_prod_menu_div_filter_item panel_1_prod_menu_div_filter_item_off'";
								if (hoverState==1) {
									prodMenuRender += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");'";
								}
								prodMenuRender += " onclick='panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");}' tabindex='0' title=\"" + prodDisplayArray[p][2] + "\">" + prodDisplayArray[p][2] + "<\/div>";
							}
						}
					}
					prodMenuRender += "<\/div><\/div>";
				}
				prodMenuRender += "<\/div>";
				baseHTML = prodMenuHTMLStart + prodMenuRender + prodMenuHTMLEnd;
			}
			var selProdLabButtonTagStart = baseHTML.indexOf("<!--SELALLPRODLAB");
			if (selProdLabButtonTagStart != -1) {
				var selProdLabButtonTagEnd = baseHTML.indexOf(">",selProdLabButtonTagStart);
				var selProdLabButtonTagStrip = baseHTML.substring(selProdLabButtonTagStart,(selProdLabButtonTagEnd+1));
				var selProdLabButtonHTMLStart = baseHTML.substr(0,selProdLabButtonTagStart);
				var selProdLabButtonHTMLEnd = baseHTML.substr((selProdLabButtonTagEnd+1));
				var selProdLabButtonRender = "";
				var selProdLabButtonValueStart = selProdLabButtonTagStrip.indexOf(" VALUE=");
				if (selProdLabButtonValueStart != -1) {
					var selProdLabButtonValueEnd = selProdLabButtonTagStrip.indexOf("]",selProdLabButtonValueStart);
					var selProdLabButtonValueVar = selProdLabButtonTagStrip.substring((selProdLabButtonValueStart+8),(selProdLabButtonValueEnd));
				}
				else {
					var selProdLabButtonValueVar = "SELECT ALL";
				}
				var selProdLabButtonItalicOnStart = selProdLabButtonTagStrip.indexOf(" FNTAWON=");
				if (selProdLabButtonItalicOnStart != -1) {
					var selProdLabButtonItalicOnEnd = selProdLabButtonTagStrip.indexOf("]",selProdLabButtonItalicOnStart);
					var selProdLabButtonItalicOnVar = "<i id='p1SelProdLabButtonItalicOn' class='fa " + selProdLabButtonTagStrip.substring((selProdLabButtonItalicOnStart+10),(selProdLabButtonItalicOnEnd)) + "' style='display:none;'><\/i>";
				}
				else {
					var selProdLabButtonItalicOnVar = "";
				}
				var selProdLabButtonItalicOffStart = selProdLabButtonTagStrip.indexOf(" FNTAWOFF=");
				if (selProdLabButtonItalicOffStart != -1) {
					var selProdLabButtonItalicOffEnd = selProdLabButtonTagStrip.indexOf("]",selProdLabButtonItalicOffStart);
					var selProdLabButtonItalicOffVar = "<i id='p1SelProdLabButtonItalicOff' class='fa " + selProdLabButtonTagStrip.substring((selProdLabButtonItalicOffStart+11),(selProdLabButtonItalicOffEnd)) + "'><\/i>";
				}
				else {
					var selProdLabButtonItalicOffVar = "";
				}
				selProdLabButtonRender = "<div id='p1SelProdLabButton' class='panel_1_select_product_label_button panel_1_select_product_label_button_off'";
				if (hoverState==1) {
					selProdLabButtonRender += " onmouseover='panel1ButtonHover(\"p1SelProdLabButton\",\"panel_1_select_product_label_button\",1);' onfocus='panel1ButtonHover(\"p1SelProdLabButton\",\"panel_1_select_product_label_button\",1);' onmouseout='panel1ButtonHover(\"p1SelProdLabButton\",\"panel_1_select_product_label_button\",0);' onblur='panel1ButtonHover(\"p1SelProdLabButton\",\"panel_1_select_product_label_button\",0);'";
				}
				selProdLabButtonRender += " onclick='panel1SelectProdLabel(1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1SelectProdLabel(1);}' tabindex='0' title=\"Select All\">" + selProdLabButtonItalicOnVar + selProdLabButtonItalicOffVar + "<span class='panel_1_select_product_label_button_span'>" + selProdLabButtonValueVar + "<\/span><\/div>";
				baseHTML = selProdLabButtonHTMLStart + selProdLabButtonRender + selProdLabButtonHTMLEnd;
			}
			var prodSubButtonTagStart = baseHTML.indexOf("<!--PRODSUBBUTTON");
			if (prodSubButtonTagStart != -1) {
				var prodSubButtonTagEnd = baseHTML.indexOf(">",prodSubButtonTagStart);
				var prodSubButtonTagStrip = baseHTML.substring(prodSubButtonTagStart,(prodSubButtonTagEnd+1));
				var prodSubButtonHTMLStart = baseHTML.substr(0,prodSubButtonTagStart);
				var prodSubButtonHTMLEnd = baseHTML.substr((prodSubButtonTagEnd+1));
				var prodSubButtonRender = "";
				var prodSubButtonValueStart = prodSubButtonTagStrip.indexOf(" VALUE=");
				if (prodSubButtonValueStart != -1) {
					var prodSubButtonValueEnd = prodSubButtonTagStrip.indexOf("]",prodSubButtonValueStart);
					var prodSubButtonValueVar = prodSubButtonTagStrip.substring((prodSubButtonValueStart+8),(prodSubButtonValueEnd));
				}
				else {
					var prodSubButtonValueVar = "SUBMIT";
				}
				var prodSubButtonItalicStart = prodSubButtonTagStrip.indexOf(" FNTAW=");
				if (prodSubButtonItalicStart != -1) {
					var prodSubButtonItalicEnd = prodSubButtonTagStrip.indexOf("]",prodSubButtonItalicStart);
					var prodSubButtonItalicVar = "<i class='fa " + prodSubButtonTagStrip.substring((prodSubButtonItalicStart+8),(prodSubButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var prodSubButtonItalicVar = "";
				}
				prodSubButtonRender = "<div id='panel1ProdSubmitButton' class='panel_1_prod_submit_button panel_1_prod_submit_button_off'";
				if (hoverState==1) {
					prodSubButtonRender += " onmouseover='panel1ButtonHover(\"panel1ProdSubmitButton\",\"panel_1_prod_submit_button\",1);' onfocus='panel1ButtonHover(\"panel1ProdSubmitButton\",\"panel_1_prod_submit_button\",1);' onmouseout='panel1ButtonHover(\"panel1ProdSubmitButton\",\"panel_1_prod_submit_button\",0);' onblur='panel1ButtonHover(\"panel1ProdSubmitButton\",\"panel_1_prod_submit_button\",0);'";
				}
				prodSubButtonRender += " onclick='panel1SubmitForm();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1SubmitForm();}' tabindex='0' title=\""+prodSubButtonValueVar+"\"";
				if (panel1ThereIsAProd == "") {
					prodSubButtonRender += " style='display:none;'";
				}
				prodSubButtonRender += ">" + prodSubButtonItalicVar + prodSubButtonValueVar + "<\/div>";
				baseHTML = prodSubButtonHTMLStart + prodSubButtonRender + prodSubButtonHTMLEnd;
			}
			var submitButtonSearchOn = 1;
			while (submitButtonSearchOn != 0) {
				var submitButtonTagStart = baseHTML.indexOf("<!--SUBBUTTON");
				if (submitButtonTagStart != -1) {
					var submitButtonTagEnd = baseHTML.indexOf(">",submitButtonTagStart);
					var submitButtonTagStrip = baseHTML.substring(submitButtonTagStart,(submitButtonTagEnd+1));
					var submitButtonHTMLStart = baseHTML.substr(0,submitButtonTagStart);
					var submitButtonHTMLEnd = baseHTML.substr((submitButtonTagEnd+1));
					var submitButtonRender = "";
					var submitButtonValueStart = submitButtonTagStrip.indexOf(" VALUE=");
					if (submitButtonValueStart != -1) {
						var submitButtonValueEnd = submitButtonTagStrip.indexOf("]",submitButtonValueStart);
						submitButtonValueVar = submitButtonTagStrip.substring((submitButtonValueStart+8),(submitButtonValueEnd));
					}
					else {
						submitButtonValueVar = "SUBMIT";
					}
					var submitButtonItalicStart = submitButtonTagStrip.indexOf(" FNTAW=");
					if (submitButtonItalicStart != -1) {
						var submitButtonItalicEnd = submitButtonTagStrip.indexOf("]",submitButtonItalicStart);
						var submitButtonItalicVar = "<i class='fa " + submitButtonTagStrip.substring((submitButtonItalicStart+8),(submitButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var submitButtonItalicVar = "";
					}
					submitButtonRender = "<div id='panel1SubmitButton" + submitButtonSearchOn + "' class='panel_1_submit_button panel_1_submit_button_" + submitButtonSearchOn + " panel_1_submit_button_off'";
					if (hoverState==1) {
						submitButtonRender += " onmouseover='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",1);' onfocus='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",1);' onmouseout='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",0);' onblur='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",0);'";
					}
					submitButtonRender += " onclick='panel1SubmitForm();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1SubmitForm();}' tabindex='0' title=\"" + submitButtonValueVar + "\">" + submitButtonItalicVar + submitButtonValueVar + "<\/div>";
					baseHTML = submitButtonHTMLStart + submitButtonRender + submitButtonHTMLEnd;
					submitButtonSearchOn++;
				}
				else {
					submitButtonSearchOn = 0;
				}
			}
			var geoLocButtonTagStart = baseHTML.indexOf("<!--GEOBUTTON");
			if (geoLocButtonTagStart != -1) {
				var geoLocButtonTagEnd = baseHTML.indexOf(">",geoLocButtonTagStart);
				var geoLocButtonTagStrip = baseHTML.substring(geoLocButtonTagStart,(geoLocButtonTagEnd+1));
				var geoLocButtonHTMLStart = baseHTML.substr(0,geoLocButtonTagStart);
				var geoLocButtonHTMLEnd = baseHTML.substr((geoLocButtonTagEnd+1));
				var geoLocButtonRender = "";
				var geoLocButtonValueStart = geoLocButtonTagStrip.indexOf(" VALUE=");
				if (geoLocButtonValueStart != -1) {
					var geoLocButtonValueEnd = geoLocButtonTagStrip.indexOf("]",geoLocButtonValueStart);
					geoLocButtonValueVar = geoLocButtonTagStrip.substring((geoLocButtonValueStart+8),(geoLocButtonValueEnd));
				}
				else {
					geoLocButtonValueVar = "SUBMIT";
				}
				var geoLocButtonSubmitStart = geoLocButtonTagStrip.indexOf(" SUBMIT");
				if (geoLocButtonSubmitStart != -1) {
					p1GeoLocButtonSubmitVar = 1;
				}
				var geoLocButtonItalicStart = geoLocButtonTagStrip.indexOf(" FNTAW=");
				if (geoLocButtonItalicStart != -1) {
					var geoLocButtonItalicEnd = geoLocButtonTagStrip.indexOf("]",geoLocButtonItalicStart);
					var geoLocButtonItalicVar = "<i class='fa " + geoLocButtonTagStrip.substring((geoLocButtonItalicStart+8),(geoLocButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var geoLocButtonItalicVar = "";
				}
				geoLocButtonRender = "<div id='panel1GeoLocButton' class='panel_1_geo_loc_button panel_1_geo_loc_button_off'";
				if (hoverState==1) {
					geoLocButtonRender += " onmouseover='panel1ButtonHover(\"panel1GeoLocButton\",\"panel_1_geo_loc_button\",1);' onfocus='panel1ButtonHover(\"panel1GeoLocButton\",\"panel_1_geo_loc_button\",1);' onmouseout='panel1ButtonHover(\"panel1GeoLocButton\",\"panel_1_geo_loc_button\",0);' onblur='panel1ButtonHover(\"panel1GeoLocButton\",\"panel_1_geo_loc_button\",0);'";
				}
				geoLocButtonRender += " onclick='geoNearbyCheck(\"panel1AddressField\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){geoNearbyCheck(\"panel1AddressField\");}' tabindex='0' title=\"" + geoLocButtonValueVar + "\">" + geoLocButtonItalicVar + geoLocButtonValueVar + "<\/div>";
				baseHTML = geoLocButtonHTMLStart + geoLocButtonRender + geoLocButtonHTMLEnd;
			}
			var ccreqButtonTagStart = baseHTML.indexOf("<!--CCREQBUTTON");
			if (ccreqButtonTagStart != -1 && disableForms == 0) {
				var ccreqButtonTagEnd = baseHTML.indexOf(">",ccreqButtonTagStart);
				var ccreqButtonTagStrip = baseHTML.substring(ccreqButtonTagStart,(ccreqButtonTagEnd+1));
				var ccreqButtonHTMLStart = baseHTML.substr(0,ccreqButtonTagStart);
				var ccreqButtonHTMLEnd = baseHTML.substr((ccreqButtonTagEnd+1));
				var ccreqButtonRender = "";
				var ccreqButtonValueStart = ccreqButtonTagStrip.indexOf(" VALUE=");
				if (ccreqButtonValueStart != -1) {
					var ccreqButtonValueEnd = ccreqButtonTagStrip.indexOf("]",ccreqButtonValueStart);
					var ccreqButtonValueVar = ccreqButtonTagStrip.substring((ccreqButtonValueStart+8),(ccreqButtonValueEnd));
				}
				else {
					var ccreqButtonValueVar = "CONTACT US";
				}
				var ccreqButtonItalicStart = ccreqButtonTagStrip.indexOf(" FNTAW=");
				if (ccreqButtonItalicStart != -1) {
					var ccreqButtonItalicEnd = ccreqButtonTagStrip.indexOf("]",ccreqButtonItalicStart);
					var ccreqButtonItalicVar = "<i class='fa " + ccreqButtonTagStrip.substring((ccreqButtonItalicStart+8),(ccreqButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var ccreqButtonItalicVar = "";
				}
				ccreqButtonRender = "<div id='panel1CCReqButton' class='panel_1_ccreq_button panel_1_ccreq_button_off'";
				if (hoverState==1) {
					ccreqButtonRender += " onmouseover='panel1ButtonHover(\"panel1CCReqButton\",\"panel_1_ccreq_button\",1);' onfocus='panel1ButtonHover(\"panel1CCReqButton\",\"panel_1_ccreq_button\",1);' onmouseout='panel1ButtonHover(\"panel1CCReqButton\",\"panel_1_ccreq_button\",0);' onblur='panel1ButtonHover(\"panel1CCReqButton\",\"panel_1_ccreq_button\",0);'";
				}
				ccreqButtonRender += " onclick='panel1CCReq();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CCReq();}' tabindex='0' title=\"" + ccreqButtonValueVar + "\">" + ccreqButtonItalicVar + ccreqButtonValueVar + "<\/div>";
				baseHTML = ccreqButtonHTMLStart + ccreqButtonRender + ccreqButtonHTMLEnd;
			}
			var storeButtonTagStart = baseHTML.indexOf("<!--STOREBUTTON");
			if (storeButtonTagStart != -1) {
				var storeButtonTagEnd = baseHTML.indexOf(">",storeButtonTagStart);
				var storeButtonTagStrip = baseHTML.substring(storeButtonTagStart,(storeButtonTagEnd+1));
				var storeButtonHTMLStart = baseHTML.substr(0,storeButtonTagStart);
				var storeButtonHTMLEnd = baseHTML.substr((storeButtonTagEnd+1));
				var storeButtonRender = "";
				var storeButtonValueStart = storeButtonTagStrip.indexOf(" VALUE=");
				if (storeButtonValueStart != -1) {
					var storeButtonValueEnd = storeButtonTagStrip.indexOf("]",storeButtonValueStart);
					var storeButtonValueVar = storeButtonTagStrip.substring((storeButtonValueStart+8),(storeButtonValueEnd));
				}
				else {
					var storeButtonValueVar = "CONTACT US";
				}
				var storeButtonItalicStart = storeButtonTagStrip.indexOf(" FNTAW=");
				if (storeButtonItalicStart != -1) {
					var storeButtonItalicEnd = storeButtonTagStrip.indexOf("]",storeButtonItalicStart);
					var storeButtonItalicVar = "<i class='fa " + storeButtonTagStrip.substring((storeButtonItalicStart+8),(storeButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var storeButtonItalicVar = "";
				}
				storeButtonRender = "<div id='panel1StoreButton' class='panel_1_store_button panel_1_store_button_off'";
				if (hoverState==1) {
					storeButtonRender += " onmouseover='panel1ButtonHover(\"panel1StoreButton\",\"panel_1_store_button\",1);' onfocus='panel1ButtonHover(\"panel1StoreButton\",\"panel_1_store_button\",1);' onmouseout='panel1ButtonHover(\"panel1StoreButton\",\"panel_1_store_button\",0);' onblur='panel1ButtonHover(\"panel1StoreButton\",\"panel_1_store_button\",0);'";
				}
				storeButtonRender += " onclick='panel1Store();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1Store();}' tabindex='0' title=\"" + storeButtonValueVar + "\">" + storeButtonItalicVar + storeButtonValueVar + "<\/div>";
				baseHTML = storeButtonHTMLStart + storeButtonRender + storeButtonHTMLEnd;
			}
			var rtreqButtonTagStart = baseHTML.indexOf("<!--RTREQBUTTON");
			if (rtreqButtonTagStart != -1 && disableForms == 0) {
				var rtreqButtonTagEnd = baseHTML.indexOf(">",rtreqButtonTagStart);
				var rtreqButtonTagStrip = baseHTML.substring(rtreqButtonTagStart,(rtreqButtonTagEnd+1));
				var rtreqButtonHTMLStart = baseHTML.substr(0,rtreqButtonTagStart);
				var rtreqButtonHTMLEnd = baseHTML.substr((rtreqButtonTagEnd+1));
				var rtreqButtonRender = "";
				var rtreqButtonValueStart = rtreqButtonTagStrip.indexOf(" VALUE=");
				if (rtreqButtonValueStart != -1) {
					var rtreqButtonValueEnd = rtreqButtonTagStrip.indexOf("]",rtreqButtonValueStart);
					var rtreqButtonValueVar = rtreqButtonTagStrip.substring((rtreqButtonValueStart+8),(rtreqButtonValueEnd));
				}
				else {
					var rtreqButtonValueVar = "ADD STORE";
				}
				var rtreqButtonItalicStart = rtreqButtonTagStrip.indexOf(" FNTAW=");
				if (rtreqButtonItalicStart != -1) {
					var rtreqButtonItalicEnd = rtreqButtonTagStrip.indexOf("]",rtreqButtonItalicStart);
					var rtreqButtonItalicVar = "<i class='fa " + rtreqButtonTagStrip.substring((rtreqButtonItalicStart+8),(rtreqButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var rtreqButtonItalicVar = "";
				}
				rtreqButtonRender = "<div id='panel1RTReqButton' class='panel_1_rtreq_button panel_1_rtreq_button_off'";
				if (hoverState==1) {
					rtreqButtonRender += " onmouseover='panel1ButtonHover(\"panel1RTReqButton\",\"panel_1_rtreq_button\",1);' onfocus='panel1ButtonHover(\"panel1RTReqButton\",\"panel_1_rtreq_button\",1);' onmouseout='panel1ButtonHover(\"panel1RTReqButton\",\"panel_1_rtreq_button\",0);' onblur='panel1ButtonHover(\"panel1RTReqButton\",\"panel_1_rtreq_button\",0);'";
				}
				rtreqButtonRender += " onclick='panel1RTReq();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1RTReq();}' tabindex='0' title=\"" + rtreqButtonValueVar + "\">" + rtreqButtonItalicVar + rtreqButtonValueVar + "<\/div>";
				baseHTML = rtreqButtonHTMLStart + rtreqButtonRender + rtreqButtonHTMLEnd;
			}
			var prodcartButtonTagStart = baseHTML.indexOf("<!--PRODCARTBUTTON");
			if (prodcartButtonTagStart != -1) {
				var prodcartButtonTagEnd = baseHTML.indexOf(">",prodcartButtonTagStart);
				var prodcartButtonTagStrip = baseHTML.substring(prodcartButtonTagStart,(prodcartButtonTagEnd+1));
				var prodcartButtonHTMLStart = baseHTML.substr(0,prodcartButtonTagStart);
				var prodcartButtonHTMLEnd = baseHTML.substr((prodcartButtonTagEnd+1));
				var prodcartButtonRender = "";
				var prodcartButtonValueStart = prodcartButtonTagStrip.indexOf(" VALUE=");
				if (prodcartButtonValueStart != -1) {
					var prodcartButtonValueEnd = prodcartButtonTagStrip.indexOf("]",prodcartButtonValueStart);
					var prodcartButtonValueVar = prodcartButtonTagStrip.substring((prodcartButtonValueStart+8),(prodcartButtonValueEnd));
				}
				else {
					var prodcartButtonValueVar = "ADD TO CART";
				}
				var prodcartButtonItalicStart = prodcartButtonTagStrip.indexOf(" FNTAW=");
				if (prodcartButtonItalicStart != -1) {
					var prodcartButtonItalicEnd = prodcartButtonTagStrip.indexOf("]",prodcartButtonItalicStart);
					var prodcartButtonItalicVar = "<i class='fa " + prodcartButtonTagStrip.substring((prodcartButtonItalicStart+8),(prodcartButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var prodcartButtonItalicVar = "";
				}
				prodcartButtonRender = "<div id='panel1ProdCartButton' class='panel_1_prodcart_button panel_1_prodcart_button_off'";
				if (hoverState==1) {
					prodcartButtonRender += " onmouseover='panel1ButtonHover(\"panel1ProdCartButton\",\"panel_1_prodcart_button\",1);' onfocus='panel1ButtonHover(\"panel1ProdCartButton\",\"panel_1_prodcart_button\",1);' onmouseout='panel1ButtonHover(\"panel1ProdCartButton\",\"panel_1_prodcart_button\",0);' onblur='panel1ButtonHover(\"panel1ProdCartButton\",\"panel_1_prodcart_button\",0);'";
				}
				prodcartButtonRender += " onclick='panel1ProdCart();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdCart();}' tabindex='0' title=\"" + prodcartButtonValueVar + "\">" + prodcartButtonItalicVar + prodcartButtonValueVar + "<\/div>";
				baseHTML = prodcartButtonHTMLStart + prodcartButtonRender + prodcartButtonHTMLEnd;
			}
			var allfamButtonTagStart = baseHTML.indexOf("<!--ALLFAMBUTTON");
			if (allfamButtonTagStart != -1) {
				var allfamButtonTagEnd = baseHTML.indexOf(">",allfamButtonTagStart);
				var allfamButtonTagStrip = baseHTML.substring(allfamButtonTagStart,(allfamButtonTagEnd+1));
				var allfamButtonHTMLStart = baseHTML.substr(0,allfamButtonTagStart);
				var allfamButtonHTMLEnd = baseHTML.substr((allfamButtonTagEnd+1));
				var allfamButtonRender = "";
				var allfamButtonValueStart = allfamButtonTagStrip.indexOf(" VALUE=");
				if (allfamButtonValueStart != -1) {
					var allfamButtonValueEnd = allfamButtonTagStrip.indexOf("]",allfamButtonValueStart);
					var allfamButtonValueVar = allfamButtonTagStrip.substring((allfamButtonValueStart+8),(allfamButtonValueEnd));
				}
				else {
					var allfamButtonValueVar = "SELECT ALL FAMILIES";
				}
				var allfamButtonItalicStart = allfamButtonTagStrip.indexOf(" FNTAW=");
				if (allfamButtonItalicStart != -1) {
					var allfamButtonItalicEnd = allfamButtonTagStrip.indexOf("]",allfamButtonItalicStart);
					var allfamButtonItalicVar = "<i class='fa " + allfamButtonTagStrip.substring((allfamButtonItalicStart+8),(allfamButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var allfamButtonItalicVar = "";
				}
				allfamButtonRender = "<div id='panel1AllFamButton' class='panel_1_allfam_button panel_1_allfam_button_off'";
				if (hoverState==1) {
					allfamButtonRender += " onmouseover='panel1ButtonHover(\"panel1AllFamButton\",\"panel_1_allfam_button\",1);' onfocus='panel1ButtonHover(\"panel1AllFamButton\",\"panel_1_allfam_button\",1);' onmouseout='panel1ButtonHover(\"panel1AllFamButton\",\"panel_1_allfam_button\",0);' onblur='panel1ButtonHover(\"panel1AllFamButton\",\"panel_1_allfam_button\",0);'";
				}
				allfamButtonRender += " onclick='panel1AllFam();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1AllFam();}' tabindex='0' title=\"" + allfamButtonValueVar + "\">" + allfamButtonItalicVar + allfamButtonValueVar + "<\/div>";
				baseHTML = allfamButtonHTMLStart + allfamButtonRender + allfamButtonHTMLEnd;
			}
			var allcatButtonTagStart = baseHTML.indexOf("<!--ALLCATBUTTON");
			if (allcatButtonTagStart != -1) {
				var allcatButtonTagEnd = baseHTML.indexOf(">",allcatButtonTagStart);
				var allcatButtonTagStrip = baseHTML.substring(allcatButtonTagStart,(allcatButtonTagEnd+1));
				var allcatButtonHTMLStart = baseHTML.substr(0,allcatButtonTagStart);
				var allcatButtonHTMLEnd = baseHTML.substr((allcatButtonTagEnd+1));
				var allcatButtonRender = "";
				var allcatButtonValueStart = allcatButtonTagStrip.indexOf(" VALUE=");
				if (allcatButtonValueStart != -1) {
					var allcatButtonValueEnd = allcatButtonTagStrip.indexOf("]",allcatButtonValueStart);
					var allcatButtonValueVar = allcatButtonTagStrip.substring((allcatButtonValueStart+8),(allcatButtonValueEnd));
				}
				else {
					var allcatButtonValueVar = "SELECT ALL CATEGORIES";
				}
				var allcatButtonItalicStart = allcatButtonTagStrip.indexOf(" FNTAW=");
				if (allcatButtonItalicStart != -1) {
					var allcatButtonItalicEnd = allcatButtonTagStrip.indexOf("]",allcatButtonItalicStart);
					var allcatButtonItalicVar = "<i class='fa " + allcatButtonTagStrip.substring((allcatButtonItalicStart+8),(allcatButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var allcatButtonItalicVar = "";
				}
				allcatButtonRender = "<div id='panel1AllCatButton' class='panel_1_allcat_button panel_1_allcat_button_off'";
				if (hoverState==1) {
					allcatButtonRender += " onmouseover='panel1ButtonHover(\"panel1AllCatButton\",\"panel_1_allcat_button\",1);' onfocus='panel1ButtonHover(\"panel1AllCatButton\",\"panel_1_allcat_button\",1);' onmouseout='panel1ButtonHover(\"panel1AllCatButton\",\"panel_1_allcat_button\",0);' onblur='panel1ButtonHover(\"panel1AllCatButton\",\"panel_1_allcat_button\",0);'";
				}
				allcatButtonRender += " onclick='panel1AllCat();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1AllCat();}' tabindex='0' title=\"" + allcatButtonValueVar + "\">" + allcatButtonItalicVar + allcatButtonValueVar + "<\/div>";
				baseHTML = allcatButtonHTMLStart + allcatButtonRender + allcatButtonHTMLEnd;
			}
			var allprodButtonTagStart = baseHTML.indexOf("<!--ALLPRODBUTTON");
			if (allprodButtonTagStart != -1) {
				var allprodButtonTagEnd = baseHTML.indexOf(">",allprodButtonTagStart);
				var allprodButtonTagStrip = baseHTML.substring(allprodButtonTagStart,(allprodButtonTagEnd+1));
				var allprodButtonHTMLStart = baseHTML.substr(0,allprodButtonTagStart);
				var allprodButtonHTMLEnd = baseHTML.substr((allprodButtonTagEnd+1));
				var allprodButtonRender = "";
				var allprodButtonValueStart = allprodButtonTagStrip.indexOf(" VALUE=");
				if (allprodButtonValueStart != -1) {
					var allprodButtonValueEnd = allprodButtonTagStrip.indexOf("]",allprodButtonValueStart);
					var allprodButtonValueVar = allprodButtonTagStrip.substring((allprodButtonValueStart+8),(allprodButtonValueEnd));
				}
				else {
					var allprodButtonValueVar = "SELECT ALL PRODUCTS";
				}
				var allprodButtonItalicStart = allprodButtonTagStrip.indexOf(" FNTAW=");
				if (allprodButtonItalicStart != -1) {
					var allprodButtonItalicEnd = allprodButtonTagStrip.indexOf("]",allprodButtonItalicStart);
					var allprodButtonItalicVar = "<i class='fa " + allprodButtonTagStrip.substring((allprodButtonItalicStart+8),(allprodButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var allprodButtonItalicVar = "";
				}
				allprodButtonRender = "<div id='panel1AllProdButton' class='panel_1_allprod_button panel_1_allprod_button_off'";
				if (hoverState==1) {
					allprodButtonRender += " onmouseover='panel1ButtonHover(\"panel1AllProdButton\",\"panel_1_allprod_button\",1);' onfocus='panel1ButtonHover(\"panel1AllProdButton\",\"panel_1_allprod_button\",1);' onmouseout='panel1ButtonHover(\"panel1AllProdButton\",\"panel_1_allprod_button\",0);' onblur='panel1ButtonHover(\"panel1AllProdButton\",\"panel_1_allprod_button\",0);'";
				}
				allprodButtonRender += " onclick='panel1AllProd();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1AllProd();}' tabindex='0' title=\"" + allprodButtonValueVar + "\">" + allprodButtonItalicVar + allprodButtonValueVar + "<\/div>";
				baseHTML = allprodButtonHTMLStart + allprodButtonRender + allprodButtonHTMLEnd;
			}
			var prodcartCountTagStart = baseHTML.indexOf("<!--PRODCARTCOUNT");
			if (prodcartCountTagStart != -1) {
				var prodcartCountTagEnd = baseHTML.indexOf(">",prodcartCountTagStart);
				var prodcartCountTagStrip = baseHTML.substring(prodcartCountTagStart,(prodcartCountTagEnd+1));
				var prodcartCountHTMLStart = baseHTML.substr(0,prodcartCountTagStart);
				var prodcartCountHTMLEnd = baseHTML.substr((prodcartCountTagEnd+1));
				baseHTML = prodcartCountHTMLStart + "<span id='panel1ProdCartCount'>" + prodCartArray.length + "<\/span>" + prodcartCountHTMLEnd;
			}
			var totalprodCountTagStart = baseHTML.indexOf("<!--TOTALPRODCOUNT");
			if (totalprodCountTagStart != -1) {
				var totalprodCountTagEnd = baseHTML.indexOf(">",totalprodCountTagStart);
				var totalprodCountTagStrip = baseHTML.substring(totalprodCountTagStart,(totalprodCountTagEnd+1));
				var totalprodCountHTMLStart = baseHTML.substr(0,totalprodCountTagStart);
				var totalprodCountHTMLEnd = baseHTML.substr((totalprodCountTagEnd+1));
				baseHTML = totalprodCountHTMLStart + "<span id='panel1TotalProdCount' class='panel_1_total_prod_count'>" + prodDisplayArray.length + "<\/span>" + totalprodCountHTMLEnd;
			}
			var selectedProductsTagStart = baseHTML.indexOf("<!--SELPRODTEXT");
			if (selectedProductsTagStart != -1) {
				var selectedProductsTagEnd = baseHTML.indexOf(">",selectedProductsTagStart);
				var selectedProductsTagStrip = baseHTML.substring(selectedProductsTagStart,(selectedProductsTagEnd+1));
				var selectedProductsHTMLStart = baseHTML.substr(0,selectedProductsTagStart);
				var selectedProductsHTMLEnd = baseHTML.substr((selectedProductsTagEnd+1));
				var selProdSingularStart = selectedProductsTagStrip.indexOf(" SINGULAR=");
				if (selProdSingularStart != -1) {
					var selProdSingularEnd = selectedProductsTagStrip.indexOf("]",selProdSingularStart);
					p1selProdSingularVar = " " + selectedProductsTagStrip.substring((selProdSingularStart+11),(selProdSingularEnd));
				}
				var selProdPluralStart = selectedProductsTagStrip.indexOf(" PLURAL=");
				if (selProdPluralStart != -1) {
					var selProdPluralEnd = selectedProductsTagStrip.indexOf("]",selProdPluralStart);
					p1selProdPluralVar = " " + selectedProductsTagStrip.substring((selProdPluralStart+9),(selProdPluralEnd));
				}
				baseHTML = selectedProductsHTMLStart + "<div id='panel1SelProdText' class='panel_1_selected_products_text'>" + p1selProdPluralVar + "<\/div>" + selectedProductsHTMLEnd;
			}
			var prodtoggButtonSearchOn = 1;
			while (prodtoggButtonSearchOn != 0) {
				var prodtoggButtonTagStart = baseHTML.indexOf("<!--PRODTOGGLE");
				if (prodtoggButtonTagStart != -1) {
					var prodtoggButtonTagEnd = baseHTML.indexOf(">",prodtoggButtonTagStart);
					var prodtoggButtonTagStrip = baseHTML.substring(prodtoggButtonTagStart,(prodtoggButtonTagEnd+1));
					var prodtoggButtonHTMLStart = baseHTML.substr(0,prodtoggButtonTagStart);
					var prodtoggButtonHTMLEnd = baseHTML.substr((prodtoggButtonTagEnd+1));
					var prodtoggButtonRender = "";
					var prodtoggButtonValueStart = prodtoggButtonTagStrip.indexOf(" VALUE=");
					if (prodtoggButtonValueStart != -1) {
						var prodtoggButtonValueEnd = prodtoggButtonTagStrip.indexOf("]",prodtoggButtonValueStart);
						var prodtoggButtonValueVar = prodtoggButtonTagStrip.substring((prodtoggButtonValueStart+8),(prodtoggButtonValueEnd));
					}
					else {
						var prodtoggButtonValueVar = "SELECT PRODUCTS";
					}
					var prodtoggButtonClassStart = prodtoggButtonTagStrip.indexOf(" ADDCLASS=");
					if (prodtoggButtonClassStart != -1) {
						var prodtoggButtonClassEnd = prodtoggButtonTagStrip.indexOf("]",prodtoggButtonClassStart);
						var prodtoggButtonClassVar = prodtoggButtonTagStrip.substring((prodtoggButtonClassStart+11),(prodtoggButtonClassEnd));
					}
					else {
						var prodtoggButtonClassVar = "";
					}
					var prodtoggButtonItalicStart = prodtoggButtonTagStrip.indexOf(" FNTAW=");
					if (prodtoggButtonItalicStart != -1) {
						var prodtoggButtonItalicEnd = prodtoggButtonTagStrip.indexOf("]",prodtoggButtonItalicStart);
						var prodtoggButtonItalicVar = "<i class='fa " + prodtoggButtonTagStrip.substring((prodtoggButtonItalicStart+8),(prodtoggButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var prodtoggButtonItalicVar = "";
					}
					var prodtoggButtonShowStart = prodtoggButtonTagStrip.indexOf(" SHOW=");
					if (prodtoggButtonShowStart != -1) {
						var prodtoggButtonShowEnd = prodtoggButtonTagStrip.indexOf("]",prodtoggButtonShowStart);
						var prodtoggButtonShowVar = prodtoggButtonTagStrip.substring((prodtoggButtonShowStart+7),(prodtoggButtonShowEnd));
					}
					else {
						var prodtoggButtonShowVar = "X";
					}
					var prodtoggButtonHideStart = prodtoggButtonTagStrip.indexOf(" HIDE=");
					if (prodtoggButtonHideStart != -1) {
						var prodtoggButtonHideEnd = prodtoggButtonTagStrip.indexOf("]",prodtoggButtonHideStart);
						var prodtoggButtonHideVar = prodtoggButtonTagStrip.substring((prodtoggButtonHideStart+7),(prodtoggButtonHideEnd));
					}
					else {
						var prodtoggButtonHideVar = "X";
					}
					var prodtoggButtonSimpleStart = prodtoggButtonTagStrip.indexOf(" SIMPLE");
					if (prodtoggButtonSimpleStart != -1) {
						var prodtoggButtonSimpleVar = "panel1ProdToggleTwo";
					}
					else {
						var prodtoggButtonSimpleVar = "panel1ProdToggle";
					}
					var prodtoggButtonDefaultStart = prodtoggButtonTagStrip.indexOf(" DEFAULT=");
					if (prodtoggButtonDefaultStart != -1) {
						var prodtoggButtonDefaultEnd = prodtoggButtonTagStrip.indexOf("]",prodtoggButtonDefaultStart);
						var prodtoggButtonDefaultStrip = prodtoggButtonTagStrip.substring((prodtoggButtonDefaultStart+10),(prodtoggButtonDefaultEnd));
						if (prodtoggButtonDefaultStrip == "ON") {
							var prodtoggButtonDefaultVar = " panel_1_prodtogg_button_on";
						}
						else{
							var prodtoggButtonDefaultVar = " panel_1_prodtogg_button_off";
						}
					}
					else {
						var prodtoggButtonDefaultVar = " panel_1_prodtogg_button_off";
					}
					prodtoggButtonRender = "<div id='panel1ProdToggButton" + prodtoggButtonSearchOn + "' class='panel_1_prodtogg_button panel_1_prodtogg_button_" + prodtoggButtonSearchOn + prodtoggButtonDefaultVar + " " + prodtoggButtonClassVar + "'";
					if (hoverState==1) {
						prodtoggButtonRender += " onmouseover='panel1ButtonHover(\"panel1ProdToggButton" + prodtoggButtonSearchOn + "\",\"panel_1_prodtogg_button\",1);' onfocus='panel1ButtonHover(\"panel1ProdToggButton" + prodtoggButtonSearchOn + "\",\"panel_1_prodtogg_button\",1);' onmouseout='panel1ButtonHover(\"panel1ProdToggButton" + prodtoggButtonSearchOn + "\",\"panel_1_prodtogg_button\",0);' onblur='panel1ButtonHover(\"panel1ProdToggButton" + prodtoggButtonSearchOn + "\",\"panel_1_prodtogg_button\",0);'";
					}
					prodtoggButtonRender += " onclick='" + prodtoggButtonSimpleVar + "(" + prodtoggButtonSearchOn + ",\"" + prodtoggButtonShowVar + "\",\"" + prodtoggButtonHideVar + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodtoggButtonSimpleVar + "(" + prodtoggButtonSearchOn + ",\"" + prodtoggButtonShowVar + "\",\"" + prodtoggButtonHideVar + "\");}' tabindex='0' title=\"" + prodtoggButtonValueVar + "\">" + prodtoggButtonItalicVar + prodtoggButtonValueVar + "<\/div>";
					baseHTML = prodtoggButtonHTMLStart + prodtoggButtonRender + prodtoggButtonHTMLEnd;
					prodtoggButtonSearchOn++;
				}
				else {
					prodtoggButtonSearchOn = 0;
				}
			}
			var labelLimitButtonTagStart = baseHTML.indexOf("<!--LIMITLABELBUTTON");
			if (labelLimitButtonTagStart != -1) {
				var labelLimitButtonTagEnd = baseHTML.indexOf(">",labelLimitButtonTagStart);
				var labelLimitButtonTagStrip = baseHTML.substring(labelLimitButtonTagStart,(labelLimitButtonTagEnd+1));
				var labelLimitButtonHTMLStart = baseHTML.substr(0,labelLimitButtonTagStart);
				var labelLimitButtonHTMLEnd = baseHTML.substr((labelLimitButtonTagEnd+1));
				var labelLimitButtonRender = "";
				var labelLimitButtonNumberStart = labelLimitButtonTagStrip.indexOf(" LIMIT=");
				if (labelLimitButtonNumberStart != -1) {
					var labelLimitButtonNumberEnd = labelLimitButtonTagStrip.indexOf("]",labelLimitButtonNumberStart);
					panel1LabelLimitVar = labelLimitButtonTagStrip.substring((labelLimitButtonNumberStart+8),(labelLimitButtonNumberEnd));
				}
				var labelLimitButtonValueStart = labelLimitButtonTagStrip.indexOf(" VALUE=");
				if (labelLimitButtonValueStart != -1) {
					var labelLimitButtonValueEnd = labelLimitButtonTagStrip.indexOf("]",labelLimitButtonValueStart);
					var labelLimitButtonValueVar = labelLimitButtonTagStrip.substring((labelLimitButtonValueStart+8),(labelLimitButtonValueEnd));
				}
				else {
					var labelLimitButtonValueVar = "SHOW MORE";
				}
				var labelLimitButtonItalicStart = labelLimitButtonTagStrip.indexOf(" FNTAW=");
				if (labelLimitButtonItalicStart != -1) {
					var labelLimitButtonItalicEnd = labelLimitButtonTagStrip.indexOf("]",labelLimitButtonItalicStart);
					var labelLimitButtonItalicVar = "<i class='fa " + labelLimitButtonTagStrip.substring((labelLimitButtonItalicStart+8),(labelLimitButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var labelLimitButtonItalicVar = "";
				}
				labelLimitButtonRender = "<div id='panel1LabelLimitButton' class='panel_1_label_limit_button panel_1_label_limit_button_off'";
				if (hoverState==1) {
					labelLimitButtonRender += " onmouseover='panel1ButtonHover(\"panel1LabelLimitButton\",\"panel_1_label_limit_button\",1);' onfocus='panel1ButtonHover(\"panel1LabelLimitButton\",\"panel_1_label_limit_button\",1);' onmouseout='panel1ButtonHover(\"panel1LabelLimitButton\",\"panel_1_label_limit_button\",0);' onblur='panel1ButtonHover(\"panel1LabelLimitButton\",\"panel_1_label_limit_button\",0);'";
				}
				labelLimitButtonRender += " onclick='panel1LabelLimit();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabelLimit();}' tabindex='0' title=\"" + labelLimitButtonValueVar + "\">" + labelLimitButtonItalicVar + labelLimitButtonValueVar + "<\/div>";
				baseHTML = labelLimitButtonHTMLStart + labelLimitButtonRender + labelLimitButtonHTMLEnd;
			}
			var parentTextTagStart = baseHTML.indexOf("<!--PARENTTEXT");
			if (parentTextTagStart != -1) {
				var parentTextTagEnd = baseHTML.indexOf(">",parentTextTagStart);
				var parentTextTagStrip = baseHTML.substring(parentTextTagStart,(parentTextTagEnd+1));
				var parentTextHTMLStart = baseHTML.substr(0,parentTextTagStart);
				var parentTextHTMLEnd = baseHTML.substr((parentTextTagEnd+1));
				baseHTML = parentTextHTMLStart + "<span id='panel1ParentText'><\/span>" + parentTextHTMLEnd;
			}
			var labelSubheaderTagStart = baseHTML.indexOf("<!--LABELSUBHEADER");
			if (labelSubheaderTagStart != -1) {
				var labelSubheaderTagEnd = baseHTML.indexOf(">",labelSubheaderTagStart);
				var labelSubheaderTagStrip = baseHTML.substring(labelSubheaderTagStart,(labelSubheaderTagEnd+1));
				var labelSubheaderHTMLStart = baseHTML.substr(0,labelSubheaderTagStart);
				var labelSubheaderHTMLEnd = baseHTML.substr((labelSubheaderTagEnd+1));
				baseHTML = labelSubheaderHTMLStart + "<span id='panel1LabelSubheader'><\/span>" + labelSubheaderHTMLEnd;
			}
			var parentWhileOn = 1;
			while (parentWhileOn != 0) {
				var parentTagStart = baseHTML.indexOf("<!--PARENT");
				if (parentTagStart != -1) {
					var parentTagEnd = baseHTML.indexOf(">",parentTagStart);
					var parentTagStrip = baseHTML.substring(parentTagStart,(parentTagEnd+1));
					var parentHTMLStart = baseHTML.substr(0,parentTagStart);
					var parentHTMLEnd = baseHTML.substr((parentTagEnd+1));
					var parentValueVar = 0;
					var parentValueStart = parentTagStrip.indexOf(" ID=");
					if (parentValueStart != -1) {
						var parentValueEnd = parentTagStrip.indexOf("]",parentValueStart);
						parentValueVar = parentTagStrip.substring((parentValueStart+5),(parentValueEnd));
					}
					var parentClassVar = "_base";
					var parentClassStart = parentTagStrip.indexOf(" CLASS=");
					if (parentClassStart != -1) {
						var parentClassEnd = parentTagStrip.indexOf("]",parentClassStart);
						parentClassVar = "_" + parentTagStrip.substring((parentClassStart+8),(parentClassEnd));
					}
					var parentTemplate = 0; // Basic Template
					var parentMenuStart = parentTagStrip.indexOf(" MENU");
					if (parentMenuStart != -1) {
						parentTemplate = 1; // Menu Template
					}
					var parentOver = 0; // Basic Mouseover
					var parentOverStart = parentTagStrip.indexOf(" OVER");
					if (parentOverStart != -1) {
						parentOver = 1; // Mouseover Template
					}
					if (parentValueVar != 0) {
						var parentFoundCheck = 0;
						for (p=0; p<parentArray.length; p++) {
							if (parentArray[p][0] == parentValueVar) {
								parentFoundCheck++;
								if (parentTemplate == 1) {
									var parentHTMLTest = autotextIt(p1TemplateSet.panel1ParentMenuDiv,"panel1ParentMenu");
									if(gLog==1){console.log("PARENT - panel1ParentMenuDiv");}
								}
								else {
									var parentHTMLTest = autotextIt(p1TemplateSet.panel1ParentDiv,"panel1Parent");
									if(gLog==1){console.log("PARENT - panel1ParentDiv");}
								}
								var parentNameTagStart = parentHTMLTest.indexOf("<!--PARENTNAME");
								if (parentNameTagStart != -1) {
									var parentNameTagEnd = parentHTMLTest.indexOf(">",parentNameTagStart);
									var parentNameTagStrip = parentHTMLTest.substring(parentNameTagStart,(parentNameTagEnd+1));
									var parentNameHTMLStart = parentHTMLTest.substr(0,parentNameTagStart);
									var parentNameHTMLEnd = parentHTMLTest.substr((parentNameTagEnd+1));
									parentHTMLTest = parentNameHTMLStart + "<span id='panel1ParentName_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_name_" + parentTemplate + " panel_1_parent_name_" + parentTemplate + parentClassVar + "'>" + parentArray[p][1] + "<\/span>" + parentNameHTMLEnd;
								}
								var parentDescTagStart = parentHTMLTest.indexOf("<!--PARENTDESC");
								if (parentDescTagStart != -1) {
									var parentDescTagEnd = parentHTMLTest.indexOf(">",parentDescTagStart);
									var parentDescTagStrip = parentHTMLTest.substring(parentDescTagStart,(parentDescTagEnd+1));
									var parentDescHTMLStart = parentHTMLTest.substr(0,parentDescTagStart);
									var parentDescHTMLEnd = parentHTMLTest.substr((parentDescTagEnd+1));
									parentHTMLTest = parentDescHTMLStart + "<span id='panel1ParentDesc_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_desc_" + parentTemplate + " panel_1_parent_desc_" + parentTemplate + parentClassVar + "'>" + parentArray[p][2] + "<\/span>" + parentDescHTMLEnd;
								}
								var parentImgTagStart = parentHTMLTest.indexOf("<!--PARENTIMG");
								if (parentImgTagStart != -1) {
									var parentImgTagEnd = parentHTMLTest.indexOf(">",parentImgTagStart);
									var parentImgTagStrip = parentHTMLTest.substring(parentImgTagStart,(parentImgTagEnd+1));
									var parentImgHTMLStart = parentHTMLTest.substr(0,parentImgTagStart);
									var parentImgHTMLEnd = parentHTMLTest.substr((parentImgTagEnd+1));
									parentHTMLTest = parentImgHTMLStart + "<img title=\"" + parentArray[p][1] + "\" alt=\"" + parentArray[p][1] + "\" id='panel1ParentImg_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_img_" + parentTemplate + " panel_1_parent_img_" + parentTemplate + parentClassVar + "'src='" + clientImgBase + parentArray[p][3] + "'>" + parentImgHTMLEnd;
								}
								var parentOverHTML = "";
								var parentMouseoverHTML = " onmouseover='panel1ParentOver(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");' onfocus='panel1ParentOver(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");'";
								var parentMouseoutHTML = " onmouseout='panel1ParentOut(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");' onblur='panel1ParentOut(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");'";
								if (parentOver == 1) {
									parentMouseoverHTML = " onmouseover='panel1ParentOverTemp(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");' onfocus='panel1ParentOverTemp(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");'";
									parentMouseoutHTML = "";
									if (parentTemplate == 1) {
										var parentOverHTMLTest = autotextIt(p1TemplateSet.panel1ParentMenuOverDiv,"panel1ParentMenuOver");
										if(gLog==1){console.log("PARENT - panel1ParentMenuOverDiv");}
									}
									else {
										var parentOverHTMLTest = autotextIt(p1TemplateSet.panel1ParentOverDiv,"panel1ParentOver");
										if(gLog==1){console.log("PARENT - panel1ParentOverDiv");}
									}
									var parentNameTagStart = parentOverHTMLTest.indexOf("<!--PARENTNAME");
									if (parentNameTagStart != -1) {
										var parentNameTagEnd = parentOverHTMLTest.indexOf(">",parentNameTagStart);
										var parentNameTagStrip = parentOverHTMLTest.substring(parentNameTagStart,(parentNameTagEnd+1));
										var parentNameHTMLStart = parentOverHTMLTest.substr(0,parentNameTagStart);
										var parentNameHTMLEnd = parentOverHTMLTest.substr((parentNameTagEnd+1));
										parentOverHTMLTest = parentNameHTMLStart + "<span id='panel1ParentName_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_name_" + parentTemplate + " panel_1_parent_name_" + parentTemplate + parentClassVar + "'>" + parentArray[p][1] + "<\/span>" + parentNameHTMLEnd;
									}
									var parentDescTagStart = parentOverHTMLTest.indexOf("<!--PARENTDESC");
									if (parentDescTagStart != -1) {
										var parentDescTagEnd = parentOverHTMLTest.indexOf(">",parentDescTagStart);
										var parentDescTagStrip = parentOverHTMLTest.substring(parentDescTagStart,(parentDescTagEnd+1));
										var parentDescHTMLStart = parentOverHTMLTest.substr(0,parentDescTagStart);
										var parentDescHTMLEnd = parentOverHTMLTest.substr((parentDescTagEnd+1));
										parentOverHTMLTest = parentDescHTMLStart + "<span id='panel1ParentDesc_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_desc_" + parentTemplate + " panel_1_parent_desc_" + parentTemplate + parentClassVar + "'>" + parentArray[p][2] + "<\/span>" + parentDescHTMLEnd;
									}
									var parentImgTagStart = parentOverHTMLTest.indexOf("<!--PARENTIMG");
									if (parentImgTagStart != -1) {
										var parentImgTagEnd = parentOverHTMLTest.indexOf(">",parentImgTagStart);
										var parentImgTagStrip = parentOverHTMLTest.substring(parentImgTagStart,(parentImgTagEnd+1));
										var parentImgHTMLStart = parentOverHTMLTest.substr(0,parentImgTagStart);
										var parentImgHTMLEnd = parentOverHTMLTest.substr((parentImgTagEnd+1));
										parentOverHTMLTest = parentImgHTMLStart + "<img title=\"" + parentArray[p][1] + "\" alt=\"" + parentArray[p][1] + "\" id='panel1ParentImg_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_img_" + parentTemplate + " panel_1_parent_img_" + parentTemplate + parentClassVar + "'src='" + clientImgBase + parentArray[p][3] + "'>" + parentImgHTMLEnd;
									}
									parentOverHTML = "<div class='panel_1_parent_inner_over panel_1_parent_inner_over_" + parentTemplate + "_" + parentArray[p][0] + " panel_1_parent_inner_over_" + parentTemplate + "_" + parentArray[p][0] + parentClassVar + "' style='display:none;' onmouseout='panel1ParentOutTemp(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");' onblur='panel1ParentOutTemp(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");'>" + parentOverHTMLTest + "<\/div>"
								}
								baseHTML = parentHTMLStart + "<div class='panel_1_parent_shell panel_1_parent_shell_" + parentTemplate + "_" + parentArray[p][0] + " panel_1_parent_shell_" + parentTemplate + "_" + parentArray[p][0] + parentClassVar + "'"+parentMouseoverHTML + parentMouseoutHTML + " onclick='panel1ParentSelect(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\"," + p + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ParentSelect(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\"," + p + ");}'><div class='panel_1_parent_inner panel_1_parent_inner_" + parentTemplate + "_" + parentArray[p][0] + " panel_1_parent_inner_" + parentTemplate + "_" + parentArray[p][0] + parentClassVar + "' tabindex='0' title=\"" + parentArray[p][1] + "\">" + parentHTMLTest + "<\/div>" + parentOverHTML + "<\/div>" + parentHTMLEnd;
								break;
							}
						}
						if (parentFoundCheck == 0) {
							if(gLog==1){console.log("ERROR: Unknown Parent ID="+parentValueVar);}
							p1ErrorArray.push("ERROR: Unknown Parent ID="+parentValueVar);
							baseHTML = parentHTMLStart + parentHTMLEnd;
						}
					}
					else {
						var thisParentHTML = "";
						for (p=0; p<parentArray.length; p++) {
							if (parentTemplate == 1) {
								var parentHTMLTest = autotextIt(p1TemplateSet.panel1ParentMenuDiv,"panel1ParentMenu");
								if(gLog==1){console.log("PARENT - panel1ParentMenuDiv");}
							}
							else {
								var parentHTMLTest = autotextIt(p1TemplateSet.panel1ParentDiv,"panel1Parent");
								if(gLog==1){console.log("PARENT - panel1ParentDiv");}
							}
							var parentNameTagStart = parentHTMLTest.indexOf("<!--PARENTNAME");
							if (parentNameTagStart != -1) {
								var parentNameTagEnd = parentHTMLTest.indexOf(">",parentNameTagStart);
								var parentNameTagStrip = parentHTMLTest.substring(parentNameTagStart,(parentNameTagEnd+1));
								var parentNameHTMLStart = parentHTMLTest.substr(0,parentNameTagStart);
								var parentNameHTMLEnd = parentHTMLTest.substr((parentNameTagEnd+1));
								parentHTMLTest = parentNameHTMLStart + "<span id='panel1ParentName_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_name_" + parentTemplate + " panel_1_parent_name_" + parentTemplate + parentClassVar + "'>" + parentArray[p][1] + "<\/span>" + parentNameHTMLEnd;
							}
							var parentDescTagStart = parentHTMLTest.indexOf("<!--PARENTDESC");
							if (parentDescTagStart != -1) {
								var parentDescTagEnd = parentHTMLTest.indexOf(">",parentDescTagStart);
								var parentDescTagStrip = parentHTMLTest.substring(parentDescTagStart,(parentDescTagEnd+1));
								var parentDescHTMLStart = parentHTMLTest.substr(0,parentDescTagStart);
								var parentDescHTMLEnd = parentHTMLTest.substr((parentDescTagEnd+1));
								parentHTMLTest = parentDescHTMLStart + "<span id='panel1ParentDesc_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_desc_" + parentTemplate + " panel_1_parent_desc_" + parentTemplate + parentClassVar + "'>" + parentArray[p][2] + "<\/span>" + parentDescHTMLEnd;
							}
							var parentImgTagStart = parentHTMLTest.indexOf("<!--PARENTIMG");
							if (parentImgTagStart != -1) {
								var parentImgTagEnd = parentHTMLTest.indexOf(">",parentImgTagStart);
								var parentImgTagStrip = parentHTMLTest.substring(parentImgTagStart,(parentImgTagEnd+1));
								var parentImgHTMLStart = parentHTMLTest.substr(0,parentImgTagStart);
								var parentImgHTMLEnd = parentHTMLTest.substr((parentImgTagEnd+1));
								parentHTMLTest = parentImgHTMLStart + "<img title=\"" + parentArray[p][1] + "\" alt=\"" + parentArray[p][1] + "\" id='panel1ParentImg_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_img_" + parentTemplate + " panel_1_parent_img_" + parentTemplate + parentClassVar + "'src='" + clientImgBase + parentArray[p][3] + "'>" + parentImgHTMLEnd;
							}
							var parentOverHTML = "";
							var parentMouseoverHTML = " onmouseover='panel1ParentOver(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");' onfocus='panel1ParentOver(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");'";
							var parentMouseoutHTML = " onmouseout='panel1ParentOut(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");' onblur='panel1ParentOut(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");'";
							if (parentOver == 1) {
								parentMouseoverHTML = " onmouseover='panel1ParentOverTemp(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");' onfocus='panel1ParentOverTemp(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");'";
								parentMouseoutHTML = "";
								if (parentTemplate == 1) {
									var parentOverHTMLTest = autotextIt(p1TemplateSet.panel1ParentMenuOverDiv,"panel1ParentMenuOver");
									if(gLog==1){console.log("PARENT - panel1ParentMenuOverDiv");}
								}
								else {
									var parentOverHTMLTest = autotextIt(p1TemplateSet.panel1ParentOverDiv,"panel1ParentOver");
									if(gLog==1){console.log("PARENT - panel1ParentOverDiv");}
								}
								var parentNameTagStart = parentOverHTMLTest.indexOf("<!--PARENTNAME");
								if (parentNameTagStart != -1) {
									var parentNameTagEnd = parentOverHTMLTest.indexOf(">",parentNameTagStart);
									var parentNameTagStrip = parentOverHTMLTest.substring(parentNameTagStart,(parentNameTagEnd+1));
									var parentNameHTMLStart = parentOverHTMLTest.substr(0,parentNameTagStart);
									var parentNameHTMLEnd = parentOverHTMLTest.substr((parentNameTagEnd+1));
									parentOverHTMLTest = parentNameHTMLStart + "<span id='panel1ParentName_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_name_" + parentTemplate + " panel_1_parent_name_" + parentTemplate + parentClassVar + "'>" + parentArray[p][1] + "<\/span>" + parentNameHTMLEnd;
								}
								var parentDescTagStart = parentOverHTMLTest.indexOf("<!--PARENTDESC");
								if (parentDescTagStart != -1) {
									var parentDescTagEnd = parentOverHTMLTest.indexOf(">",parentDescTagStart);
									var parentDescTagStrip = parentOverHTMLTest.substring(parentDescTagStart,(parentDescTagEnd+1));
									var parentDescHTMLStart = parentOverHTMLTest.substr(0,parentDescTagStart);
									var parentDescHTMLEnd = parentOverHTMLTest.substr((parentDescTagEnd+1));
									parentOverHTMLTest = parentDescHTMLStart + "<span id='panel1ParentDesc_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_desc_" + parentTemplate + " panel_1_parent_desc_" + parentTemplate + parentClassVar + "'>" + parentArray[p][2] + "<\/span>" + parentDescHTMLEnd;
								}
								var parentImgTagStart = parentOverHTMLTest.indexOf("<!--PARENTIMG");
								if (parentImgTagStart != -1) {
									var parentImgTagEnd = parentOverHTMLTest.indexOf(">",parentImgTagStart);
									var parentImgTagStrip = parentOverHTMLTest.substring(parentImgTagStart,(parentImgTagEnd+1));
									var parentImgHTMLStart = parentOverHTMLTest.substr(0,parentImgTagStart);
									var parentImgHTMLEnd = parentOverHTMLTest.substr((parentImgTagEnd+1));
									parentOverHTMLTest = parentImgHTMLStart + "<img title=\"" + parentArray[p][1] + "\" alt=\"" + parentArray[p][1] + "\" id='panel1ParentImg_" + parentTemplate + "_" + parentArray[p][0] + "' class='panel_1_parent_img_" + parentTemplate + " panel_1_parent_img_" + parentTemplate + parentClassVar + "'src='" + clientImgBase + parentArray[p][3] + "'>" + parentImgHTMLEnd;
								}
								parentOverHTML = "<div class='panel_1_parent_inner_over panel_1_parent_inner_over_" + parentTemplate + "_" + parentArray[p][0] + " panel_1_parent_inner_over_" + parentTemplate + "_" + parentArray[p][0] + parentClassVar + "' style='display:none;' onmouseout='panel1ParentOutTemp(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");' onblur='panel1ParentOutTemp(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\");'>" + parentOverHTMLTest + "<\/div>"
							}
							thisParentHTML += "<div class='panel_1_parent_shell panel_1_parent_shell_" + parentTemplate + "_" + parentArray[p][0] + " panel_1_parent_shell_" + parentTemplate + "_" + parentArray[p][0] + parentClassVar + "'"+parentMouseoverHTML + parentMouseoutHTML + " onclick='panel1ParentSelect(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\"," + p + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ParentSelect(" + parentTemplate + "," + parentArray[p][0] + ",\"" + parentClassVar + "\"," + p + ");}' tabindex='0' title=\"" + parentArray[p][1] + "\"><div class='panel_1_parent_inner panel_1_parent_inner_" + parentTemplate + "_" + parentArray[p][0] + " panel_1_parent_inner_" + parentTemplate + "_" + parentArray[p][0] + parentClassVar + "'>" + parentHTMLTest + "<\/div>" + parentOverHTML + "<\/div>";
						}
						baseHTML = parentHTMLStart + thisParentHTML + parentHTMLEnd;
					}
					parentWhileOn++;
				}
				else {
					parentWhileOn = 0;
				}
			}
			var resetButtonTagStart = baseHTML.indexOf("<!--RESETBUTTON");
			if (resetButtonTagStart != -1) {
				var resetButtonTagEnd = baseHTML.indexOf(">",resetButtonTagStart);
				var resetButtonTagStrip = baseHTML.substring(resetButtonTagStart,(resetButtonTagEnd+1));
				var resetButtonHTMLStart = baseHTML.substr(0,resetButtonTagStart);
				var resetButtonHTMLEnd = baseHTML.substr((resetButtonTagEnd+1));
				var resetButtonRender = "";
				var resetButtonValueStart = resetButtonTagStrip.indexOf(" VALUE=");
				if (resetButtonValueStart != -1) {
					var resetButtonValueEnd = resetButtonTagStrip.indexOf("]",resetButtonValueStart);
					var resetButtonValueVar = resetButtonTagStrip.substring((resetButtonValueStart+8),(resetButtonValueEnd));
				}
				else {
					var resetButtonValueVar = "RESET";
				}
				var resetButtonItalicStart = resetButtonTagStrip.indexOf(" FNTAW=");
				if (resetButtonItalicStart != -1) {
					var resetButtonItalicEnd = resetButtonTagStrip.indexOf("]",resetButtonItalicStart);
					var resetButtonItalicVar = "<i class='fa " + resetButtonTagStrip.substring((resetButtonItalicStart+8),(resetButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var resetButtonItalicVar = "";
				}
				resetButtonRender = "<div id='panel1ResetButton' class='panel_1_reset_button panel_1_reset_button_off'";
				if (hoverState==1) {
					resetButtonRender += " onmouseover='panel1ButtonHover(\"panel1ResetButton\",\"panel_1_reset_button\",1);' onfocus='panel1ButtonHover(\"panel1ResetButton\",\"panel_1_reset_button\",1);' onmouseout='panel1ButtonHover(\"panel1ResetButton\",\"panel_1_reset_button\",0);' onblur='panel1ButtonHover(\"panel1ResetButton\",\"panel_1_reset_button\",0);'";
				}
				resetButtonRender += " onclick='panel1Reset();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1Reset();}' tabindex='0' title=\"" + resetButtonValueVar + "\">" + resetButtonItalicVar + resetButtonValueVar + "<\/div>";
				baseHTML = resetButtonHTMLStart + resetButtonRender + resetButtonHTMLEnd;
			}
			var childSetTagStart = baseHTML.indexOf("<!--CHILDSET");
			if (childSetTagStart != -1) {
				var childSetTagEnd = baseHTML.indexOf(">",childSetTagStart);
				var childSetTagStrip = baseHTML.substring(childSetTagStart,(childSetTagEnd+1));
				var childSetHTMLStart = baseHTML.substr(0,childSetTagStart);
				var childSetHTMLEnd = baseHTML.substr((childSetTagEnd+1));
				var childSetInitDispStart = childSetTagStrip.indexOf(" INITDISP=");
				if (childSetInitDispStart != -1) {
					var childSetInitDispEnd = childSetTagStrip.indexOf("]",childSetInitDispStart);
					panel1ChildInitDisp = childSetTagStrip.substring((childSetInitDispStart+11),(childSetInitDispEnd));
					if(gLog==1){console.log("childSetTagStart - panel1ChildInitDisp="+panel1ChildInitDisp);}
				}
				var childSubLessStart = childSetTagStrip.indexOf(" FNTAWLESS=");
				if (childSubLessStart != -1) {
					var childSubLessEnd = childSetTagStrip.indexOf("]",childSubLessStart);
					panel1ChildSubLess = "<i class='fa " + childSetTagStrip.substring((childSubLessStart+12),(childSubLessEnd)) + "'><\/i>";
				}
				var childSubMoreStart = childSetTagStrip.indexOf(" FNTAWMORE=");
				if (childSubMoreStart != -1) {
					var childSubMoreEnd = childSetTagStrip.indexOf("]",childSubMoreStart);
					panel1ChildSubMore = "<i class='fa " + childSetTagStrip.substring((childSubMoreStart+12),(childSubMoreEnd)) + "'><\/i>";
				}
				var childTextLessStart = childSetTagStrip.indexOf(" TEXTLESS=");
				if (childTextLessStart != -1) {
					var childTextLessEnd = childSetTagStrip.indexOf("]",childTextLessStart);
					panel1ChildTextLess = childSetTagStrip.substring((childTextLessStart+11),(childTextLessEnd));
				}
				var childTextMoreStart = childSetTagStrip.indexOf(" TEXTMORE=");
				if (childTextMoreStart != -1) {
					var childTextMoreEnd = childSetTagStrip.indexOf("]",childTextMoreStart);
					panel1ChildTextMore = childSetTagStrip.substring((childTextMoreStart+11),(childTextMoreEnd));
				}
				var childSetMobileHideCheck = childSetTagStrip.indexOf(" MOBILEHIDE");
				if (childSetMobileHideCheck != -1) {
					panel1ChildMobileHide = 1;
				}
				var childSetDesktopHideCheck = childSetTagStrip.indexOf(" DESKTOPHIDE");
				if (childSetDesktopHideCheck != -1) {
					panel1ChildDesktopHide = 1;
				}
				var childSetOnStart = childSetTagStrip.indexOf(" FNTAWON=");
				if (childSetOnStart != -1) {
					var childSetOnEnd = childSetTagStrip.indexOf("]",childSetOnStart);
					panel1ChildSubOn = "<i class='fa " + childSetTagStrip.substring((childSetOnStart+10),(childSetOnEnd)) + "'><\/i>";
				}
				var childSetOffStart = childSetTagStrip.indexOf(" FNTAWOFF=");
				if (childSetOffStart != -1) {
					var childSetOffEnd = childSetTagStrip.indexOf("]",childSetOffStart);
					panel1ChildSubOff = "<i class='fa " + childSetTagStrip.substring((childSetOffStart+11),(childSetOffEnd)) + "'><\/i>";
				}
				baseHTML = childSetHTMLStart + childSetHTMLEnd;
			}
			var multiFilterButtonOn = 1;
			while (multiFilterButtonOn != 0) {
				var multiButtonTagStart = baseHTML.indexOf("<!--MULTIBUTTON");
				if (multiButtonTagStart != -1) {
					var multiButtonTagEnd = baseHTML.indexOf(">",multiButtonTagStart);
					var multiButtonTagStrip = baseHTML.substring(multiButtonTagStart,(multiButtonTagEnd+1));
					var multiButtonHTMLStart = baseHTML.substr(0,multiButtonTagStart);
					var multiButtonHTMLEnd = baseHTML.substr((multiButtonTagEnd+1));
					var multiButtonRender = "";
					var multiButtonValueStart = multiButtonTagStrip.indexOf(" VALUE=");
					if (multiButtonValueStart != -1) {
						var multiButtonValueEnd = multiButtonTagStrip.indexOf("]",multiButtonValueStart);
						var multiButtonValueVar = multiButtonTagStrip.substring((multiButtonValueStart+8),(multiButtonValueEnd));
					}
					else {
						var multiButtonValueVar = "SELECT";
					}
					var multiButtonItalicStart = multiButtonTagStrip.indexOf(" FNTAW=");
					if (multiButtonItalicStart != -1) {
						var multiButtonItalicEnd = multiButtonTagStrip.indexOf("]",multiButtonItalicStart);
						var multiButtonItalicVar = "<i class='fa " + multiButtonTagStrip.substring((multiButtonItalicStart+8),(multiButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var multiButtonItalicVar = "";
					}
					var multiButtonNumStart = multiButtonTagStrip.indexOf(" NUMBER=");
					if (multiButtonNumStart != -1) {
						var multiButtonNumEnd = multiButtonTagStrip.indexOf("]",multiButtonNumStart);
						var multiFilterButtonNum = parseInt(multiButtonTagStrip.substring((multiButtonNumStart+9),(multiButtonNumEnd)));
					}
					else {
						var multiFilterButtonNum = 1;
					}
					var multiButtonDisplay = "off";
					var multiButtonDisplayStart = multiButtonTagStrip.indexOf(" ACTIVE");
					if (multiButtonDisplayStart != -1) {
						multiButtonDisplay = "on";
					}
					var multiButtonHideStart = multiButtonTagStrip.indexOf(" HIDE");
					if (multiButtonHideStart != -1) {
						panel1MultiButHide = 1;
						MFLButArr.push(multiFilterButtonOn);
					}
					multiButtonRender = "<div id='panel1MultiButton" + multiFilterButtonOn + "' class='panel_1_multi_button panel_1_multi_button_" + multiButtonDisplay + "'";
					if (hoverState==1) {
						multiButtonRender += " onmouseover='panel1ButtonHover(\"panel1MultiButton" + multiFilterButtonOn + "\",\"panel_1_multi_button\",1);' onfocus='panel1ButtonHover(\"panel1MultiButton" + multiFilterButtonOn + "\",\"panel_1_multi_button\",1);' onmouseout='panel1ButtonHover(\"panel1MultiButton" + multiFilterButtonOn + "\",\"panel_1_multi_button\",0);' onblur='panel1ButtonHover(\"panel1MultiButton" + multiFilterButtonOn + "\",\"panel_1_multi_button\",0);'";
					}
					multiButtonRender += " onclick='panel1MultiButtonClick(" + multiFilterButtonOn + "," + multiFilterButtonNum + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1MultiButtonClick(" + multiFilterButtonOn + "," + multiFilterButtonNum + ");}' tabindex='0' title=\"" + multiButtonValueVar + "\">" + multiButtonItalicVar + multiButtonValueVar + "<\/div>"
					baseHTML = multiButtonHTMLStart + multiButtonRender + multiButtonHTMLEnd;
					multiFilterButtonOn++;
				}
				else {
					multiFilterButtonOn = 0;
				}
			}
			var multibackButTagStart = baseHTML.indexOf("<!--MULTIBACKBUTTON");
			if (multibackButTagStart != -1) {
				var multibackButTagEnd = baseHTML.indexOf(">",multibackButTagStart);
				var multibackButTagStrip = baseHTML.substring(multibackButTagStart,(multibackButTagEnd+1));
				var multibackButHTMLStart = baseHTML.substr(0,multibackButTagStart);
				var multibackButHTMLEnd = baseHTML.substr((multibackButTagEnd+1));
				var multibackButRender = "";
				var multibackButValueVar = "BACK";
				var multibackButValueStart = multibackButTagStrip.indexOf(" VALUE=");
				if (multibackButValueStart != -1) {
					var multibackButValueEnd = multibackButTagStrip.indexOf("]",multibackButValueStart);
					multibackButValueVar = multibackButTagStrip.substring((multibackButValueStart+8),(multibackButValueEnd));
				}
				var multibackButItalicVar = "";
				var multibackButItalicStart = multibackButTagStrip.indexOf(" FNTAW=");
				if (multibackButItalicStart != -1) {
					var multibackButItalicEnd = multibackButTagStrip.indexOf("]",multibackButItalicStart);
					multibackButItalicVar = "<i class='fa " + multibackButTagStrip.substring((multibackButItalicStart+8),(multibackButItalicEnd)) + "'><\/i>";
				}
				multibackButRender = "<div id='panel1MultiBackBut' class='panel_1_multiback_but panel_1_multiback_but_off'";
				if (hoverState==1) {
					multibackButRender += " onmouseover='panel1ButtonHover(\"panel1MultiBackBut\",\"panel_1_multiback_but\",1);' onfocus='panel1ButtonHover(\"panel1MultiBackBut\",\"panel_1_multiback_but\",1);' onmouseout='panel1ButtonHover(\"panel1MultiBackBut\",\"panel_1_multiback_but\",0);' onblur='panel1ButtonHover(\"panel1MultiBackBut\",\"panel_1_multiback_but\",0);'";
				}
				multibackButRender += " onclick='panel1MultiBack();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1MultiBack();}' style='display:none;' tabindex='0' title=\"" + multibackButValueVar + "\">" + multibackButItalicVar + multibackButValueVar + "<\/div>";
				baseHTML = multibackButHTMLStart + multibackButRender + multibackButHTMLEnd;
			}
			var multibackFTextTagStart = baseHTML.indexOf("<!--MULTIFINDTEXT");
			if (multibackFTextTagStart != -1) {
				var multibackFTextTagEnd = baseHTML.indexOf(">",multibackFTextTagStart);
				var multibackFTextTagStrip = baseHTML.substring(multibackFTextTagStart,(multibackFTextTagEnd+1));
				var multibackFTextHTMLStart = baseHTML.substr(0,multibackFTextTagStart);
				var multibackFTextHTMLEnd = baseHTML.substr((multibackFTextTagEnd+1));
				var multibackFTextValueVar = "MAKE A SELECTION";
				var multibackFTextValueStart = multibackFTextTagStrip.indexOf(" VALUE=");
				if (multibackFTextValueStart != -1) {
					var multibackFTextValueEnd = multibackFTextTagStrip.indexOf("]",multibackFTextValueStart);
					multibackFTextValueVar = multibackFTextTagStrip.substring((multibackFTextValueStart+8),(multibackFTextValueEnd));
				}
				baseHTML = multibackFTextHTMLStart + "<span id='panel1MultiFindText' class='panel_1_multifind_text'>" + multibackFTextValueVar + "<\/span>" + multibackFTextHTMLEnd;
			}
			var multibackFValTagStart = baseHTML.indexOf("<!--MULTIFINDVAL");
			if (multibackFValTagStart != -1) {
				var multibackFValTagEnd = baseHTML.indexOf(">",multibackFValTagStart);
				var multibackFValTagStrip = baseHTML.substring(multibackFValTagStart,(multibackFValTagEnd+1));
				var multibackFValHTMLStart = baseHTML.substr(0,multibackFValTagStart);
				var multibackFValHTMLEnd = baseHTML.substr((multibackFValTagEnd+1));
				var multibackFValValueVar = "MAKE A SELECTION";
				var multibackFValValueStart = multibackFValTagStrip.indexOf(" VALUE=");
				if (multibackFValValueStart != -1) {
					var multibackFValValueEnd = multibackFValTagStrip.indexOf("]",multibackFValValueStart);
					multibackFValValueVar = multibackFValTagStrip.substring((multibackFValValueStart+8),(multibackFValValueEnd));
				}
				baseHTML = multibackFValHTMLStart + "<span id='panel1MultiFindVal' class='panel_1_multifind_val'>" + multibackFValValueVar + "<\/span>" + multibackFValHTMLEnd;
			}
			var multibackBigImgTagStart = baseHTML.indexOf("<!--MULTIBIGIMG");
			if (multibackBigImgTagStart != -1) {
				var multibackBigImgTagEnd = baseHTML.indexOf(">",multibackBigImgTagStart);
				var multibackBigImgTagStrip = baseHTML.substring(multibackBigImgTagStart,(multibackBigImgTagEnd+1));
				var multibackBigImgHTMLStart = baseHTML.substr(0,multibackBigImgTagStart);
				var multibackBigImgHTMLEnd = baseHTML.substr((multibackBigImgTagEnd+1));
				baseHTML = multibackBigImgHTMLStart + "<span id='panel1MultiBigImgHolder' class='panel_1_multi_big_img_holder'><\/span>" + multibackBigImgHTMLEnd;
			}
			var multibackSmImgTagStart = baseHTML.indexOf("<!--MULTISMIMG");
			if (multibackSmImgTagStart != -1) {
				var multibackSmImgTagEnd = baseHTML.indexOf(">",multibackSmImgTagStart);
				var multibackSmImgTagStrip = baseHTML.substring(multibackSmImgTagStart,(multibackSmImgTagEnd+1));
				var multibackSmImgHTMLStart = baseHTML.substr(0,multibackSmImgTagStart);
				var multibackSmImgHTMLEnd = baseHTML.substr((multibackSmImgTagEnd+1));
				baseHTML = multibackSmImgHTMLStart + "<span id='panel1MultiSmImgHolder' class='panel_1_multi_sm_img_holder'><\/span>" + multibackSmImgHTMLEnd;
			}
			var multiFilterSearchOn = 1;
			MFL1Arr.length = 0;
			MFL2Arr.length = 0;
			while (multiFilterSearchOn != 0) {
				var multiFilterTagStart = baseHTML.indexOf("<!--MULTIFILTER");
				if (multiFilterTagStart != -1) {
					var multiFilterTagEnd = baseHTML.indexOf(">",multiFilterTagStart);
					var multiFilterTagStrip = baseHTML.substring(multiFilterTagStart,(multiFilterTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,multiFilterTagStart);
					var baseHTMLEnd = baseHTML.substr((multiFilterTagEnd+1));
					var multiFilterL1Type = "FAMILY";
					var multiFilterL1TypeStart = multiFilterTagStrip.indexOf(" LEVEL1=");
					if (multiFilterL1TypeStart != -1) {
						var multiFilterL1TypeEnd = multiFilterTagStrip.indexOf("]",multiFilterL1TypeStart);
						multiFilterL1Type = multiFilterTagStrip.substring((multiFilterL1TypeStart+9),(multiFilterL1TypeEnd));
					}
					var mf1l = MFL1Arr.length;
					if (multiFilterL1Type == "FAMILY") {
						for (mfl=0; mfl<famArray.length; mfl++) {
							MFL1Arr[mf1l] = [famArray[mfl][0], famArray[mfl][1], famArray[mfl][2], famArray[mfl][3], multiFilterSearchOn];
							mf1l++;
						}
					}
					else if (multiFilterL1Type == "LABEL") {
						for (mfl=0; mfl<labelArray.length; mfl++) {
							MFL1Arr[mf1l] = [labelArray[mfl][0], labelArray[mfl][1], labelArray[mfl][6], labelArray[mfl][7], multiFilterSearchOn];
							mf1l++;
						}
					}
					var multiFilterL2Type = "LABEL";
					var multiFilterL2TypeStart = multiFilterTagStrip.indexOf(" LEVEL2=");
					if (multiFilterL2TypeStart != -1) {
						var multiFilterL2TypeEnd = multiFilterTagStrip.indexOf("]",multiFilterL2TypeStart);
						multiFilterL2Type = multiFilterTagStrip.substring((multiFilterL2TypeStart+9),(multiFilterL2TypeEnd));
					}
					var mf2l = MFL2Arr.length;
					if (multiFilterL2Type == "FAMILY") {
						for (mfl=0; mfl<famArray.length; mfl++) {
							MFL2Arr[mf2l] = [famArray[mfl][0], famArray[mfl][1], famArray[mfl][2], famArray[mfl][3], multiFilterSearchOn];
							mf2l++;
						}
					}
					else if (multiFilterL2Type == "LABEL") {
						for (mfl=0; mfl<labelArray.length; mfl++) {
							MFL2Arr[mf2l] = [labelArray[mfl][0], labelArray[mfl][1], labelArray[mfl][6], labelArray[mfl][7], multiFilterSearchOn];
							mf2l++;
						}
					}
					if(gLog==1){console.log("MULTIFILTER " + multiFilterSearchOn + " - Level 1: ", MFL1Arr);}
					if(gLog==1){console.log("MULTIFILTER " + multiFilterSearchOn + " - Level 2: ", MFL2Arr);}
					var multiFilterDisplay = " style='display:none;'";
					var multiFilterDisplayStart = multiFilterTagStrip.indexOf(" ACTIVE");
					if (multiFilterDisplayStart != -1) {
						multiFilterDisplay = "";
					}
					var multiFilterHTML = "<div class='panel_1_multiFilter_shell panel_1_multifilter_shell_" + multiFilterSearchOn + "'" + multiFilterDisplay + "><div class='panel_1_multiFilter_inner'><div id='panel1MultiFilterL1Shell" + multiFilterSearchOn + "' class='panel_1_multiFilter_l1_shell panel_1_multifilter_l1_shell_" + multiFilterSearchOn + "'><div class='panel_1_multiFilter_l1_inner'>";
					for (mflo=0; mflo<MFL1Arr.length; mflo++) {
						if (MFL1Arr[mflo][4] == multiFilterSearchOn) {
							if (multiFilterL1Type == "LABEL") {
								var multiFilterL1HTML = autotextIt(p1TemplateSet.panel1Filter1LabelDiv,"panel1Filter1Label");
							}
							else if (multiFilterL1Type == "FAMILY") {
								var multiFilterL1HTML = autotextIt(p1TemplateSet.panel1Filter1FamDiv,"panel1Filter1Fam");
							}
							var multiFilterNameTagStart = multiFilterL1HTML.indexOf("<!--FILTERNAME");
							if (multiFilterNameTagStart != -1) {
								var multiFilterNameTagEnd = multiFilterL1HTML.indexOf(">",multiFilterNameTagStart);
								var multiFilterNameTagStrip = multiFilterL1HTML.substring(multiFilterNameTagStart,(multiFilterNameTagEnd+1));
								var baseMultiFilterNameHTMLStart = multiFilterL1HTML.substr(0,multiFilterNameTagStart);
								var baseMultiFilterNameHTMLEnd = multiFilterL1HTML.substr((multiFilterNameTagEnd+1));
								var multiFilterNameValueStart = multiFilterNameTagStrip.indexOf(" VALUE=");
								if (multiFilterNameValueStart != -1) {
									var multiFilterNameValueEnd = multiFilterNameTagStrip.indexOf("]", multiFilterNameValueStart);
									var multiFilterNameValueVal = multiFilterNameTagStrip.substring((multiFilterNameValueStart+8),(multiFilterNameValueEnd));
								}
								else {
									var multiFilterNameValueVal = MFL1Arr[mflo][1];
								}
								multiFilterL1HTML = baseMultiFilterNameHTMLStart + "<div id='panel1MultiFilterL1Name" + multiFilterSearchOn + "_" + MFL1Arr[mflo][0] + "' class='panel_1_multiFilter_l1_name'>" + multiFilterNameValueVal + "<\/div>" + baseMultiFilterNameHTMLEnd;
							}
							var multiFilterBigImgTagStart = multiFilterL1HTML.indexOf("<!--FILTERBIGIMG");
							if (multiFilterBigImgTagStart != -1) {
								var multiFilterBigImgTagEnd = multiFilterL1HTML.indexOf(">",multiFilterBigImgTagStart);
								var multiFilterBigImgTagStrip = multiFilterL1HTML.substring(multiFilterBigImgTagStart,(multiFilterBigImgTagEnd+1));
								var baseMultiFilterBigImgHTMLStart = multiFilterL1HTML.substr(0,multiFilterBigImgTagStart);
								var baseMultiFilterBigImgHTMLEnd = multiFilterL1HTML.substr((multiFilterBigImgTagEnd+1));
								multiFilterL1HTML = baseMultiFilterBigImgHTMLStart + "<img title=\"" + MFL1Arr[mflo][1] + "\" alt=\"" + MFL1Arr[mflo][1] + "\" id='panel1MultiFilterL1BigImg" + multiFilterSearchOn + "_" + MFL1Arr[mflo][0] + "' class='panel_1_multiFilter_l1_big_img' src='" + clientImgBase + MFL1Arr[mflo][2] + "'>" + baseMultiFilterBigImgHTMLEnd;
							}
							var multiFilterSmImgTagStart = multiFilterL1HTML.indexOf("<!--FILTERSMIMG");
							if (multiFilterSmImgTagStart != -1) {
								var multiFilterSmImgTagEnd = multiFilterL1HTML.indexOf(">",multiFilterSmImgTagStart);
								var multiFilterSmImgTagStrip = multiFilterL1HTML.substring(multiFilterSmImgTagStart,(multiFilterSmImgTagEnd+1));
								var baseMultiFilterSmImgHTMLStart = multiFilterL1HTML.substr(0,multiFilterSmImgTagStart);
								var baseMultiFilterSmImgHTMLEnd = multiFilterL1HTML.substr((multiFilterSmImgTagEnd+1));
								multiFilterL1HTML = baseMultiFilterSmImgHTMLStart + "<img title=\"" + MFL1Arr[mflo][1] + "\" alt=\"" + MFL1Arr[mflo][1] + "\" id='panel1MultiFilterL1SmImg" + multiFilterSearchOn + "_" + MFL1Arr[mflo][0] + "' class='panel_1_multiFilter_l1_sm_img' src='" + clientImgBase + MFL1Arr[mflo][3] + "' alt=\"" + MFL1Arr[mflo][1] + "\">" + baseMultiFilterSmImgHTMLEnd;
							}
							var setstr = MFL1Arr[mflo][1];
							multiFilterHTML += "<div class='panel_1_multiFilter_l1_item_shell panel_1_multifilter_l1_item_" + multiFilterSearchOn + "_" + MFL1Arr[mflo][0] + "' onclick='panel1ChooseFilterL1(\"" + multiFilterL1Type + "\"," + multiFilterSearchOn + ",\"" + setstr.replace("'","&#39;") + "\",\"" + multiFilterL2Type + "\"," + MFL1Arr[mflo][0] + ", \"" + MFL1Arr[mflo][2] + "\", \"" + MFL1Arr[mflo][3] + "\");' onkeyup='panel1ChooseFilterL1(\"" + multiFilterL1Type + "\"," + multiFilterSearchOn + ",\"" + setstr.replace("'","&#39;") + "\",\"" + multiFilterL2Type + "\"," + MFL1Arr[mflo][0] + ", \"" + MFL1Arr[mflo][2] + "\", \"" + MFL1Arr[mflo][3] + "\");' tabindex='0' title=\"" + multiFilterNameValueVal + "\"><div class='panel_1_multiFilter_l1_item_inner'>" + multiFilterL1HTML + "<\/div><\/div>";
						}
					}
					multiFilterHTML += "<\/div><\/div>";
					var multiFilterL2HTML = autotextIt(p1TemplateSet.panel1Filter2Div,"panel1Filter2");
					var multibackButtonTagStart = multiFilterL2HTML.indexOf("<!--MULTIBACKBUTTON");
					if (multibackButtonTagStart != -1) {
						var multibackButtonTagEnd = multiFilterL2HTML.indexOf(">",multibackButtonTagStart);
						var multibackButtonTagStrip = multiFilterL2HTML.substring(multibackButtonTagStart,(multibackButtonTagEnd+1));
						var multibackButtonHTMLStart = multiFilterL2HTML.substr(0,multibackButtonTagStart);
						var multibackButtonHTMLEnd = multiFilterL2HTML.substr((multibackButtonTagEnd+1));
						var multibackButtonRender = "";
						var multibackButtonValueVar = "BACK";
						var multibackButtonValueStart = multibackButtonTagStrip.indexOf(" VALUE=");
						if (multibackButtonValueStart != -1) {
							var multibackButtonValueEnd = multibackButtonTagStrip.indexOf("]",multibackButtonValueStart);
							multibackButtonValueVar = multibackButtonTagStrip.substring((multibackButtonValueStart+8),(multibackButtonValueEnd));
						}
						var multibackButtonItalicVar = "";
						var multibackButtonItalicStart = multibackButtonTagStrip.indexOf(" FNTAW=");
						if (multibackButtonItalicStart != -1) {
							var multibackButtonItalicEnd = multibackButtonTagStrip.indexOf("]",multibackButtonItalicStart);
							multibackButtonItalicVar = "<i class='fa " + multibackButtonTagStrip.substring((multibackButtonItalicStart+8),(multibackButtonItalicEnd)) + "'><\/i>";
						}
						multibackButtonRender = "<div id='panel1MultiBackButton" + multiFilterSearchOn + "' class='panel_1_multiback_button panel_1_multiback_button_off'";
						if (hoverState==1) {
							multibackButtonRender += " onmouseover='panel1ButtonHover(\"panel1MultiBackButton" + multiFilterSearchOn + "\",\"panel_1_multiback_button\",1);' onfocus='panel1ButtonHover(\"panel1MultiBackButton" + multiFilterSearchOn + "\",\"panel_1_multiback_button\",1);' onmouseout='panel1ButtonHover(\"panel1MultiBackButton" + multiFilterSearchOn + "\",\"panel_1_multiback_button\",0);' onblur='panel1ButtonHover(\"panel1MultiBackButton" + multiFilterSearchOn + "\",\"panel_1_multiback_button\",0);'";
						}
						multibackButtonRender += " onclick='panel1MultiBack();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1MultiBack();}' tabindex='0' title=\"" + multibackButtonValueVar + "\">" + multibackButtonItalicVar + multibackButtonValueVar + "<\/div>";
						multiFilterL2HTML = multibackButtonHTMLStart + multibackButtonRender + multibackButtonHTMLEnd;
					}
					var multiFilterValueTagStart = multiFilterL2HTML.indexOf("<!--FILTERVALUE");
					if (multiFilterValueTagStart != -1) {
						var multiFilterValueTagEnd = multiFilterL2HTML.indexOf(">",multiFilterValueTagStart);
						var multiFilterValueTagStrip = multiFilterL2HTML.substring(multiFilterValueTagStart,(multiFilterValueTagEnd+1));
						var baseMultiFilterValueHTMLStart = multiFilterL2HTML.substr(0,multiFilterValueTagStart);
						var baseMultiFilterValueHTMLEnd = multiFilterL2HTML.substr((multiFilterValueTagEnd+1));
						multiFilterL2HTML = baseMultiFilterValueHTMLStart + "<span id='panel1MultiFilterL2Value" + multiFilterSearchOn + "' class='panel_1_multiFilter_l2_value'><\/span>" + baseMultiFilterValueHTMLEnd;
					}
					var multiFilterTwoValueTagStart = multiFilterL2HTML.indexOf("<!--FILTERTWOVALUE");
					if (multiFilterTwoValueTagStart != -1) {
						var multiFilterTwoValueTagEnd = multiFilterL2HTML.indexOf(">",multiFilterTwoValueTagStart);
						var multiFilterTwoValueTagStrip = multiFilterL2HTML.substring(multiFilterTwoValueTagStart,(multiFilterTwoValueTagEnd+1));
						var baseMultiFilterTwoValueHTMLStart = multiFilterL2HTML.substr(0,multiFilterTwoValueTagStart);
						var baseMultiFilterTwoValueHTMLEnd = multiFilterL2HTML.substr((multiFilterTwoValueTagEnd+1));
						multiFilterL2HTML = baseMultiFilterTwoValueHTMLStart + "<span id='panel1MultiFilterTwoL2Value" + multiFilterSearchOn + "' class='panel_1_multiFilterTwo_l2_value'><\/span>" + baseMultiFilterTwoValueHTMLEnd;
					}
					var multiFilterProductsTagStart = multiFilterL2HTML.indexOf("<!--FILTERPRODUCTS");
					if (multiFilterProductsTagStart != -1) {
						var multiFilterProductsTagEnd = multiFilterL2HTML.indexOf(">",multiFilterProductsTagStart);
						var multiFilterProductsTagStrip = multiFilterL2HTML.substring(multiFilterProductsTagStart,(multiFilterProductsTagEnd+1));
						var baseMultiFilterProductsHTMLStart = multiFilterL2HTML.substr(0,multiFilterProductsTagStart);
						var baseMultiFilterProductsHTMLEnd = multiFilterL2HTML.substr((multiFilterProductsTagEnd+1));
						multiFilterL2HTML = baseMultiFilterProductsHTMLStart + "<div id='panel1MultiFilterL3Div" + multiFilterSearchOn + "' class='panel_1_multiFilter_l3_div panel_1_multiFilter_l3_div_" + multiFilterSearchOn + "'></div>" + baseMultiFilterProductsHTMLEnd;
					}
					multiFilterHTML += "<div id='panel1MultiFilterL2Shell" + multiFilterSearchOn + "' class='panel_1_multiFilter_l2_shell panel_1_multifilter_l2_shell_" + multiFilterSearchOn + "' style='display:none;'><div class='panel_1_multiFilter_l2_inner'>" + multiFilterL2HTML + "<\/div><\/div>";
					baseHTML = baseHTMLStart + multiFilterHTML + "<\/div><\/div>" + baseHTMLEnd;
					multiFilterSearchOn++;
				}
				else {
					multiFilterSearchOn = 0;
				}
			}
			var producerSearchOn = 1;
			while (producerSearchOn == 1) {
				var producerTagStart = baseHTML.indexOf("<!--PRODUCER");
				if (producerTagStart != -1) {
					var producerTagEnd = baseHTML.indexOf(">",producerTagStart);
					var producerTagStrip = baseHTML.substring(producerTagStart,(producerTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,producerTagStart);
					var baseHTMLEnd = baseHTML.substr((producerTagEnd+1));
					var producerID = 0;
					var producerHTML = "";
					var producerIDStart = producerTagStrip.indexOf(" ID=");
					if (producerIDStart != -1) {
						var producerIDEnd = producerTagStrip.indexOf("]");
						producerID = producerTagStrip.substring((producerIDStart+5),(producerIDEnd));
					}
					if (producerID != 0) {
						var producerHTMLTest = autotextIt(p1TemplateSet.panel1ProducerDiv,"panel1Producer");
						var whatProducerIndex = -1;
						for (x=0; x<producerArray.length; x++) {
							if (producerArray[x][0] == producerID) {
								whatProducerIndex = x;
								break;
							}
						}
						if (whatProducerIndex != -1) {
							var producerNameTagStart = producerHTMLTest.indexOf("<!--PRODUCERNAME");
							if (producerNameTagStart != -1) {
								var producerNameTagEnd = producerHTMLTest.indexOf(">",producerNameTagStart);
								var producerNameTagStrip = producerHTMLTest.substring(producerNameTagStart,(producerNameTagEnd+1));
								var baseProducerNameHTMLStart = producerHTMLTest.substr(0,producerNameTagStart);
								var baseProducerNameHTMLEnd = producerHTMLTest.substr((producerNameTagEnd+1));
								var producerNameValueStart = producerNameTagStrip.indexOf(" VALUE=");
								if (producerNameValueStart != -1) {
									var producerNameValueEnd = producerNameTagStrip.indexOf("]", producerNameValueStart);
									var producerNameValueVal = producerNameTagStrip.substring((producerNameValueStart+8),(producerNameValueEnd));
								}
								else {
									var producerNameValueVal = producerArray[whatProducerIndex][1];
								}
								producerHTMLTest = baseProducerNameHTMLStart + "<div id='panel1ProducerName" + producerArray[whatProducerIndex][0] + "' class='panel_1_producer_name'>" + producerNameValueVal + "<\/div>" + baseProducerNameHTMLEnd;
							}
							var producerBigImgTagStart = producerHTMLTest.indexOf("<!--PRODUCERBIGIMG");
							if (producerBigImgTagStart != -1) {
								var producerBigImgTagEnd = producerHTMLTest.indexOf(">",producerBigImgTagStart);
								var producerBigImgTagStrip = producerHTMLTest.substring(producerBigImgTagStart,(producerBigImgTagEnd+1));
								var baseProducerBigImgHTMLStart = producerHTMLTest.substr(0,producerBigImgTagStart);
								var baseProducerBigImgHTMLEnd = producerHTMLTest.substr((producerBigImgTagEnd+1));
								producerHTMLTest = baseProducerBigImgHTMLStart + "<img title=\"" + producerArray[whatProducerIndex][1] + "\" alt=\"" + producerArray[whatProducerIndex][1] + "\" id='panel1ProducerBigImg" + producerArray[whatProducerIndex][0] + "' class='panel_1_producer_big_img' src='//" + endpointCDN + "/cms/images/" + producerArray[whatProducerIndex][3] + "'>" + baseProducerBigImgHTMLEnd;
							}
							var producerSmImgTagStart = producerHTMLTest.indexOf("<!--PRODUCERSMIMG");
							if (producerSmImgTagStart != -1) {
								var producerSmImgTagEnd = producerHTMLTest.indexOf(">",producerSmImgTagStart);
								var producerSmImgTagStrip = producerHTMLTest.substring(producerSmImgTagStart,(producerSmImgTagEnd+1));
								var baseProducerSmImgHTMLStart = producerHTMLTest.substr(0,producerSmImgTagStart);
								var baseProducerSmImgHTMLEnd = producerHTMLTest.substr((producerSmImgTagEnd+1));
								producerHTMLTest = baseProducerSmImgHTMLStart + "<img title=\"" + producerArray[whatProducerIndex][1] + "\" alt=\"" + producerArray[whatProducerIndex][1] + "\" id='panel1ProducerSmImg" + producerArray[whatProducerIndex][0] + "' class='panel_1_producer_sm_img' src='//" + endpointCDN + "/cms/images/" + producerArray[whatProducerIndex][4] + "'>" + baseProducerSmImgHTMLEnd;
							}
							producerHTML += producerHTMLTest;
						}
					}
					else {
						for (x=0; x<producerArray.length; x++) {
							var producerHTMLTest = autotextIt(p1TemplateSet.panel1ProducerDiv,"panel1Producer");
							var producerNameTagStart = producerHTMLTest.indexOf("<!--PRODUCERNAME");
							if (producerNameTagStart != -1) {
								var producerNameTagEnd = producerHTMLTest.indexOf(">",producerNameTagStart);
								var producerNameTagStrip = producerHTMLTest.substring(producerNameTagStart,(producerNameTagEnd+1));
								var baseProducerNameHTMLStart = producerHTMLTest.substr(0,producerNameTagStart);
								var baseProducerNameHTMLEnd = producerHTMLTest.substr((producerNameTagEnd+1));
								var producerNameValueStart = producerNameTagStrip.indexOf(" VALUE=");
								if (producerNameValueStart != -1) {
									var producerNameValueEnd = producerNameTagStrip.indexOf("]", producerNameValueStart);
									var producerNameValueVal = producerNameTagStrip.substring((producerNameValueStart+8),(producerNameValueEnd));
								}
								else {
									var producerNameValueVal = producerArray[x][1];
								}
								producerHTMLTest = baseProducerNameHTMLStart + "<div id='panel1ProducerName" + producerArray[x][0] + "' class='panel_1_producer_name'>" + producerNameValueVal + "<\/div>" + baseProducerNameHTMLEnd;
							}
							var producerBigImgTagStart = producerHTMLTest.indexOf("<!--PRODUCERBIGIMG");
							if (producerBigImgTagStart != -1) {
								var producerBigImgTagEnd = producerHTMLTest.indexOf(">",producerBigImgTagStart);
								var producerBigImgTagStrip = producerHTMLTest.substring(producerBigImgTagStart,(producerBigImgTagEnd+1));
								var baseProducerBigImgHTMLStart = producerHTMLTest.substr(0,producerBigImgTagStart);
								var baseProducerBigImgHTMLEnd = producerHTMLTest.substr((producerBigImgTagEnd+1));
								producerHTMLTest = baseProducerBigImgHTMLStart + "<img title=\"" + producerArray[x][1] + "\" alt=\"" + producerArray[x][1] + "\" id='panel1ProducerBigImg" + producerArray[x][0] + "' class='panel_1_producer_big_img' src='//" + endpointCDN + "/cms/images/" + producerArray[x][3] + "'>" + baseProducerBigImgHTMLEnd;
							}
							var producerSmImgTagStart = producerHTMLTest.indexOf("<!--PRODUCERSMIMG");
							if (producerSmImgTagStart != -1) {
								var producerSmImgTagEnd = producerHTMLTest.indexOf(">",producerSmImgTagStart);
								var producerSmImgTagStrip = producerHTMLTest.substring(producerSmImgTagStart,(producerSmImgTagEnd+1));
								var baseProducerSmImgHTMLStart = producerHTMLTest.substr(0,producerSmImgTagStart);
								var baseProducerSmImgHTMLEnd = producerHTMLTest.substr((producerSmImgTagEnd+1));
								producerHTMLTest = baseProducerSmImgHTMLStart + "<img title=\"" + producerArray[x][1] + "\" alt=\"" + producerArray[x][1] + "\" id='panel1ProducerSmImg" + producerArray[x][0] + "' class='panel_1_producer_sm_img' src='//" + endpointCDN + "/cms/images/" + producerArray[x][4] + "' alt=\"" + producerArray[x][1] + "\">" + baseProducerSmImgHTMLEnd;
							}
							producerHTML += producerHTMLTest;
						}
					}
					baseHTML = baseHTMLStart + producerHTML + baseHTMLEnd;
				}
				else {
					producerSearchOn = 0;
				}
			}
			var famSearchOn = 1;
			while (famSearchOn == 1) {
				var famTagStart = baseHTML.indexOf("<!--FAMILY");
				if (famTagStart != -1) {
					var famTagEnd = baseHTML.indexOf(">",famTagStart);
					var famTagStrip = baseHTML.substring(famTagStart,(famTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,famTagStart);
					var baseHTMLEnd = baseHTML.substr((famTagEnd+1));
					var familyHTML = "";
					var familyID = 0;
					var familyIDStart = famTagStrip.indexOf(" ID=");
					if (familyIDStart != -1) {
						var familyIDEnd = famTagStrip.indexOf("]",familyIDStart);
						familyID = famTagStrip.substring((familyIDStart+5),(familyIDEnd));
					}
					var familyCatProd = 0;
					var familyCatProdType = "LINK";
					var familyCatProdStart = famTagStrip.indexOf(" CATEGORY=");
					if (familyCatProdStart != -1) {
						var familyCatProdEnd = famTagStrip.indexOf("]",familyCatProdStart);
						var familyCatProdTypeTest = famTagStrip.substring((familyCatProdStart+11),(familyCatProdEnd));
						if (familyCatProdTypeTest == "EXPAND") {
							familyCatProdType = familyCatProdTypeTest;
						}
						familyCatProd = 1;
					}
					var familyShellOn = 0;
					var familyShellStart = famTagStrip.indexOf(" SHELL");
					if (familyCatProdStart != -1) {
						familyShellOn = 1;
					}
					categoryModalStart = famTagStrip.indexOf(" MODAL");
					if (categoryModalStart != -1) {
						categoryModal = 1;
					}
					if (familyID != 0) {
						var familyHTMLTest = autotextIt(p1TemplateSet.panel1FamilyDiv,"panel1Family");
						var whatFamIndex = -1;
						for (x=0; x<famArray.length; x++) {
							if (famArray[x][0] == familyID) {
								whatFamIndex = x;
								break;
							}
						}
						if (whatFamIndex != -1) {
							var famNameTagStart = familyHTMLTest.indexOf("<!--FAMNAME");
							if (famNameTagStart != -1) {
								var famNameTagEnd = familyHTMLTest.indexOf(">",famNameTagStart);
								var famNameTagStrip = familyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
								var baseFamNameHTMLStart = familyHTMLTest.substr(0,famNameTagStart);
								var baseFamNameHTMLEnd = familyHTMLTest.substr((famNameTagEnd+1));
								var famNameValueStart = famNameTagStrip.indexOf(" VALUE=");
								if (famNameValueStart != -1) {
									var famNameValueEnd = famNameTagStrip.indexOf("]", famNameValueStart);
									var famNameValueVal = famNameTagStrip.substring((famNameValueStart+8),(famNameValueEnd));
								}
								else {
									var famNameValueVal = famArray[whatFamIndex][1];
								}
								var replaceImgTest = famNameTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famNameTagLink = "";
								if (famNameTagLinkTest != -1) {
									famNameTagLink = " style='cursor:pointer;' onclick='panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");}'";
									if (hoverState==1) {
										famNameTagLink += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "'";
									}
								}
								familyHTMLTest = baseFamNameHTMLStart + "<div id='panel1FamilyName" + famArray[whatFamIndex][0] + "' class='panel_1_family_name panel_1_family_name_off" + replaceImgMouseClass + "'" + famNameTagLink + " tabindex='0' title=\"" + famArray[x][1] + "\">" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
							}
							var famBigImgTagStart = familyHTMLTest.indexOf("<!--FAMBIGIMG");
							if (famBigImgTagStart != -1) {
								var famBigImgTagEnd = familyHTMLTest.indexOf(">",famBigImgTagStart);
								var famBigImgTagStrip = familyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
								var baseFamBigImgHTMLStart = familyHTMLTest.substr(0,famBigImgTagStart);
								var baseFamBigImgHTMLEnd = familyHTMLTest.substr((famBigImgTagEnd+1));
								var replaceImgTest = famBigImgTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famBigImgTagLinkTest = famBigImgTagStrip.indexOf(" LINK");
								var famBigImgTagLinkStart = "";
								var famBigImgTagLinkEnd = "";
								if (famBigImgTagLinkTest != -1) {
									famBigImgTagLinkStart = "<a href='' onclick='panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");return false;}'";
									if (hoverState==1) {
										famBigImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "'";
									}
									famBigImgTagLinkStart += " tabindex='0' title=\"" + famArray[x][1] + "\">";
									famBigImgTagLinkEnd = "<\/a>";
								}
								if (famArray[whatFamIndex][2].substring(0,4) == "http") {
									var famBigImgLead = "";
								}
								else {
									var famBigImgLead = clientImgBase;
								}
								familyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + famArray[whatFamIndex][1] + "\" alt=\"" + famArray[whatFamIndex][1] + "\" id='panel1FamilyBigImg" + famArray[whatFamIndex][0] + "' class='panel_1_family_big_img" + replaceImgMouseClass + "' src='" + famBigImgLead + famArray[whatFamIndex][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
							}
							var famSmImgTagStart = familyHTMLTest.indexOf("<!--FAMSMIMG");
							if (famSmImgTagStart != -1) {
								var famSmImgTagEnd = familyHTMLTest.indexOf(">",famSmImgTagStart);
								var famSmImgTagStrip = familyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
								var baseFamSmImgHTMLStart = familyHTMLTest.substr(0,famSmImgTagStart);
								var baseFamSmImgHTMLEnd = familyHTMLTest.substr((famSmImgTagEnd+1));
								var replaceImgTest = famSmImgTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famSmImgTagLinkTest = famSmImgTagStrip.indexOf(" LINK");
								var famSmImgTagLinkStart = "";
								var famSmImgTagLinkEnd = "";
								if (famSmImgTagLinkTest != -1) {
									famSmImgTagLinkStart = "<a href='' onclick='panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");return false;}'";
									if (hoverState==1) {
										famSmImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "'";
									}
									famSmImgTagLinkStart += " tabindex='0' title=\"" + famArray[x][1] + "\">";
									famSmImgTagLinkEnd = "<\/a>";
								}
								if (famArray[whatFamIndex][3].substring(0,4) == "http") {
									var famSmImgLead = "";
								}
								else {
									var famSmImgLead = clientImgBase;
								}
								familyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + famArray[whatFamIndex][1] + "\" alt=\"" + famArray[whatFamIndex][1] + "\" id='panel1FamilySmImg" + famArray[whatFamIndex][0] + "' class='panel_1_family_sm_img" + replaceImgMouseClass + "' src='" + famSmImgLead + famArray[whatFamIndex][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
							}
							if (familyShellOn == 1) {
								familyHTML += "<div id='panel1FamilyShellBase" + famArray[whatFamIndex][0] + "' class='panel_1_family_shell panel_1_family_shell_" + famArray[whatFamIndex][0] + "'>" + familyHTMLTest + "<\/div>";
							}
							else {
								familyHTML += familyHTMLTest;
							}
						}
						else {
							if(gLog==1){console.log("ERROR: P1 Unknown Family ID="+familyID);}
							p1ErrorArray.push("ERROR: P1 Unknown Family ID="+familyID);
						}
					}
					else {
						for (x=0; x<famArray.length; x++) {
							if (familyShellOn == 1) {
								familyHTML += "<div id='panel1FamilyShellBase" + famArray[x][0] + "' class='panel_1_family_shell panel_1_family_shell_" + famArray[x][0] + "'>";
							}
							var familyHTMLTest = autotextIt(p1TemplateSet.panel1FamilyDiv,"panel1Family");
							var famNameTagStart = familyHTMLTest.indexOf("<!--FAMNAME");
							if (famNameTagStart != -1) {
								var famNameTagEnd = familyHTMLTest.indexOf(">",famNameTagStart);
								var famNameTagStrip = familyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
								var baseFamNameHTMLStart = familyHTMLTest.substr(0,famNameTagStart);
								var baseFamNameHTMLEnd = familyHTMLTest.substr((famNameTagEnd+1));
								var famNameValueStart = famNameTagStrip.indexOf(" VALUE=");
								if (famNameValueStart != -1) {
									var famNameValueEnd = famNameTagStrip.indexOf("]", famNameValueStart);
									var famNameValueVal = famNameTagStrip.substring((famNameValueStart+8),(famNameValueEnd));
								}
								else {
									var famNameValueVal = famArray[x][1];
								}
								var replaceImgTest = famNameTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famNameTagLink = "";
								if (famNameTagLinkTest != -1) {
									if (familyCatProdType == "EXPAND") {
										famNameTagLink = " style='cursor:pointer;' onclick='panel1FamCatToggle(" + famArray[x][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamCatToggle(" + famArray[x][0] + ");}'";
									}
									else {
										famNameTagLink = " style='cursor:pointer;' onclick='panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");}'";
									}
									if (hoverState==1) {
										famNameTagLink += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
									}
								}
								familyHTMLTest = baseFamNameHTMLStart + "<div id='panel1FamilyName" + famArray[x][0] + "' class='panel_1_family_name panel_1_family_name_off" + replaceImgMouseClass + "'" + famNameTagLink + " tabindex='0' title=\"" + famArray[x][1] + "\">" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
							}
							var famToggleTagStart = familyHTMLTest.indexOf("<!--FAMTOGGLE");
							if (famToggleTagStart != -1) {
								var famToggleTagEnd = familyHTMLTest.indexOf(">",famToggleTagStart);
								var famToggleTagStrip = familyHTMLTest.substring(famToggleTagStart,(famToggleTagEnd+1));
								var baseFamToggleHTMLStart = familyHTMLTest.substr(0,famToggleTagStart);
								var baseFamToggleHTMLEnd = familyHTMLTest.substr((famToggleTagEnd+1));
								var famToggleOnVal = "";
								var famToggleOnStart = famToggleTagStrip.indexOf(" FNTAWON=");
								if (famToggleOnStart != -1) {
									var famToggleOnEnd = famToggleTagStrip.indexOf("]", famToggleOnStart);
									var famToggleOnVal = famToggleTagStrip.substring((famToggleOnStart+10),(famToggleOnEnd));
								}
								var famToggleOffVal = "";
								var famToggleOffStart = famToggleTagStrip.indexOf(" FNTAWOFF=");
								if (famToggleOffStart != -1) {
									var famToggleOffEnd = famToggleTagStrip.indexOf("]", famToggleOffStart);
									var famToggleOffVal = famToggleTagStrip.substring((famToggleOffStart+11),(famToggleOffEnd));
								}
								var famOnType = " style='cursor:pointer;display:none;'";
								var famOffType = " style='cursor:pointer;'";
								if (x == 0) {
									famOnType = " style='cursor:pointer;'";
									famOffType = " style='cursor:pointer;display:none;'";
									p1FamToggleId = famArray[x][0];
								}
								familyHTMLTest = baseFamToggleHTMLStart + "<span id='panel1FamilyToggleShell" + famArray[x][0] + "'><div id='panel1FamilyToggleOn" + famArray[x][0] + "' class='panel_1_family_toggle_on' onclick='panel1FamCatToggle(" + famArray[x][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamCatToggle(" + famArray[x][0] + ");}'" + famOnType + " tabindex='0' title=\"" + famArray[x][1] + "\"><i class='fa " + famToggleOnVal + "'><\/i><\/div><div id='panel1FamilyToggleOff" + famArray[x][0] + "' class='panel_1_family_toggle_off' onclick='panel1FamCatToggle(" + famArray[x][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamCatToggle(" + famArray[x][0] + ");}'" + famOffType + " tabindex='0' title=\"Products\"><i class='fa " + famToggleOffVal + "'><\/i><\/div><\/span>" + baseFamToggleHTMLEnd;
							}
							var famBigImgTagStart = familyHTMLTest.indexOf("<!--FAMBIGIMG");
							if (famBigImgTagStart != -1) {
								var famBigImgTagEnd = familyHTMLTest.indexOf(">",famBigImgTagStart);
								var famBigImgTagStrip = familyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
								var baseFamBigImgHTMLStart = familyHTMLTest.substr(0,famBigImgTagStart);
								var baseFamBigImgHTMLEnd = familyHTMLTest.substr((famBigImgTagEnd+1));
								var replaceImgTest = famBigImgTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famBigImgTagLinkTest = famBigImgTagStrip.indexOf(" LINK");
								var famBigImgTagLinkStart = "";
								var famBigImgTagLinkEnd = "";
								if (famBigImgTagLinkTest != -1) {
									if (familyCatProdType == "EXPAND") {
										famBigImgTagLinkStart = "<a href='' onclick='panel1FamCatToggle(" + famArray[x][0] + ");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamCatToggle(" + famArray[x][0] + ");return false;}'";
									}
									else {
										famBigImgTagLinkStart = "<a href='' onclick='panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");return false;}'";
									}
									if (hoverState==1) {
										famBigImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
									}
									famBigImgTagLinkStart += " tabindex='0' title=\"" + famArray[x][1] + "\">";
									famBigImgTagLinkEnd = "<\/a>";
								}
								if (famArray[x][2].substring(0,4) == "http") {
									var famBigImgLead = "";
								}
								else {
									var famBigImgLead = clientImgBase;
								}
								familyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + famArray[x][1] + "\" alt=\"" + famArray[x][1] + "\" id='panel1FamilyBigImg" + famArray[x][0] + "' class='panel_1_family_big_img" + replaceImgMouseClass + "' src='" + famBigImgLead + famArray[x][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
							}
							var famSmImgTagStart = familyHTMLTest.indexOf("<!--FAMSMIMG");
							if (famSmImgTagStart != -1) {
								var famSmImgTagEnd = familyHTMLTest.indexOf(">",famSmImgTagStart);
								var famSmImgTagStrip = familyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
								var baseFamSmImgHTMLStart = familyHTMLTest.substr(0,famSmImgTagStart);
								var baseFamSmImgHTMLEnd = familyHTMLTest.substr((famSmImgTagEnd+1));
								var replaceImgTest = famSmImgTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famSmImgTagLinkTest = famSmImgTagStrip.indexOf(" LINK");
								var famSmImgTagLinkStart = "";
								var famSmImgTagLinkEnd = "";
								if (famSmImgTagLinkTest != -1) {
									if (familyCatProdType == "EXPAND") {
										famSmImgTagLinkStart = "<a href='' onclick='panel1FamCatToggle(" + famArray[x][0] + ");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamCatToggle(" + famArray[x][0] + ");return false;}'";
									}
									else {
										famSmImgTagLinkStart = "<a href='' onclick='panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");return false;}'";
									}
									if (hoverState==1) {
										famSmImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
									}
									famSmImgTagLinkStart += " tabindex='0' title=\"" + famArray[x][1] + "\">";
									famSmImgTagLinkEnd = "<\/a>";
								}
								if (famArray[x][3].substring(0,4) == "http") {
									var famSmImgLead = "";
								}
								else {
									var famSmImgLead = clientImgBase;
								}
								familyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + famArray[x][1] + "\" alt=\"" + famArray[x][1] + "\" id='panel1FamilySmImg" + famArray[x][0] + "' class='panel_1_family_sm_img" + replaceImgMouseClass + "' src='" + famSmImgLead + famArray[x][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
							}
							familyHTML += familyHTMLTest;
							if (familyCatProd == 1) {
								if (familyCatProdType == "EXPAND") {
									var famOpenType = " style='display:none;'";
									if (x == 0) {
										famOpenType = "";
									}
									familyHTML += "<div id='panel1FamilyCatShell" + famArray[x][0] + "' class='panel_1_family_cat_shell panel_1_family_cat_shell_" + famArray[x][0] + "'" + famOpenType + ">";
								}
								var catModalTest = p1TemplateSet.panel1CategoryDiv.indexOf("<!--CATMODAL");
								if(gLog==1){console.log("catModalTest 1",catModalTest);}
								for (q=0; q<catArray.length;q++) {
									if (catArray[q][2] == famArray[x][0]) {
										var categoryHTMLTest = autotextIt(p1TemplateSet.panel1CategoryDiv,"panel1Category");
										var catIterOn = 1;
										while (catIterOn == 1) {
											var catIterStart = categoryHTMLTest.indexOf("<!--CATITER");
											if (catIterStart != -1) {
												var catIterEnd = categoryHTMLTest.indexOf(">",catIterStart);
												var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catIterStart);
												var baseCatIterHTMLEnd = categoryHTMLTest.substr((catIterEnd+1));
												categoryHTMLTest = baseCatIterHTMLStart + catArray[q][0] + baseCatIterHTMLEnd;
											}
											else {
												catIterOn = 0;
											}
										}
										var catBiterOn = 1;
										while (catBiterOn == 1) {
											var catBiterStart = categoryHTMLTest.indexOf("|!--CATITER");
											if (catBiterStart != -1) {
												var catBiterEnd = categoryHTMLTest.indexOf("|",catBiterStart+1);
												var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catBiterStart);
												var baseCatIterHTMLEnd = categoryHTMLTest.substr((catBiterEnd+1));
												categoryHTMLTest = baseCatIterHTMLStart + catArray[q][0] + baseCatIterHTMLEnd;
											}
											else {
												catBiterOn = 0;
											}
										}
										var famNameTagStart = categoryHTMLTest.indexOf("<!--FAMNAME");
										if (famNameTagStart != -1) {
											var famNameTagEnd = categoryHTMLTest.indexOf(">",famNameTagStart);
											var famNameTagStrip = categoryHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
											var baseFamNameHTMLStart = categoryHTMLTest.substr(0,famNameTagStart);
											var baseFamNameHTMLEnd = categoryHTMLTest.substr((famNameTagEnd+1));
											var famNameValueVal = "FAMILY NAME ERROR";
											for (fn=0; fn<famArray.length; fn++) {
												if (famArray[fn][0] == catArray[q][2]) {
													famNameValueVal = famArray[fn][1];
													break;
												}
											}
											categoryHTMLTest = baseFamNameHTMLStart + "<div id='panel1CategoryFamilyName" + catArray[q][0] + "' class='panel_1_category_family_name_" + catArray[whatCatIndeq][0] + " panel_1_category_family_name" + replaceImgMouseClass + "'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
										}
										var catBadgeTagStart = categoryHTMLTest.indexOf("<!--BADGE");
										if (catBadgeTagStart != -1) {
											var catBadgeTagEnd = categoryHTMLTest.indexOf(">",catBadgeTagStart);
											var catBadgeTagStrip = categoryHTMLTest.substring(catBadgeTagStart,(catBadgeTagEnd+1));
											var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBadgeTagStart);
											var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBadgeTagEnd+1));
											var catBadgeSingle = "";
											var catBadgeSingleStart = catBadgeTagStrip.indexOf(" SINGLE=");
											if (catBadgeSingleStart != -1) {
												var catBadgeSingleEnd = catBadgeTagStrip.indexOf("]", catBadgeSingleStart);
												catBadgeSingle = " " + catBadgeTagStrip.substring((catBadgeSingleStart+9),(catBadgeSingleEnd));
											}
											var catBadgeMultiple = "";
											var catBadgeMultipleStart = catBadgeTagStrip.indexOf(" MULTIPLE=");
											if (catBadgeMultipleStart != -1) {
												var catBadgeMultipleEnd = catBadgeTagStrip.indexOf("]", catBadgeMultipleStart);
												catBadgeMultiple = " " + catBadgeTagStrip.substring((catBadgeMultipleStart+11),(catBadgeMultipleEnd));
											}
											var cbc = 0;
											for (p=0; p<prodDisplayArray.length; p++) {
												if (prodDisplayArray[p][8] == catArray[q][0]) {
													cbc++;
												}
											}
											if (cbc == 1) {
												var catBadgeWrite = cbc + catBadgeSingle;
											}
											else {
												var catBadgeWrite = cbc + catBadgeMultiple;
											}
											categoryHTMLTest = baseCatBigImgHTMLStart + "<span id='panel1CatBadge" + catArray[q][0] + "' class='counter_badge panel_1_cat_badge'>" + catBadgeWrite + "<\/span>" + baseCatBigImgHTMLEnd;
										}
										var catDiscTagStart = categoryHTMLTest.indexOf("<!--HIGHPROD");
										if (catDiscTagStart != -1) {
											var catDiscTagEnd = categoryHTMLTest.indexOf(">",catDiscTagStart);
											var catDiscTagStrip = categoryHTMLTest.substring(catDiscTagStart,(catDiscTagEnd+1));
											var catDiscHTMLStart = categoryHTMLTest.substr(0,catDiscTagStart);
											var catDiscHTMLEnd = categoryHTMLTest.substr((catDiscTagEnd+1));
											var catDiscWrite = "";
											var discTestArr = [];
											for (cdc=0; cdc<prodDisplayArray.length; cdc++) {
												if (prodDisplayArray[cdc][8] == catArray[q][0] && prodDisplayArray[cdc][6] != 1) {
													discTestArr.push(prodDisplayArray[cdc][6]);
												}
											}
											if (discTestArr.length != 0) {
												var discFoundArr = discTestArr.filter( onlyUnique );
												if (discFoundArr.length == 1) {
													catDiscWrite = "<div class='global_" + hpArr[discFoundArr[0]][1] + " panel1Category_" + hpArr[discFoundArr[0]][1] + "'>" + hpArr[discFoundArr[0]][0] + "<\/div>";
												}
											}
											categoryHTMLTest = catDiscHTMLStart + catDiscWrite + catDiscHTMLEnd;
										}
										var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
										if (catNameTagStart != -1) {
											var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
											var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
											var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
											var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
											var catNameValueStart = catNameTagStrip.indexOf(" VALUE=");
											if (catNameValueStart != -1) {
												var catNameValueEnd = catNameTagStrip.indexOf("]", catNameValueStart);
												var catNameValueVal = catNameTagStrip.substring((catNameValueStart+8),(catNameValueEnd));
											}
											else {
												var catNameValueVal = catArray[q][1];
											}
											var replaceImgTest = catNameTagStrip.indexOf(" REPLACE");
											if (replaceImgTest != -1) {
												if (categoryModal == 1) {
													var replaceImgMouseOver = "panel1CatModalImgReplace(1," + catArray[q][0] + ");";
													var replaceImgMouseOut = "panel1CatModalImgReplace(2," + catArray[q][0] + ");";
													var replaceImgMouseClass = " img_replace_active";
												}
												else {
													var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[q][0] + ");";
													var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[q][0] + ");";
													var replaceImgMouseClass = " img_replace_active";
												}
											}
											else {
												var replaceImgMouseOver = "";
												var replaceImgMouseOut = "";
												var replaceImgMouseClass = "";
											}
											if (catArray[q][6] == 1 || (catModalTest != -1 && catArray[q][9] == 1)) {
												var catNameSelVal = " panel_1_category_name_on";
											}
											else {
												var catNameSelVal = " panel_1_category_name_off";
											}
											var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
											var catNameTagLink = "";
											if (catNameTagLinkTest != -1) {
												if (categoryNoSelect == 0) {
													if (categoryModal == 1) {
														var catNameOnClickVar = " onclick='panel1CatModalWrite(" + q + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + q + ");}'";
													}
													else {
														var catNameOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);}'";
													}
												}
												else {
													var catNameOnClickVar = " onclick='" + catActivateLinkStart + catArray[q][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[q][0] + catActivateLinkEnd + "return false;}'";
												}
												catNameTagLink = " style='cursor:pointer;'" + catNameOnClickVar;
												if (hoverState==1) {
													catNameTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceImgMouseOut + "'";
												}
											}
											categoryHTMLTest = baseCatNameHTMLStart + "<a name='panel1CategoryAnchor" + catArray[q][0] + "' id='panel1CategoryAnchor" + catArray[q][0] + "'><\/a><div id='panel1CategoryName" + catArray[q][0] + "' class='panel_1_category_name_" + catArray[q][0] + " panel_1_category_name" + replaceImgMouseClass + catNameSelVal + "'" + catNameTagLink + " tabindex='0' title=\"" + catArray[q][1] + "\">" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
										}
										var catAllTagStart = categoryHTMLTest.indexOf("<!--CATALL");
										if (catAllTagStart != -1) {
											var catAllTagEnd = categoryHTMLTest.indexOf(">",catAllTagStart);
											var catAllTagStrip = categoryHTMLTest.substring(catAllTagStart,(catAllTagEnd+1));
											var baseCatAllHTMLStart = categoryHTMLTest.substr(0,catAllTagStart);
											var baseCatAllHTMLEnd = categoryHTMLTest.substr((catAllTagEnd+1));
											var catAllValueStart = catAllTagStrip.indexOf(" VALUE=");
											if (catAllValueStart != -1) {
												var catAllValueEnd = catAllTagStrip.indexOf("]", catAllValueStart);
												var catAllValueVal = catAllTagStrip.substring((catAllValueStart+8),(catAllValueEnd));
											}
											else {
												var catAllValueVal = "ALL";
											}
											var categoryNoImgStart = catAllTagStrip.indexOf(" NOIMG");
											if (categoryNoImgStart != -1) {
												p1CatAllToImg = 0;
											}
											var replaceImgTest = catAllTagStrip.indexOf(" REPLACE");
											if (replaceImgTest != -1) {
												var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[q][0] + ");";
												var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[q][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
											else {
												var replaceImgMouseOver = "";
												var replaceImgMouseOut = "";
												var replaceImgMouseClass = "";
											}
											if (catArray[q][6] == 1 || (catModalTest != -1 && catArray[q][9] == 1)) {
												var catAllSelVal = " panel_1_category_name_all_on";
											}
											else {
												var catAllSelVal = " panel_1_category_name_all_off";
											}
											var catAllTagLinkTest = catAllTagStrip.indexOf(" LINK");
											var catAllTagLink = "";
											if (catAllTagLinkTest != -1) {
												catAllTagLink = " style='cursor:pointer;' onclick='panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);}'";
												if (hoverState==1) {
													catAllTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceImgMouseOut + "'";
												}
											}
											var catAllMulti = catAllTagStrip.indexOf(" MULTI");
											if (catAllMulti != -1 && catArray[q][7] == 1) {
												var calAllWriteIt = 0;
											}
											else {
												var calAllWriteIt = 1;
											}
											if (calAllWriteIt == 0) {
												categoryHTMLTest = baseCatAllHTMLStart + baseCatAllHTMLEnd;
											}
											else {
												categoryHTMLTest = baseCatAllHTMLStart + "<div id='panel1CategoryName" + catArray[q][0] + "All' class='panel_1_category_name_all_" + catArray[q][0] + " panel_1_category_name_all" + replaceImgMouseClass + catAllSelVal + "'" + catAllTagLink + " tabindex='0' title=\"Select All\">" + catAllValueVal + "<\/div>" + baseCatAllHTMLEnd;
											}
										}
										var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
										if (catBigImgTagStart != -1) {
											var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
											var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
											var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
											var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
											var catBigImgTagRender = "";
											var replaceBigImgPreset = catArray[q][3];
											var replaceBigImgHidden = " style='display:none;'";
											var replaceBigImgBackClass = "off";
											var replaceBigImgTest = catBigImgTagStrip.indexOf(" REPLACE");
											if (replaceBigImgTest != -1) {
												if (categoryModal == 1) {
													var replaceBigImgMouseOver = "panel1CatModalImgReplace(1," + catArray[q][0] + ");";
													var replaceBigImgMouseOut = "panel1CatModalImgReplace(2," + catArray[q][0] + ");";
													var replaceBigImgMouseClass = " img_replace_active";
												}
												else {
													var replaceBigImgMouseOver = "panel1CatImgReplace(1," + catArray[q][0] + ");";
													var replaceBigImgMouseOut = "panel1CatImgReplace(2," + catArray[q][0] + ");";
													var replaceBigImgMouseClass = " img_replace_active";
												}
											}
											else {
												var replaceBigImgMouseOver = "";
												var replaceBigImgMouseOut = "";
												var replaceBigImgMouseClass = "";
											}
											if (categoryNoSelect == 0) {
												if (categoryModal == 1) {
													var catBigImgOnClickVar = " onclick='panel1CatModalWrite(" + q + ");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + q + ");return false;}'";
												}
												else {
													var catBigImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);return false;}'";
												}
											}
											else {
												var catBigImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[q][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[q][0] + catActivateLinkEnd + "return false;}'";
											}
											var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[q][3] + "\");'";
											if (panel1PostLoad == 1) {
												postImgBig = "";
											}
											if (catArray[q][6] != 0 || (catModalTest != -1 && catArray[q][9] == 1)) {
												replaceBigImgHidden = "";
												replaceBigImgBackClass = "on";
											}
											var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
											var catBigImgTagLinkStart = "";
											var catBigImgTagLinkEnd = "";
											if (catBigImgTagLinkTest != -1) {
												catBigImgTagLinkStart = "<a href=''" + catBigImgOnClickVar;
												if (hoverState==1) {
													catBigImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceBigImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceBigImgMouseOut + "'";
												}
												catBigImgTagLinkStart += " tabindex='0' title=\"" + catArray[q][1] + "\">";
												catBigImgTagLinkEnd = "<\/a>";
											}
											var catBigImgTagDivTest = catBigImgTagStrip.indexOf(" DIV");
											if (catBigImgTagDivTest != -1) {
												if (panel1PostLoad == 1) {plPostCat = 1;}
												p1CHWon = 1;
												catBigImgTagRender = "<div title=\"" + catArray[q][1] + "\" id='panel1CategoryBigImgDivShell" + catArray[q][0] + "' class='panel_1_category_big_img_div_shell panel_1_category_big_img_div_shell_" + catArray[q][0] + "'" + catBigImgOnClickVar;
												if (hoverState==1) {
													catBigImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceBigImgMouseOver + "'";
												}
												catBigImgTagRender += " tabindex='0' title=\"" + catArray[q][1] + "\"><div id='panel1CategoryBigImgDivBack" + catArray[q][0] + "' class='panel_1_category_big_img_div_back panel_1_category_big_img_div_back_" + replaceBigImgBackClass + " panel_1_category_big_img_div_back_" + catArray[q][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategoryBigImgDivOver" + catArray[q][0] + "' class='panel_1_category_big_img_div_over panel_1_category_big_img_div_over_" + catArray[q][0] +"'" + replaceBigImgHidden;
												if (hoverState==1) {
													catBigImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceBigImgMouseOut + "'";
												}
												catBigImgTagRender += ">&nbsp;<\/div><\/div>";
												categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagRender + baseCatBigImgHTMLEnd;
											}
											else {
												categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + catArray[q][1] + "\" alt=\"" + catArray[q][1] + "\" id='panel1CategoryBigImg" + catArray[q][0] + "' class='panel_1_category_big_img panel_1_category_big_img_" +catArray[q][0] + replaceBigImgMouseClass + "' src='" + clientImgBase + catArray[q][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
											}
										}
										var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
										if (catSmImgTagStart != -1) {
											var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
											var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
											var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
											var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
											var catSmImgTagRender = "";
											var replaceSmImgPreset = catArray[q][4];
											var replaceSmImgHidden = " style='display:none;'";
											var replaceSmImgBackClass = "off";
											var replaceSmImgTest = catSmImgTagStrip.indexOf(" REPLACE");
											if (replaceSmImgTest != -1) {
												if (categoryModal == 1) {
													var replaceSmImgMouseOver = "panel1CatModalImgReplace(1," + catArray[q][0] + ");";
													var replaceSmImgMouseOut = "panel1CatModalImgReplace(2," + catArray[q][0] + ");";
													var replaceSmImgMouseClass = " img_replace_active";
												}
												else {
													var replaceSmImgMouseOver = "panel1CatImgReplace(1," + catArray[q][0] + ");";
													var replaceSmImgMouseOut = "panel1CatImgReplace(2," + catArray[q][0] + ");";
													var replaceSmImgMouseClass = " img_replace_active";
												}
											}
											else {
												var replaceSmImgMouseOver = "";
												var replaceSmImgMouseOut = "";
												var replaceSmImgMouseClass = "";
											}
											if (categoryNoSelect == 0) {
												if (categoryModal == 1) {
													var catSmImgOnClickVar = " onclick='panel1CatModalWrite(" + q + ");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + q + ");return false;}'";
												}
												else {
													var catSmImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);return false;}'";
												}
											}
											else {
												var catSmImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[q][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[q][0] + catActivateLinkEnd + "return false;}'";
											}
											var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[q][4] + "\");'";
											if (panel1PostLoad == 1) {
												postImgBig = "";
											};
											if (catArray[q][6] != 0 || (catModalTest != -1 && catArray[q][9] == 1)) {
												replaceSmImgHidden = "";
												replaceSmImgBackClass = "on";
											}
											var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
											var catSmImgTagLinkStart = "";
											var catSmImgTagLinkEnd = "";
											if (catSmImgTagLinkTest != -1) {
												catSmImgTagLinkStart = "<a href=''" + catSmImgOnClickVar;
												if (hoverState==1) {
													catSmImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceSmImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceSmImgMouseOut + "'";
												}
												catSmImgTagLinkStart += " tabindex='0' title=\"" + catArray[q][1] + "\">";
												catSmImgTagLinkEnd = "<\/a>";
											}
											var catSmImgTagDivTest = catSmImgTagStrip.indexOf(" DIV");
											if (catSmImgTagDivTest != -1) {
												if (panel1PostLoad == 1) {plPostCat = 1;}
												p1CHWon = 1;
												catSmImgTagRender = "<div title=\"" + catArray[q][1] + "\" id='panel1CategorySmImgDivShell" + catArray[q][0] + "' class='panel_1_category_sm_img_div_shell panel_1_category_sm_img_div_shell_" + catArray[q][0] + "'" + catSmImgOnClickVar;
												if (hoverState==1) {
													catSmImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceSmImgMouseOver + "'";
												}
												catSmImgTagRender += " tabindex='0' title=\"" + catArray[q][1] + "\"><div id='panel1CategorySmImgDivBack" + catArray[q][0] + "' class='panel_1_category_sm_img_div_back panel_1_category_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_category_sm_img_div_back_" + catArray[q][0] + replaceSmImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategorySmImgDivOver" + catArray[q][0] + "' class='panel_1_category_sm_img_div_over panel_1_category_sm_img_div_over_" + catArray[q][0] +"'" + replaceSmImgHidden;
												if (hoverState==1) {
													catSmImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ");" + replaceSmImgMouseOut + "'";
												}
												catSmImgTagRender += ">&nbsp;<\/div><\/div>";
												categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagRender + baseCatSmImgHTMLEnd;
											}
											else {
												categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + catArray[q][1] + "\" alt=\"" + catArray[q][1] + "\" id='panel1CategorySmImg" + catArray[q][0] + "' class='panel_1_category_sm_img panel_1_category_sm_img_" +catArray[q][0] + replaceSmImgMouseClass + "' src='" + clientImgBase + catArray[q][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
											}
										}
										var catModalTagStart = categoryHTMLTest.indexOf("<!--CATMODAL");
										if (catModalTagStart != -1) {
											if(gLog==1){console.log("CATMODAL 1");}
											var catModalTagEnd = categoryHTMLTest.indexOf(">",catModalTagStart);
											var catModalTagStrip = categoryHTMLTest.substring(catModalTagStart,(catModalTagEnd+1));
											var catModalHTMLStart = categoryHTMLTest.substr(0,catModalTagStart);
											var catModalHTMLEnd = categoryHTMLTest.substr((catModalTagEnd+1));
											var catProdWrite = "<div id='panel1CategoryModalShell" + catArray[x][0] + "' class='panel_1_category_modal_shell panel_1_category_modal_shell_" + catArray[x][0] + " panel_close_me' style='display:none;'><\/div><div style='display:none;'>";
											for (y=0; y<prodDisplayArray.length; y++) {
												if (prodDisplayArray[y][8] == catArray[x][0]) {
													catProdWrite += "<div id='panel1ProductName" + prodDisplayArray[y][0] + "' style='display:none;'>&nbsp;<\/div>";
												}
											}
											catProdWrite += "<\/div>";
											categoryHTMLTest = catModalHTMLStart + catProdWrite + catModalHTMLEnd;
										}
										var catProductsTagStart = categoryHTMLTest.indexOf("<!--CATPRODUCTS");
										if (catProductsTagStart != -1) {
											if(gLog==1){console.log("CATPRODUCTS 1");}
											var catProductsTagEnd = categoryHTMLTest.indexOf(">",catProductsTagStart);
											var catProductsTagStrip = categoryHTMLTest.substring(catProductsTagStart,(catProductsTagEnd+1));
											var baseCatProductsHTMLStart = categoryHTMLTest.substr(0,catProductsTagStart);
											var baseCatProductsHTMLEnd = categoryHTMLTest.substr((catProductsTagEnd+1));
											var simpleCAClass = "";
											var simpleCADisplay = "";
											var catProdWrite = "<div id='panel1CategoryProductsShell" + catArray[q][0] + "' class='" + simpleCAClass + "panel_1_category_products_shell panel_1_category_products_shell_" + catArray[q][0] + "'" + simpleCADisplay + ">";
											for (y=0; y<prodDisplayArray.length; y++) {
												if (prodDisplayArray[y][8] == catArray[q][0]) {
													if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
														var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
													}
													else {
														var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
													}
													var prodCloseThings = "";
													var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
													if (prodCloseTagStart != -1) {
														var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
														var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
														var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
														prodCloseThings = "genericCloseMe();";
														productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
													}
													var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
													if (prodIterTagStart != -1) {
														var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
														var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
														var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
														var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
														productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
													}
													var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
													if (famNameTagStart != -1) {
														var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
														var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
														var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
														var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
														var famNameValueVal = "FAMILY NAME ERROR";
														var famProdCatNum = -1;
														for (cn=0; cn<catArray.length; cn++) {
															if (catArray[cn][0] == prodDisplayArray[y][8]) {
																famProdCatNum = cn;
																break;
															}
														}
														if (famProdCatNum != -1) {
															for (fn=0; fn<famArray.length; fn++) {
																if (famArray[fn][0] == catArray[famProdCatNum][2]) {
																	famNameValueVal = famArray[fn][1];
																	break;
																}
															}
														}
														productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
													}
													var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
													if (catNameTagStart != -1) {
														var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
														var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
														var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
														var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
														var catNameValueVal = "CATEGORY NAME ERROR";
														for (cn=0; cn<catArray.length; cn++) {
															if (catArray[cn][0] == prodDisplayArray[y][8]) {
																catNameValueVal = catArray[cn][1];
																break;
															}
														}
														productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
													}
													var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
													if (prodDiscTagStart != -1) {
														var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
														var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
														var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
														var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
														var prodDiscWrite = "";
														var discVal = prodDisplayArray[y][6];
														if (discVal != 1) {
															prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
														}
													}
													var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
													if (prodNameTagStart != -1) {
														var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
														var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
														var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
														var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
														var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
														if (replaceImgTest != -1) {
															var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
															var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
															var replaceImgMouseClass = " img_replace_active";
														}
														else {
															var replaceImgMouseOver = "";
															var replaceImgMouseOut = "";
															var replaceImgMouseClass = "";
														}
														var descTest = prodNameTagStrip.indexOf(" DESC");
														if (descTest != -1) {
															var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
														}
														else {
															var descVal = "";
														}
														var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
														var prodPopupMO = "";
														var prodPopupDIV = "";
														if (prodPopupTestStart != -1) {
															var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
															var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
															prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
															prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
														}
														var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
														var prodNameTagLink = "";
														if (prodNameTagLinkTest != -1) {
															prodNameTagLink = " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
															if (hoverState==1) {
																prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
															}
														}
														var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
														if (prodNameItalicStart != -1) {
															var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
															var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
														}
														else {
															var prodNameItalicVar = "";
														}
														var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
														if (prodNameSizeStart != -1) {
															var prodNameDispVal = prodDisplayArray[y][21];
														}
														else {
															var prodNameDispVal = prodDisplayArray[y][2];
														}
														if (FPC==1) {
															var isProductChecked = 1;
															window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
															var baseProductStyle = " panel_1_product_name_on";
														}
														else {
															if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																var isProductChecked = 1;
																window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
																var baseProductStyle = " panel_1_product_name_on";
															}
															else {
																var isProductChecked = 0;
																var baseProductStyle = " panel_1_product_name_off";
															}
														}
														productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
													}
													var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
													if (prodDescTagStart != -1) {
														var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
														var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
														var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
														var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
														productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
													}
													var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
													if (prodCatTagStart != -1) {
														var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
														var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
														var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
														var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
														productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
													}
													var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
													if (prodBigImgTagStart != -1) {
														var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
														var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
														var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
														var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
														var prodBigImgTagRender = "";
														var replaceBigImgMouseOver = "";
														var replaceBigImgMouseOut = "";
														var replaceBigImgMouseClass = "";
														var replaceBigImgPreset = prodDisplayArray[y][4];
														var replaceBigImgHidden = " style='display:none;'";
														var replaceBigImgBackClass = "off";
														var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
														if (replaceBigImgTest != -1) {
															replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
															replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
															replaceBigImgMouseClass = " img_replace_active";
															var replaceBigImgLength = prodDisplayArray[y][4].length;
															if (FPC==1) {
																var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
																var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
																replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
																replaceBigImgHidden = "";
																replaceBigImgBackClass = "on";
															}
															else {
																if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																	var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
																	var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
																	replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
																	replaceBigImgHidden = "";
																	replaceBigImgBackClass = "on";
																}
															}
														}
														var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
														var prodBigImgTagLinkStart = "";
														var prodBigImgTagLinkEnd = "";
														if (prodBigImgTagLinkTest != -1) {
															prodBigImgTagLinkStart = "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
															if (hoverState==1) {
																prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
															}
															prodBigImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
															prodBigImgTagLinkEnd = "<\/a>";
														}
														var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
														if (prodBigImgTagDivTest != -1) {
															p1PHWon = 1;
															prodBigImgTagRender = "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}' tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"";
															if (hoverState==1) {
																prodBigImgTagRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
															}
															prodBigImgTagRender += "><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
															if (hoverState==1) {
																prodBigImgTagRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
															}
															prodBigImgTagRender += ">&nbsp;<\/div><\/div>";
															productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagRender + baseProdBigImgHTMLEnd;
														}
														else {
															productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
														}
													}
													var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
													if (prodSmImgTagStart != -1) {
														var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
														var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
														var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
														var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
														var prodSmImgTagRender = "";
														var replaceSmImgMouseOver = "";
														var replaceSmImgMouseOut = "";
														var replaceSmImgMouseClass = "";
														var replaceSmImgPreset = prodDisplayArray[y][5];
														var replaceSmImgHidden = " style='display:none;'";
														var replaceSmImgBackClass = "off";
														var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
														if (replaceSmImgTest != -1) {
															replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
															replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
															replaceSmImgMouseClass = " img_replace_active";
															var replaceSmImgLength = prodDisplayArray[y][5].length;
															if (FPC==1) {
																var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
																var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
																replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
																replaceSmImgHidden = "";
																replaceSmImgBackClass = "on";
															}
															else {
																if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																	var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
																	var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
																	replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
																	replaceSmImgHidden = "";
																	replaceSmImgBackClass = "on";
																}
															}
														}
														var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
														var prodSmImgTagLinkStart = "";
														var prodSmImgTagLinkEnd = "";
														if (prodSmImgTagLinkTest != -1) {
															prodSmImgTagLinkStart = "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
															if (hoverState==1) {
																prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
															}
															prodSmImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
															prodSmImgTagLinkEnd = "<\/a>";
														}
														var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
														if (prodSmImgTagDivTest != -1) {
															p1PHWon = 1;
															prodSmImgTagRender = "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}' tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"";
															if (hoverState==1) {
																prodSmImgTagRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
															}
															prodSmImgTagRender += "><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
															if (hoverState==1) {
																prodSmImgTagRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
															}
															prodSmImgTagRender += ">&nbsp;<\/div><\/div>";
															productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagRender + baseProdSmImgHTMLEnd;
														}
														else {
															productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
														}
													}
													catProdWrite += productHTMLTest;
												}
											}
											catProdWrite += "<\/div>";
											categoryHTMLTest = baseCatProductsHTMLStart + catProdWrite + baseCatProductsHTMLEnd;
										}
										familyHTML += categoryHTMLTest;
									}
								}
								if (familyCatProdType == "EXPAND") {
									familyHTML += "<\/div>";
								}
							}
							if (familyShellOn == 1) {
								familyHTML += "<\/div>";
							}
						}
					}
					baseHTML = baseHTMLStart + familyHTML + baseHTMLEnd;
				}
				else {
					famSearchOn = 0;
				}
			}
			var catActiveSearchOn = 1;
			var catActiveButtonCount = -1;
			while (catActiveSearchOn == 1) {
				catActiveButtonCount++;
				var catActiveButtonTagStart = baseHTML.indexOf("<!--CATACTIVEBUTTON");
				if (catActiveButtonTagStart != -1) {
					var catActiveButtonTagEnd = baseHTML.indexOf(">",catActiveButtonTagStart);
					var catActiveButtonTagStrip = baseHTML.substring(catActiveButtonTagStart,(catActiveButtonTagEnd+1));
					var catActiveButtonHTMLStart = baseHTML.substr(0,catActiveButtonTagStart);
					var catActiveButtonHTMLEnd = baseHTML.substr((catActiveButtonTagEnd+1));
					var catActiveButtonRender = "";
					var catActiveButtonValueStart = catActiveButtonTagStrip.indexOf(" VALUE=");
					if (catActiveButtonValueStart != -1) {
						var catActiveButtonValueEnd = catActiveButtonTagStrip.indexOf("]",catActiveButtonValueStart);
						var catActiveButtonValueVar = catActiveButtonTagStrip.substring((catActiveButtonValueStart+8),(catActiveButtonValueEnd));
					}
					else {
						var catActiveButtonValueVar = "CLOSE";
					}
					var catActiveButtonItalicStart = catActiveButtonTagStrip.indexOf(" FNTAW=");
					if (catActiveButtonItalicStart != -1) {
						var catActiveButtonItalicEnd = catActiveButtonTagStrip.indexOf("]",catActiveButtonItalicStart);
						var catActiveButtonItalicVar = "<i class='fa " + catActiveButtonTagStrip.substring((catActiveButtonItalicStart+8),(catActiveButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var catActiveButtonItalicVar = "";
					}
					catActiveButtonRender = "<div id='panel1CatActiveButton" + catActiveButtonCount + "' class='panel_1_catactive_button panel_1_catactive_button_off'";
					if (hoverState==1) {
						catActiveButtonRender += " onmouseover='panel1ButtonHover(\"panel1CatActiveButton" + catActiveButtonCount + "\",\"panel_1_catactive_button\",1);' onfocus='panel1ButtonHover(\"panel1CatActiveButton" + catActiveButtonCount + "\",\"panel_1_catactive_button\",1);' onmouseout='panel1ButtonHover(\"panel1CatActiveButton" + catActiveButtonCount + "\",\"panel_1_catactive_button\",0);' onblur='panel1ButtonHover(\"panel1CatActiveButton" + catActiveButtonCount + "\",\"panel_1_catactive_button\",0);'";
					}
					catActiveButtonRender += " onclick='catActivate(\"blank\"," + trackActiveCatNum + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){catActivate(\"blank\"," + trackActiveCatNum + ");}' tabindex='0' title=\"Select All\">" + catActiveButtonItalicVar + catActiveButtonValueVar + "<\/div>";
					baseHTML = catActiveButtonHTMLStart + catActiveButtonRender + catActiveButtonHTMLEnd;
				}
				else {
					catActiveSearchOn = 0;
				}
			}
			var baseCatAllSearchOn = 1;
			while (baseCatAllSearchOn == 1) {
				var baseCatAllTagStart = baseHTML.indexOf("<!--CATALL");
				if (baseCatAllTagStart != -1) {
					var baseCatAllTagEnd = baseHTML.indexOf(">",baseCatAllTagStart);
					var baseCatAllTagStrip = baseHTML.substring(baseCatAllTagStart,(baseCatAllTagEnd+1));
					var baseCatAllHTMLStart = baseHTML.substr(0,baseCatAllTagStart);
					var baseCatAllHTMLEnd = baseHTML.substr((baseCatAllTagEnd+1));
					var baseCatAllIdStart = baseCatAllTagStrip.indexOf(" CATID=");
					if (baseCatAllIdStart != -1) {
						var baseCatAllIdEnd = baseCatAllTagStrip.indexOf("]", baseCatAllIdStart);
						var baseCatAllIdValTest = baseCatAllTagStrip.substring((baseCatAllIdStart+8),(baseCatAllIdEnd));
						var baseCatAllIdVal = 0;
						for (g=0; g<catArray.length; g++) {
							if (catArray[g][0] == baseCatAllIdValTest) {
								baseCatAllIdVal = g;
							}
						}
					}
					else {
						var baseCatAllIdVal = 0;
					}
					var categoryCartStart = baseCatAllTagStrip.indexOf(" CART");
					if (categoryCartStart != -1) {
						var categoryCartVar = 2;
					}
					else {
						var categoryCartVar = 1;
					}
					var categoryNoImgStart = baseCatAllTagStrip.indexOf(" NOIMG");
					if (categoryNoImgStart != -1) {
						p1CatAllToImg = 0;
					}
					var baseCatAllValueStart = baseCatAllTagStrip.indexOf(" VALUE=");
					if (baseCatAllValueStart != -1) {
						var baseCatAllValueEnd = baseCatAllTagStrip.indexOf("]", baseCatAllValueStart);
						var baseCatAllValueVal = baseCatAllTagStrip.substring((baseCatAllValueStart+8),(baseCatAllValueEnd));
					}
					else {
						var baseCatAllValueVal = "ALL";
					}
					var replaceImgTest = baseCatAllTagStrip.indexOf(" REPLACE");
					if (replaceImgTest != -1) {
						var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[baseCatAllIdVal][0] + ");";
						var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[baseCatAllIdVal][0] + ");";
						var replaceImgMouseClass = " img_replace_active";
					}
					else {
						var replaceImgMouseOver = "";
						var replaceImgMouseOut = "";
						var replaceImgMouseClass = "";
					}
					if (catArray[baseCatAllIdVal][6] == 1) {
						var catAllSelVal = " panel_1_category_name_all_on";
					}
					else {
						var catAllSelVal = " panel_1_category_name_all_off";
					}
					var baseCatAllTagLinkTest = baseCatAllTagStrip.indexOf(" LINK");
					var baseCatAllTagLink = "";
					if (baseCatAllTagLinkTest != -1) {
						baseCatAllTagLink = " style='cursor:pointer;' onclick='panel1CatSelectProducts(" + catArray[baseCatAllIdVal][0] + ", \"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ", \"panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[baseCatAllIdVal][0] + ", \"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ", \"panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + "\",2);}'";
						if (hoverState==1) {
							baseCatAllTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ");" + replaceImgMouseOut + "'";
						}
					}
					var catAllMulti = baseCatAllTagStrip.indexOf(" MULTI");
					if (catAllMulti != -1 && catArray[baseCatAllIdVal][7] == 1) {
						var calAllWriteIt = 0;
					}
					else {
						var calAllWriteIt = 1;
					}
					if (calAllWriteIt == 0) {
						baseHTML = baseCatAllHTMLStart + baseCatAllHTMLEnd;
					}
					else {
						baseHTML = baseCatAllHTMLStart + "<div id='panel1CategoryName" + catArray[baseCatAllIdVal][0] + "All' class='panel_1_category_name_all_" + catArray[baseCatAllIdVal][0] + " panel_1_category_name_all" + replaceImgMouseClass + catAllSelVal + "'" + baseCatAllTagLink + " tabindex='0' title=\"" + baseCatAllValueVal + "\">" + baseCatAllValueVal + "<\/div>" + baseCatAllHTMLEnd;
					}
				}
				else {
					baseCatAllSearchOn = 0;
				}
			}
			var panel1CatSearchOn = 1;
			while (panel1CatSearchOn == 1) {
				var catTagStart = baseHTML.indexOf("<!--CATEGORY");
				if (catTagStart != -1) {
					var catTagEnd = baseHTML.indexOf(">",catTagStart);
					var catTagStrip = baseHTML.substring(catTagStart,(catTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,catTagStart);
					var baseHTMLEnd = baseHTML.substr((catTagEnd+1));
					var categoryID = 0;
					var categoryHTML = "";
					var categoryIDStart = catTagStrip.indexOf(" ID=");
					if (categoryIDStart != -1) {
						var categoryIDEnd = catTagStrip.indexOf("]", categoryIDStart);
						categoryID = catTagStrip.substring((categoryIDStart+5),(categoryIDEnd));
					}
					var categoryCartStart = catTagStrip.indexOf(" CART");
					if (categoryCartStart != -1) {
						var categoryCartVar = 2;
					}
					else {
						var categoryCartVar = 1;
					}
					categoryNoSelectStart = catTagStrip.indexOf(" NOSELECT");
					if (categoryNoSelectStart != -1) {
						categoryNoSelect = 1;
					}
					categoryModalStart = catTagStrip.indexOf(" MODAL");
					if (categoryModalStart != -1) {
						categoryModal = 1;
					}
					var catActivateLink = "";
					var catActivateClass = "";
					var categoryActivateStart = catTagStrip.indexOf(" ACTIVATE=");
					if (categoryActivateStart != -1) {
						var categoryActivateEnd = catTagStrip.indexOf("]", categoryActivateStart);
						catActivateClass = catTagStrip.substring((categoryActivateStart+11),(categoryActivateEnd));
						catActivateLinkStart = "catActivate(\"" + catActivateClass + "\",";
						catActivateLinkEnd = ");";
						window["catActiveTrack"+categoryID] = 1;
					}
					var categoryPostload = catTagStrip.indexOf(" POSTLOAD");
					if (categoryPostload != -1) {
						panel1PostLoad = 1;
					}
					if (categoryID != 0) {
						if (categoryModal == 1) {
							window["catActiveTrack"+categoryID] = 1;
						}
						var catModalTest = p1TemplateSet.panel1CategoryDiv.indexOf("<!--CATMODAL");
						if(gLog==1){console.log("catModalTest 2",catModalTest);}
						var categoryHTMLTest = autotextIt(p1TemplateSet.panel1CategoryDiv,"panel1Category");
						var whatCatIndex = -1;
						for (x=0; x<catArray.length; x++) {
							if (catArray[x][0] == categoryID) {
								whatCatIndex = x;
								break;
							}
						}
						if (whatCatIndex != -1) {
							var catIterOn = 1;
							while (catIterOn == 1) {
								var catIterStart = categoryHTMLTest.indexOf("<!--CATITER");
								if (catIterStart != -1) {
									var catIterEnd = categoryHTMLTest.indexOf(">",catIterStart);
									var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catIterStart);
									var baseCatIterHTMLEnd = categoryHTMLTest.substr((catIterEnd+1));
									categoryHTMLTest = baseCatIterHTMLStart + catArray[whatCatIndex][0] + baseCatIterHTMLEnd;
								}
								else {
									catIterOn = 0;
								}
							}
							var catBiterOn = 1;
							while (catBiterOn == 1) {
								var catBiterStart = categoryHTMLTest.indexOf("|!--CATITER");
								if (catBiterStart != -1) {
									var catBiterEnd = categoryHTMLTest.indexOf("|",catBiterStart+1);
									var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catBiterStart);
									var baseCatIterHTMLEnd = categoryHTMLTest.substr((catBiterEnd+1));
									categoryHTMLTest = baseCatIterHTMLStart + catArray[whatCatIndex][0] + baseCatIterHTMLEnd;
								}
								else {
									catBiterOn = 0;
								}
							}
							var famNameTagStart = categoryHTMLTest.indexOf("<!--FAMNAME");
							if (famNameTagStart != -1) {
								var famNameTagEnd = categoryHTMLTest.indexOf(">",famNameTagStart);
								var famNameTagStrip = categoryHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
								var baseFamNameHTMLStart = categoryHTMLTest.substr(0,famNameTagStart);
								var baseFamNameHTMLEnd = categoryHTMLTest.substr((famNameTagEnd+1));
								var famNameValueVal = "FAMILY NAME ERROR";
								for (fn=0; fn<famArray.length; fn++) {
									if (famArray[fn][0] == catArray[whatCatIndex][2]) {
										famNameValueVal = famArray[fn][1];
										break;
									}
								}
								categoryHTMLTest = baseFamNameHTMLStart + "<div id='panel1CategoryFamilyName" + catArray[whatCatIndex][0] + "' class='panel_1_category_family_name_" + catArray[whatCatIndex][0] + " panel_1_category_family_name" + replaceImgMouseClass + "'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
							}
							var catBadgeTagStart = categoryHTMLTest.indexOf("<!--BADGE");
							if (catBadgeTagStart != -1) {
								var catBadgeTagEnd = categoryHTMLTest.indexOf(">",catBadgeTagStart);
								var catBadgeTagStrip = categoryHTMLTest.substring(catBadgeTagStart,(catBadgeTagEnd+1));
								var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBadgeTagStart);
								var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBadgeTagEnd+1));
								var catBadgeSingle = "";
								var catBadgeSingleStart = catBadgeTagStrip.indexOf(" SINGLE=");
								if (catBadgeSingleStart != -1) {
									var catBadgeSingleEnd = catBadgeTagStrip.indexOf("]", catBadgeSingleStart);
									catBadgeSingle = " " + catBadgeTagStrip.substring((catBadgeSingleStart+9),(catBadgeSingleEnd));
								}
								var catBadgeMultiple = "";
								var catBadgeMultipleStart = catBadgeTagStrip.indexOf(" MULTIPLE=");
								if (catBadgeMultipleStart != -1) {
									var catBadgeMultipleEnd = catBadgeTagStrip.indexOf("]", catBadgeMultipleStart);
									catBadgeMultiple = " " + catBadgeTagStrip.substring((catBadgeMultipleStart+11),(catBadgeMultipleEnd));
								}
								var cbc = 0;
								for (p=0; p<prodDisplayArray.length; p++) {
									if (prodDisplayArray[p][8] == catArray[whatCatIndex][0]) {
										cbc++;
									}
								}
								if (cbc == 1) {
									var catBadgeWrite = cbc + catBadgeSingle;
								}
								else {
									var catBadgeWrite = cbc + catBadgeMultiple;
								}
								categoryHTMLTest = baseCatBigImgHTMLStart + "<span id='panel1CatBadge" + catArray[whatCatIndex][0] + "' class='counter_badge panel_1_cat_badge'>" + catBadgeWrite + "<\/span>" + baseCatBigImgHTMLEnd;
							}
							var catDiscTagStart = categoryHTMLTest.indexOf("<!--HIGHPROD");
							if (catDiscTagStart != -1) {
								var catDiscTagEnd = categoryHTMLTest.indexOf(">",catDiscTagStart);
								var catDiscTagStrip = categoryHTMLTest.substring(catDiscTagStart,(catDiscTagEnd+1));
								var catDiscHTMLStart = categoryHTMLTest.substr(0,catDiscTagStart);
								var catDiscHTMLEnd = categoryHTMLTest.substr((catDiscTagEnd+1));
								var catDiscWrite = "";
								var discTestArr = [];
								for (cdc=0; cdc<prodDisplayArray.length; cdc++) {
									if (prodDisplayArray[cdc][8] == catArray[whatCatIndex][0] && prodDisplayArray[cdc][6] != 1) {
										discTestArr.push(prodDisplayArray[cdc][6]);
									}
								}
								if (discTestArr.length != 0) {
									var discFoundArr = discTestArr.filter( onlyUnique );
									if (discFoundArr.length == 1) {
										catDiscWrite = "<div class='global_" + hpArr[discFoundArr[0]][1] + " panel1Category_" + hpArr[discFoundArr[0]][1] + "'>" + hpArr[discFoundArr[0]][0] + "<\/div>";
									}
								}
								categoryHTMLTest = catDiscHTMLStart + catDiscWrite + catDiscHTMLEnd;
							}
							var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
							if (catNameTagStart != -1) {
								var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
								var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
								var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
								var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
								var catNameValueStart = catNameTagStrip.indexOf(" VALUE=");
								if (catNameValueStart != -1) {
									var catNameValueEnd = catNameTagStrip.indexOf("]", catNameValueStart);
									var catNameValueVal = catNameTagStrip.substring((catNameValueStart+8),(catNameValueEnd));
								}
								else {
									var catNameValueVal = catArray[whatCatIndex][1];
								}
								var replaceImgTest = catNameTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									if (categoryModal == 1) {
										var replaceImgMouseOver = "panel1CatModalImgReplace(1," + catArray[whatCatIndex][0] + ");";
										var replaceImgMouseOut = "panel1CatModalImgReplace(2," + catArray[whatCatIndex][0] + ");";
										var replaceImgMouseClass = " img_replace_active";
									}
									else {
										var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[whatCatIndex][0] + ");";
										var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[whatCatIndex][0] + ");";
										var replaceImgMouseClass = " img_replace_active";
									}
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								if (catArray[whatCatIndex][6] == 1 || (catModalTest != -1 && catArray[whatCatIndex][9] == 1)) {
									var catNameSelVal = " panel_1_category_name_on";
								}
								else {
									var catNameSelVal = " panel_1_category_name_off";
								}
								var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
								var catNameTagLink = "";
								if (catNameTagLinkTest != -1) {
									if (categoryNoSelect == 0) {
										if (categoryModal == 1) {
											var catNameOnClickVar = " onclick='panel1CatModalWrite(" + whatCatIndex + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + whatCatIndex + ");}'";
										}
										else {
											var catNameOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);}'";
										}
									}
									else {
										var catNameOnClickVar = " onclick='" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;}'";
									}
									catNameTagLink = " style='cursor:pointer;'" + catNameOnClickVar;
									if (hoverState==1) {
										catNameTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOut + "'";
									}
								}
								categoryHTMLTest = baseCatNameHTMLStart + "<a name='panel1CategoryAnchor" + catArray[whatCatIndex][0] + "' id='panel1CategoryAnchor" + catArray[whatCatIndex][0] + "'><\/a><div id='panel1CategoryName" + catArray[whatCatIndex][0] + "' class='panel_1_category_name_" + catArray[whatCatIndex][0] + " panel_1_category_name" + replaceImgMouseClass + catNameSelVal + "'" + catNameTagLink + " tabindex='0' title=\"" + catNameValueVal + "\">" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
							}
							var catAllTagStart = categoryHTMLTest.indexOf("<!--CATALL");
							if (catAllTagStart != -1) {
								var catAllTagEnd = categoryHTMLTest.indexOf(">",catAllTagStart);
								var catAllTagStrip = categoryHTMLTest.substring(catAllTagStart,(catAllTagEnd+1));
								var baseCatAllHTMLStart = categoryHTMLTest.substr(0,catAllTagStart);
								var baseCatAllHTMLEnd = categoryHTMLTest.substr((catAllTagEnd+1));
								var catAllValueStart = catAllTagStrip.indexOf(" VALUE=");
								if (catAllValueStart != -1) {
									var catAllValueEnd = catAllTagStrip.indexOf("]", catAllValueStart);
									var catAllValueVal = catAllTagStrip.substring((catAllValueStart+8),(catAllValueEnd));
								}
								else {
									var catAllValueVal = "ALL";
								}
								var categoryNoImgStart = catAllTagStrip.indexOf(" NOIMG");
								if (categoryNoImgStart != -1) {
									p1CatAllToImg = 0;
								}
								var replaceImgTest = catAllTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[whatCatIndex][0] + ");";
									var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[whatCatIndex][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								if (catArray[whatCatIndex][6] == 1) {
									var catAllSelVal = " panel_1_category_name_all_on";
								}
								else {
									var catAllSelVal = " panel_1_category_name_all_off";
								}
								var catAllTagLinkTest = catAllTagStrip.indexOf(" LINK");
								var catAllTagLink = "";
								if (catAllTagLinkTest != -1) {
									catAllTagLink = " style='cursor:pointer;' onclick='panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);}'";
									if (hoverState==1) {
										catAllTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOut + "'";
									}
								}
								var catAllMulti = catAllTagStrip.indexOf(" MULTI");
								if (catAllMulti != -1 && catArray[whatCatIndex][7] == 1) {
									var calAllWriteIt = 0;
								}
								else {
									var calAllWriteIt = 1;
								}
								if (calAllWriteIt == 0) {
									categoryHTMLTest = baseCatAllHTMLStart + baseCatAllHTMLEnd;
								}
								else {
									categoryHTMLTest = baseCatAllHTMLStart + "<div id='panel1CategoryName" + catArray[whatCatIndex][0] + "All' class='panel_1_category_name_all_" + catArray[whatCatIndex][0] + " panel_1_category_name_all" + replaceImgMouseClass + catAllSelVal + "'" + catAllTagLink + " tabindex='0' title=\"" + catAllValueVal + "\">" + catAllValueVal + "<\/div>" + baseCatAllHTMLEnd;
								}
							}
							var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
							if (catBigImgTagStart != -1) {
								var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
								var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
								var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
								var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
								var catBigImgTagRender = "";
								var replaceBigImgPreset = catArray[whatCatIndex][3];
								var replaceBigImgHidden = " style='display:none;'";
								var replaceBigImgBackClass = "off";
								var replaceBigImgTest = catBigImgTagStrip.indexOf(" REPLACE");
								if (replaceBigImgTest != -1) {
									if (categoryModal == 1) {
										var replaceBigImgMouseOver = "panel1CatModalImgReplace(1," + catArray[whatCatIndex][0] + ");";
										var replaceBigImgMouseOut = "panel1CatModalImgReplace(2," + catArray[whatCatIndex][0] + ");";
										var replaceBigImgMouseClass = " img_replace_active";
									}
									else {
										var replaceBigImgMouseOver = "panel1CatImgReplace(1," + catArray[whatCatIndex][0] + ");";
										var replaceBigImgMouseOut = "panel1CatImgReplace(2," + catArray[whatCatIndex][0] + ");";
										var replaceBigImgMouseClass = " img_replace_active";
									}
								}
								else {
									var replaceBigImgMouseOver = "";
									var replaceBigImgMouseOut = "";
									var replaceBigImgMouseClass = "";
								}
								if (categoryNoSelect == 0) {
									if (categoryModal == 1) {
										var catBigImgOnClickVar = " onclick='panel1CatModalWrite(" + whatCatIndex + ");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + whatCatIndex + ");return false;}'";
									}
									else {
										var catBigImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);return false;}'";
									}
								}
								else {
									var catBigImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;}'";
								}
								var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[whatCatIndex][3] + "\");'";
								if (panel1PostLoad == 1) {
									postImgBig = "";
								};
								if (catArray[whatCatIndex][6] != 0 || (catModalTest != -1 && catArray[whatCatIndex][9] == 1)) {
									replaceBigImgHidden = "";
									replaceBigImgBackClass = "on";
								}
								var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
								var catBigImgTagLinkStart = "";
								var catBigImgTagLinkEnd = "";
								if (catBigImgTagLinkTest != -1) {
									catBigImgTagLinkStart = "<a href=''" + catBigImgOnClickVar;
									if (hoverState==1) {
										catBigImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOut + "'";
									}
									catBigImgTagLinkStart += " tabindex='0' title=\"" + catArray[whatCatIndex][1] + "\">";
									catBigImgTagLinkEnd = "<\/a>";
								}
								var catBigImgTagDivTest = catBigImgTagStrip.indexOf(" DIV");
								if (catBigImgTagDivTest != -1) {
									if (panel1PostLoad == 1) {plPostCat = 1;}
									p1CHWon = 1;
									catBigImgTagRender = "<div title=\"" + catArray[whatCatIndex][1] + "\" id='panel1CategoryBigImgDivShell" + catArray[whatCatIndex][0] + "' class='panel_1_category_big_img_div_shell panel_1_category_big_img_div_shell_" + catArray[whatCatIndex][0] + "'" + catBigImgOnClickVar;
									if (hoverState==1) {
										catBigImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOver + "'";
									}
									catBigImgTagRender += " tabindex='0' title=\"" + catArray[whatCatIndex][1] + "\"><div id='panel1CategoryBigImgDivBack" + catArray[whatCatIndex][0] + "' class='panel_1_category_big_img_div_back panel_1_category_big_img_div_back_" + replaceBigImgBackClass + " panel_1_category_big_img_div_back_" + catArray[whatCatIndex][0] + replaceBigImgMouseClass +"' " + postImgBig + "><\/div><div id='panel1CategoryBigImgDivOver" + catArray[whatCatIndex][0] + "' class='panel_1_category_big_img_div_over panel_1_category_big_img_div_over_" + catArray[whatCatIndex][0] +"'" + replaceBigImgHidden;
									if (hoverState==1) {
										catBigImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOut + "'";
									}
									catBigImgTagRender += ">&nbsp;<\/div><\/div>";
									categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagRender + baseCatBigImgHTMLEnd;
								}
								else {
									categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + catArray[whatCatIndex][1] + "\" alt=\"" + catArray[whatCatIndex][1] + "\" id='panel1CategoryBigImg" + catArray[whatCatIndex][0] + "' class='panel_1_category_big_img panel_1_category_big_img_" +catArray[whatCatIndex][0] + replaceBigImgMouseClass + "' src='" + clientImgBase + catArray[whatCatIndex][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
								}
							}
							var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
							if (catSmImgTagStart != -1) {
								var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
								var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
								var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
								var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
								var catSmImgTagRender = "";
								var replaceSmImgPreset = catArray[whatCatIndex][4];
								var replaceSmImgHidden = " style='display:none;'";
								var replaceSmImgBackClass = "off";
								var replaceSmImgTest = catSmImgTagStrip.indexOf(" REPLACE");
								if (replaceSmImgTest != -1) {
									if (categoryModal == 1) {
										var replaceSmImgMouseOver = "panel1CatModalImgReplace(1," + catArray[whatCatIndex][0] + ");";
										var replaceSmImgMouseOut = "panel1CatModalImgReplace(2," + catArray[whatCatIndex][0] + ");";
										var replaceSmImgMouseClass = " img_replace_active";
									}
									else {
										var replaceSmImgMouseOver = "panel1CatImgReplace(1," + catArray[whatCatIndex][0] + ");";
										var replaceSmImgMouseOut = "panel1CatImgReplace(2," + catArray[whatCatIndex][0] + ");";
										var replaceSmImgMouseClass = " img_replace_active";
									}
								}
								else {
									var replaceSmImgMouseOver = "";
									var replaceSmImgMouseOut = "";
									var replaceSmImgMouseClass = "";
								}
								if (categoryNoSelect == 0) {
									if (categoryModal == 1) {
										var catSmImgOnClickVar = " onclick='panel1CatModalWrite(" + whatCatIndex + ");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + whatCatIndex + ");return false;}'";
									}
									else {
										var catSmImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);return false;}'";
									}
								}
								else {
									var catSmImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;}'";
								}
								var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[whatCatIndex][4] + "\");'";
								if (panel1PostLoad == 1) {
									postImgBig = "";
								}
								if (catArray[whatCatIndex][6] != 0 || (catModalTest != -1 && catArray[whatCatIndex][9] == 1)) {
									replaceSmImgHidden = "";
									replaceSmImgBackClass = "on";
								}
								var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
								var catSmImgTagLinkStart = "";
								var catSmImgTagLinkEnd = "";
								if (catSmImgTagLinkTest != -1) {
									catSmImgTagLinkStart = "<a href=''" + catSmImgOnClickVar;
									if (hoverState==1) {
										catSmImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOut + "'";
									}
									catSmImgTagLinkStart += " tabindex='0' title=\"" + catArray[whatCatIndex][1] + "\">";
									catSmImgTagLinkEnd = "<\/a>";
								}
								var catSmImgTagDivTest = catSmImgTagStrip.indexOf(" DIV");
								if (catSmImgTagDivTest != -1) {
									if (panel1PostLoad == 1) {plPostCat = 1;}
									p1CHWon = 1;
									catSmImgTagRender = "<div title=\"" + catArray[whatCatIndex][1] + "\" id='panel1CategorySmImgDivShell" + catArray[whatCatIndex][0] + "' class='panel_1_category_sm_img_div_shell panel_1_category_sm_img_div_shell_" + catArray[whatCatIndex][0] + "'" + catSmImgOnClickVar;
									if (hoverState==1) {
										catSmImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOver + "'";
									}
									catSmImgTagRender += " tabindex='0' title=\"" + catArray[whatCatIndex][1] + "\"><div id='panel1CategorySmImgDivBack" + catArray[whatCatIndex][0] + "' class='panel_1_category_sm_img_div_back panel_1_category_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_category_sm_img_div_back_" + catArray[whatCatIndex][0] + replaceSmImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategorySmImgDivOver" + catArray[whatCatIndex][0] + "' class='panel_1_category_sm_img_div_over panel_1_category_sm_img_div_over_" + catArray[whatCatIndex][0] +"'" + replaceSmImgHidden;
									if (hoverState==1) {
										catSmImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOut + "'";
									}
									catSmImgTagRender += ">&nbsp;<\/div><\/div>";
									categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagRender + baseCatSmImgHTMLEnd;
								}
								else {
									categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + catArray[whatCatIndex][1] + "\" alt=\"" + catArray[whatCatIndex][1] + "\" id='panel1CategorySmImg" + catArray[whatCatIndex][0] + "' class='panel_1_category_sm_img panel_1_category_sm_img_" +catArray[whatCatIndex][0] + replaceSmImgMouseClass + "' src='" + clientImgBase + catArray[whatCatIndex][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
								}
							}
							var catModalTagStart = categoryHTMLTest.indexOf("<!--CATMODAL");
							if (catModalTagStart != -1) {
								if(gLog==1){console.log("CATMODAL 2");}
								var catModalTagEnd = categoryHTMLTest.indexOf(">",catModalTagStart);
								var catModalTagStrip = categoryHTMLTest.substring(catModalTagStart,(catModalTagEnd+1));
								var catModalHTMLStart = categoryHTMLTest.substr(0,catModalTagStart);
								var catModalHTMLEnd = categoryHTMLTest.substr((catModalTagEnd+1));
								var catProdWrite = "<div id='panel1CategoryModalShell" + catArray[x][0] + "' class='panel_1_category_modal_shell panel_1_category_modal_shell_" + catArray[x][0] + " panel_close_me' style='display:none;'><\/div><div style='display:none;'>";
								for (y=0; y<prodDisplayArray.length; y++) {
									if (prodDisplayArray[y][8] == catArray[x][0]) {
										catProdWrite += "<div id='panel1ProductName" + prodDisplayArray[y][0] + "' style='display:none;'>&nbsp;<\/div>";
									}
								}
								catProdWrite += "<\/div>";
								categoryHTMLTest = catModalHTMLStart + catProdWrite + catModalHTMLEnd;
							}
							var catProductsTagStart = categoryHTMLTest.indexOf("<!--CATPRODUCTS");
							if (catProductsTagStart != -1) {
								if(gLog==1){console.log("CATPRODUCTS 2");}
								var catProductsTagEnd = categoryHTMLTest.indexOf(">",catProductsTagStart);
								var catProductsTagStrip = categoryHTMLTest.substring(catProductsTagStart,(catProductsTagEnd+1));
								var baseCatProductsHTMLStart = categoryHTMLTest.substr(0,catProductsTagStart);
								var baseCatProductsHTMLEnd = categoryHTMLTest.substr((catProductsTagEnd+1));
								var catProdWrite = "<div id='panel1CategoryProductsShell" + catArray[whatCatIndex][0] + "' class='panel_1_category_products_shell panel_1_category_products_shell_" + catArray[whatCatIndex][0] + "'>";
								for (y=0; y<prodDisplayArray.length; y++) {
									if (prodDisplayArray[y][8] == whatCatProdIndex) {
										if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
											var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
										}
										else {
											var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
										}
										var prodCloseThings = "";
										var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
										if (prodCloseTagStart != -1) {
											var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
											var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
											var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
											prodCloseThings = "genericCloseMe();";
											productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
										}
										var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
										if (prodIterTagStart != -1) {
											var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
											var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
											var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
											var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
											productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
										}
										var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
										if (famNameTagStart != -1) {
											var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
											var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
											var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
											var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
											var famNameValueVal = "FAMILY NAME ERROR";
											var famProdCatNum = -1;
											for (cn=0; cn<catArray.length; cn++) {
												if (catArray[cn][0] == prodDisplayArray[y][8]) {
													famProdCatNum = cn;
													break;
												}
											}
											if (famProdCatNum != -1) {
												for (fn=0; fn<famArray.length; fn++) {
													if (famArray[fn][0] == catArray[famProdCatNum][2]) {
														famNameValueVal = famArray[fn][1];
														break;
													}
												}
											}
											productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
										}
										var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
										if (catNameTagStart != -1) {
											var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
											var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
											var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
											var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
											var catNameValueVal = "CATEGORY NAME ERROR";
											for (cn=0; cn<catArray.length; cn++) {
												if (catArray[cn][0] == prodDisplayArray[y][8]) {
													catNameValueVal = catArray[cn][1];
													break;
												}
											}
											productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
										}
										var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
										if (prodDiscTagStart != -1) {
											var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
											var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
											var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
											var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
											var prodDiscWrite = "";
											var discVal = prodDisplayArray[y][6];
											if (discVal != 1) {
												prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
											}
											productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
										}
										var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
										if (prodNameTagStart != -1) {
											var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
											var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
											var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
											var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
											var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
											if (replaceImgTest != -1) {
												var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
											else {
												var replaceImgMouseOver = "";
												var replaceImgMouseOut = "";
												var replaceImgMouseClass = "";
											}
											var descTest = prodNameTagStrip.indexOf(" DESC");
											if (descTest != -1) {
												var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
											}
											else {
												var descVal = "";
											}
											var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
											var prodPopupMO = "";
											var prodPopupDIV = "";
											if (prodPopupTestStart != -1) {
												var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
												var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
												prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
												prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
											}
											var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
											var prodNameTagLink = "";
											if (prodNameTagLinkTest != -1) {
												prodNameTagLink = " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
												}
											}
											var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
											if (prodNameItalicStart != -1) {
												var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
												var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
											}
											else {
												var prodNameItalicVar = "";
											}
											var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
											if (prodNameSizeStart != -1) {
												var prodNameDispVal = prodDisplayArray[y][21];
											}
											else {
												var prodNameDispVal = prodDisplayArray[y][2];
											}
											if (FPC==1) {
												var isProductChecked = 1;
												window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
												var baseProductStyle = " panel_1_product_name_on";
											}
											else {
												if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
													var isProductChecked = 1;
													window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
													var baseProductStyle = " panel_1_product_name_on";
												}
												else {
													var isProductChecked = 0;
													var baseProductStyle = " panel_1_product_name_off";
												}
											}
											productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + prodNameDispVal + "\">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
										}
										var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
										if (prodDescTagStart != -1) {
											var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
											var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
											var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
											var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
											productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
										}
										var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
										if (prodCatTagStart != -1) {
											var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
											var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
											var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
											var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
											productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
										}
										var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
										if (prodBigImgTagStart != -1) {
											var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
											var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
											var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
											var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
											var prodBigImgTagRender = "";
											var replaceBigImgMouseOver = "";
											var replaceBigImgMouseOut = "";
											var replaceBigImgMouseClass = "";
											var replaceBigImgPreset = prodDisplayArray[y][4];
											var replaceBigImgHidden = " style='display:none;'";
											var replaceBigImgBackClass = "off";
											var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
											if (replaceBigImgTest != -1) {
												replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												replaceBigImgMouseClass = " img_replace_active";
												var replaceBigImgLength = prodDisplayArray[y][4].length;
												if (FPC==1) {
													var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
													var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
													replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
													replaceBigImgHidden = "";
													replaceBigImgBackClass = "on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
														var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
														replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
														replaceBigImgHidden = "";
														replaceBigImgBackClass = "on";
													}
												}
											}
											var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
											var prodBigImgTagLinkStart = "";
											var prodBigImgTagLinkEnd = "";
											if (prodBigImgTagLinkTest != -1) {
												prodBigImgTagLinkStart = "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
												if (hoverState==1) {
													prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
												}
												prodBigImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
												prodBigImgTagLinkEnd = "<\/a>";
											}
											var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
											if (prodBigImgTagDivTest != -1) {
												p1PHWon = 1;
												prodBigImgTagRender = "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													prodBigImgTagRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
												}
												prodBigImgTagRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
												if (hoverState==1) {
													prodBigImgTagRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
												}
												prodBigImgTagRender += ">&nbsp;<\/div><\/div>";
												productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagRender + baseProdBigImgHTMLEnd;
											}
											else {
												productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
											}
										}
										var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
										if (prodSmImgTagStart != -1) {
											var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
											var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
											var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
											var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
											var prodSmImgTagRender = "";
											var replaceSmImgMouseOver = "";
											var replaceSmImgMouseOut = "";
											var replaceSmImgMouseClass = "";
											var replaceSmImgPreset = prodDisplayArray[y][5];
											var replaceSmImgHidden = " style='display:none;'";
											var replaceSmImgBackClass = "off";
											var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
											if (replaceSmImgTest != -1) {
												replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												replaceSmImgMouseClass = " img_replace_active";
												var replaceSmImgLength = prodDisplayArray[y][5].length;
												if (FPC==1) {
													var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
													var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
													replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
													replaceSmImgHidden = "";
													replaceSmImgBackClass = "on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
														var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
														replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
														replaceSmImgHidden = "";
														replaceSmImgBackClass = "on";
													}
												}
											}
											var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
											var prodSmImgTagLinkStart = "";
											var prodSmImgTagLinkEnd = "";
											if (prodSmImgTagLinkTest != -1) {
												prodSmImgTagLinkStart = "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
												if (hoverState==1) {
													prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
												}
												prodSmImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
												prodSmImgTagLinkEnd = "<\/a>";
											}
											var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
											if (prodSmImgTagDivTest != -1) {
												p1PHWon = 1;
												prodSmImgTagRender = "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													prodSmImgTagRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
												}
												prodSmImgTagRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
												if (hoverState==1) {
													prodSmImgTagRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
												}
												prodSmImgTagRender += ">&nbsp;<\/div><\/div>";
												productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagRender + baseProdSmImgHTMLEnd;
											}
											else {
												productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
											}
										}
										catProdWrite += productHTMLTest;
									}
								}
								catProdWrite += "<\/div>";
								categoryHTMLTest = baseCatProductsHTMLStart + catProdWrite + baseCatProductsHTMLEnd;
							}
							categoryHTML += categoryHTMLTest;
						}
						else {
							if(gLog==1){console.log("ERROR: P1 Unknown Category ID="+categoryID);}
							p1ErrorArray.push("ERROR: P1 Unknown Category ID="+categoryID);
						}
					}
					else {
						var catModalTest = p1TemplateSet.panel1CategoryDiv.indexOf("<!--CATMODAL");
						if(gLog==1){console.log("catModalTest 3",catModalTest);}
						for (x=0; x<catArray.length;x++) {
							if (categoryModal == 1) {
								window["catActiveTrack"+catArray[x][0]] = 1;
							}
							var categoryHTMLTest = autotextIt(p1TemplateSet.panel1CategoryDiv,"panel1Category");
							var catIterOn = 1;
							while (catIterOn == 1) {
								var catIterStart = categoryHTMLTest.indexOf("<!--CATITER");
								if (catIterStart != -1) {
									var catIterEnd = categoryHTMLTest.indexOf(">",catIterStart);
									var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catIterStart);
									var baseCatIterHTMLEnd = categoryHTMLTest.substr((catIterEnd+1));
									categoryHTMLTest = baseCatIterHTMLStart + catArray[x][0] + baseCatIterHTMLEnd;
								}
								else {
									catIterOn = 0;
								}
							}
							var catBiterOn = 1;
							while (catBiterOn == 1) {
								var catBiterStart = categoryHTMLTest.indexOf("|!--CATITER");
								if (catBiterStart != -1) {
									var catBiterEnd = categoryHTMLTest.indexOf("|",catBiterStart+1);
									var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catBiterStart);
									var baseCatIterHTMLEnd = categoryHTMLTest.substr((catBiterEnd+1));
									categoryHTMLTest = baseCatIterHTMLStart + catArray[x][0] + baseCatIterHTMLEnd;
								}
								else {
									catBiterOn = 0;
								}
							}
							var famNameTagStart = categoryHTMLTest.indexOf("<!--FAMNAME");
							if (famNameTagStart != -1) {
								var famNameTagEnd = categoryHTMLTest.indexOf(">",famNameTagStart);
								var famNameTagStrip = categoryHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
								var baseFamNameHTMLStart = categoryHTMLTest.substr(0,famNameTagStart);
								var baseFamNameHTMLEnd = categoryHTMLTest.substr((famNameTagEnd+1));
								var famNameValueVal = "FAMILY NAME ERROR";
								for (fn=0; fn<famArray.length; fn++) {
									if (famArray[fn][0] == catArray[x][2]) {
										famNameValueVal = famArray[fn][1];
										break;
									}
								}
								categoryHTMLTest = baseFamNameHTMLStart + "<div id='panel1CategoryFamilyName" + catArray[x][0] + "' class='panel_1_category_family_name_" + catArray[whatCatIndex][0] + " panel_1_category_family_name" + replaceImgMouseClass + "'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
							}
							var catBadgeTagStart = categoryHTMLTest.indexOf("<!--BADGE");
							if (catBadgeTagStart != -1) {
								var catBadgeTagEnd = categoryHTMLTest.indexOf(">",catBadgeTagStart);
								var catBadgeTagStrip = categoryHTMLTest.substring(catBadgeTagStart,(catBadgeTagEnd+1));
								var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBadgeTagStart);
								var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBadgeTagEnd+1));
								var catBadgeSingle = "";
								var catBadgeSingleStart = catBadgeTagStrip.indexOf(" SINGLE=");
								if (catBadgeSingleStart != -1) {
									var catBadgeSingleEnd = catBadgeTagStrip.indexOf("]", catBadgeSingleStart);
									catBadgeSingle = " " + catBadgeTagStrip.substring((catBadgeSingleStart+9),(catBadgeSingleEnd));
								}
								var catBadgeMultiple = "";
								var catBadgeMultipleStart = catBadgeTagStrip.indexOf(" MULTIPLE=");
								if (catBadgeMultipleStart != -1) {
									var catBadgeMultipleEnd = catBadgeTagStrip.indexOf("]", catBadgeMultipleStart);
									catBadgeMultiple = " " + catBadgeTagStrip.substring((catBadgeMultipleStart+11),(catBadgeMultipleEnd));
								}
								var cbc = 0;
								for (p=0; p<prodDisplayArray.length; p++) {
									if (prodDisplayArray[p][8] == catArray[x][0]) {
										cbc++;
									}
								}
								if (cbc == 1) {
									var catBadgeWrite = cbc + catBadgeSingle;
								}
								else {
									var catBadgeWrite = cbc + catBadgeMultiple;
								}
								categoryHTMLTest = baseCatBigImgHTMLStart + "<span id='panel1CatBadge" + catArray[x][0] + "' class='counter_badge panel_1_cat_badge'>" + catBadgeWrite + "<\/span>" + baseCatBigImgHTMLEnd;
							}
							var catDiscTagStart = categoryHTMLTest.indexOf("<!--HIGHPROD");
							if (catDiscTagStart != -1) {
								var catDiscTagEnd = categoryHTMLTest.indexOf(">",catDiscTagStart);
								var catDiscTagStrip = categoryHTMLTest.substring(catDiscTagStart,(catDiscTagEnd+1));
								var catDiscHTMLStart = categoryHTMLTest.substr(0,catDiscTagStart);
								var catDiscHTMLEnd = categoryHTMLTest.substr((catDiscTagEnd+1));
								var catDiscWrite = "";
								var discTestArr = [];
								for (cdc=0; cdc<prodDisplayArray.length; cdc++) {
									if (prodDisplayArray[cdc][8] == catArray[x][0] && prodDisplayArray[cdc][6] != 1) {
										discTestArr.push(prodDisplayArray[cdc][6]);
									}
								}
								if (discTestArr.length != 0) {
									var discFoundArr = discTestArr.filter( onlyUnique );
									if (discFoundArr.length == 1) {
										catDiscWrite = "<div class='global_" + hpArr[discFoundArr[0]][1] + " panel1Category_" + hpArr[discFoundArr[0]][1] + "'>" + hpArr[discFoundArr[0]][0] + "<\/div>";
									}
								}
								categoryHTMLTest = catDiscHTMLStart + catDiscWrite + catDiscHTMLEnd;
							}
							var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
							if (catNameTagStart != -1) {
								var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
								var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
								var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
								var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
								var catNameValueStart = catNameTagStrip.indexOf(" VALUE=");
								if (catNameValueStart != -1) {
									var catNameValueEnd = catNameTagStrip.indexOf("]", catNameValueStart);
									var catNameValueVal = catNameTagStrip.substring((catNameValueStart+8),(catNameValueEnd));
								}
								else {
									var catNameValueVal = catArray[x][1];
								}
								var replaceImgTest = catNameTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									if (categoryModal == 1) {
										var replaceImgMouseOver = "panel1CatModalImgReplace(1," + catArray[x][0] + ");";
										var replaceImgMouseOut = "panel1CatModalImgReplace(2," + catArray[x][0] + ");";
										var replaceImgMouseClass = " img_replace_active";
									}
									else {
										var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[x][0] + ");";
										var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[x][0] + ");";
										var replaceImgMouseClass = " img_replace_active";
									}
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								if (catArray[x][6] == 1 || (catModalTest != -1 && catArray[x][9] == 1)) {
									var catNameSelVal = " panel_1_category_name_on";
								}
								else {
									var catNameSelVal = " panel_1_category_name_off";
								}
								var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
								var catNameTagLink = "";
								if (catNameTagLinkTest != -1) {
									if (categoryNoSelect == 0) {
										if (categoryModal == 1) {
											var catNameOnClickVar = " onclick='panel1CatModalWrite(" + x + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + x + ");}'";
										}
										else {
											var catNameOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);}'";
										}
									}
									else {
										var catNameOnClickVar = " onclick='" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;}'";
									}
									catNameTagLink = " style='cursor:pointer;'" + catNameOnClickVar;
									if (hoverState==1) {
										catNameTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOut + "'";
									}
								}
								categoryHTMLTest = baseCatNameHTMLStart + "<a name='panel1CategoryAnchor" + catArray[x][0] + "' id='panel1CategoryAnchor" + catArray[x][0] + "'><\/a><div id='panel1CategoryName" + catArray[x][0] + "' class='panel_1_category_name_" + catArray[x][0] + " panel_1_category_name" + replaceImgMouseClass + catNameSelVal + "'" + catNameTagLink + " tabindex='0' title=\"" + catNameValueVal + "\">" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
							}
							var catAllTagStart = categoryHTMLTest.indexOf("<!--CATALL");
							if (catAllTagStart != -1) {
								var catAllTagEnd = categoryHTMLTest.indexOf(">",catAllTagStart);
								var catAllTagStrip = categoryHTMLTest.substring(catAllTagStart,(catAllTagEnd+1));
								var baseCatAllHTMLStart = categoryHTMLTest.substr(0,catAllTagStart);
								var baseCatAllHTMLEnd = categoryHTMLTest.substr((catAllTagEnd+1));
								var catAllValueStart = catAllTagStrip.indexOf(" VALUE=");
								if (catAllValueStart != -1) {
									var catAllValueEnd = catAllTagStrip.indexOf("]", catAllValueStart);
									var catAllValueVal = catAllTagStrip.substring((catAllValueStart+8),(catAllValueEnd));
								}
								else {
									var catAllValueVal = "ALL";
								}
								var categoryNoImgStart = catAllTagStrip.indexOf(" NOIMG");
								if (categoryNoImgStart != -1) {
									p1CatAllToImg = 0;
								}
								var replaceImgTest = catAllTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[x][0] + ");";
									var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								if (catArray[x][6] == 1) {
									var catAllSelVal = " panel_1_category_name_all_on";
								}
								else {
									var catAllSelVal = " panel_1_category_name_all_off";
								}
								var catAllTagLinkTest = catAllTagStrip.indexOf(" LINK");
								var catAllTagLink = "";
								if (catAllTagLinkTest != -1) {
									catAllTagLink = " style='cursor:pointer;' onclick='panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);}'";
									if (hoverState==1) {
										catAllTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOut + "'";
									}
								}
								var catAllMulti = catAllTagStrip.indexOf(" MULTI");
								if (catAllMulti != -1 && catArray[x][7] == 1) {
									var calAllWriteIt = 0;
								}
								else {
									var calAllWriteIt = 1;
								}
								if (calAllWriteIt == 0) {
									categoryHTMLTest = baseCatAllHTMLStart + baseCatAllHTMLEnd;
								}
								else {
									categoryHTMLTest = baseCatAllHTMLStart + "<div id='panel1CategoryName" + catArray[x][0] + "All' class='panel_1_category_name_all_" + catArray[x][0] + " panel_1_category_name_all" + replaceImgMouseClass + catAllSelVal + "'" + catAllTagLink + " tabindex='0' title=\"" + catAllValueVal + "\">" + catAllValueVal + "<\/div>" + baseCatAllHTMLEnd;
								}
							}
							var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
							if (catBigImgTagStart != -1) {
								var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
								var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
								var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
								var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
								var catBigImgTagRender = "";
								var replaceBigImgPreset = catArray[x][3];
								var replaceBigImgHidden = " style='display:none;'";
								var replaceBigImgBackClass = "off";
								var replaceBigImgTest = catBigImgTagStrip.indexOf(" REPLACE");
								if (replaceBigImgTest != -1) {
									if (categoryModal == 1) {
										var replaceBigImgMouseOver = "panel1CatModalImgReplace(1," + catArray[x][0] + ");";
										var replaceBigImgMouseOut = "panel1CatModalImgReplace(2," + catArray[x][0] + ");";
										var replaceBigImgMouseClass = " img_replace_active";
									}
									else {
										var replaceBigImgMouseOver = "panel1CatImgReplace(1," + catArray[x][0] + ");";
										var replaceBigImgMouseOut = "panel1CatImgReplace(2," + catArray[x][0] + ");";
										var replaceBigImgMouseClass = " img_replace_active";
									}
								}
								else {
									var replaceBigImgMouseOver = "";
									var replaceBigImgMouseOut = "";
									var replaceBigImgMouseClass = "";
								}
								if (categoryNoSelect == 0) {
									if (categoryModal == 1) {
										var catBigImgOnClickVar = " onclick='panel1CatModalWrite(" + x + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + x + ");}'";
									}
									else {
										var catBigImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);return false;}'";
									}
								}
								else {
									var catBigImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;}'";
								}
								var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[x][3] + "\");'";
								if (panel1PostLoad == 1) {
									postImgBig = "";
								};
								if (catArray[x][6] != 0 || (catModalTest != -1 && catArray[x][9] == 1)) {
									replaceBigImgHidden = "";
									replaceBigImgBackClass = "on";
								}
								var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
								var catBigImgTagLinkStart = "";
								var catBigImgTagLinkEnd = "";
								if (catBigImgTagLinkTest != -1) {
									catBigImgTagLinkStart = "<a href=''" + catBigImgOnClickVar;
									if (hoverState==1) {
										catBigImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOut + "'";
									}
									catBigImgTagLinkStart += " tabindex='0' title=\"" + catArray[x][1] + "\">";
									catBigImgTagLinkEnd = "<\/a>";
								}
								var catBigImgTagDivTest = catBigImgTagStrip.indexOf(" DIV");
								if (catBigImgTagDivTest != -1) {
									if (panel1PostLoad == 1) {plPostCat = 1;}
									p1CHWon = 1;
									catBigImgTagRender = "<div title=\"" + catArray[x][1] + "\" id='panel1CategoryBigImgDivShell" + catArray[x][0] + "' class='panel_1_category_big_img_div_shell panel_1_category_big_img_div_shell_" + catArray[x][0] + "'" + catBigImgOnClickVar;
									if (hoverState==1) {
										catBigImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOver + "'";
									}
									catBigImgTagRender += " tabindex='0' title=\"" + catArray[x][1] + "\"><div id='panel1CategoryBigImgDivBack" + catArray[x][0] + "' class='panel_1_category_big_img_div_back panel_1_category_big_img_div_back_" + replaceBigImgBackClass + " panel_1_category_big_img_div_back_" + catArray[x][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategoryBigImgDivOver" + catArray[x][0] + "' class='panel_1_category_big_img_div_over panel_1_category_big_img_div_over_" + catArray[x][0] +"'" + replaceBigImgHidden;
									if (hoverState==1) {
										catBigImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOut + "'";
									}
									catBigImgTagRender += ">&nbsp;<\/div><\/div>";
									categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagRender + baseCatBigImgHTMLEnd;
								}
								else {
									categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + catArray[x][1] + "\" alt=\"" + catArray[x][1] + "\" id='panel1CategoryBigImg" + catArray[x][0] + "' class='panel_1_category_big_img panel_1_category_big_img_" +catArray[x][0] + replaceBigImgMouseClass + "' src='" + clientImgBase + catArray[x][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
								}
							}
							var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
							if (catSmImgTagStart != -1) {
								var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
								var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
								var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
								var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
								var catSmImgTagRender = "";
								var replaceSmImgPreset = catArray[x][4];
								var replaceSmImgHidden = " style='display:none;'";
								var replaceSmImgBackClass = "off";
								var replaceSmImgTest = catSmImgTagStrip.indexOf(" REPLACE");
								if (replaceSmImgTest != -1) {
									if (categoryModal == 1) {
										var replaceSmImgMouseOver = "panel1CatModalImgReplace(1," + catArray[x][0] + ");";
										var replaceSmImgMouseOut = "panel1CatModalImgReplace(2," + catArray[x][0] + ");";
										var replaceSmImgMouseClass = " img_replace_active";
									}
									else {
										var replaceSmImgMouseOver = "panel1CatImgReplace(1," + catArray[x][0] + ");";
										var replaceSmImgMouseOut = "panel1CatImgReplace(2," + catArray[x][0] + ");";
										var replaceSmImgMouseClass = " img_replace_active";
									}
								}
								else {
									var replaceSmImgMouseOver = "";
									var replaceSmImgMouseOut = "";
									var replaceSmImgMouseClass = "";
								}
								if (categoryNoSelect == 0) {
									if (categoryModal == 1) {
										var catSmImgOnClickVar = " onclick='panel1CatModalWrite(" + x + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + x + ");}'";
									}
									else {
										var catSmImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);return false;}'";
									}
								}
								else {
									var catSmImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;}'";
								}
								var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[x][4] + "\");'";
								if (panel1PostLoad == 1) {
									postImgBig = "";
								};
								if (catArray[x][6] != 0 || (catModalTest != -1 && catArray[x][9] == 1)) {
									replaceSmImgHidden = "";
									replaceSmImgBackClass = "on";
								}
								var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
								var catSmImgTagLinkStart = "";
								var catSmImgTagLinkEnd = "";
								if (catSmImgTagLinkTest != -1) {
									catSmImgTagLinkStart = "<a href=''" + catSmImgOnClickVar;
									if (hoverState==1) {
										catSmImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOut + "'";
									}
									catSmImgTagLinkStart += " tabindex='0' title=\"" + catArray[x][1] + "\">";
									catSmImgTagLinkEnd = "<\/a>";
								}
								var catSmImgTagDivTest = catSmImgTagStrip.indexOf(" DIV");
								if (catSmImgTagDivTest != -1) {
									if (panel1PostLoad == 1) {plPostCat = 1;}
									p1CHWon = 1;
									catSmImgTagRender = "<div title=\"" + catArray[x][1] + "\" id='panel1CategorySmImgDivShell" + catArray[x][0] + "' class='panel_1_category_sm_img_div_shell panel_1_category_sm_img_div_shell_" + catArray[x][0] + "'" + catSmImgOnClickVar;
									if (hoverState==1) {
										catSmImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOver + "'";
									}
									catSmImgTagRender += " tabindex='0' title=\"" + catArray[x][1] + "\"><div id='panel1CategorySmImgDivBack" + catArray[x][0] + "' class='panel_1_category_sm_img_div_back panel_1_category_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_category_sm_img_div_back_" + catArray[x][0] + replaceSmImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategorySmImgDivOver" + catArray[x][0] + "' class='panel_1_category_sm_img_div_over panel_1_category_sm_img_div_over_" + catArray[x][0] +"'" + replaceSmImgHidden;
									if (hoverState==1) {
										catSmImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOut + "'";
									}
									catSmImgTagRender += ">&nbsp;<\/div><\/div>";
									categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagRender + baseCatSmImgHTMLEnd;
								}
								else {
									categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + catArray[x][1] + "\" alt=\"" + catArray[x][1] + "\" id='panel1CategorySmImg" + catArray[x][0] + "' class='panel_1_category_sm_img panel_1_category_sm_img_" +catArray[x][0] + replaceSmImgMouseClass + "' src='" + clientImgBase + catArray[x][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
								}
							}
							var catModalTagStart = categoryHTMLTest.indexOf("<!--CATMODAL");
							if (catModalTagStart != -1) {
								if(gLog==1){console.log("CATMODAL 3");}
								var catModalTagEnd = categoryHTMLTest.indexOf(">",catModalTagStart);
								var catModalTagStrip = categoryHTMLTest.substring(catModalTagStart,(catModalTagEnd+1));
								var catModalHTMLStart = categoryHTMLTest.substr(0,catModalTagStart);
								var catModalHTMLEnd = categoryHTMLTest.substr((catModalTagEnd+1));
								var catProdWrite = "<div id='panel1CategoryModalShell" + catArray[x][0] + "' class='panel_1_category_modal_shell panel_1_category_modal_shell_" + catArray[x][0] + " panel_close_me' style='display:none;'><\/div><div style='display:none;'>";
								for (y=0; y<prodDisplayArray.length; y++) {
									if (prodDisplayArray[y][8] == catArray[x][0]) {
										catProdWrite += "<div id='panel1ProductName" + prodDisplayArray[y][0] + "' style='display:none;'>&nbsp;<\/div>";
									}
								}
								catProdWrite += "<\/div>";
								categoryHTMLTest = catModalHTMLStart + catProdWrite + catModalHTMLEnd;
							}
							var catProductsTagStart = categoryHTMLTest.indexOf("<!--CATPRODUCTS");
							if (catProductsTagStart != -1) {
								if(gLog==1){console.log("CATPRODUCTS 3");}
								var catProductsTagEnd = categoryHTMLTest.indexOf(">",catProductsTagStart);
								var catProductsTagStrip = categoryHTMLTest.substring(catProductsTagStart,(catProductsTagEnd+1));
								var baseCatProductsHTMLStart = categoryHTMLTest.substr(0,catProductsTagStart);
								var baseCatProductsHTMLEnd = categoryHTMLTest.substr((catProductsTagEnd+1));
								var simpleCAClass = "";
								var simpleCADisplay = "";
								if (catActivateClass != "") {
									simpleCAClass = catActivateClass + " " + catActivateClass + "_" + catArray[x][0] + " panel_close_me ";
									simpleCADisplay = " style='display:none;'";
								}
								var catProdWrite = "<div id='panel1CategoryProductsShell" + catArray[x][0] + "' class='" + simpleCAClass + "panel_1_category_products_shell panel_1_category_products_shell_" + catArray[x][0] + "'" + simpleCADisplay + ">";
								for (y=0; y<prodDisplayArray.length; y++) {
									if (prodDisplayArray[y][8] == catArray[x][0]) {
										if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
											var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
										}
										else {
											var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
										}
										var prodCloseThings = "";
										var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
										if (prodCloseTagStart != -1) {
											var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
											var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
											var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
											prodCloseThings = "genericCloseMe();";
											productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
										}
										var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
										if (prodIterTagStart != -1) {
											var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
											var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
											var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
											var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
											productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
										}
										var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
										if (famNameTagStart != -1) {
											var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
											var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
											var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
											var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
											var famNameValueVal = "FAMILY NAME ERROR";
											var famProdCatNum = -1;
											for (cn=0; cn<catArray.length; cn++) {
												if (catArray[cn][0] == prodDisplayArray[y][8]) {
													famProdCatNum = cn;
													break;
												}
											}
											if (famProdCatNum != -1) {
												for (fn=0; fn<famArray.length; fn++) {
													if (famArray[fn][0] == catArray[famProdCatNum][2]) {
														famNameValueVal = famArray[fn][1];
														break;
													}
												}
											}
											productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
										}
										var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
										if (catNameTagStart != -1) {
											var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
											var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
											var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
											var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
											var catNameValueVal = "CATEGORY NAME ERROR";
											for (cn=0; cn<catArray.length; cn++) {
												if (catArray[cn][0] == prodDisplayArray[y][8]) {
													catNameValueVal = catArray[cn][1];
													break;
												}
											}
											productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
										}
										var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
										if (prodDiscTagStart != -1) {
											var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
											var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
											var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
											var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
											var prodDiscWrite = "";
											var discVal = prodDisplayArray[y][6];
											if (discVal != 1) {
												prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
											}
											productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
										}
										var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
										if (prodNameTagStart != -1) {
											var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
											var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
											var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
											var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
											var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
											if (replaceImgTest != -1) {
												var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
											else {
												var replaceImgMouseOver = "";
												var replaceImgMouseOut = "";
												var replaceImgMouseClass = "";
											}
											var descTest = prodNameTagStrip.indexOf(" DESC");
											if (descTest != -1) {
												var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
											}
											else {
												var descVal = "";
											}
											var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
											var prodPopupMO = "";
											var prodPopupDIV = "";
											if (prodPopupTestStart != -1) {
												var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
												var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
												prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
												prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
											}
											var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
											var prodNameTagLink = "";
											if (prodNameTagLinkTest != -1) {
												prodNameTagLink = " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
												}
											}
											var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
											if (prodNameItalicStart != -1) {
												var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
												var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
											}
											else {
												var prodNameItalicVar = "";
											}
											var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
											if (prodNameSizeStart != -1) {
												var prodNameDispVal = prodDisplayArray[y][21];
											}
											else {
												var prodNameDispVal = prodDisplayArray[y][2];
											}
											if (FPC==1) {
												var isProductChecked = 1;
												window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
												var baseProductStyle = " panel_1_product_name_on";
											}
											else {
												if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
													var isProductChecked = 1;
													window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
													var baseProductStyle = " panel_1_product_name_on";
												}
												else {
													var isProductChecked = 0;
													var baseProductStyle = " panel_1_product_name_off";
												}
											}
											productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + prodNameDispVal + "\">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
										}
										var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
										if (prodDescTagStart != -1) {
											var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
											var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
											var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
											var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
											productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
										}
										var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
										if (prodCatTagStart != -1) {
											var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
											var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
											var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
											var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
											productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
										}
										var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
										if (prodBigImgTagStart != -1) {
											var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
											var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
											var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
											var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
											var prodBigImgTagRender = "";
											var replaceBigImgMouseOver = "";
											var replaceBigImgMouseOut = "";
											var replaceBigImgMouseClass = "";
											var replaceBigImgPreset = prodDisplayArray[y][4];
											var replaceBigImgHidden = " style='display:none;'";
											var replaceBigImgBackClass = "off";
											var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
											if (replaceBigImgTest != -1) {
												replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												replaceBigImgMouseClass = " img_replace_active";
												var replaceBigImgLength = prodDisplayArray[y][4].length;
												if (FPC==1) {
													var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
													var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
													replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
													replaceBigImgHidden = "";
													replaceBigImgBackClass = "on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
														var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
														replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
														replaceBigImgHidden = "";
														replaceBigImgBackClass = "on";
													}
												}
											}
											var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
											var prodBigImgTagLinkStart = "";
											var prodBigImgTagLinkEnd = "";
											if (prodBigImgTagLinkTest != -1) {
												prodBigImgTagLinkStart = "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
												if (hoverState==1) {
													prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
												}
												prodBigImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
												prodBigImgTagLinkEnd = "<\/a>";
											}
											var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
											if (prodBigImgTagDivTest != -1) {
												p1PHWon = 1;
												prodBigImgTagRender = "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													prodBigImgTagRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
												}
												prodBigImgTagRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
												if (hoverState==1) {
													prodBigImgTagRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
												}
												prodBigImgTagRender += ">&nbsp;<\/div><\/div>";
												productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagRender + baseProdBigImgHTMLEnd;
											}
											else {
												productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
											}
										}
										var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
										if (prodSmImgTagStart != -1) {
											var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
											var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
											var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
											var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
											var prodSmImgTagRender = "";
											var replaceSmImgMouseOver = "";
											var replaceSmImgMouseOut = "";
											var replaceSmImgMouseClass = "";
											var replaceSmImgPreset = prodDisplayArray[y][5];
											var replaceSmImgHidden = " style='display:none;'";
											var replaceSmImgBackClass = "off";
											var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
											if (replaceSmImgTest != -1) {
												replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												replaceSmImgMouseClass = " img_replace_active";
												var replaceSmImgLength = prodDisplayArray[y][5].length;
												if (FPC==1) {
													var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
													var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
													replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
													replaceSmImgHidden = "";
													replaceSmImgBackClass = "on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
														var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
														replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
														replaceSmImgHidden = "";
														replaceSmImgBackClass = "on";
													}
												}
											}
											var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
											var prodSmImgTagLinkStart = "";
											var prodSmImgTagLinkEnd = "";
											if (prodSmImgTagLinkTest != -1) {
												prodSmImgTagLinkStart = "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
												if (hoverState==1) {
													prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
												}
												prodSmImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
												prodSmImgTagLinkEnd = "<\/a>";
											}
											var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
											if (prodSmImgTagDivTest != -1) {
												p1PHWon = 1;
												prodSmImgTagRender = "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													prodSmImgTagRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
												}
												prodSmImgTagRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
												if (hoverState==1) {
													prodSmImgTagRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
												}
												prodSmImgTagRender += ">&nbsp;<\/div><\/div>";
												productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagRender + baseProdSmImgHTMLEnd;
											}
											else {
												productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
											}
										}
										catProdWrite += productHTMLTest;
									}
								}
								catProdWrite += "<\/div>";
								categoryHTMLTest = baseCatProductsHTMLStart + catProdWrite + baseCatProductsHTMLEnd;
							}
							categoryHTML += categoryHTMLTest;
						}
					}
					baseHTML = baseHTMLStart + categoryHTML + baseHTMLEnd;
				}
				else {
					panel1CatSearchOn = 0;
				}
			}
			var labCatStart = baseHTML.indexOf("<!--LABCAT");
			if (labCatStart != -1) {
				labCatTrack = 1;
				var labCatEnd = baseHTML.indexOf(">",labCatStart);
				var labCatStrip = baseHTML.substring(labCatStart,(labCatEnd+1));
				var labCatHTMLStart = baseHTML.substr(0,labCatStart);
				var labCatHTMLEnd = baseHTML.substr((labCatEnd+1));
				labCatModalStart = labCatStrip.indexOf(" MODAL");
				if (labCatModalStart != -1) {
					labCatModal = 1;
				}
				labCatRestrictStart = labCatStrip.indexOf(" RESTRICT");
				if (labCatRestrictStart != -1) {
					labCatRestrict = 1;
				}
				var labCatPostload = labCatStrip.indexOf(" POSTLOAD");
				if (labCatPostload != -1) {
					panel1PostLoad = 1;
				}
				var labCatHTML = "";
				for (pl=0; pl<labelArray.length; pl++) {
					if (labelArray[pl][9] == 0) {
						var labHasChild = 0;
						var labCatHTMLParentStart = autotextIt(p1TemplateSet.panel1LabCatParentStartDiv,"panel1LabCatParentStart");
						var labCatHTMLParentTest = autotextIt(p1TemplateSet.panel1LabCatParentDiv,"panel1LabCatParent");
						var labCatHTMLParentEnd = autotextIt(p1TemplateSet.panel1LabCatParentEndDiv,"panel1LabCatParentEnd");
						var labCatHTMLParent = p1LabCatWrite(labCatHTMLParentTest, "Parent", "parent", pl, labCatRestrict);
						for (cl=0; cl<labelArray.length; cl++) {
							if (labelArray[cl][9] == labelArray[pl][0]) {
								labHasChild = 1;
								var labHasSub = 0;
								var labCatHTMLChildStart = autotextIt(p1TemplateSet.panel1LabCatChildStartDiv,"panel1LabCatChildStart");
								var labCatHTMLChildTest = autotextIt(p1TemplateSet.panel1LabCatChildDiv,"panel1LabCatChild");
								var labCatHTMLChildEnd = autotextIt(p1TemplateSet.panel1LabCatChildEndDiv,"panel1LabCatChildEnd");
								var labCatHTMLChild = p1LabCatWrite(labCatHTMLChildTest, "Child", "child", cl, labCatRestrict);
								for (sl=0; sl<labelArray.length; sl++) {
									if (labelArray[sl][9] == labelArray[cl][0]) {
										labHasSub = 1;
										var labCatHTMLSubStart = autotextIt(p1TemplateSet.panel1LabCatSubStartDiv,"panel1LabCatSubStart");
										var labCatHTMLSubTest = autotextIt(p1TemplateSet.panel1LabCatSubDiv,"panel1LabCatSub");
										var labCatHTMLSubEnd = autotextIt(p1TemplateSet.panel1LabCatSubEndDiv,"panel1LabCatSubEnd");
										var labCatHTMLSub = p1LabCatWrite(labCatHTMLSubTest, "Sub", "sub", sl, labCatRestrict);
										var labCatHTMLProductStart = autotextIt(p1TemplateSet.panel1LabCatProductStartDiv,"panel1LabCatProductStart");
										var labCatHTMLProduct = "";
										var labCatHTMLProductEnd = autotextIt(p1TemplateSet.panel1LabCatProductEndDiv,"panel1LabCatProductEnd");
										var labHasSubProd = 0;
										for (pla=0; pla<prodLabelArray.length; pla++) {
											if (prodLabelArray[pla][2] == labelArray[sl][0]) {
												for (p=0; p<prodDisplayArray.length; p++) {
													if (prodDisplayArray[p][0] == prodLabelArray[pla][1]) {
														labHasSubProd = 1;
														var labCatHTMLProductTest = autotextIt(p1TemplateSet.panel1LabCatProductDiv,"panel1LabCatProduct");
														labCatHTMLProduct += p1LabCatProdWrite(labCatHTMLProductTest, p, pla, labCatRestrict);
														break;
													}
												}
											}
										}
										if (labHasSubProd == 1) {
											labCatHTMLSub += labCatHTMLProductStart + labCatHTMLProduct + labCatHTMLProductEnd;
										}
										labCatHTMLChild += labCatHTMLSubStart + labCatHTMLSub + labCatHTMLSubEnd;
									}
								}
								if (labHasSub == 0) {
									var labCatHTMLProductStart = autotextIt(p1TemplateSet.panel1LabCatProductStartDiv,"panel1LabCatProductStart");
									var labCatHTMLProduct = "";
									var labCatHTMLProductEnd = autotextIt(p1TemplateSet.panel1LabCatProductEndDiv,"panel1LabCatProductEnd");
									var labHasChildProd = 0;
									for (pla=0; pla<prodLabelArray.length; pla++) {
										if (prodLabelArray[pla][2] == labelArray[cl][0]) {
											for (p=0; p<prodDisplayArray.length; p++) {
												if (prodDisplayArray[p][0] == prodLabelArray[pla][1]) {
													labHasChildProd = 1;
													var labCatHTMLProductTest = autotextIt(p1TemplateSet.panel1LabCatProductDiv,"panel1LabCatProduct");
													labCatHTMLProduct += p1LabCatProdWrite(labCatHTMLProductTest, p, pla, labCatRestrict);
													break;
												}
											}
										}
									}
									if (labHasChildProd == 1) {
										labCatHTMLChild += labCatHTMLProductStart + labCatHTMLProduct + labCatHTMLProductEnd;
									}
								}
								labCatHTMLParent += labCatHTMLChildStart + labCatHTMLChild + labCatHTMLChildEnd;
							}
						}
						if (labHasChild == 0) {
							var labCatHTMLProductStart = autotextIt(p1TemplateSet.panel1LabCatProductStartDiv,"panel1LabCatProductStart");
							var labCatHTMLProduct = "";
							var labCatHTMLProductEnd = autotextIt(p1TemplateSet.panel1LabCatProductEndDiv,"panel1LabCatProductEnd");
							var labHasParentProd = 0;
							for (pla=0; pla<prodLabelArray.length; pla++) {
								if (prodLabelArray[pla][2] == labelArray[pl][0]) {
									for (p=0; p<prodDisplayArray.length; p++) {
										if (prodDisplayArray[p][0] == prodLabelArray[pla][1]) {
											labHasParentProd = 1;
											var labCatHTMLProductTest = autotextIt(p1TemplateSet.panel1LabCatProductDiv,"panel1LabCatProduct");
											labCatHTMLProduct += p1LabCatProdWrite(labCatHTMLProductTest, p, pla, labCatRestrict);
											break;
										}
									}
								}
							}
							if (labHasParentProd == 1) {
								labCatHTMLParent += labCatHTMLProductStart + labCatHTMLProduct + labCatHTMLProductEnd;
							}
						}
						labCatHTML += labCatHTMLParentStart + labCatHTMLParent + labCatHTMLParentEnd;
					}
				}
				var labCatProdHide = "<div class='panel_1_labcat_prod_hide'>";
				for (h=0; h<prodDisplayArray.length; h++) {
					labCatProdHide += "<div id='panel1ProductName" + prodDisplayArray[h][0] + "'>" + prodDisplayArray[h][16] + " " + prodDisplayArray[h][2] + "<\/div>";
				}
				labCatProdHide += "<\/div>";
				baseHTML = labCatHTMLStart + labCatHTML + labCatProdHide + labCatHTMLEnd;
			}
			var classSearchOn = 1;
			while (classSearchOn == 1) {
				var classTagStart = baseHTML.indexOf("<!--CLASS");
				if (classTagStart != -1) {
					var classTagEnd = baseHTML.indexOf(">",classTagStart);
					var classTagStrip = baseHTML.substring(classTagStart,(classTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,classTagStart);
					var baseHTMLEnd = baseHTML.substr((classTagEnd+1));
					var classID = 0;
					var classHTML = "";
					var classIDStart = classTagStrip.indexOf(" ID=");
					if (classIDStart != -1) {
						var classIDEnd = classTagStrip.indexOf("]");
						classID = classTagStrip.substring((classIDStart+5),(classIDEnd));
					}
					if (classID != 0) {
						var foundClassID = 0;
						for (l=0;l<classArray.length;l++) {
							if (classArray[l][0] == classID) {
								var classValueStart = classTagStrip.indexOf(" VALUE=");
								var classValueEnd = classTagStrip.indexOf("]");
								if (classValueStart != -1) {
									var classValueVal = classTagStrip.substring((classValueStart+8),(classValueEnd));
								}
								else {
									var classValueVal = classArray[l][1];
								}
								if (classArray[l][5] == 1) {
									var classOnOff = " panel_1_product_class_on";
								}
								else {
									var classOnOff = " panel_1_product_class_off";
								}
								classHTML += "<div class='panel_1_product_class panel_1_product_class_" + classArray[l][0] + classOnOff + "'";
								if (hoverState==1) {
									classHTML += " onmouseover='panel1ProductClassMouseover("+l+","+classArray[l][0]+");' onfocus='panel1ProductClassMouseover("+l+","+classArray[l][0]+");' onmouseout='panel1ProductClassMouseout("+l+","+classArray[l][0]+");' onblur='panel1ProductClassMouseout("+l+","+classArray[l][0]+");'";
								}
								classHTML += " onclick='panel1ProductClassSelect("+l+","+classArray[l][0]+",\"" + clientMarket + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductClassSelect("+l+","+classArray[l][0]+",\"" + clientMarket + "\");}' tabindex='0' title=\"" + classValueVal + "\">" + classValueVal + "<\/div>";
								foundClassID = 1;
								break;
							}
						}
						if (foundClassID == 0) {
							if(gLog==1){console.log("ERROR: Unknown Class ID="+classID);}
							p1ErrorArray.push("ERROR: Unknown Class ID="+classID);
						}
					}
					else {
						if(gLog==1){console.log("ERROR: No Class ID");}
						p1ErrorArray.push("ERROR: No Class ID");
					}
					baseHTML = baseHTMLStart + classHTML + baseHTMLEnd;
				}
				else {
					classSearchOn = 0;
				}
			}
			var labelGroupSearchOn = 1;
			while (labelGroupSearchOn == 1) {
				var labelGroupTagStart = baseHTML.indexOf("<!--LGROUP");
				if (labelGroupTagStart != -1) {
					var labelGroupTagEnd = baseHTML.indexOf(">",labelGroupTagStart);
					var labelGroupTagStrip = baseHTML.substring(labelGroupTagStart,(labelGroupTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,labelGroupTagStart);
					var baseHTMLEnd = baseHTML.substr((labelGroupTagEnd+1));
					var labelGroupID = 0;
					var labelGroupHTML = "";
					var labelGroupIDStart = labelGroupTagStrip.indexOf(" LID=");
					if (labelGroupIDStart != -1) {
						var labelGroupIDEnd = labelGroupTagStrip.indexOf("]");
						labelGroupID = labelGroupTagStrip.substring((labelGroupIDStart+6),(labelGroupIDEnd));
					}
					var labelGroupItalicStart = labelGroupTagStrip.indexOf(" FNTAW=");
					if (labelGroupItalicStart != -1) {
						var labelGroupItalicEnd = labelGroupTagStrip.indexOf("]",labelGroupItalicStart);
						var labelGroupItalicVar = "<i class='fa " + labelGroupTagStrip.substring((labelGroupItalicStart+8),(labelGroupItalicEnd)) + "'><\/i>";
					}
					else {
						var labelGroupItalicVar = "";
					}
					var labelGroupValueStart = labelGroupTagStrip.indexOf(" VALUE=");
					if (labelGroupValueStart != -1) {
						var labelGroupValueEnd = labelGroupTagStrip.indexOf("]");
						var labelGroupValueVal = labelGroupTagStrip.substring((labelGroupValueStart+8),(labelGroupValueEnd));
					}
					else {
						var labelGroupValueVal = "UNNAMED LGROUP";
					}
					if (labelGroupID != 0) {
						labelGroupHTML += "<div class='panel_1_product_labelgroup panel_1_product_labelgroup_" + labelGroupArray[l][0] + " " + labelGroupClass + "'";
						if (hoverState==1) {
							labelGroupHTML += " onmouseover='panel1ProductLabelGroupMouseover("+l+","+labelGroupArray[l][0]+");' onfocus='panel1ProductLabelGroupMouseover("+l+","+labelGroupArray[l][0]+");' onmouseout='panel1ProductLabelGroupMouseout("+l+","+labelGroupArray[l][0]+");' onblur='panel1ProductLabelGroupMouseout("+l+","+labelGroupArray[l][0]+");'";
						}
						labelGroupHTML += " onclick='panel1ProductLabelGroupSelect("+l+","+labelGroupArray[l][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductLabelGroupSelect("+l+","+labelGroupArray[l][0]+");}' tabindex='0' title=\"" + labelGroupValueVal + "\">" + labelGroupItalicVar + labelGroupValueVal + "<\/div>";
					}
					else {
						labelGroupHTML = "";
						if(gLog==1){console.log("ERROR: No LGroup LID");}
						p1ErrorArray.push("ERROR: No LGroup LID");
					}
					baseHTML = baseHTMLStart + labelGroupHTML + baseHTMLEnd;
				}
				else {
					labelGroupSearchOn = 0;
				}
			}
			var labelBreadcrumbTagStart = baseHTML.indexOf("<!--LABELBREADCRUMB");
			if (labelBreadcrumbTagStart != -1) {
				var labelBreadcrumbTagEnd = baseHTML.indexOf(">",labelBreadcrumbTagStart);
				var labelBreadcrumbTagStrip = baseHTML.substring(labelBreadcrumbTagStart,(labelBreadcrumbTagEnd+1));
				var baseHTMLStart = baseHTML.substr(0,labelBreadcrumbTagStart);
				var baseHTMLEnd = baseHTML.substr((labelBreadcrumbTagEnd+1));
				var crumbShowStart = labelBreadcrumbTagStrip.indexOf(" SHOW=");
				if (crumbShowStart != -1) {
					crumbShowArr.length = 0;
					var crumbShowEnd = labelBreadcrumbTagStrip.indexOf("]",crumbShowStart);
					var crumbShow = labelBreadcrumbTagStrip.substring((crumbShowStart+7),(crumbShowEnd));
					crumbShowArr = crumbShow.split(",",crumbShowStart);
				}
				var crumbHideStart = labelBreadcrumbTagStrip.indexOf(" HIDE=");
				if (crumbHideStart != -1) {
					crumbHideArr.length = 0;
					var crumbHideEnd = labelBreadcrumbTagStrip.indexOf("]",crumbHideStart);
					var crumbHide = labelBreadcrumbTagStrip.substring((crumbHideStart+7),(crumbHideEnd));
					crumbHideArr = crumbHide.split(",");
				}
				var labelBreadcrumbCloseStart = labelBreadcrumbTagStrip.indexOf(" NOCLOSE");
				if (labelBreadcrumbCloseStart != -1) {
					caCrumbClose = 0;
				}
				var labelBreadcrumbClearStart = labelBreadcrumbTagStrip.indexOf(" CLEARBUTTON=");
				if (labelBreadcrumbClearStart != -1) {
					var labelBreadcrumbClearEnd = labelBreadcrumbTagStrip.indexOf("]",labelBreadcrumbClearStart);
					breadcrumbClearButtonValue = labelBreadcrumbTagStrip.substring((labelBreadcrumbClearStart+14),(labelBreadcrumbClearEnd));
					caCrumbClearButton = 1;
				}
				var labelBreadcrumbValueStart = labelBreadcrumbTagStrip.indexOf(" VALUE=");
				if (labelBreadcrumbValueStart != -1) {
					var labelBreadcrumbValueEnd = labelBreadcrumbTagStrip.indexOf("]",labelBreadcrumbValueStart);
					var labelBreadcrumbValueVal = labelBreadcrumbTagStrip.substring((labelBreadcrumbValueStart+8),(labelBreadcrumbValueEnd));
				}
				else {
					var labelBreadcrumbValueVal = "Showing products for: ";
				}
				baseHTML = baseHTMLStart + "<div id='panel1LabelCrumbShell' class='panel_1__label_crumb_shell' style='display:none;'>" + labelBreadcrumbValueVal + "<span id='panel1LabelCrumbItems'><\/span><\/div>" + baseHTMLEnd;
			}
			var labelresetButtonTagStart = baseHTML.indexOf("<!--LABELRESETBUTTON");
			if (labelresetButtonTagStart != -1) {
				var labelresetButtonTagEnd = baseHTML.indexOf(">",labelresetButtonTagStart);
				var labelresetButtonTagStrip = baseHTML.substring(labelresetButtonTagStart,(labelresetButtonTagEnd+1));
				var labelresetButtonHTMLStart = baseHTML.substr(0,labelresetButtonTagStart);
				var labelresetButtonHTMLEnd = baseHTML.substr((labelresetButtonTagEnd+1));
				var labelresetButtonRender = "";
				var labelresetButtonValueStart = labelresetButtonTagStrip.indexOf(" VALUE=");
				var labelresetButtonValueEnd = labelresetButtonTagStrip.indexOf("]",labelresetButtonValueStart);
				if (labelresetButtonValueStart != -1) {
					labelresetButtonValueVar = labelresetButtonTagStrip.substring((labelresetButtonValueStart+8),(labelresetButtonValueEnd));
				}
				else {
					labelresetButtonValueVar = "RESET LABELS";
				}
				var labelresetButtonItalicStart = labelresetButtonTagStrip.indexOf(" FNTAW=");
				var labelresetButtonItalicEnd = labelresetButtonTagStrip.indexOf("]",labelresetButtonItalicStart);
				if (labelresetButtonItalicStart != -1) {
					labelresetButtonItalicVar = "<i class='fa " + labelresetButtonTagStrip.substring((labelresetButtonItalicStart+8),(labelresetButtonItalicEnd)) + "'><\/i>";
				}
				else {
					labelresetButtonItalicVar = "";
				}
				labelresetButtonRender += "<div id='panel1LabelResetButton' class='panel_1_labelreset_button panel_1_labelreset_button_off'";
				if (hoverState==1) {
					labelresetButtonRender += " onmouseover='panel1ButtonHover(\"panel1LabelResetButton\",\"panel_1_labelreset_button\",1);' onfocus='panel1ButtonHover(\"panel1LabelResetButton\",\"panel_1_labelreset_button\",1);' onmouseout='panel1ButtonHover(\"panel1LabelResetButton\",\"panel_1_labelreset_button\",0);' onblur='panel1ButtonHover(\"panel1LabelResetButton\",\"panel_1_labelreset_button\",0);'";
				}
				labelresetButtonRender += " onclick='panel1LabelReset();"+p1filterType+"' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabelReset();"+p1filterType+"}' tabindex='0' title=\"" + labelresetButtonValueVar + "\">" + labelresetButtonItalicVar + labelresetButtonValueVar + "<\/div>";
				baseHTML = labelresetButtonHTMLStart + labelresetButtonRender + labelresetButtonHTMLEnd;
			}
			var redrawModalButtonTagStart = baseHTML.indexOf("<!--REDRAWMODALBUTTON");
			if (redrawModalButtonTagStart != -1) {
				var redrawModalButtonTagEnd = baseHTML.indexOf(">",redrawModalButtonTagStart);
				var redrawModalButtonTagStrip = baseHTML.substring(redrawModalButtonTagStart,(redrawModalButtonTagEnd+1));
				var redrawModalButtonHTMLStart = baseHTML.substr(0,redrawModalButtonTagStart);
				var redrawModalButtonHTMLEnd = baseHTML.substr((redrawModalButtonTagEnd+1));
				var redrawModalButtonRender = "";
				var redrawModalButtonValueStart = redrawModalButtonTagStrip.indexOf(" VALUE=");
				var redrawModalButtonValueEnd = redrawModalButtonTagStrip.indexOf("]",redrawModalButtonValueStart);
				if (redrawModalButtonValueStart != -1) {
					redrawModalButtonValueVar = redrawModalButtonTagStrip.substring((redrawModalButtonValueStart+8),(redrawModalButtonValueEnd));
				}
				else {
					redrawModalButtonValueVar = "FILTERS";
				}
				var redrawModalButtonItalicStart = redrawModalButtonTagStrip.indexOf(" FNTAW=");
				var redrawModalButtonItalicEnd = redrawModalButtonTagStrip.indexOf("]",redrawModalButtonItalicStart);
				if (redrawModalButtonItalicStart != -1) {
					redrawModalButtonItalicVar = "<i class='fa " + redrawModalButtonTagStrip.substring((redrawModalButtonItalicStart+8),(redrawModalButtonItalicEnd)) + "'><\/i>";
				}
				else {
					redrawModalButtonItalicVar = "";
				}
				redrawModalButtonRender += "<div id='panel1RedrawModalButton' class='panel_1_redraw_modal_button panel_1_redraw_modal_button_off'";
				if (hoverState==1) {
					redrawModalButtonRender += " onmouseover='panel1ButtonHover(\"panel1RedrawModalButton\",\"panel_1_redraw_modal_button\",1);' onfocus='panel1ButtonHover(\"panel1RedrawModalButton\",\"panel_1_redraw_modal_button\",1);' onmouseout='panel1ButtonHover(\"panel1RedrawModalButton\",\"panel_1_redraw_modal_button\",0);' onblur='panel1ButtonHover(\"panel1RedrawModalButton\",\"panel_1_redraw_modal_button\",0);'";
				}
				redrawModalButtonRender += " onclick='modalOpen();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){modalOpen();}' tabindex='0' title=\"" + redrawModalButtonValueVar + "\">" + redrawModalButtonItalicVar + redrawModalButtonValueVar + "<\/div>";
				baseHTML = redrawModalButtonHTMLStart + redrawModalButtonRender + redrawModalButtonHTMLEnd;
			}
			var redrawSelAllProdButtonTagStart = baseHTML.indexOf("<!--REDRAWSELALLPRODBUTTON");
			if (redrawSelAllProdButtonTagStart != -1) {
				var redrawSelAllProdButtonTagEnd = baseHTML.indexOf(">",redrawSelAllProdButtonTagStart);
				var redrawSelAllProdButtonTagStrip = baseHTML.substring(redrawSelAllProdButtonTagStart,(redrawSelAllProdButtonTagEnd+1));
				var redrawSelAllProdButtonHTMLStart = baseHTML.substr(0,redrawSelAllProdButtonTagStart);
				var redrawSelAllProdButtonHTMLEnd = baseHTML.substr((redrawSelAllProdButtonTagEnd+1));
				var redrawSelAllProdButtonRender = "";
				var redrawSelAllProdButtonValueStart = redrawSelAllProdButtonTagStrip.indexOf(" VALUE=");
				var redrawSelAllProdButtonValueEnd = redrawSelAllProdButtonTagStrip.indexOf("]",redrawSelAllProdButtonValueStart);
				if (redrawSelAllProdButtonValueStart != -1) {
					redrawSelAllProdButtonValueVar = redrawSelAllProdButtonTagStrip.substring((redrawSelAllProdButtonValueStart+8),(redrawSelAllProdButtonValueEnd));
				}
				else {
					redrawSelAllProdButtonValueVar = "FILTERS";
				}
				var redrawSelAllProdButtonItalicStart = redrawSelAllProdButtonTagStrip.indexOf(" FNTAW=");
				var redrawSelAllProdButtonItalicEnd = redrawSelAllProdButtonTagStrip.indexOf("]",redrawSelAllProdButtonItalicStart);
				if (redrawSelAllProdButtonItalicStart != -1) {
					redrawSelAllProdButtonItalicVar = "<i class='fa " + redrawSelAllProdButtonTagStrip.substring((redrawSelAllProdButtonItalicStart+8),(redrawSelAllProdButtonItalicEnd)) + "'><\/i>";
				}
				else {
					redrawSelAllProdButtonItalicVar = "";
				}
				redrawSelAllProdButtonRender += "<div id='panel1RedrawSelAllProdButton' class='panel_1_redraw_selallprod_button panel_1_redraw_selallprod_button_off'";
				if (hoverState==1) {
					redrawSelAllProdButtonRender += " onmouseover='panel1ButtonHover(\"panel1RedrawSelAllProdButton\",\"panel_1_redraw_selallprod_button\",1);' onfocus='panel1ButtonHover(\"panel1RedrawSelAllProdButton\",\"panel_1_redraw_selallprod_button\",1);' onmouseout='panel1ButtonHover(\"panel1RedrawSelAllProdButton\",\"panel_1_redraw_selallprod_button\",0);' onblur='panel1ButtonHover(\"panel1RedrawSelAllProdButton\",\"panel_1_redraw_selallprod_button\",0);'";
				}
				redrawSelAllProdButtonRender += " onclick='redrawSelAllProd();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){redrawSelAllProd();}' tabindex='0' title=\"" + redrawSelAllProdButtonValueVar + "\">" + redrawSelAllProdButtonItalicVar + redrawSelAllProdButtonValueVar + "<\/div>";
				baseHTML = redrawSelAllProdButtonHTMLStart + redrawSelAllProdButtonRender + redrawSelAllProdButtonHTMLEnd;
			}
			var redrawBrandLabelStart = baseHTML.indexOf("<!--REDRAWBRANDLABEL");
			if (redrawBrandLabelStart != -1) {
				var redrawBrandLabelEnd = baseHTML.indexOf(">",redrawBrandLabelStart);
				var redrawBrandLabelStrip = baseHTML.substring(redrawBrandLabelStart,(redrawBrandLabelEnd+1));
				var redrawBrandLabelHTMLStart = baseHTML.substr(0,redrawBrandLabelStart);
				var redrawBrandLabelHTMLEnd = baseHTML.substr((redrawBrandLabelEnd+1));
				var redrawBrandabelNoTopStart = redrawBrandLabelStrip.indexOf(" NOTOP");
				if (redrawBrandabelNoTopStart != -1) {
					p1RedrawLabelNoTop = 1;
				}
				var redrawBrandabelKeepTopStart = redrawBrandLabelStrip.indexOf(" KEEPTOP");
				if (redrawBrandabelKeepTopStart != -1) {
					p1RedrawLabelKeepTop = 1;
				}
				var redrawBrandLabelShowStart = redrawBrandLabelStrip.indexOf(" SHOW=");
				if (redrawBrandLabelShowStart != -1) {
					var redrawBrandLabelShowEnd = redrawBrandLabelStrip.indexOf("]",redrawBrandLabelShowStart);
					p1RedrawLabelShow = redrawBrandLabelStrip.substring((redrawBrandLabelShowStart+7),(redrawBrandLabelShowEnd));
				}
				var redrawBrandLabelHideStart = redrawBrandLabelStrip.indexOf(" HIDE=");
				if (redrawBrandLabelHideStart != -1) {
					var redrawBrandLabelHideEnd = redrawBrandLabelStrip.indexOf("]",redrawBrandLabelHideStart);
					p1RedrawLabelHide = redrawBrandLabelStrip.substring((redrawBrandLabelHideStart+7),(redrawBrandLabelHideEnd));
				}
				var redrawBrandLabelHideStart = redrawBrandLabelStrip.indexOf(" LABELHIDE");
				if (redrawBrandLabelHideStart != -1) {
					panel1BrandLabelHideLabels = 1;
				}
				baseHTML = redrawBrandLabelHTMLStart + "<div id='panel1RedrawBrandLabelShell' class='panel_1_redraw_brand_label_shell'><\/div>" + redrawBrandLabelHTMLEnd;
			}
			var redrawLabelStart = baseHTML.indexOf("<!--REDRAWLABEL");
			if (redrawLabelStart != -1) {
				var redrawLabelEnd = baseHTML.indexOf(">",redrawLabelStart);
				var redrawLabelStrip = baseHTML.substring(redrawLabelStart,(redrawLabelEnd+1));
				var redrawLabelHTMLStart = baseHTML.substr(0,redrawLabelStart);
				var redrawLabelHTMLEnd = baseHTML.substr((redrawLabelEnd+1));
				var redrawLabelCountStart = redrawLabelStrip.indexOf(" COUNT");
				if (redrawLabelCountStart != -1) {
					p1RedrawLabelCount = 1;
				}
				var redrawLabelRadioStart = redrawLabelStrip.indexOf(" RADIO");
				if (redrawLabelRadioStart != -1) {
					p1RedrawLabelRadio = 1;
				}
				var redrawLabelModalStart = redrawLabelStrip.indexOf(" MODAL");
				if (redrawLabelModalStart != -1) {
					p1RedrawLabelModal = 1;
				}
				var redrawLabelNoTopStart = redrawLabelStrip.indexOf(" NOTOP");
				if (redrawLabelNoTopStart != -1) {
					p1RedrawLabelNoTop = 1;
				}
				var redrawabelKeepTopStart = redrawLabelStrip.indexOf(" KEEPTOP");
				if (redrawabelKeepTopStart != -1) {
					p1RedrawLabelKeepTop = 1;
				}
				var redrawLabelExpandStart = redrawLabelStrip.indexOf(" EXPAND");
				if (redrawLabelExpandStart != -1) {
					p1RedrawLabelExpand = 1;
				}
				var redrawLabelFamilyStart = redrawLabelStrip.indexOf(" FAMILY=");
				if (redrawLabelFamilyStart != -1) {
					var redrawLabelFamilyEnd = redrawLabelStrip.indexOf("]",redrawLabelFamilyStart);
					redrawBrandText = redrawLabelStrip.substring((redrawLabelFamilyStart+9),(redrawLabelFamilyEnd));
					p1RedrawLabelFamily = 1;
					p1RedrawLabelClear = 0;
				}
				var redrawLabelClearStart = redrawLabelStrip.indexOf(" CLEAR=");
				if (redrawLabelClearStart != -1) {
					var redrawLabelClearEnd = redrawLabelStrip.indexOf("]",redrawLabelClearStart);
					redrawClearText = redrawLabelStrip.substring((redrawLabelClearStart+8),(redrawLabelClearEnd));
					p1RedrawLabelFamily = 0;
					p1RedrawLabelClear = 1;
				}
				var redrawLabelHeaderStart = redrawLabelStrip.indexOf(" HEADER=");
				if (redrawLabelHeaderStart != -1) {
					var redrawLabelHeaderEnd = redrawLabelStrip.indexOf("]",redrawLabelHeaderStart);
					redrawLabelText = redrawLabelStrip.substring((redrawLabelHeaderStart+9),(redrawLabelHeaderEnd));
				}
				var redrawLabelShowStart = redrawLabelStrip.indexOf(" SHOW=");
				if (redrawLabelShowStart != -1) {
					var redrawLabelShowEnd = redrawLabelStrip.indexOf("]",redrawLabelShowStart);
					p1RedrawLabelShow = redrawLabelStrip.substring((redrawLabelShowStart+7),(redrawLabelShowEnd));
				}
				var redrawLabelHideStart = redrawLabelStrip.indexOf(" HIDE=");
				if (redrawLabelHideStart != -1) {
					var redrawLabelHideEnd = redrawLabelStrip.indexOf("]",redrawLabelHideStart);
					p1RedrawLabelHide = redrawLabelStrip.substring((redrawLabelHideStart+7),(redrawLabelHideEnd));
				}
				baseHTML = redrawLabelHTMLStart + "<div id='panel1RedrawLabelShell' class='panel_1_redraw_label_shell'><\/div>" + redrawLabelHTMLEnd;
			}
			var dietListStart = baseHTML.indexOf("<!--DIETLIST");
			if (dietListStart != -1) {
				var dietListEnd = baseHTML.indexOf(">",dietListStart);
				var dietListStrip = baseHTML.substring(dietListStart,(dietListEnd+1));
				var dietListHTMLStart = baseHTML.substr(0,dietListStart);
				var dietListHTMLEnd = baseHTML.substr((dietListEnd+1));
				var dietListHeaderStart = dietListStrip.indexOf(" HEADER=");
				if (dietListHeaderStart != -1) {
					var dietListHeaderEnd = dietListStrip.indexOf("]",dietListHeaderStart);
					redrawDietText = dietListStrip.substring((dietListHeaderStart+9),(dietListHeaderEnd));
				}
				var dietListCountStart = dietListStrip.indexOf(" COUNT");
				if (dietListCountStart != -1) {
					p1DietListCount = 1;
				}
				baseHTML = dietListHTMLStart + "<div id='panel1DietListShell' class='panel_1_diet_list_shell'><\/div>" + dietListHTMLEnd;
			}
			var labelSearchOn = 1;
			labelSubArray.length = 0;
			while (labelSearchOn == 1) {
				var labelTagStart = baseHTML.indexOf("<!--LABEL");
				if (labelTagStart != -1) {
					var labelTagEnd = baseHTML.indexOf(">",labelTagStart);
					var labelTagStrip = baseHTML.substring(labelTagStart,(labelTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,labelTagStart);
					var baseHTMLEnd = baseHTML.substr((labelTagEnd+1));
					var labelID = 0;
					var labelHTML = "";
					var labelIDStart = labelTagStrip.indexOf(" ID=");
					if (labelIDStart != -1) {
						var labelIDEnd = labelTagStrip.indexOf("]");
						labelID = labelTagStrip.substring((labelIDStart+5),(labelIDEnd));
					}
					var p1AddBadge = 0;
					var labelBadgeStart = labelTagStrip.indexOf(" BADGE");
					if (labelBadgeStart != -1) {
						p1AddBadge = 1;
					}
					var labFamOn = 0;
					var labelFamilyStart = labelTagStrip.indexOf(" FAMILY");
					if (labelFamilyStart != -1) {
						labFamOn = 1;
					}
					var addCount = 0;
					var labelCountStart = labelTagStrip.indexOf(" COUNT");
					if (labelCountStart != -1) {
						addCount = 1;
					}
					var childOn = 0;
					var labelChildStart = labelTagStrip.indexOf(" CHILD");
					if (labelChildStart != -1) {
						childOn = 1;
					}
					var addCatCount = 0;
					var labelCatCountStart = labelTagStrip.indexOf(" CATCOUNT");
					if (labelCatCountStart != -1) {
						addCatCount = 1;
					}
					var labelIDStart = labelTagStrip.indexOf(" RADIO");
					if (labelIDStart != -1) {
						panel1LabelRadioCheck = 1;
					}
					var labelNoAllStart = labelTagStrip.indexOf(" NORESET");
					if (labelNoAllStart != -1) {
						panel1LabelNoShowAll = 1;
					}
					var labelBackStart = labelTagStrip.indexOf(" BACK=");
					if (labelBackStart != -1) {
						var labelBackEnd = labelTagStrip.indexOf("]",labelBackStart);
						var labelBackToFamText = labelTagStrip.substring((labelBackStart+7),(labelBackEnd));
						panel1LabelBackToFam = 1;
					}
					var labelClearStart = labelTagStrip.indexOf(" CLEAR");
					var labelClearIt = "";
					if (labelClearStart != -1) {
						labelClearIt = "panel1FamLabelReset();";
					}
					var labelLoaderStart = labelTagStrip.indexOf(" LOADER");
					var labelLoaderS = "";
					var labelLoaderE = "";
					if (labelLoaderStart != -1) {
						labelLoaderS = "setTimeout(function(){";
						labelLoaderE = "},500);";
					}
					var labelItalicStart = labelTagStrip.indexOf(" FNTAW=");
					if (labelItalicStart != -1) {
						var labelItalicEnd = labelTagStrip.indexOf("]",labelItalicStart);
						labelItalicVar = "<i class='fa " + labelTagStrip.substring((labelItalicStart+8),(labelItalicEnd)) + "'><\/i>";
					}
					else {
						labelItalicVar = "";
					}
					var labelSubOffStart = labelTagStrip.indexOf(" SUBFNTAWOFF=");
					if (labelSubOffStart != -1) {
						var labelSubOffEnd = labelTagStrip.indexOf("]",labelSubOffStart);
						labelSubOffVar = "<i class='fa " + labelTagStrip.substring((labelSubOffStart+14),(labelSubOffEnd)) + "'><\/i>";
					}
					else {
						labelSubOffVar = "";
					}
					var labelSubOnStart = labelTagStrip.indexOf(" SUBFNTAWON=");
					if (labelSubOnStart != -1) {
						var labelSubOnEnd = labelTagStrip.indexOf("]",labelSubOnStart);
						labelSubOnVar = "<i class='fa " + labelTagStrip.substring((labelSubOnStart+13),(labelSubOnEnd)) + "'><\/i>";
					}
					else {
						labelSubOnVar = "";
					}
					var labelShow = "";
					var labelShowStart = labelTagStrip.indexOf(" SHOW=");
					if (labelShowStart != -1) {
						labelShowArr.length = 0;
						var labelShowEnd = labelTagStrip.indexOf("]",labelShowStart);
						labelShow = labelTagStrip.substring((labelShowStart+7),(labelShowEnd));
						labelShowArr = labelShow.split(",",labelShowStart);
					}
					var labelHide = "";
					var labelHideStart = labelTagStrip.indexOf(" HIDE=");
					if (labelHideStart != -1) {
						labelHideArr.length = 0;
						var labelHideEnd = labelTagStrip.indexOf("]",labelHideStart);
						labelHide = labelTagStrip.substring((labelHideStart+7),(labelHideEnd));
						labelHideArr = labelHide.split(",");
					}
					if (labelID != 0) {
						if(gLog==1){console.log("LABEL - labelID != 0");}
						var foundLabelID = 0;
						for (l=0;l<labelArray.length;l++) {
							if (labelArray[l][0] == labelID && labelArray[l][17] == 1) {
								var labelValueStart = labelTagStrip.indexOf(" VALUE=");
								var labelValueEnd = labelTagStrip.indexOf("]");
								if (labelValueStart != -1) {
									var labelValueVal = labelTagStrip.substring((labelValueStart+8),(labelValueEnd));
								}
								else {
									var labelValueVal = labelArray[l][1];
								}
								if (LABEL == labelArray[l][0]) {
									var labelClass = "panel_1_product_label_on";
									panel1LabelPreselect = l;
								}
								else {
									var labelClass = "panel_1_product_label_off";
								}
								var p1BadgeWrite = "";
								if (p1AddBadge == 1) {
									p1BadgeWrite = "<span id='panel1LabelBadge" + labelArray[l][0] + "' class='counter_badge panel_1_label_badge' style='display:none;'>0<\/span>";
								}
								var countWrite = "";
								var qCt = 0;
								if (addCount == 1) {
									for (q=0; q<prodLabelArray.length; q++) {
										if (prodLabelArray[q][2] == labelArray[l][0]) {
											qCt++;
										}
									}
									countWrite = " (" + qCt + ")";
								}
								else if (addCatCount == 1) {
									catCountFoundArr.length = 0;
									for (q=0; q<prodLabelArray.length; q++) {
										if (prodLabelArray[q][2] == labelArray[l][0]) {
											catCountFoundArr.push(prodLabelArray[q][1]);
										}
									}
									for (n=0; n<catCountFoundArr.length; n++) {
										for (m=0; m<prodDisplayArray.length; m++) {
											if (prodDisplayArray[m][0] == catCountFoundArr[n]) {
												catCountFoundArr[n] = prodDisplayArray[m][8];
												break;
											}
										}
									}
									catCountFoundArr.sort();
									var	qCtArr = [];
									var qCtX = 0;
									for (r=0; r<catCountFoundArr.length; r++) {
										if(qCtArr.length) {
											if (qCtArr[qCtX] != catCountFoundArr[r]) {
												qCtX++;
												qCtArr[qCtX] = catCountFoundArr[r];
											}
										}
										else {
											qCtArr[qCtX] = catCountFoundArr[r];
										}
									}
									qCt = qCtArr.length;
									countWrite = " (" + qCt + ")";
								}
								else {
									for (q=0; q<prodLabelArray.length; q++) {
										if (prodLabelArray[q][2] == labelArray[l][0]) {
											qCt++;
										}
									}
								}
								if (qCt != 0) {
									if (labelArray[l][9] == 0) {
										labelHTML += "<div id='panel1ProductLabel" + labelArray[l][0] + "' class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
										if (hoverState==1) {
											labelHTML += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
										}
										labelHTML += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}' tabindex='0' title=\"" + labelValueVal + "\">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<span id='labelSubControl" + labelArray[l][0] + "' class='panel_1_label_sub_control' style='display:none;'><span id='labelSubControl" + labelArray[l][0] + "On' class='panel_1_label_sub_control_on' style='display:none;'>" + labelSubOnVar + "<\/span><span id='labelSubControl" + labelArray[l][0] + "Off' class='panel_1_label_sub_control_off'>" + labelSubOffVar + "<\/span><\/span><\/div><div id='labelSubDiv" + labelArray[l][0] + "' class='panel_1_label_sub_div' style='display:none;'><\/div>";
									}
									else {
										var tl = labelSubArray.length;
										var tLab = "<div id='panel1ProductLabel" + labelArray[l][0] + "' class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
										if (hoverState==1) {
											tLab += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
										}
										tLab += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}' tabindex='0' title=\"" + labelValueVal + "\">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<\/div>";
										labelSubArray[tl] = [labelArray[l][9], tLab];
									}
								}
								foundLabelID = 1;
								break;
							}
						}
						if (foundLabelID == 0) {
							if(gLog==1){console.log("ERROR: Unknown Label ID="+labelID);}
							p1ErrorArray.push("ERROR: Unknown Label ID="+labelID);
						}
					}
					else {
						if (childOn == 1) {
							if(gLog==1){console.log("LABEL - childOn == 1");}
							var thisChildTracker = 0;
							for (c=0; c<childArray.length; c++) {
								var thisChildOffDisplay = " style='display:none;'";
								var thisChildOnDisplay = " style='display:none;'";
								var thisChildContentDisplay = "";
								if (winWidth > globalRespWidth && panel1ChildDesktopHide == 1) {
									thisChildOffDisplay = "";
									thisChildContentDisplay = " style='display:none;'";
								}
								if (winWidth <= globalRespWidth && panel1ChildMobileHide == 1) {
									thisChildOffDisplay = "";
									thisChildContentDisplay = " style='display:none;'";
								}
								var foundChildLabels = 0;
								var childLabelHTML = "<div class='panel_1_child_label_shell panel_1_child_label_shell_" + childArray[c][0] + "'><div class='panel_1_child_label_inner panel_1_child_label_inner_" + childArray[c][0] + "'><div class='panel_1_child_label_header panel_1_child_label_header_" + childArray[c][0] + "' onclick='panel1ChildSelect(" + childArray[c][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ChildSelect(" + childArray[c][0] + ");}' tabindex='0' title=\"" + childArray[c][1] + "\"><div class='panel_1_child_label_name panel_1_child_label_name_" + childArray[c][0] + "'>" + childArray[c][1] + "<span class='panel_1_child_label_control_on panel_1_child_label_control_on_" + childArray[c][0] + "'" + thisChildOnDisplay + ">" + panel1ChildSubOn + "</span><span class='panel_1_child_label_control_off panel_1_child_label_control_off_" + childArray[c][0] + "'" + thisChildOffDisplay + ">" + panel1ChildSubOff + "</span><\/div><\/div><div class='panel_1_child_label_content panel_1_child_label_content_" + childArray[c][0] + "'" + thisChildContentDisplay + ">";
								var currLabTrack = 0;
								for (l=0;l<labelArray.length;l++) {
									if (labelArray[l][8] == childArray[c][0] && labelArray[l][17] == 1) {
										var labelValueVal = labelArray[l][1];
										if (LABEL == labelArray[l][0]) {
											var labelClass = "panel_1_product_label_on";
											panel1LabelPreselect = l;
										}
										else {
											var labelClass = "panel_1_product_label_off";
										}
										var p1BadgeWrite = "";
										if (p1AddBadge == 1) {
											p1BadgeWrite = "<span id='panel1LabelBadge" + labelArray[l][0] + "' class='counter_badge panel_1_label_badge' style='display:none;'>0<\/span>";
										}
										var countWrite = "";
										var qCt = 0;
										if (addCount == 1) {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
											countWrite = " (" + qCt + ")";
										}
										else if (addCatCount == 1) {
											catCountFoundArr.length = 0;
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													catCountFoundArr.push(prodLabelArray[q][1]);
												}
											}
											for (n=0; n<catCountFoundArr.length; n++) {
												var checkPLisIn = 0;
												for (m=0; m<prodDisplayArray.length; m++) {
													if (prodDisplayArray[m][0] == catCountFoundArr[n]) {
														catCountFoundArr[n] = prodDisplayArray[m][8];
														checkPLisIn = 1;
														break;
													}
												}
												if (checkPLisIn == 0) {
													catCountFoundArr[n] = 0;
												}
											}
											catCountFoundArr.sort();
											var	qCtArr = [];
											var qCtX = 0;
											for (r=0; r<catCountFoundArr.length; r++) {
												if(qCtArr.length) {
													if (qCtArr[qCtX] != catCountFoundArr[r] && catCountFoundArr[r] != 0) {
														qCtX++;
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
												else {
													if (catCountFoundArr[r] != 0) {
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
											}
											qCt = qCtArr.length;
											if(gLog==1){console.log("qCtArr - ",qCtArr);}
											countWrite = " (" + qCt + ")";
										}
										else {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
										}
										if (qCt != 0) {
											if(gLog==1){console.log("qCt != 0 "+qCt);}
											if (labelArray[l][9] == 0) {
												if (panel1ChildInitDisp != 0 && currLabTrack == panel1ChildInitDisp) {
													childLabelHTML += "<div class='panel_1_child_hider panel_1_child_hider_" + childArray[c][0] + "' style='display:none;'>";
												}
												childLabelHTML += "<div class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
												if (hoverState==1) {
													childLabelHTML += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
												}
												childLabelHTML += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}' tabindex='0' title=\"" + labelValueVal + "\">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<span id='labelSubControl" + labelArray[l][0] + "' class='panel_1_label_sub_control' style='display:none;'><span id='labelSubControl" + labelArray[l][0] + "On' class='panel_1_label_sub_control_on' style='display:none;'>" + labelSubOnVar + "<\/span><span id='labelSubControl" + labelArray[l][0] + "Off' class='panel_1_label_sub_control_off'>" + labelSubOffVar + "<\/span><\/span><\/div><div id='labelSubDiv" + labelArray[l][0] + "' class='panel_1_label_sub_div' style='display:none;'><\/div>";
												foundChildLabels++;
												currLabTrack++;
											}
											else {
												var tl = labelSubArray.length;
												var tLab = "<div id='panel1ProductLabel" + labelArray[l][0] + "' class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
												if (hoverState==1) {
													tLab += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
												}
												tLab += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}' tabindex='0' title=\"" + labelValueVal + "\">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<\/div>";
												labelSubArray[tl] = [labelArray[l][9], tLab];
											}
										}
									}
								}
								if (foundChildLabels != 0) {
									labelHTML += childLabelHTML;
									if (panel1ChildInitDisp != 0 && currLabTrack > panel1ChildInitDisp) {
										labelHTML += "<\/div><div class='panel_1_child_hider_shell'><div class='panel_1_child_hider_inner'><div class='panel_1_child_hider_more panel_1_child_hider_more_" + childArray[c][0] + "' onclick='panel1ChildToggle(" + childArray[c][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ChildToggle(" + childArray[c][0] + ");}' tabindex='0' title=\"" + childArray[c][1] + "\">" + panel1ChildTextMore + panel1ChildSubMore + "<\/div><div class='panel_1_child_hider_less panel_1_child_hider_less_" + childArray[c][0] + "' onclick='panel1ChildToggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ChildToggle();}' style='display:none;' tabindex='0' title=\"" + childArray[c][1] + "\">" + panel1ChildTextLess + panel1ChildSubLess + "<\/div><\/div><\/div>";
									}
									labelHTML += "<\/div><\/div><\/div>";
								}
								if(gLog==1){console.log("foundChildLabels ",foundChildLabels);}
								thisChildTracker++;
							}
						}
						else {
							if (labFamOn == 1) {
								if(gLog==1){console.log("LABEL - labFamOn == 1");}
								for (r=0; r<labelFamilyArray.length; r++) {
									labelHTML += "<div class='panel_1_product_label_family panel_1_product_label_family_" + labelFamilyArray[r][0] + "'>" + labelFamilyArray[r][1] + "<\/div>";
									for (l=0;l<labelArray.length;l++) {
										if (labelArray[l][10] == labelFamilyArray[r][0] && labelArray[l][17] == 1) {
											var labelValueVal = labelArray[l][1];
											if (LABEL == labelArray[l][0]) {
												var labelClass = "panel_1_product_label_on";
												panel1LabelPreselect = l;
											}
											else {
												var labelClass = "panel_1_product_label_off";
											}
											var p1BadgeWrite = "";
											if (p1AddBadge == 1) {
												p1BadgeWrite = "<span id='panel1LabelBadge" + labelArray[l][0] + "' class='counter_badge panel_1_label_badge' style='display:none;'>0<\/span>";
											}
											var countWrite = "";
											var qCt = 0;
											if (addCount == 1) {
												for (q=0; q<prodLabelArray.length; q++) {
													if (prodLabelArray[q][2] == labelArray[l][0]) {
														qCt++;
													}
												}
												countWrite = " (" + qCt + ")";
											}
											else if (addCatCount == 1) {
												catCountFoundArr.length = 0;
												for (q=0; q<prodLabelArray.length; q++) {
													if (prodLabelArray[q][2] == labelArray[l][0]) {
														catCountFoundArr.push(prodLabelArray[q][1]);
													}
												}
												for (n=0; n<catCountFoundArr.length; n++) {
													var checkPLisIn = 0;
													for (m=0; m<prodDisplayArray.length; m++) {
														if (prodDisplayArray[m][0] == catCountFoundArr[n]) {
															catCountFoundArr[n] = prodDisplayArray[m][8];
															checkPLisIn = 1;
															break;
														}
													}
													if (checkPLisIn == 0) {
														catCountFoundArr[n] = 0;
													}
												}
												catCountFoundArr.sort();
												var	qCtArr = [];
												var qCtX = 0;
												for (r=0; r<catCountFoundArr.length; r++) {
													if(qCtArr.length) {
														if (qCtArr[qCtX] != catCountFoundArr[r] && catCountFoundArr[r] != 0) {
															qCtX++;
															qCtArr[qCtX] = catCountFoundArr[r];
														}
													}
													else {
														if (catCountFoundArr[r] != 0) {
															qCtArr[qCtX] = catCountFoundArr[r];
														}
													}
												}
												qCt = qCtArr.length;
												if(gLog==1){console.log("qCtArr - ",qCtArr);}
												countWrite = " (" + qCt + ")";
											}
											else {
												for (q=0; q<prodLabelArray.length; q++) {
													if (prodLabelArray[q][2] == labelArray[l][0]) {
														qCt++;
													}
												}
											}
											if (qCt != 0) {
												if (labelArray[l][9] == 0) {
													labelHTML += "<div class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
													if (hoverState==1) {
														labelHTML += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
													}
													labelHTML += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}' tabindex='0' title=\"" + labelValueVal + "\">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<span id='labelSubControl" + labelArray[l][0] + "' class='panel_1_label_sub_control' style='display:none;'><span id='labelSubControl" + labelArray[l][0] + "On' class='panel_1_label_sub_control_on' style='display:none;'>" + labelSubOnVar + "<\/span><span id='labelSubControl" + labelArray[l][0] + "Off' class='panel_1_label_sub_control_off'>" + labelSubOffVar + "<\/span><\/span><\/div><div id='labelSubDiv" + labelArray[l][0] + "' class='panel_1_label_sub_div' style='display:none;'><\/div>";
												}
												else {
													var tl = labelSubArray.length;
													var tLab = "<div id='panel1ProductLabel" + labelArray[l][0] + "' class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
													if (hoverState==1) {
														tLab += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
													}
													tLab += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}' tabindex='0' title=\"" + labelValueVal + "\">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<\/div>";
													labelSubArray[tl] = [labelArray[l][9], tLab];
												}
											}
										}
									}
								}
							}
							else {
								if(gLog==1){console.log("LABEL - else");}
								for (l=0;l<labelArray.length;l++) {
									if (labelArray[l][17] == 1) {
										var labelValueVal = labelArray[l][1];
										if (LABEL == labelArray[l][0]) {
											var labelClass = "panel_1_product_label_on";
											panel1LabelPreselect = l;
										}
										else {
											var labelClass = "panel_1_product_label_off";
										}
										var p1BadgeWrite = "";
										if (p1AddBadge == 1) {
											p1BadgeWrite = "<span id='panel1LabelBadge" + labelArray[l][0] + "' class='counter_badge panel_1_label_badge' style='display:none;'>0<\/span>";
										}
										var countWrite = "";
										var qCt = 0;
										if (addCount == 1) {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
											countWrite = " (" + qCt + ")";
										}
										else if (addCatCount == 1) {
											catCountFoundArr.length = 0;
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													catCountFoundArr.push(prodLabelArray[q][1]);
												}
											}
											for (n=0; n<catCountFoundArr.length; n++) {
												var checkPLisIn = 0;
												for (m=0; m<prodDisplayArray.length; m++) {
													if (prodDisplayArray[m][0] == catCountFoundArr[n]) {
														catCountFoundArr[n] = prodDisplayArray[m][8];
														checkPLisIn = 1;
														break;
													}
												}
												if (checkPLisIn == 0) {
													catCountFoundArr[n] = 0;
												}
											}
											catCountFoundArr.sort();
											var	qCtArr = [];
											var qCtX = 0;
											for (r=0; r<catCountFoundArr.length; r++) {
												if(qCtArr.length) {
													if (qCtArr[qCtX] != catCountFoundArr[r] && catCountFoundArr[r] != 0) {
														qCtX++;
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
												else {
													if (catCountFoundArr[r] != 0) {
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
											}
											qCt = qCtArr.length;
											if(gLog==1){console.log("qCtArr - ",qCtArr);}
											countWrite = " (" + qCt + ")";
										}
										else {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
										}
										if (qCt != 0) {
											if (labelArray[l][9] == 0) {
												labelHTML += "<div class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
												if (hoverState==1) {
													labelHTML += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
												}
												labelHTML += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}' tabindex='0' title=\"" + labelValueVal + "\">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<span id='labelSubControl" + labelArray[l][0] + "' class='panel_1_label_sub_control' style='display:none;'><span id='labelSubControl" + labelArray[l][0] + "On' class='panel_1_label_sub_control_on' style='display:none;'>" + labelSubOnVar + "<\/span><span id='labelSubControl" + labelArray[l][0] + "Off' class='panel_1_label_sub_control_off'>" + labelSubOffVar + "<\/span><\/span><\/div><div id='labelSubDiv" + labelArray[l][0] + "' class='panel_1_label_sub_div' style='display:none;'><\/div>";
											}
											else {
												var tl = labelSubArray.length;
												var tLab = "<div id='panel1ProductLabel" + labelArray[l][0] + "' class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
												if (hoverState==1) {
													tLab += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
												}
												tLab += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}' tabindex='0' title=\"" + labelValueVal + "\">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<\/div>";
												labelSubArray[tl] = [labelArray[l][9], tLab];
											}
										}
									}
								}
							}
						}
					}
					var labelAllHTML = "";
					if (panel1LabelBackToFam != -1) {
						labelAllHTML += "<div class='panel_1_product_label_back panel_1_product_label_back_off'";
						if (hoverState==1) {
							labelAllHTML += " onmouseover='genericButtonOver(\"panel_1_product_label_back\",\"panel_1_product_label_back\");' onfocus='genericButtonOver(\"panel_1_product_label_back\",\"panel_1_product_label_back\");' onmouseout='genericButtonOut(\"panel_1_product_label_back\",\"panel_1_product_label_back\");' onblur='genericButtonOut(\"panel_1_product_label_back\",\"panel_1_product_label_back\");'";
						}
						labelAllHTML += " onclick='panel1LabelBack(\""+labelShow+"\",\""+labelHide+"\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabelBack(\""+labelShow+"\",\""+labelHide+"\");}' style='display:none;' tabindex='0' title=\"" + labelBackToFamText + "\">" + labelBackToFamText + "<\/div>";
					}
					baseHTML = baseHTMLStart + labelAllHTML + labelHTML + baseHTMLEnd;
				}
				else {
					labelSearchOn = 0;
				}
			}
			var famlabelresetButtonTagStart = baseHTML.indexOf("<!--FAMLABELRESETBUTTON");
			if (famlabelresetButtonTagStart != -1) {
				var famlabelresetButtonTagEnd = baseHTML.indexOf(">",famlabelresetButtonTagStart);
				var famlabelresetButtonTagStrip = baseHTML.substring(famlabelresetButtonTagStart,(famlabelresetButtonTagEnd+1));
				var famlabelresetButtonHTMLStart = baseHTML.substr(0,famlabelresetButtonTagStart);
				var famlabelresetButtonHTMLEnd = baseHTML.substr((famlabelresetButtonTagEnd+1));
				var famlabelresetButtonRender = "";
				var famlabelresetButtonValueStart = famlabelresetButtonTagStrip.indexOf(" VALUE=");
				if (famlabelresetButtonValueStart != -1) {
					var famlabelresetButtonValueEnd = famlabelresetButtonTagStrip.indexOf("]",famlabelresetButtonValueStart);
					var famlabelresetButtonValueVar = famlabelresetButtonTagStrip.substring((famlabelresetButtonValueStart+8),(famlabelresetButtonValueEnd));
				}
				else {
					var famlabelresetButtonValueVar = "RESET FAMILIES";
				}
				var famlabelresetButtonItalicStart = famlabelresetButtonTagStrip.indexOf(" FNTAW=");
				if (famlabelresetButtonItalicStart != -1) {
					var famlabelresetButtonItalicEnd = famlabelresetButtonTagStrip.indexOf("]",famlabelresetButtonItalicStart);
					var famlabelresetButtonItalicVar = "<i class='fa " + famlabelresetButtonTagStrip.substring((famlabelresetButtonItalicStart+8),(famlabelresetButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var famlabelresetButtonItalicVar = "";
				}
				famlabelresetButtonRender += "<div id='panel1FamLabelResetButton' class='panel_1_famlabelreset_button panel_1_famlabelreset_button_off'";
				if (hoverState==1) {
					famlabelresetButtonRender += " onmouseover='panel1ButtonHover(\"panel1FamLabelResetButton\",\"panel_1_famlabelreset_button\",1);' onfocus='panel1ButtonHover(\"panel1FamLabelResetButton\",\"panel_1_famlabelreset_button\",1);' onmouseout='panel1ButtonHover(\"panel1FamLabelResetButton\",\"panel_1_famlabelreset_button\",0);' onblur='panel1ButtonHover(\"panel1FamLabelResetButton\",\"panel_1_famlabelreset_button\",0);'";
				}
				famlabelresetButtonRender += " onclick='panel1FamLabelReset();"+p1filterType+"' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamLabelReset();"+p1filterType+"}' tabindex='0' title=\"" + famlabelresetButtonValueVar + "\">" + famlabelresetButtonItalicVar + famlabelresetButtonValueVar + "<\/div>";
				baseHTML = famlabelresetButtonHTMLStart + famlabelresetButtonRender + famlabelresetButtonHTMLEnd;
			}
			var famlabelSearchOn = 1;
			while (famlabelSearchOn == 1) {
				var famlabelTagStart = baseHTML.indexOf("<!--FAMLABEL");
				if (famlabelTagStart != -1) {
					panel1FamLabelOn = 1;
					var famlabelTagEnd = baseHTML.indexOf(">",famlabelTagStart);
					var famlabelTagStrip = baseHTML.substring(famlabelTagStart,(famlabelTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,famlabelTagStart);
					var baseHTMLEnd = baseHTML.substr((famlabelTagEnd+1));
					var famlabelID = 0;
					var famlabelHTML = "";
					var famlabelIDStart = famlabelTagStrip.indexOf(" ID=");
					if (famlabelIDStart != -1) {
						var famlabelIDEnd = famlabelTagStrip.indexOf("]");
						famlabelID = famlabelTagStrip.substring((famlabelIDStart+5),(famlabelIDEnd));
					}
					var p1AddBadge = 0;
					var famlabelIDStart = famlabelTagStrip.indexOf(" BADGE");
					if (famlabelIDStart != -1) {
						p1AddBadge = 1;
					}
					var famlabelIDStart = famlabelTagStrip.indexOf(" RADIO");
					if (famlabelIDStart != -1) {
						panel1FamLabelRadioCheck = 1;
					}
					var famlabelNoAllStart = famlabelTagStrip.indexOf(" NORESET");
					if (famlabelNoAllStart != -1) {
						panel1FamLabelNoShowAll = 1;
					}
					var famlabelCatStart = famlabelTagStrip.indexOf(" CATLINK");
					if (famlabelCatStart != -1) {
						panel1FamLabelCatLink = 1;
					}
					var famlabelHideLabelStart = famlabelTagStrip.indexOf(" LABELHIDE");
					if (famlabelHideLabelStart != -1) {
						panel1FamLabelHideLabels = 1;
					}
					var famlabelAutoOpenStart = famlabelTagStrip.indexOf(" AUTOOPEN");
					if (famlabelAutoOpenStart != -1) {
						panel1FamLabelAutoOpen = 1;
					}
					var famlabelLoaderStart = famlabelTagStrip.indexOf(" LOADER");
					var famlabelLoaderS = "";
					var famlabelLoaderE = "";
					if (famlabelLoaderStart != -1) {
						famlabelLoaderS = "setTimeout(function(){";
						famlabelLoaderE = "},500);";
					}
					var famlabelItalicStart = famlabelTagStrip.indexOf(" FNTAW=");
					if (famlabelItalicStart != -1) {
						var famlabelItalicEnd = famlabelTagStrip.indexOf("]",famlabelItalicStart);
						var famlabelItalicVar = "<i class='fa " + famlabelTagStrip.substring((famlabelItalicStart+8),(famlabelItalicEnd)) + "'><\/i>";
					}
					else {
						var famlabelItalicVar = "";
					}
					var famlabelShowStart = famlabelTagStrip.indexOf(" SHOW=");
					if (famlabelShowStart != -1) {
						famlabelShowArr.length = 0;
						var famlabelShowEnd = famlabelTagStrip.indexOf("]",famlabelShowStart);
						var famlabelShow = famlabelTagStrip.substring((famlabelShowStart+7),(famlabelShowEnd));
						famlabelShowArr = famlabelShow.split(",");
					}
					var famlabelHideStart = famlabelTagStrip.indexOf(" HIDE=");
					if (famlabelHideStart != -1) {
						famlabelHideArr.length = 0;
						var famlabelHideEnd = famlabelTagStrip.indexOf("]",famlabelHideStart);
						var famlabelHide = famlabelTagStrip.substring((famlabelHideStart+7),(famlabelHideEnd));
						famlabelHideArr = famlabelHide.split(",");
					}
					if (famlabelID != 0) {
						var foundFamLabelID = 0;
						for (l=0;l<famArray.length;l++) {
							if (famArray[l][0] == famlabelID) {
								var famlabelValueStart = famlabelTagStrip.indexOf(" VALUE=");
								var famlabelValueEnd = famlabelTagStrip.indexOf("]");
								if (famlabelValueStart != -1) {
									var famlabelValueVal = famlabelTagStrip.substring((famlabelValueStart+8),(famlabelValueEnd));
								}
								else {
									var famlabelValueVal = famArray[l][1];
								}
								if (FAMLABEL == famArray[l][0]) {
									var famlabelClass = "panel_1_product_famlabel_on";
									panel1FamLabelPreselect = l;
								}
								else {
									var famlabelClass = "panel_1_product_famlabel_off";
								}
								var p1BadgeWrite = "";
								if (p1AddBadge == 1) {
									p1BadgeWrite = "<span id='panel1FamLabelBadge" + famArray[l][0] + "' class='counter_badge panel_1_famlabel_badge' style='display:none;'>0<\/span>";
								}
								famlabelHTML += "<div class='panel_1_product_famlabel panel_1_product_famlabel_" + famArray[l][0] + " " + famlabelClass + "'";
								if (hoverState==1) {
									famlabelHTML += " onmouseover='panel1ProductFamLabelMouseover("+l+","+famArray[l][0]+");' onfocus='panel1ProductFamLabelMouseover("+l+","+famArray[l][0]+");' onmouseout='panel1ProductFamLabelMouseout("+l+","+famArray[l][0]+");' onblur='panel1ProductFamLabelMouseout("+l+","+famArray[l][0]+");'";
								}
								famlabelHTML += " onclick='" + famlabelLoaderS + "panel1ProductFamLabelSelect("+l+","+famArray[l][0]+");" + famlabelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + famlabelLoaderS + "panel1ProductFamLabelSelect("+l+","+famArray[l][0]+");" + famlabelLoaderE + "}' tabindex='0' title=\"" + famlabelValueVal + "\">" + famlabelItalicVar + famlabelValueVal + p1BadgeWrite + "<\/div>";
								foundFamLabelID = 1;
								break;
							}
						}
						if (foundFamLabelID == 0) {
							if(gLog==1){console.log("ERROR: Unknown FamLabel ID="+famlabelID);}
							p1ErrorArray.push("ERROR: Unknown FamLabel ID="+famlabelID);
						}
					}
					else {
						for (x=0; x<famArray.length; x++) {
							var familyHTMLTest = autotextIt(p1TemplateSet.panel1FamilyDiv,"panel1Family");
							var famNameTagStart = familyHTMLTest.indexOf("<!--FAMNAME");
							if (famNameTagStart != -1) {
								var famNameTagEnd = familyHTMLTest.indexOf(">",famNameTagStart);
								var famNameTagStrip = familyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
								var baseFamNameHTMLStart = familyHTMLTest.substr(0,famNameTagStart);
								var baseFamNameHTMLEnd = familyHTMLTest.substr((famNameTagEnd+1));
								var famNameValueStart = famNameTagStrip.indexOf(" VALUE=");
								if (famNameValueStart != -1) {
									var famNameValueEnd = famNameTagStrip.indexOf("]", famNameValueStart);
									var famNameValueVal = famNameTagStrip.substring((famNameValueStart+8),(famNameValueEnd));
								}
								else {
									var famNameValueVal = famArray[x][1];
								}
								var replaceImgTest = famNameTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famNameTagLink = "";
								if (famNameTagLinkTest != -1) {
									famNameTagLink += " style='cursor:pointer;' onclick='" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "}'";
									if (hoverState==1) {
										famNameTagLink += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
									}
								}
								familyHTMLTest = baseFamNameHTMLStart + "<div id='panel1FamilyName" + famArray[x][0] + "' class='panel_1_family_name panel_1_family_name_off" + replaceImgMouseClass + "'" + famNameTagLink + " tabindex='0' title=\"" + famNameValueVal + "\">" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
							}
							var famBigImgTagStart = familyHTMLTest.indexOf("<!--FAMBIGIMG");
							if (famBigImgTagStart != -1) {
								var famBigImgTagEnd = familyHTMLTest.indexOf(">",famBigImgTagStart);
								var famBigImgTagStrip = familyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
								var baseFamBigImgHTMLStart = familyHTMLTest.substr(0,famBigImgTagStart);
								var baseFamBigImgHTMLEnd = familyHTMLTest.substr((famBigImgTagEnd+1));
								var replaceImgTest = famBigImgTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famBigImgTagLinkTest = famBigImgTagStrip.indexOf(" LINK");
								var famBigImgTagLinkStart = "";
								var famBigImgTagLinkEnd = "";
								if (famBigImgTagLinkTest != -1) {
									famBigImgTagLinkStart += "<a href='' onclick='" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "return false;}'";
									if (hoverState==1) {
										famBigImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
									}
									famBigImgTagLinkStart += " tabindex='0' title=\"" + famArray[x][1] + "\">";
									famBigImgTagLinkEnd = "<\/a>";
								}
								if (famArray[x][2].substring(0,4) == "http") {
									var famBigImgLead = "";
								}
								else {
									var famBigImgLead = clientImgBase;
								}
								familyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + famArray[x][1] + "\" alt=\"" + famArray[x][1] + "\" id='panel1FamilyBigImg" + famArray[x][0] + "' class='panel_1_family_big_img" + replaceImgMouseClass + "' src='" + famBigImgLead + famArray[x][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
							}
							var famSmImgTagStart = familyHTMLTest.indexOf("<!--FAMSMIMG");
							if (famSmImgTagStart != -1) {
								var famSmImgTagEnd = familyHTMLTest.indexOf(">",famSmImgTagStart);
								var famSmImgTagStrip = familyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
								var baseFamSmImgHTMLStart = familyHTMLTest.substr(0,famSmImgTagStart);
								var baseFamSmImgHTMLEnd = familyHTMLTest.substr((famSmImgTagEnd+1));
								var replaceImgTest = famSmImgTagStrip.indexOf(" REPLACE");
								if (replaceImgTest != -1) {
									var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
									var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
									var replaceImgMouseClass = " img_replace_active";
								}
								else {
									var replaceImgMouseOver = "";
									var replaceImgMouseOut = "";
									var replaceImgMouseClass = "";
								}
								var famSmImgTagLinkTest = famSmImgTagStrip.indexOf(" LINK");
								var famSmImgTagLinkStart = "";
								var famSmImgTagLinkEnd = "";
								if (famSmImgTagLinkTest != -1) {
									famSmImgTagLinkStart += "<a href='' onclick='" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "return false;}'";
									if (hoverState==1) {
										famSmImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
									}
									famSmImgTagLinkStart += " tabindex='0' title=\"" + famArray[x][1] + "\">";
									famSmImgTagLinkEnd = "<\/a>";
								}
								if (famArray[x][3].substring(0,4) == "http") {
									var famSmImgLead = "";
								}
								else {
									var famSmImgLead = clientImgBase;
								}
								familyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + famArray[x][1] + "\" alt=\"" + famArray[x][1] + "\" id='panel1FamilySmImg" + famArray[x][0] + "' class='panel_1_family_sm_img" + replaceImgMouseClass + "' src='" + famSmImgLead + famArray[x][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
							}
							famlabelHTML += familyHTMLTest;
						}
					}
					baseHTML = baseHTMLStart + famlabelHTML + baseHTMLEnd;
				}
				else {
					famlabelSearchOn = 0;
				}
			}
			var toplabelTagStart = baseHTML.indexOf("<!--TOPLABEL");
			if (toplabelTagStart != -1) {
				panel1FamLabelOn = 1;
				topLabelOn = 1;
				var toplabelTagEnd = baseHTML.indexOf(">",toplabelTagStart);
				var toplabelTagStrip = baseHTML.substring(toplabelTagStart,(toplabelTagEnd+1));
				var baseHTMLStart = baseHTML.substr(0,toplabelTagStart);
				var baseHTMLEnd = baseHTML.substr((toplabelTagEnd+1));
				var toplabelHTML = "";
				var toplabelRadioStart = toplabelTagStrip.indexOf(" RADIO");
				if (toplabelRadioStart != -1) {
					panel1FamLabelRadioCheck = 1;
				}
				var toplabelHideLabelStart = toplabelTagStrip.indexOf(" LABELHIDE");
				if (toplabelHideLabelStart != -1) {
					panel1FamLabelHideLabels = 1;
				}
				var toplabelLoaderStart = toplabelTagStrip.indexOf(" LOADER");
				var toplabelLoaderS = "";
				var toplabelLoaderE = "";
				if (toplabelLoaderStart != -1) {
					toplabelLoaderS = "setTimeout(function(){";
					toplabelLoaderE = "},500);";
				}
				var toplabelItalicStart = toplabelTagStrip.indexOf(" FNTAW=");
				if (toplabelItalicStart != -1) {
					var toplabelItalicEnd = toplabelTagStrip.indexOf("]",toplabelItalicStart);
					var toplabelItalicVar = "<i class='fa " + toplabelTagStrip.substring((toplabelItalicStart+8),(toplabelItalicEnd)) + "'><\/i>";
				}
				else {
					var toplabelItalicVar = "";
				}
				var toplabelShowStart = toplabelTagStrip.indexOf(" SHOW=");
				if (toplabelShowStart != -1) {
					toplabelShowArr.length = 0;
					var toplabelShowEnd = toplabelTagStrip.indexOf("]",toplabelShowStart);
					var toplabelShow = toplabelTagStrip.substring((toplabelShowStart+7),(toplabelShowEnd));
					toplabelShowArr = toplabelShow.split(",");
				}
				var toplabelHideStart = toplabelTagStrip.indexOf(" HIDE=");
				if (toplabelHideStart != -1) {
					toplabelHideArr.length = 0;
					var toplabelHideEnd = toplabelTagStrip.indexOf("]",toplabelHideStart);
					var toplabelHide = toplabelTagStrip.substring((toplabelHideStart+7),(toplabelHideEnd));
					toplabelHideArr = toplabelHide.split(",");
				}
				for (x=0; x<labelArray.length; x++) {
					if (labelArray[x][9] == 0) {
						var familyHTMLTest = autotextIt(p1TemplateSet.panel1FamilyDiv,"panel1TL");
						var famNameTagStart = familyHTMLTest.indexOf("<!--FAMNAME");
						if (famNameTagStart != -1) {
							var famNameTagEnd = familyHTMLTest.indexOf(">",famNameTagStart);
							var famNameTagStrip = familyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
							var baseFamNameHTMLStart = familyHTMLTest.substr(0,famNameTagStart);
							var baseFamNameHTMLEnd = familyHTMLTest.substr((famNameTagEnd+1));
							var famNameValueStart = famNameTagStrip.indexOf(" VALUE=");
							if (famNameValueStart != -1) {
								var famNameValueEnd = famNameTagStrip.indexOf("]", famNameValueStart);
								var famNameValueVal = famNameTagStrip.substring((famNameValueStart+8),(famNameValueEnd));
							}
							else {
								var famNameValueVal = labelArray[x][2];
							}
							var replaceImgTest = famNameTagStrip.indexOf(" REPLACE");
							if (replaceImgTest != -1) {
								var replaceImgMouseOver = "panel1FamImgReplace(1," + labelArray[x][0] + ");";
								var replaceImgMouseOut = "panel1FamImgReplace(2," + labelArray[x][0] + ");";
								var replaceImgMouseClass = " img_replace_active";
							}
							else {
								var replaceImgMouseOver = "";
								var replaceImgMouseOut = "";
								var replaceImgMouseClass = "";
							}
							var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
							var famNameTagLink = "";
							if (famNameTagLinkTest != -1) {
								famNameTagLink += " style='cursor:pointer;' onclick='" + toplabelLoaderS + "panel1TopLabelSelect("+x+","+labelArray[x][0]+");" + toplabelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + toplabelLoaderS + "panel1TopLabelSelect("+x+","+labelArray[x][0]+");" + toplabelLoaderE + "}'";
								if (hoverState==1) {
									famNameTagLink += " onmouseover='panel1TLMouseOver(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOver + "' onfocus='panel1TLMouseOver(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOver + "' onmouseout='panel1TLMouseOut(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOut + "' onblur='panel1TLMouseOut(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOut + "'";
								}
							}
							familyHTMLTest = baseFamNameHTMLStart + "<div id='panel1TLName" + labelArray[x][0] + "' class='panel_1_family_name panel_1_family_name_off" + replaceImgMouseClass + "'" + famNameTagLink + " tabindex='0' title=\"" + famNameValueVal + "\">" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
						}
						var famBigImgTagStart = familyHTMLTest.indexOf("<!--FAMBIGIMG");
						if (famBigImgTagStart != -1) {
							var famBigImgTagEnd = familyHTMLTest.indexOf(">",famBigImgTagStart);
							var famBigImgTagStrip = familyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
							var baseFamBigImgHTMLStart = familyHTMLTest.substr(0,famBigImgTagStart);
							var baseFamBigImgHTMLEnd = familyHTMLTest.substr((famBigImgTagEnd+1));
							var replaceImgTest = famBigImgTagStrip.indexOf(" REPLACE");
							if (replaceImgTest != -1) {
								var replaceImgMouseOver = "panel1FamImgReplace(1," + labelArray[x][0] + ");";
								var replaceImgMouseOut = "panel1FamImgReplace(2," + labelArray[x][0] + ");";
								var replaceImgMouseClass = " img_replace_active";
							}
							else {
								var replaceImgMouseOver = "";
								var replaceImgMouseOut = "";
								var replaceImgMouseClass = "";
							}
							var famBigImgTagLinkTest = famBigImgTagStrip.indexOf(" LINK");
							var famBigImgTagLinkStart = "";
							var famBigImgTagLinkEnd = "";
							if (famBigImgTagLinkTest != -1) {
								famBigImgTagLinkStart += "<a href='' onclick='" + toplabelLoaderS + "panel1TopLabelSelect("+x+","+labelArray[x][0]+");" + toplabelLoaderE + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + toplabelLoaderS + "panel1TopLabelSelect("+x+","+labelArray[x][0]+");" + toplabelLoaderE + "return false;}'";
								if (hoverState==1) {
									famBigImgTagLinkStart += " onmouseover='panel1TLMouseOver(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOver + "' onfocus='panel1TLMouseOver(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOver + "' onmouseout='panel1TLMouseOut(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOut + "' onblur='panel1TLMouseOut(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOut + "'";
								}
								famBigImgTagLinkStart += " tabindex='0' title=\"" + labelArray[x][1] + "\">";
								famBigImgTagLinkEnd = "<\/a>";
							}
							if (labelArray[x][6].substring(0,4) == "http") {
								var famBigImgLead = "";
							}
							else {
								var famBigImgLead = clientImgBase;
							}
							familyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + labelArray[x][1] + "\" alt=\"" + labelArray[x][1] + "\" id='panel1TLBigImg" + labelArray[x][0] + "' class='panel_1_family_big_img" + replaceImgMouseClass + "' src='" + famBigImgLead + labelArray[x][6] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
						}
						var famSmImgTagStart = familyHTMLTest.indexOf("<!--FAMSMIMG");
						if (famSmImgTagStart != -1) {
							var famSmImgTagEnd = familyHTMLTest.indexOf(">",famSmImgTagStart);
							var famSmImgTagStrip = familyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
							var baseFamSmImgHTMLStart = familyHTMLTest.substr(0,famSmImgTagStart);
							var baseFamSmImgHTMLEnd = familyHTMLTest.substr((famSmImgTagEnd+1));
							var replaceImgTest = famSmImgTagStrip.indexOf(" REPLACE");
							if (replaceImgTest != -1) {
								var replaceImgMouseOver = "panel1FamImgReplace(1," + labelArray[x][0] + ");";
								var replaceImgMouseOut = "panel1FamImgReplace(2," + labelArray[x][0] + ");";
								var replaceImgMouseClass = " img_replace_active";
							}
							else {
								var replaceImgMouseOver = "";
								var replaceImgMouseOut = "";
								var replaceImgMouseClass = "";
							}
							var famSmImgTagLinkTest = famSmImgTagStrip.indexOf(" LINK");
							var famSmImgTagLinkStart = "";
							var famSmImgTagLinkEnd = "";
							if (famSmImgTagLinkTest != -1) {
								famSmImgTagLinkStart += "<a href='' onclick='" + toplabelLoaderS + "panel1TopLabelSelect("+x+","+labelArray[x][0]+");" + toplabelLoaderE + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + toplabelLoaderS + "panel1TopLabelSelect("+x+","+labelArray[x][0]+");" + toplabelLoaderE + "return false;}'";
								if (hoverState==1) {
									famSmImgTagLinkStart += " onmouseover='panel1TLMouseOver(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOver + "' onfocus='panel1TLMouseOver(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOver + "' onmouseout='panel1TLMouseOut(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOut + "' onblur='panel1TLMouseOut(\"panel1TLName" + labelArray[x][0] + "\", \"panel_1_family_name\");" + replaceImgMouseOut + "'";
								}
								famSmImgTagLinkStart += " tabindex='0' title=\"" + labelArray[x][1] + "\">";
								famSmImgTagLinkEnd = "<\/a>";
							}
							if (labelArray[x][7].substring(0,4) == "http") {
								var famSmImgLead = "";
							}
							else {
								var famSmImgLead = clientImgBase;
							}
							familyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + labelArray[x][1] + "\" alt=\"" + labelArray[x][1] + "\" id='panel1TLSmImg" + labelArray[x][0] + "' class='panel_1_family_sm_img" + replaceImgMouseClass + "' src='" + famSmImgLead + labelArray[x][7] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
						}
						toplabelHTML += familyHTMLTest;
					}
				}
				baseHTML = baseHTMLStart + toplabelHTML + baseHTMLEnd;
			}
			var filterNumTagStart = baseHTML.indexOf("<!--FILTERNUM");
			if (filterNumTagStart != -1) {
				var filterNumTagEnd = baseHTML.indexOf(">",filterNumTagStart);
				var filterNumTagStrip = baseHTML.substring(filterNumTagStart,(filterNumTagEnd+1));
				var filterNumHTMLStart = baseHTML.substr(0,filterNumTagStart);
				var filterNumHTMLEnd = baseHTML.substr((filterNumTagEnd+1));
				var filterNumRender = "";
				var filterNumValueStart = filterNumTagStrip.indexOf(" VALUE=");
				if (filterNumValueStart != -1) {
					var filterNumValueEnd = filterNumTagStrip.indexOf("]",filterNumValueStart);
					var filterNumValueVar = filterNumTagStrip.substring((filterNumValueStart+8),(filterNumValueEnd));
				}
				else {
					var filterNumValueVar = "";
				}
				filterNumRender += "<div id='panel1FilterNum' class='panel_1_filter_num' style='display:none;'><span id='panel1FilterNumNum' class='panel_1_filter_num_num'><\/span><span id='panel1FilterNumNum' class='panel_1_filter_num_text'>" + filterNumValueVar + "<\/span><\/div>";
				baseHTML = filterNumHTMLStart + filterNumRender + filterNumHTMLEnd;
			}
			var filterClearTagStart = baseHTML.indexOf("<!--FILTERCLEAR");
			if (filterClearTagStart != -1) {
				var filterClearTagEnd = baseHTML.indexOf(">",filterClearTagStart);
				var filterClearTagStrip = baseHTML.substring(filterClearTagStart,(filterClearTagEnd+1));
				var filterClearHTMLStart = baseHTML.substr(0,filterClearTagStart);
				var filterClearHTMLEnd = baseHTML.substr((filterClearTagEnd+1));
				var filterClearRender = "";
				var filterClearValueStart = filterClearTagStrip.indexOf(" VALUE=");
				if (filterClearValueStart != -1) {
					var filterClearValueEnd = filterClearTagStrip.indexOf("]",filterClearValueStart);
					var filterClearValueVar = filterClearTagStrip.substring((filterClearValueStart+8),(filterClearValueEnd));
				}
				else {
					var filterClearValueVar = "";
				}
				var filterClearItalicStart = filterClearTagStrip.indexOf(" FNTAW=");
				if (filterClearItalicStart != -1) {
					var filterClearItalicEnd = filterClearTagStrip.indexOf("]",filterClearItalicStart);
					var filterClearItalicVar = "<i class='fa " + filterClearTagStrip.substring((filterClearItalicStart+8),(filterClearItalicEnd)) + "'><\/i>";
				}
				else {
					var filterClearItalicVar = "";
				}
				filterClearRender += "<div id='panel1FilterClear' class='panel_1_filter_clear panel_1_filter_clear_off'";
				if (hoverState==1) {
					filterClearRender += " onmouseover='panel1ButtonHover(\"panel1FilterClear\",\"panel_1_filter_clear\",1);' onfocus='panel1ButtonHover(\"panel1FilterClear\",\"panel_1_filter_clear\",1);' onmouseout='panel1ButtonHover(\"panel1FilterClear\",\"panel_1_filter_clear\",0);' onblur='panel1ButtonHover(\"panel1FilterClear\",\"panel_1_filter_clear\",0);'";
				}
				filterClearRender += " onclick='panel1FilterClear();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FilterClear();}' tabindex='0' title=\"" + filterClearValueVar + "\">" + filterClearItalicVar + filterClearValueVar + "<\/div>";
				baseHTML = filterClearHTMLStart + filterClearRender + filterClearHTMLEnd;
			}
			var filterTextClearTagStart = baseHTML.indexOf("<!--FILTERTEXTCLEAR");
			if (filterTextClearTagStart != -1) {
				var filterTextClearTagEnd = baseHTML.indexOf(">",filterTextClearTagStart);
				var filterTextClearTagStrip = baseHTML.substring(filterTextClearTagStart,(filterTextClearTagEnd+1));
				var filterTextClearHTMLStart = baseHTML.substr(0,filterTextClearTagStart);
				var filterTextClearHTMLEnd = baseHTML.substr((filterTextClearTagEnd+1));
				var filterTextClearRender = "";
				var filterTextClearValueStart = filterTextClearTagStrip.indexOf(" VALUE=");
				if (filterTextClearValueStart != -1) {
					var filterTextClearValueEnd = filterTextClearTagStrip.indexOf("]",filterTextClearValueStart);
					var filterTextClearValueVar = filterTextClearTagStrip.substring((filterTextClearValueStart+8),(filterTextClearValueEnd));
				}
				else {
					var filterTextClearValueVar = "";
				}
				var filterTextClearItalicStart = filterTextClearTagStrip.indexOf(" FNTAW=");
				if (filterTextClearItalicStart != -1) {
					var filterTextClearItalicEnd = filterTextClearTagStrip.indexOf("]",filterTextClearItalicStart);
					var filterTextClearItalicVar = "<i class='fa " + filterTextClearTagStrip.substring((filterTextClearItalicStart+8),(filterTextClearItalicEnd)) + "'><\/i>";
				}
				else {
					var filterTextClearItalicVar = "";
				}
				filterTextClearRender += "<div id='panel1FilterTextClearButton' class='panel_1_filter_text_clear_button panel_1_filter_text_clear_button_off'";
				if (hoverState==1) {
					filterTextClearRender += " onmouseover='panel1ButtonHover(\"panel1FilterTextClearButton\",\"panel_1_filter_text_clear_button\",1);' onfocus='panel1ButtonHover(\"panel1FilterTextClearButton\",\"panel_1_filter_text_clear_button\",1);' onmouseout='panel1ButtonHover(\"panel1FilterTextClearButton\",\"panel_1_filter_text_clear_button\",0);' onblur='panel1ButtonHover(\"panel1FilterTextClearButton\",\"panel_1_filter_text_clear_button\",0);'";
				}
				filterTextClearRender += " onclick='panel1FilterTextClear(-1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FilterTextClear(-1);}' tabindex='0' title=\"" + filterTextClearValueVar + "\">" + filterTextClearItalicVar + filterTextClearValueVar + "<\/div>";
				baseHTML = filterTextClearHTMLStart + filterTextClearRender + filterTextClearHTMLEnd;
			}
			var filterSearchTagStart = baseHTML.indexOf("<!--FILTERSEARCH");
			if (filterSearchTagStart != -1) {
				var filterSearchTagEnd = baseHTML.indexOf(">",filterSearchTagStart);
				var filterSearchTagStrip = baseHTML.substring(filterSearchTagStart,(filterSearchTagEnd+1));
				var filterSearchHTMLStart = baseHTML.substr(0,filterSearchTagStart);
				var filterSearchHTMLEnd = baseHTML.substr((filterSearchTagEnd+1));
				var filterSearchRender = "";
				var filterSearchValueStart = filterSearchTagStrip.indexOf(" VALUE=");
				if (filterSearchValueStart != -1) {
					var filterSearchValueEnd = filterSearchTagStrip.indexOf("]",filterSearchValueStart);
					var filterSearchValueVar = filterSearchTagStrip.substring((filterSearchValueStart+8),(filterSearchValueEnd));
				}
				else {
					var filterSearchValueVar = "";
				}
				var filterLoaderStart = filterSearchTagStrip.indexOf(" LOADER");
				var filterLoader = 1;
				if (filterLoaderStart != -1) {
					filterLoader = 2;
				}
				var filterSearchItalicStart = filterSearchTagStrip.indexOf(" FNTAW=");
				if (filterSearchItalicStart != -1) {
					var filterSearchItalicEnd = filterSearchTagStrip.indexOf("]",filterSearchItalicStart);
					var filterSearchItalicVar = "<i class='fa " + filterSearchTagStrip.substring((filterSearchItalicStart+8),(filterSearchItalicEnd)) + "'><\/i>";
				}
				else {
					var filterSearchItalicVar = "";
				}
				filterSearchRender += "<div id='panel1FilterSearch' class='panel_1_filter_search panel_1_filter_search_off'";
				if (hoverState==1) {
					filterSearchRender += " onmouseover='panel1ButtonHover(\"panel1FilterSearch\",\"panel_1_filter_search\",1);' onfocus='panel1ButtonHover(\"panel1FilterSearch\",\"panel_1_filter_search\",1);' onmouseout='panel1ButtonHover(\"panel1FilterSearch\",\"panel_1_filter_search\",0);' onblur='panel1ButtonHover(\"panel1FilterSearch\",\"panel_1_filter_search\",0);'";
				}
				filterSearchRender += " onclick='panel1FilterSearch(" + filterLoader + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FilterSearch(" + filterLoader + ");}' tabindex='0' title=\"" + filterSearchValueVar + "\">" + filterSearchItalicVar + filterSearchValueVar + "<\/div>";
				baseHTML = filterSearchHTMLStart + filterSearchRender + filterSearchHTMLEnd;
			}
			var filterFieldTagStart = baseHTML.indexOf("<!--FILTERFIELD");
			if (filterFieldTagStart != -1) {
				var filterFieldTagEnd = baseHTML.indexOf(">",filterFieldTagStart);
				var filterFieldTagStrip = baseHTML.substring(filterFieldTagStart,(filterFieldTagEnd+1));
				var filterFieldHTMLStart = baseHTML.substr(0,filterFieldTagStart);
				var filterFieldHTMLEnd = baseHTML.substr((filterFieldTagEnd+1));
				var filterClickStart = filterFieldTagStrip.indexOf(" CLICK");
				if (filterClickStart != -1) {
					panel1LabelClick = 1;
				}
				var filterSlideStart = filterFieldTagStrip.indexOf(" NOSCROLL");
				if (filterSlideStart != -1) {
					p1FilterTop = 0;
				}
				var filterFilterStart = filterFieldTagStrip.indexOf(" FILTER");
				if (filterFilterStart != -1) {
					panel1LabelFilter = 1;
				}
				var filterKeyStart = filterFieldTagStrip.indexOf(" AUTOKEY");
				if (filterKeyStart != -1) {
					p1FilterEveryKey = 1;
				}
				var filterClearFocus = "";
				var filterClearStart = filterFieldTagStrip.indexOf(" CLEAR");
				if (filterClearStart != -1) {
					filterClearFocus = " onfocus='panel1FilterClear(1);'";
					caFilterEmpty = 1;
				}
				var filterMultiStart = filterFieldTagStrip.indexOf(" MULTI");
				if (filterMultiStart != -1) {
					caFilterMulti = 1;
				}
				var filterShowStart = baseHTML.indexOf(" SHOW=");
				if (filterShowStart != -1) {
					filterShowArr.length = 0;
					var filterShowEnd = baseHTML.indexOf("]",filterShowStart);
					filterShow = baseHTML.substring((filterShowStart+7),(filterShowEnd));
					filterShowArr = filterShow.split(",",filterShowStart);
				}
				var filterHideStart = baseHTML.indexOf(" HIDE=");
				if (filterHideStart != -1) {
					filterHideArr.length = 0;
					var filterHideEnd = baseHTML.indexOf("]",filterHideStart);
					filterHide = baseHTML.substring((filterHideStart+7),(filterHideEnd));
					filterHideArr = filterHide.split(",");
				}
				var filterLoaderStart = filterFieldTagStrip.indexOf(" LOADER");
				var filterLoader = 1;
				if (filterLoaderStart != -1) {
					filterLoader = 2;
				}
				var filterFieldValueStart = filterFieldTagStrip.indexOf(" VALUE=");
				var filterFieldValueEnd = filterFieldTagStrip.indexOf("]");
				if (filterFieldValueStart != -1) {
					var filterFieldValueVal = filterFieldTagStrip.substring((filterFieldValueStart+8),(filterFieldValueEnd));
					var filterFieldValueVar = filterFieldValueVal;
					panel1FilterFieldDefault = filterFieldValueVal;
					if (panel1FilterFieldCurrent == "") {
						var filterFieldValueRender = " placeholder='"+filterFieldValueVal+"'";
					}
					else {
						var filterFieldValueRender = " placeholder='"+panel1FilterFieldCurrent+"'";
					}
				}
				else {
					var filterFieldValueVar = "";
					panel1FilterFieldDefault = "";
					if (panel1FilterFieldCurrent == "") {
						var filterFieldValueRender = "";
					}
					else {
						var filterFieldValueRender = " placeholder='"+panel1FilterFieldCurrent+"'";
					}
				}
				filterFieldRender = "<input type='text' name='panel1FilterField' id='panel1FilterField'" + filterFieldValueRender + " class='panel_1_filter_field panel_1_filter_field_base' onkeyup='panel1ClassFilterType(event," + filterLoader + ");'" + filterClearFocus + " onblur='clickOff();' title=\"" + filterFieldValueVal + "\"><div class='autocomp_shadow' id='autocompShadow'><div class='autocomp_output' id='autocompOutput'><\/div><\/div>";
				baseHTML = filterFieldHTMLStart + filterFieldRender + filterFieldHTMLEnd;
			}
			else {
				panel1LabelFilter = 1;
				panel1LabelClick = 0;
				baseHTML += "<input type='hidden' name='panel1FilterField' id='panel1FilterField' value='' title=\"Filter\">";
			}
			if (panel1RedrawVar == 1) {
				if(gLog==1){console.log("PRODUCT panel1RedrawVar == 1");}
				var prodAllVar = 0;
				var prodAllText = "";
				var prodTagStart = baseHTML.indexOf("<!--PRODUCT");
				if (prodTagStart != -1) {
					var prodTagEnd = baseHTML.indexOf(">",prodTagStart);
					var prodTagStrip = baseHTML.substring(prodTagStart,(prodTagEnd+1));
					var prodTagHTMLStart = baseHTML.substr(0,prodTagStart);
					var prodTagHTMLEnd = baseHTML.substr((prodTagEnd+1));
					var productPostload = prodTagStrip.indexOf(" POSTLOAD");
					if (productPostload != -1) {
						panel1PostLoad = 1;
					}
					baseHTML = prodTagHTMLStart + "<div id='caProdRedrawArea'><\/div>" + prodTagHTMLEnd;
				}
				var groupTagStart = baseHTML.indexOf("<!--GROUP");
				if (groupTagStart != -1) {
					var groupTagEnd = baseHTML.indexOf(">",groupTagStart);
					var groupTagStrip = baseHTML.substring(groupTagStart,(groupTagEnd+1));
					var groupTagHTMLStart = baseHTML.substr(0,groupTagStart);
					var groupTagHTMLEnd = baseHTML.substr((groupTagEnd+1));
					var groupuctPostload = groupTagStrip.indexOf(" POSTLOAD");
					if (groupuctPostload != -1) {
						panel1PostLoad = 1;
					}
					baseHTML = groupTagHTMLStart + "<div id='caGroupRedrawArea'><\/div>" + groupTagHTMLEnd;
				}
				var filterPageStart = baseHTML.indexOf("<!--FILTERPAGINATION");
				if (filterPageStart != -1) {
					var filterPageEnd = baseHTML.indexOf(">",filterPageStart);
					var filterPageStrip = baseHTML.substring(filterPageStart,(filterPageEnd+1));
					var filterPageHTMLStart = baseHTML.substr(0,filterPageStart);
					var filterPageHTMLEnd = baseHTML.substr((filterPageEnd+1));
					baseHTML = filterPageHTMLStart + "<div id='caPaginationArea'><\/div>" + filterPageHTMLEnd;
				}
			}
			else {
				var prodSearchOn = 1;
				while (prodSearchOn == 1) {
					var prodTagStart = baseHTML.indexOf("<!--PRODUCT");
					var prodAllVar = 0;
					var prodAllText = "";
					if (prodTagStart != -1) {
						var prodTagEnd = baseHTML.indexOf(">",prodTagStart);
						var prodTagStrip = baseHTML.substring(prodTagStart,(prodTagEnd+1));
						var baseHTMLStart = baseHTML.substr(0,prodTagStart);
						var baseHTMLEnd = baseHTML.substr((prodTagEnd+1));
						var productHTML = "";
						var productID = -1;
						var productCatID = -1;
						var productIDStart = prodTagStrip.indexOf(" ID=");
						var productCatIDStart = prodTagStrip.indexOf(" CATID=");
						var productScatStart = prodTagStrip.indexOf(" SCAT=");
						var productCartStart = prodTagStrip.indexOf(" CART");
						var productPostload = prodTagStrip.indexOf(" POSTLOAD");
						if (productIDStart != -1) {
							var productIDEnd = prodTagStrip.indexOf("]",productIDStart);
							productID = prodTagStrip.substring((productIDStart+5),(productIDEnd));
						}
						else if (productCatIDStart != -1) {
							var productCatIDEnd = prodTagStrip.indexOf("]",productCatIDStart);
							productCatID = prodTagStrip.substring((productCatIDStart+8),(productCatIDEnd));
						}
						if (productScatStart != -1) {
							var productScatEnd = prodTagStrip.indexOf("]",productScatStart);
							var productScatBase = prodTagStrip.substring((productScatStart+7),(productScatEnd));
							var productScatClick = "panel1ProdScat(\"" + productScatBase + "\");";
						}
						else {
							var productScatClick = "";
						}
						if (productPostload != -1) {
							panel1PostLoad = 1;
						}
						if (productID != -1) {
							var iFoundAProd = 0;
							for (y=0; y<prodDisplayArray.length; y++) {
								if (prodDisplayArray[y][0] == productID) {
									iFoundAProd = 1;
									if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
										var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
									}
									else {
										var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
									}
									var prodCloseThings = "";
									var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
									if (prodCloseTagStart != -1) {
										var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
										var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
										var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
										prodCloseThings = "genericCloseMe();";
										productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
									}
									if (productCartStart != -1) {
										var productCartEnable = "panel1ProdCart("+prodDisplayArray[y][0]+");";
									}
									else {
										var productCartEnable = "";
									}
									var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
									if (prodIterTagStart != -1) {
										var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
										var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
										var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
										var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
										productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
									}
									var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
									if (famNameTagStart != -1) {
										var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
										var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
										var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
										var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
										var famNameValueVal = "FAMILY NAME ERROR";
										var famProdCatNum = -1;
										for (cn=0; cn<catArray.length; cn++) {
											if (catArray[cn][0] == prodDisplayArray[y][8]) {
												famProdCatNum = cn;
												break;
											}
										}
										if (famProdCatNum != -1) {
											for (fn=0; fn<famArray.length; fn++) {
												if (famArray[fn][0] == catArray[famProdCatNum][2]) {
													famNameValueVal = famArray[fn][1];
													break;
												}
											}
										}
										productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
									}
									var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
									if (catNameTagStart != -1) {
										var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
										var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
										var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
										var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
										var catNameValueVal = "CATEGORY NAME ERROR";
										for (cn=0; cn<catArray.length; cn++) {
											if (catArray[cn][0] == prodDisplayArray[y][8]) {
												catNameValueVal = catArray[cn][1];
												break;
											}
										}
										productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
									}
									var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
									if (prodDiscTagStart != -1) {
										var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
										var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
										var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
										var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
										var prodDiscWrite = "";
										var discVal = prodDisplayArray[y][6];
										if (discVal != 1) {
											prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
										}
										productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
									}
									var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
									if (prodNameTagStart != -1) {
										var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
										var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
										var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
										var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
										var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
											var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var descTest = prodNameTagStrip.indexOf(" DESC");
										if (descTest != -1) {
											var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
										}
										else {
											var descVal = "";
										}
										var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
										var prodPopupMO = "";
										var prodPopupDIV = "";
										if (prodPopupTestStart != -1) {
											var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
											var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
											prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
											prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
										}
										var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
										var prodNameTagLink = "";
										if (prodNameTagLinkTest != -1) {
											prodNameTagLink += " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + productScatClick + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + productScatClick + "}'";
											if (hoverState==1) {
												prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
											}
										}
										var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
										if (prodNameItalicStart != -1) {
											var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
											var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
										}
										else {
											var prodNameItalicVar = "";
										}
										var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
										if (prodNameSizeStart != -1) {
											var prodNameDispVal = prodDisplayArray[y][21];
										}
										else {
											var prodNameDispVal = prodDisplayArray[y][2];
										}
										if (FPC==1) {
											var isProductChecked = 1;
											window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
											var baseProductStyle = " panel_1_product_name_on";
										}
										else {
											if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
												var isProductChecked = 1;
												window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
												var baseProductStyle = " panel_1_product_name_on";
											}
											else {
												var isProductChecked = 0;
												var baseProductStyle = " panel_1_product_name_off";
											}
										}
										productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + prodNameDispVal + "\">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
									}
									var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
									if (prodDescTagStart != -1) {
										var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
										var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
										var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
										var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
										productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
									}
									var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
									if (prodCatTagStart != -1) {
										var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
										var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
										var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
										var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
										productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
									}
									var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
									if (prodBigImgTagStart != -1) {
										var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
										var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
										var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
										var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
										var replaceBigImgRender = "";
										var replaceBigImgMouseOver = "";
										var replaceBigImgMouseOut = "";
										var replaceBigImgMouseClass = "";
										var replaceBigImgPreset = prodDisplayArray[y][4];
										var replaceBigImgHidden = " style='display:none;'";
										var replaceBigImgBackClass = "off";
										var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
										if (replaceBigImgTest != -1) {
											replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
											replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
											replaceBigImgMouseClass = " img_replace_active";
											var replaceBigImgLength = prodDisplayArray[y][4].length;
											if (FPC==1) {
												var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
												var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
												replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
												replaceBigImgHidden = "";
												replaceBigImgBackClass = "on";
											}
											else {
												if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
													var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
													var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
													replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
													replaceBigImgHidden = "";
													replaceBigImgBackClass = "on";
												}
											}
										}
										var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
										var prodBigImgTagLinkStart = "";
										var prodBigImgTagLinkEnd = "";
										if (prodBigImgTagLinkTest != -1) {
											prodBigImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
											if (hoverState==1) {
												prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
											}
											prodBigImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
											prodBigImgTagLinkEnd = "<\/a>";
										}
										var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
										if (prodBigImgTagDivTest != -1) {
											var postImgBig = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'";
											if (panel1PostLoad == 1) {
												postImgBig = "";
											};
											if (panel1PostLoad == 1) {plPostProd = 1;}
											p1PHWon = 1;
											replaceBigImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
											if (hoverState==1) {
												replaceBigImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
											}
											replaceBigImgRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
											if (hoverState==1) {
												replaceBigImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
											}
											replaceBigImgRender += ">&nbsp;<\/div><\/div>";
											productHTMLTest = baseProdBigImgHTMLStart + replaceBigImgRender + baseProdBigImgHTMLEnd;
										}
										else {
											productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
										}
									}
									var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
									if (prodSmImgTagStart != -1) {
										var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
										var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
										var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
										var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
										var replaceSmImgRender = "";
										var replaceSmImgMouseOver = "";
										var replaceSmImgMouseOut = "";
										var replaceSmImgMouseClass = "";
										var replaceSmImgPreset = prodDisplayArray[y][5];
										var replaceSmImgHidden = " style='display:none;'";
										var replaceSmImgBackClass = "off";
										var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
										if (replaceSmImgTest != -1) {
											replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
											replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
											replaceSmImgMouseClass = " img_replace_active";
											var replaceSmImgLength = prodDisplayArray[y][5].length;
											if (FPC==1) {
												var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
												var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
												replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
												replaceSmImgHidden = "";
												replaceSmImgBackClass = "on";
											}
											else {
												if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
													var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
													var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
													replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
													replaceSmImgHidden = "";
													replaceSmImgBackClass = "on";
												}
											}
										}
										var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
										var prodSmImgTagLinkStart = "";
										var prodSmImgTagLinkEnd = "";
										if (prodSmImgTagLinkTest != -1) {
											prodSmImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);return false;}'";
											if (hoverState==1) {
												prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
											}
											prodSmImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
											prodSmImgTagLinkEnd = "<\/a>";
										}
										var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
										if (prodSmImgTagDivTest != -1) {
											var postImgSm = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'";
											if (panel1PostLoad == 1) {
												postImgSm = "";
											};
											if (panel1PostLoad == 1) {plPostProd = 1;}
											p1PHWon = 1;
											replaceSmImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);return false;}'";
											if (hoverState==1) {
												replaceSmImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
											}
											replaceSmImgRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"'" + postImgSm + "><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
											if (hoverState==1) {
												replaceSmImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
											}
											replaceSmImgRender += ">&nbsp;<\/div><\/div>";
											productHTMLTest = baseProdSmImgHTMLStart + replaceSmImgRender + baseProdSmImgHTMLEnd;
										}
										else {
											productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
										}
									}
									var cartButtonTagStart = productHTMLTest.indexOf("<!--ADDTOCART");
									if (cartButtonTagStart != -1) {
										panel1ProdCartOn = 1;
										var cartButtonTagEnd = productHTMLTest.indexOf(">",cartButtonTagStart);
										var cartButtonTagStrip = productHTMLTest.substring(cartButtonTagStart,(cartButtonTagEnd+1));
										var cartButtonHTMLStart = productHTMLTest.substr(0,cartButtonTagStart);
										var cartButtonHTMLEnd = productHTMLTest.substr((cartButtonTagEnd+1));
										var cartButtonRender = "";
										var cartButtonValueStart = cartButtonTagStrip.indexOf(" VALUE=");
										if (cartButtonValueStart != -1) {
											var cartButtonValueEnd = cartButtonTagStrip.indexOf("]",cartButtonValueStart);
											var cartButtonValueVar = cartButtonTagStrip.substring((cartButtonValueStart+8),(cartButtonValueEnd));
										}
										else {
											var cartButtonValueVar = prodDisplayArray[y][2];
										}
										var cartButtonClickStart = cartButtonTagStrip.indexOf(" CLICK");
										if (cartButtonClickStart != -1) {
											var cartButtonClickVar = "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);";
										}
										else {
											var cartButtonClickVar = "";
										}
										var cartButtonItalicStart = cartButtonTagStrip.indexOf(" FNTAW=");
										if (cartButtonItalicStart != -1) {
											var cartButtonItalicEnd = cartButtonTagStrip.indexOf("]",cartButtonItalicStart);
											var cartButtonItalicVar = "<i class='fa " + cartButtonTagStrip.substring((cartButtonItalicStart+8),(cartButtonItalicEnd)) + "'><\/i>";
										}
										else {
											var cartButtonItalicVar = "";
										}
										cartButtonRender += "<div id='panel1CartButton" + prodDisplayArray[y][0] + "' class='panel_1_cart_button panel_1_cart_button_off'";
										if (hoverState==1) {
											cartButtonRender += " onmouseover='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onfocus='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onmouseout='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);' onblur='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);'";
										}
										cartButtonRender += " onclick='" + prodCloseThings + "" + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "" + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");}' tabindex='0' title=\"" + cartButtonValueVar + "\">" + cartButtonItalicVar + cartButtonValueVar + "<\/div>";
										productHTMLTest = cartButtonHTMLStart + cartButtonRender + cartButtonHTMLEnd;
									}
									productHTML += productHTMLTest;
									break;
								}
							}
							if (iFoundAProd == 0) {
								if(gLog==1){console.log("ERROR: P1 Unknown Product ID="+productID);}
								p1ErrorArray.push("ERROR: P1 Unknown Product ID="+productID);
							}
							baseHTML = baseHTMLStart + productHTML + baseHTMLEnd;
						}
						else if (productCatID != -1) {
							var whatCatProdIndex = -1;
							for (x=0; x<catArray.length; x++) {
								if (catArray[x][0] == productCatID) {
									whatCatProdIndex = catArray[x][0];
									break;
								}
							}
							if (whatCatProdIndex != -1) {
								for (y=0; y<prodDisplayArray.length; y++) {
									if (prodDisplayArray[y][8] == whatCatProdIndex) {
										if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
											var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
										}
										else {
											var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
										}
										if (productCartStart != -1) {
											var productCartEnable = "panel1ProdCart("+prodDisplayArray[y][0]+");";
										}
										else {
											var productCartEnable = "";
										}
										var prodCloseThings = "";
										var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
										if (prodCloseTagStart != -1) {
											var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
											var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
											var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
											prodCloseThings = "genericCloseMe();";
											productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
										}
										var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
										if (prodIterTagStart != -1) {
											var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
											var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
											var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
											var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
											productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
										}
										var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
										if (famNameTagStart != -1) {
											var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
											var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
											var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
											var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
											var famNameValueVal = "FAMILY NAME ERROR";
											var famProdCatNum = -1;
											for (cn=0; cn<catArray.length; cn++) {
												if (catArray[cn][0] == prodDisplayArray[y][8]) {
													famProdCatNum = cn;
													break;
												}
											}
											if (famProdCatNum != -1) {
												for (fn=0; fn<famArray.length; fn++) {
													if (famArray[fn][0] == catArray[famProdCatNum][2]) {
														famNameValueVal = famArray[fn][1];
														break;
													}
												}
											}
											productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
										}
										var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
										if (catNameTagStart != -1) {
											var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
											var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
											var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
											var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
											var catNameValueVal = "CATEGORY NAME ERROR";
											for (cn=0; cn<catArray.length; cn++) {
												if (catArray[cn][0] == prodDisplayArray[y][8]) {
													catNameValueVal = catArray[cn][1];
													break;
												}
											}
											productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
										}
										var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
										if (prodDiscTagStart != -1) {
											var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
											var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
											var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
											var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
											var prodDiscWrite = "";
											var discVal = prodDisplayArray[y][6];
											if (discVal != 1) {
												prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
											}
											productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
										}
										var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
										if (prodNameTagStart != -1) {
											var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
											var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
											var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
											var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
											var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
											if (replaceImgTest != -1) {
												var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
											else {
												var replaceImgMouseOver = "";
												var replaceImgMouseOut = "";
												var replaceImgMouseClass = "";
											}
											var descTest = prodNameTagStrip.indexOf(" DESC");
											if (descTest != -1) {
												var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
											}
											else {
												var descVal = "";
											}
											var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
											var prodPopupMO = "";
											var prodPopupDIV = "";
											if (prodPopupTestStart != -1) {
												var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
												var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
												prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
												prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
											}
											var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
											var prodNameTagLink = "";
											if (prodNameTagLinkTest != -1) {
												prodNameTagLink += " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + "}'";
												if (hoverState==1) {
													prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
												}
											}
											var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
											if (prodNameItalicStart != -1) {
												var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
												var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
											}
											else {
												var prodNameItalicVar = "";
											}
											var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
											if (prodNameSizeStart != -1) {
												var prodNameDispVal = prodDisplayArray[y][21];
											}
											else {
												var prodNameDispVal = prodDisplayArray[y][2];
											}
											if (FPC==1) {
												var isProductChecked = 1;
												window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
												var baseProductStyle = " panel_1_product_name_on";
											}
											else {
												if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
													var isProductChecked = 1;
													window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
													var baseProductStyle = " panel_1_product_name_on";
												}
												else {
													var isProductChecked = 0;
													var baseProductStyle = " panel_1_product_name_off";
												}
											}
											productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + prodNameDispVal + "\">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
										}
										var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
										if (prodDescTagStart != -1) {
											var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
											var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
											var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
											var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
											productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
										}
										var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
										if (prodCatTagStart != -1) {
											var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
											var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
											var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
											var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
											productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
										}
										var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
										if (prodBigImgTagStart != -1) {
											var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
											var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
											var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
											var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
											var replaceBigImgRender = "";
											var replaceBigImgMouseOver = "";
											var replaceBigImgMouseOut = "";
											var replaceBigImgMouseClass = "";
											var replaceBigImgPreset = prodDisplayArray[y][4];
											var replaceBigImgHidden = " style='display:none;'";
											var replaceBigImgBackClass = "off";
											var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
											if (replaceBigImgTest != -1) {
												replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												replaceBigImgMouseClass = " img_replace_active";
												var replaceBigImgLength = prodDisplayArray[y][4].length;
												if (FPC==1) {
													var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
													var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
													replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
													replaceBigImgHidden = "";
													replaceBigImgBackClass = "on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
														var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
														replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
														replaceBigImgHidden = "";
														replaceBigImgBackClass = "on";
													}
												}
											}
											var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
											var prodBigImgTagLinkStart = "";
											var prodBigImgTagLinkEnd = "";
											if (prodBigImgTagLinkTest != -1) {
												prodBigImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
												if (hoverState==1) {
													prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
												}
												prodBigImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
												prodBigImgTagLinkEnd = "<\/a>";
											}
											var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
											if (prodBigImgTagDivTest != -1) {
												var postImgBig = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'";
												if (panel1PostLoad == 1) {
													postImgBig = "";
												}
												if (panel1PostLoad == 1) {plPostProd = 1;}
												p1PHWon = 1;
												replaceBigImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													replaceBigImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
												}
												replaceBigImgRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
												if (hoverState==1) {
													replaceBigImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
												}
												replaceBigImgRender += ">&nbsp;<\/div><\/div>";
												productHTMLTest = baseProdBigImgHTMLStart + replaceBigImgRender + baseProdBigImgHTMLEnd;
											}
											else {
												productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
											}
										}
										var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
										if (prodSmImgTagStart != -1) {
											var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
											var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
											var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
											var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
											var replaceSmImgRender = "";
											var replaceSmImgMouseOver = "";
											var replaceSmImgMouseOut = "";
											var replaceSmImgMouseClass = "";
											var replaceSmImgPreset = prodDisplayArray[y][5];
											var replaceSmImgHidden = " style='display:none;'";
											var replaceSmImgBackClass = "off";
											var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
											if (replaceSmImgTest != -1) {
												replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												replaceSmImgMouseClass = " img_replace_active";
												var replaceSmImgLength = prodDisplayArray[y][5].length;
												if (FPC==1) {
													var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
													var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
													replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
													replaceSmImgHidden = "";
													replaceSmImgBackClass = "on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
														var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
														replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
														replaceSmImgHidden = "";
														replaceSmImgBackClass = "on";
													}
												}
											}
											var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
											var prodSmImgTagLinkStart = "";
											var prodSmImgTagLinkEnd = "";
											if (prodSmImgTagLinkTest != -1) {
												prodSmImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
												if (hoverState==1) {
													prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
												}
												prodSmImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
												prodSmImgTagLinkEnd = "<\/a>";
											}
											var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
											if (prodSmImgTagDivTest != -1) {
												var postImgSm = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'";
												if (panel1PostLoad == 1) {
													postImgSm = "";
												};
												if (panel1PostLoad == 1) {plPostProd = 1;}
												p1PHWon = 1;
												replaceSmImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													replaceSmImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
												}
												replaceSmImgRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"'" + postImgSm + "><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
												if (hoverState==1) {
													replaceSmImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
												}
												replaceSmImgRender += ">&nbsp;<\/div><\/div>";
												productHTMLTest += baseProdSmImgHTMLStart + replaceSmImgRender + baseProdSmImgHTMLEnd;
											}
											else {
												productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
											}
										}
										var cartButtonTagStart = productHTMLTest.indexOf("<!--ADDTOCART");
										if (cartButtonTagStart != -1) {
											panel1ProdCartOn = 1;
											var cartButtonTagEnd = productHTMLTest.indexOf(">",cartButtonTagStart);
											var cartButtonTagStrip = productHTMLTest.substring(cartButtonTagStart,(cartButtonTagEnd+1));
											var cartButtonHTMLStart = productHTMLTest.substr(0,cartButtonTagStart);
											var cartButtonHTMLEnd = productHTMLTest.substr((cartButtonTagEnd+1));
											var cartButtonRender = "";
											var cartButtonValueStart = cartButtonTagStrip.indexOf(" VALUE=");
											if (cartButtonValueStart != -1) {
												var cartButtonValueEnd = cartButtonTagStrip.indexOf("]",cartButtonValueStart);
												var cartButtonValueVar = cartButtonTagStrip.substring((cartButtonValueStart+8),(cartButtonValueEnd));
											}
											else {
												var cartButtonValueVar = prodDisplayArray[y][2];
											}
											var cartButtonClickStart = cartButtonTagStrip.indexOf(" CLICK");
											if (cartButtonClickStart != -1) {
												var cartButtonClickVar = "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);";
											}
											else {
												var cartButtonClickVar = "";
											}
											var cartButtonItalicStart = cartButtonTagStrip.indexOf(" FNTAW=");
											if (cartButtonItalicStart != -1) {
												var cartButtonItalicEnd = cartButtonTagStrip.indexOf("]",cartButtonItalicStart);
												var cartButtonItalicVar = "<i class='fa " + cartButtonTagStrip.substring((cartButtonItalicStart+8),(cartButtonItalicEnd)) + "'><\/i>";
											}
											else {
												var cartButtonItalicVar = "";
											}
											cartButtonRender += "<div id='panel1CartButton" + prodDisplayArray[y][0] + "' class='panel_1_cart_button panel_1_cart_button_off'";
											if (hoverState==1) {
												cartButtonRender += " onmouseover='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onfocus='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onmouseout='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);' onblur='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);'";
											}
											cartButtonRender += " onclick='" + prodCloseThings + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");}' tabindex='0' title=\"" + cartButtonValueVar + "\">" + cartButtonItalicVar + cartButtonValueVar + "<\/div>";
											productHTMLTest = cartButtonHTMLStart + cartButtonRender + cartButtonHTMLEnd;
										}
										productHTML += productHTMLTest;
									}
								}
								baseHTML = baseHTMLStart + productHTML + baseHTMLEnd;
							}
							else {
								if(gLog==1){console.log("ERROR: Unknown Product CatID="+productCatID);}
								p1ErrorArray.push("ERROR: Unknown Product CatID="+productCatID);
								baseHTML = baseHTMLStart + baseHTMLEnd;
							}
						}
						else {
							for (y=0; y<prodDisplayArray.length; y++) {
								if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
									var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
								}
								else {
									var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
								}
								if (productCartStart != -1) {
									var productCartEnable = "panel1ProdCart("+prodDisplayArray[y][0]+");";
								}
								else {
									var productCartEnable = "";
								}
								var prodCloseThings = "";
								var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
								if (prodCloseTagStart != -1) {
									var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
									var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
									var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
									prodCloseThings = "genericCloseMe();";
									productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
								}
								var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
								if (prodIterTagStart != -1) {
									var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
									var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
									var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
									var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
									productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
								}
								var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
								if (famNameTagStart != -1) {
									var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
									var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
									var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
									var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
									var famNameValueVal = "FAMILY NAME ERROR";
									var famProdCatNum = -1;
									for (cn=0; cn<catArray.length; cn++) {
										if (catArray[cn][0] == prodDisplayArray[y][8]) {
											famProdCatNum = cn;
											break;
										}
									}
									if (famProdCatNum != -1) {
										for (fn=0; fn<famArray.length; fn++) {
											if (famArray[fn][0] == catArray[famProdCatNum][2]) {
												famNameValueVal = famArray[fn][1];
												break;
											}
										}
									}
									productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
								}
								var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
								if (catNameTagStart != -1) {
									var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
									var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
									var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
									var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
									var catNameValueVal = "CATEGORY NAME ERROR";
									for (cn=0; cn<catArray.length; cn++) {
										if (catArray[cn][0] == prodDisplayArray[y][8]) {
											catNameValueVal = catArray[cn][1];
											break;
										}
									}
									productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
								}
								var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
								if (prodDiscTagStart != -1) {
									var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
									var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
									var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
									var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
									var prodDiscWrite = "";
									var discVal = prodDisplayArray[y][6];
									if (discVal != 1) {
										prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
									}
									productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
								}
								var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
								if (prodNameTagStart != -1) {
									var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
									var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
									var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
									var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
									var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
									if (replaceImgTest != -1) {
										var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
										var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
										var replaceImgMouseClass = " img_replace_active";
									}
									else {
										var replaceImgMouseOver = "";
										var replaceImgMouseOut = "";
										var replaceImgMouseClass = "";
									}
									var descTest = prodNameTagStrip.indexOf(" DESC");
									if (descTest != -1) {
										var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
									}
									else {
										var descVal = "";
									}
									var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
									var prodPopupMO = "";
									var prodPopupDIV = "";
									if (prodPopupTestStart != -1) {
										var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
										var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
										prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
										prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
									}
									var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
									var prodNameTagLink = "";
									if (prodNameTagLinkTest != -1) {
										prodNameTagLink += " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + "}'";
										if (hoverState==1) {
											prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver +  prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver +  prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
										}
									}
									var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
									if (prodNameItalicStart != -1) {
										var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
										var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
									}
									else {
										var prodNameItalicVar = "";
									}
									var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
									if (prodNameSizeStart != -1) {
										var prodNameDispVal = prodDisplayArray[y][21];
									}
									else {
										var prodNameDispVal = prodDisplayArray[y][2];
									}
									if (FPC==1) {
										var isProductChecked = 1;
										window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
										var baseProductStyle = " panel_1_product_name_on";
									}
									else {
										if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
											var isProductChecked = 1;
											window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
											var baseProductStyle = " panel_1_product_name_on";
										}
										else {
											var isProductChecked = 0;
											var baseProductStyle = " panel_1_product_name_off";
										}
									}
									productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + prodNameDispVal + "\">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
								}
								var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
								if (prodDescTagStart != -1) {
									var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
									var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
									var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
									var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
									productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
								}
								var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
								if (prodCatTagStart != -1) {
									var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
									var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
									var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
									var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
									productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
								}
								var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
								if (prodBigImgTagStart != -1) {
									var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
									var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
									var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
									var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
									var replaceBigImgRender = "";
									var replaceBigImgMouseOver = "";
									var replaceBigImgMouseOut = "";
									var replaceBigImgMouseClass = "";
									var replaceBigImgPreset = prodDisplayArray[y][4];
									var replaceBigImgHidden = " style='display:none;'";
									var replaceBigImgBackClass = "off";
									var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
									if (replaceBigImgTest != -1) {
										replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
										replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
										replaceBigImgMouseClass = " img_replace_active";
										var replaceBigImgLength = prodDisplayArray[y][4].length;
										if (FPC==1) {
											var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
											var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
											replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
											replaceBigImgHidden = "";
											replaceBigImgBackClass = "on";
										}
										else {
											if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
												var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
												var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
												replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
												replaceBigImgHidden = "";
												replaceBigImgBackClass = "on";
											}
										}
									}
									var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
									var prodBigImgTagLinkStart = "";
									var prodBigImgTagLinkEnd = "";
									if (prodBigImgTagLinkTest != -1) {
										prodBigImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
										if (hoverState==1) {
											prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
										}
										prodBigImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
										prodBigImgTagLinkEnd = "<\/a>";
									}
									var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
									if (prodBigImgTagDivTest != -1) {
										var postImgBig = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'";
										if (panel1PostLoad == 1) {
											postImgBig = "";
										};
										if (panel1PostLoad == 1) {plPostProd = 1;}
										p1PHWon = 1;
										replaceBigImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
										if (hoverState==1) {
											replaceBigImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
										}
										replaceBigImgRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
										if (hoverState==1) {
											replaceBigImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
										}
										replaceBigImgRender += ">&nbsp;<\/div><\/div>";
										productHTMLTest = baseProdBigImgHTMLStart + replaceBigImgRender + baseProdBigImgHTMLEnd;
									}
									else {
										productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
									}
								}
								var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
								if (prodSmImgTagStart != -1) {
									var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
									var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
									var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
									var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
									var replaceSmImgRender = "";
									var replaceSmImgMouseOver = "";
									var replaceSmImgMouseOut = "";
									var replaceSmImgMouseClass = "";
									var replaceSmImgPreset = prodDisplayArray[y][5];
									var replaceSmImgHidden = " style='display:none;'";
									var replaceSmImgBackClass = "off";
									var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
									if (replaceSmImgTest != -1) {
										replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
										replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
										replaceSmImgMouseClass = " img_replace_active";
										var replaceSmImgLength = prodDisplayArray[y][5].length;
										if (FPC==1) {
											var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
											var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
											replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
											replaceSmImgHidden = "";
											replaceSmImgBackClass = "on";
										}
										else {
											if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
												var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
												var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
												replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
												replaceSmImgHidden = "";
												replaceSmImgBackClass = "on";
											}
										}
									}
									var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
									var prodSmImgTagLinkStart = "";
									var prodSmImgTagLinkEnd = "";
									if (prodSmImgTagLinkTest != -1) {
										prodSmImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
										if (hoverState==1) {
											prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
										}
										prodSmImgTagLinkStart += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\">";
										prodSmImgTagLinkEnd = "<\/a>";
									}
									var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
									if (prodSmImgTagDivTest != -1) {
										var postImgSm = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'";
										if (panel1PostLoad == 1) {
											postImgSm = "";
										};
										if (panel1PostLoad == 1) {plPostProd = 1;}
										p1PHWon = 1;
										replaceSmImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
										if (hoverState==1) {
											replaceSmImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
										}
										replaceSmImgRender += " tabindex='0' title=\"" + prodDisplayArray[y][2] + "\"><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"'" + postImgSm + "><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
										if (hoverState==1) {
											replaceSmImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
										}
										replaceSmImgRender += ">&nbsp;<\/div><\/div>";
										productHTMLTest = baseProdSmImgHTMLStart + replaceSmImgRender + baseProdSmImgHTMLEnd;
									}
									else {
										productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
									}
								}
								var cartButtonTagStart = productHTMLTest.indexOf("<!--ADDTOCART");
								if (cartButtonTagStart != -1) {
									panel1ProdCartOn = 1;
									var cartButtonTagEnd = productHTMLTest.indexOf(">",cartButtonTagStart);
									var cartButtonTagStrip = productHTMLTest.substring(cartButtonTagStart,(cartButtonTagEnd+1));
									var cartButtonHTMLStart = productHTMLTest.substr(0,cartButtonTagStart);
									var cartButtonHTMLEnd = productHTMLTest.substr((cartButtonTagEnd+1));
									var cartButtonRender = "";
									var cartButtonValueStart = cartButtonTagStrip.indexOf(" VALUE=");
									if (cartButtonValueStart != -1) {
										var cartButtonValueEnd = cartButtonTagStrip.indexOf("]",cartButtonValueStart);
										var cartButtonValueVar = cartButtonTagStrip.substring((cartButtonValueStart+8),(cartButtonValueEnd));
									}
									else {
										var cartButtonValueVar = prodDisplayArray[y][2];
									}
									var cartButtonClickStart = cartButtonTagStrip.indexOf(" CLICK");
									if (cartButtonClickStart != -1) {
										var cartButtonClickVar = "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);";
									}
									else {
										var cartButtonClickVar = "";
									}
									var cartButtonItalicStart = cartButtonTagStrip.indexOf(" FNTAW=");
									if (cartButtonItalicStart != -1) {
										var cartButtonItalicEnd = cartButtonTagStrip.indexOf("]",cartButtonItalicStart);
										var cartButtonItalicVar = "<i class='fa " + cartButtonTagStrip.substring((cartButtonItalicStart+8),(cartButtonItalicEnd)) + "'><\/i>";
									}
									else {
										var cartButtonItalicVar = "";
									}
									cartButtonRender += "<div id='panel1CartButton" + prodDisplayArray[y][0] + "' class='panel_1_cart_button panel_1_cart_button_off'";
									if (hoverState==1) {
										cartButtonRender += " onmouseover='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onfocus='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onmouseout='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);' onblur='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);'";
									}
									cartButtonRender += " onclick='" + prodCloseThings + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");}' tabindex='0' title=\"" + cartButtonValueVar + "\">" + cartButtonItalicVar + cartButtonValueVar + "<\/div>";
									productHTMLTest = cartButtonHTMLStart + cartButtonRender + cartButtonHTMLEnd;
								}
								productHTML += productHTMLTest;
							}
							baseHTML = baseHTMLStart + productHTML + baseHTMLEnd;
						}
					}
					else {
						prodSearchOn = 0;
					}
				}
			}
			var storeFamSearchOn = 1;
			while (storeFamSearchOn == 1) {
				var famTagStart = baseHTML.indexOf("<!--STOREFAMILY");
				if (famTagStart != -1) {
					var famTagEnd = baseHTML.indexOf(">",famTagStart);
					var famTagStrip = baseHTML.substring(famTagStart,(famTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,famTagStart);
					var baseHTMLEnd = baseHTML.substr((famTagEnd+1));
					var storeFamilyID = 0;
					var storeFamilyHTML = "";
					var storeFamilyIDStart = famTagStrip.indexOf(" ID=");
					if (storeFamilyIDStart != -1) {
						var storeFamilyIDEnd = famTagStrip.indexOf("]",storeFamilyIDStart);
						storeFamilyID = famTagStrip.substring((storeFamilyIDStart+5),(storeFamilyIDEnd));
					}
					if (storeFamilyID != 0) {
						var storeFamilyHTMLTest = autotextIt(p1TemplateSet.panel1StoreFamilyDiv,"panel1StoreFamily");
						var whatFamIndex = -1;
						for (x=0; x<storeFamArray.length; x++) {
							if (storeFamArray[x][0] == storeFamilyID) {
								whatFamIndex = x;
								break;
							}
						}
						if (whatFamIndex != -1) {
							var famNameTagStart = storeFamilyHTMLTest.indexOf("<!--FAMNAME");
							if (famNameTagStart != -1) {
								var famNameTagEnd = storeFamilyHTMLTest.indexOf(">",famNameTagStart);
								var famNameTagStrip = storeFamilyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
								var baseFamNameHTMLStart = storeFamilyHTMLTest.substr(0,famNameTagStart);
								var baseFamNameHTMLEnd = storeFamilyHTMLTest.substr((famNameTagEnd+1));
								var famNameTagOnTest = famNameTagStrip.indexOf(" ON");
								if (famNameTagOnTest != -1) {
									var famNameTagOnOff = "panel_1_store_family_name_on";
									window["panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0]] = 1;
									storeFamArray[whatFamIndex][4] = 1;
								}
								else {
									var famNameTagOnOff = "panel_1_store_family_name_off";
								}
								var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famNameTagLink = "";
								if (famNameTagLinkTest != -1) {
									famNameTagLink += " style='cursor:pointer;' onclick='panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\");}'";
									if (hoverState==1) {
										famNameTagLink += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");'";
									}
								}
								storeFamilyHTMLTest = baseFamNameHTMLStart + "<div id='panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "' class='panel_1_store_family_name " + famNameTagOnOff + "'" + famNameTagLink + " tabindex='0' title=\"" + storeFamArray[whatFamIndex][1] + "\">" + storeFamArray[whatFamIndex][1] + "<\/div>" + baseFamNameHTMLEnd;
							}
							var famBigImgTagStart = storeFamilyHTMLTest.indexOf("<!--FAMBIGIMG");
							if (famBigImgTagStart != -1) {
								var famBigImgTagEnd = storeFamilyHTMLTest.indexOf(">",famBigImgTagStart);
								var famBigImgTagStrip = storeFamilyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
								var baseFamBigImgHTMLStart = storeFamilyHTMLTest.substr(0,famBigImgTagStart);
								var baseFamBigImgHTMLEnd = storeFamilyHTMLTest.substr((famBigImgTagEnd+1));
								var famBigImgTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famBigImgTagLinkStart = "";
								var famBigImgTagLinkEnd = "";
								if (famBigImgTagLinkTest != -1) {
									famBigImgTagLinkStart = "<a href='' onclick='panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\"); return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\"); return false;}'";
									if (hoverState==1) {
										famBigImgTagLinkStart = " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");'";
									}
									famBigImgTagLinkStart = " tabindex='0' title='" + storeFamArray[whatFamIndex][1] + ">";
									famBigImgTagLinkEnd = "<\/a>";
								}
								storeFamilyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + storeFamArray[whatFamIndex][1] + "\" alt=\"" + storeFamArray[whatFamIndex][1] + "\" id='panel1StoreFamilyBigImg" + storeFamArray[whatFamIndex][0] + "' class='panel_1_store_family_big_img' src='" + clientImgBase + storeFamArray[whatFamIndex][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
							}
							var famSmImgTagStart = storeFamilyHTMLTest.indexOf("<!--FAMSMIMG");
							if (famSmImgTagStart != -1) {
								var famSmImgTagEnd = storeFamilyHTMLTest.indexOf(">",famSmImgTagStart);
								var famSmImgTagStrip = storeFamilyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
								var baseFamSmImgHTMLStart = storeFamilyHTMLTest.substr(0,famSmImgTagStart);
								var baseFamSmImgHTMLEnd = storeFamilyHTMLTest.substr((famSmImgTagEnd+1));
								var famSmImgTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famSmImgTagLinkStart = "";
								var famSmImgTagLinkEnd = "";
								if (famSmImgTagLinkTest != -1) {
									famSmImgTagLinkStart = "<a href='' onclick='panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\"); return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\"); return false;}'";
									if (hoverState==1) {
										famBigImgTagLinkStart = " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");'";
									}
									famBigImgTagLinkStart = " tabindex='0' title=\"" + storeFamArray[whatFamIndex][1] + "\">";
									famSmImgTagLinkEnd = "<\/a>";
								}
								storeFamilyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + storeFamArray[whatFamIndex][1] + "\" alt=\"" + storeFamArray[whatFamIndex][1] + "\" id='panel1StoreFamilySmImg" + storeFamArray[whatFamIndex][0] + "' class='panel_1_store_family_sm_img' src='" + clientImgBase + storeFamArray[whatFamIndex][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
							}
							storeFamilyHTML += storeFamilyHTMLTest;
						}
					}
					else {
						for (x=0; x<storeFamArray.length; x++) {
							var storeFamilyHTMLTest = autotextIt(p1TemplateSet.panel1StoreFamilyDiv,"panel1StoreFamily");
							var famNameTagStart = storeFamilyHTMLTest.indexOf("<!--FAMNAME");
							if (famNameTagStart != -1) {
								var famNameTagEnd = storeFamilyHTMLTest.indexOf(">",famNameTagStart);
								var famNameTagStrip = storeFamilyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
								var baseFamNameHTMLStart = storeFamilyHTMLTest.substr(0,famNameTagStart);
								var baseFamNameHTMLEnd = storeFamilyHTMLTest.substr((famNameTagEnd+1));
								var famNameTagOnTest = famNameTagStrip.indexOf(" ON");
								if (famNameTagOnTest != -1) {
									var famNameTagOnOff = "panel_1_store_family_name_on";
									window["panel1StoreFamilyNameVar" + storeFamArray[x][0]] = 1;
									storeFamArray[x][4] = 1;
								}
								else {
									var famNameTagOnOff = "panel_1_store_family_name_off";
								}
								var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famNameTagLink = "";
								if (famNameTagLinkTest != -1) {
									famNameTagLink += " style='cursor:pointer;' onclick='panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");}'";
									if (hoverState==1) {
										famNameTagLink += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");'";
									}
								}
								storeFamilyHTMLTest = baseFamNameHTMLStart + "<div id='panel1StoreFamilyName" + storeFamArray[x][0] + "' class='panel_1_store_family_name " + famNameTagOnOff + "'" + famNameTagLink + " tabindex='0' title=\"" + storeFamArray[x][1] + "\">" + storeFamArray[x][1] + "<\/div>" + baseFamNameHTMLEnd;
							}
							var famBigImgTagStart = storeFamilyHTMLTest.indexOf("<!--FAMBIGIMG");
							if (famBigImgTagStart != -1) {
								var famBigImgTagEnd = storeFamilyHTMLTest.indexOf(">",famBigImgTagStart);
								var famBigImgTagStrip = storeFamilyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
								var baseFamBigImgHTMLStart = storeFamilyHTMLTest.substr(0,famBigImgTagStart);
								var baseFamBigImgHTMLEnd = storeFamilyHTMLTest.substr((famBigImgTagEnd+1));
								var famBigImgTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famBigImgTagLinkStart = "";
								var famBigImgTagLinkEnd = "";
								if (famBigImgTagLinkTest != -1) {
									famBigImgTagLinkStart += "<a href='' onclick='panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");return false;}'";
									if (hoverState==1) {
										famBigImgTagLinkStart += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");'";
									}
									famBigImgTagLinkStart += " tabindex='0' title=\"" + storeFamArray[x][1] + "\">";
									famBigImgTagLinkEnd = "<\/a>";
								}
								storeFamilyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + storeFamArray[x][1] + "\" alt=\"" + storeFamArray[x][1] + "\" id='panel1StoreFamilyBigImg" + storeFamArray[x][0] + "' class='panel_1_store_family_big_img' src='" + clientImgBase + storeFamArray[x][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
							}
							var famSmImgTagStart = storeFamilyHTMLTest.indexOf("<!--FAMSMIMG");
							if (famSmImgTagStart != -1) {
								var famSmImgTagEnd = storeFamilyHTMLTest.indexOf(">",famSmImgTagStart);
								var famSmImgTagStrip = storeFamilyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
								var baseFamSmImgHTMLStart = storeFamilyHTMLTest.substr(0,famSmImgTagStart);
								var baseFamSmImgHTMLEnd = storeFamilyHTMLTest.substr((famSmImgTagEnd+1));
								var famSmImgTagLinkTest = famNameTagStrip.indexOf(" LINK");
								var famSmImgTagLinkStart = "";
								var famSmImgTagLinkEnd = "";
								if (famSmImgTagLinkTest != -1) {
									famSmImgTagLinkStart += "<a href='' onclick='panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");return false;}'";
									if (hoverState==1) {
										famSmImgTagLinkStart += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");'";
									}
									famSmImgTagLinkStart += " tabindex='0' title=\"" + storeFamArray[x][1] + "\">";
									famSmImgTagLinkEnd = "<\/a>";
								}
								storeFamilyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + storeFamArray[x][1] + "\" alt=\"" + storeFamArray[x][1] + "\" id='panel1StoreFamilySmImg" + storeFamArray[x][0] + "' class='panel_1_store_family_sm_img' src='" + clientImgBase + storeFamArray[x][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
							}
							storeFamilyHTML += storeFamilyHTMLTest;
						}
					}
					baseHTML = baseHTMLStart + storeFamilyHTML + baseHTMLEnd;
				}
				else {
					storeFamSearchOn = 0;
				}
			}
			var panel1StoreCatSearchOn = 1;
			while (panel1StoreCatSearchOn == 1) {
				var catTagStart = baseHTML.indexOf("<!--STORECATEGORY");
				if (catTagStart != -1) {
					panel1StoreCatOn = 1;
					var catTagEnd = baseHTML.indexOf(">",catTagStart);
					var catTagStrip = baseHTML.substring(catTagStart,(catTagEnd+1));
					var baseHTMLStart = baseHTML.substr(0,catTagStart);
					var baseHTMLEnd = baseHTML.substr((catTagEnd+1));
					var categoryID = 0;
					var categoryHTML = "";
					var categoryIDStart = catTagStrip.indexOf(" ID=");
					if (categoryIDStart != -1) {
						var categoryIDEnd = catTagStrip.indexOf("]",categoryIDStart);
						categoryID = catTagStrip.substring((categoryIDStart+5),(categoryIDEnd));
					}
					if (categoryID != 0) {
						var categoryHTMLTest = autotextIt(p1TemplateSet.panel1StoreCategoryDiv,"panel1StoreCategory");
						var whatCatIndex = -1;
						for (x=0; x<storeCatArray.length; x++) {
							if (storeCatArray[x][0] == categoryID) {
								whatCatIndex = x;
								break;
							}
						}
						if (whatCatIndex != -1) {
							var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
							if (catNameTagStart != -1) {
								var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
								var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
								var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
								var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
								var catNameTagOnTest = catNameTagStrip.indexOf(" ON");
								var catNameDefaultOnTest = 0;
								var catNameSCatSet = coreSCat;
								if (catNameSCatSet != "") {
									if (catNameSCatSet.indexOf(",") != -1) {
										var catNameDefaultArray = catNameSCatSet.split(",");
									}
									else {
										var catNameDefaultArray = new Array(catNameSCatSet);
									}
									for (q=0;q<catNameDefaultArray.length;q++) {
										if (storeCatArray[whatCatIndex][0] == catNameDefaultArray[q]) {
											catNameDefaultOnTest = 1;
											break;
										}
									}
								}
								if (catNameTagOnTest != -1 || catNameDefaultOnTest == 1) {
									var catNameTagOnOff = "panel_1_store_category_name_on";
									window["panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0]] = 1;
									storeCatArray[whatCatIndex][8] = 1;
								}
								else {
									var catNameTagOnOff = "panel_1_store_category_name_off";
								}
								var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
								var catNameTagLink = "";
								if (catNameTagLinkTest != -1) {
									catNameTagLink += " style='cursor:pointer;' onclick='panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\");}'";
									if (hoverState==1) {
										catNameTagLink += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ");'";
									}
								}
								categoryHTMLTest = baseCatNameHTMLStart + "<div id='panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "' class='panel_1_store_category_name_" + storeCatArray[whatCatIndex][0] + " panel_1_store_category_name " + catNameTagOnOff + "'" + catNameTagLink + " tabindex='0' title=\"" + storeCatArray[whatCatIndex][1] + "\">" + storeCatArray[whatCatIndex][1] + "<\/div>" + baseCatNameHTMLEnd;
							}
							var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
							if (catBigImgTagStart != -1) {
								var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
								var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
								var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
								var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
								var catBigImgReplaceTest = catBigImgTagStrip.indexOf(" REPLACE");
								if (catBigImgReplaceTest != -1) {
									var catBigImgReplace = 1;
								}
								else {
									var catBigImgReplace = 0;
								}
								var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
								var catBigImgTagLinkStart = "";
								var catBigImgTagLinkEnd = "";
								if (catBigImgTagLinkTest != -1) {
									catBigImgTagLinkStart += "<a href='' onclick='panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\"); return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\"); return false;}'";
									if (hoverState==1) {
										catBigImgTagLinkStart += "> onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catBigImgReplace + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catBigImgReplace + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catBigImgReplace + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catBigImgReplace + ");'";
									}
									catBigImgTagLinkStart += " tabindex='0' title=\"" + storeCatArray[whatCatIndex][1] + "\">";
									catBigImgTagLinkEnd = "<\/a>";
								}
								categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + storeCatArray[whatCatIndex][1] + "\" alt=\"" + storeCatArray[whatCatIndex][1] + "\" id='panel1StoreCategoryBigImg" + storeCatArray[whatCatIndex][0] + "' class='panel_1_store_category_big_img' src='" + clientImgBase + storeCatArray[whatCatIndex][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
							}
							var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
							if (catSmImgTagStart != -1) {
								var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
								var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
								var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
								var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
								var catSmImgReplaceTest = catSmImgTagStrip.indexOf(" REPLACE");
								if (catSmImgReplaceTest != -1) {
									var catSmImgReplace = 1;
								}
								else {
									var catSmImgReplace = 0;
								}
								var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
								var catSmImgTagLinkStart = "";
								var catSmImgTagLinkEnd = "";
								if (catSmImgTagLinkTest != -1) {
									catSmImgTagLinkStart += "<a href='' onclick='panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\"); return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\"); return false;}'";
									if (hoverState==1) {
										catSmImgTagLinkStart += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catSmImgReplace + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catSmImgReplace + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catSmImgReplace + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catSmImgReplace + ");'";
									}
									catSmImgTagLinkStart += " tabindex='0' title=\"" + storeCatArray[whatCatIndex][1] + "\">";
									catSmImgTagLinkEnd = "<\/a>";
								}
								categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + storeCatArray[whatCatIndex][1] + "\" alt=\"" + storeCatArray[whatCatIndex][1] + "\" id='panel1StoreCategorySmImg" + storeCatArray[whatCatIndex][0] + "' class='panel_1_store_category_sm_img' src='" + clientImgBase + storeCatArray[whatCatIndex][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
							}
							categoryHTML += categoryHTMLTest;
						}
					}
					else {
						for (x=0; x<storeCatArray.length; x++) {
							var categoryHTMLTest = autotextIt(p1TemplateSet.panel1StoreCategoryDiv,"panel1StoreCategory");
							var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
							if (catNameTagStart != -1) {
								var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
								var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
								var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
								var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
								var catNameTagOnTest = catNameTagStrip.indexOf(" ON");
								var catNameDefaultOnTest = 0;
								var catNameSCatSet = coreSCat;
								if (catNameSCatSet != "") {
									if (catNameSCatSet.indexOf(",") != -1) {
										var catNameDefaultArray = catNameSCatSet.split(",");
									}
									else {
										var catNameDefaultArray = new Array(catNameSCatSet);
									}
									for (q=0;q<catNameDefaultArray.length;q++) {
										if (storeCatArray[whatCatIndex][0] == catNameDefaultArray[q]) {
											catNameDefaultOnTest = 1;
											break;
										}
									}
								}
								var catNameTagOnTest = catNameTagStrip.indexOf(" ON");
								if (catNameTagOnTest != -1 || catNameDefaultOnTest == 1) {
									var catNameTagOnOff = "panel_1_store_category_name_on";
									window["panel1StoreCategoryNameVar" + storeCatArray[x][0]] = 1;
									storeCatArray[x][8] = 1;
								}
								else {
									var catNameTagOnOff = "panel_1_store_category_name_off";
								}
								var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
								var catNameTagLink = "";
								if (catNameTagLinkTest != -1) {
									catNameTagLink =+ " style='cursor:pointer;' onclick='panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");}'";
									if (hoverState==1) {
										catNameTagLink =+ " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ");'";
									}
								}
								categoryHTMLTest = baseCatNameHTMLStart + "<div id='panel1StoreCategoryName" + storeCatArray[x][0] + "' class='panel_1_store_category_name_" + storeCatArray[x][0] + " panel_1_store_category_name " + catNameTagOnOff + "'" + catNameTagLink + " tabindex='0' title=\"" + storeCatArray[x][1] + "\">" + storeCatArray[x][1] + "<\/div>" + baseCatNameHTMLEnd;
							}
							var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
							if (catBigImgTagStart != -1) {
								var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
								var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
								var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
								var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
								var catBigImgReplaceTest = catBigImgTagStrip.indexOf(" REPLACE");
								if (catBigImgReplaceTest != -1) {
									var catBigImgReplace = 1;
								}
								else {
									var catBigImgReplace = 0;
								}
								var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
								var catBigImgTagLinkStart = "";
								var catBigImgTagLinkEnd = "";
								if (catBigImgTagLinkTest != -1) {
									catBigImgTagLinkStart += "<a href='' onclick='panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");return false;}'";
									if (hoverState==1) {
										catBigImgTagLinkStart += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catBigImgReplace + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catBigImgReplace + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catBigImgReplace + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catBigImgReplace + ");'";
									}
									catBigImgTagLinkStart += " tabindex='0' title=\"" + storeCatArray[x][1] + "\">";
									catBigImgTagLinkEnd = "<\/a>";
								}
								categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + storeCatArray[x][1] + "\" alt=\"" + storeCatArray[x][1] + "\" id='panel1StoreCategoryBigImg" + storeCatArray[x][0] + "' class='panel_1_store_category_big_img' src='" + clientImgBase + storeCatArray[x][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
							}
							var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
							if (catSmImgTagStart != -1) {
								var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
								var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
								var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
								var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
								var catSmImgReplaceTest = catSmImgTagStrip.indexOf(" REPLACE");
								if (catSmImgReplaceTest != -1) {
									var catSmImgReplace = 1;
								}
								else {
									var catSmImgReplace = 0;
								}
								var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
								var catSmImgTagLinkStart = "";
								var catSmImgTagLinkEnd = "";
								if (catSmImgTagLinkTest != -1) {
									catSmImgTagLinkStart += "<a href='' onclick='panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");return false;}'";
									if (hoverState==1) {
										catSmImgTagLinkStart += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catSmImgReplace + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catSmImgReplace + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catSmImgReplace + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catSmImgReplace + ");'";
									}
									catSmImgTagLinkStart += " tabindex='0' title=\"" + storeCatArray[x][1] + "\">";
									catSmImgTagLinkEnd = "<\/a>";
								}
								categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + storeCatArray[x][1] + "\" alt=\"" + storeCatArray[x][1] + "\" id='panel1StoreCategorySmImg" + storeCatArray[x][0] + "' class='panel_1_store_category_sm_img' src='" + clientImgBase + storeCatArray[x][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
							}
							categoryHTML += categoryHTMLTest;
						}
					}
					baseHTML = baseHTMLStart + categoryHTML + baseHTMLEnd;
				}
				else {
					panel1StoreCatSearchOn = 0;
				}
			}
			var prodShopCartTagStart = baseHTML.indexOf("<!--PRODSHOPCART");
			if (prodShopCartTagStart != -1) {
				var prodShopCartTagEnd = baseHTML.indexOf(">",prodShopCartTagStart);
				var prodShopCartTagStrip = baseHTML.substring(prodShopCartTagStart,(prodShopCartTagEnd+1));
				var baseLocListHTMLStart = baseHTML.substr(0,prodShopCartTagStart);
				var baseLocListHTMLEnd = baseHTML.substr((prodShopCartTagEnd+1));
				var prodShopCartCatTest = prodShopCartTagStrip.indexOf(" CATLIST");
				if (prodShopCartCatTest != -1) {
					panel1ProdShopCartCat = 1;
				}
				var prodShopCartFamTest = prodShopCartTagStrip.indexOf(" FAMLIST");
				if (prodShopCartFamTest != -1) {
					panel1ProdShopCartFam = 1;
				}
				var prodShopCartNoProdTest = prodShopCartTagStrip.indexOf(" NOPROD");
				if (prodShopCartNoProdTest != -1) {
					panel1ProdShopCartNoProd = 1;
				}
				baseHTML = baseLocListHTMLStart + "<div id='panel1ProdShopCartShell' class='panel_1_prod_shop_cart_shell'><\/div>" + baseLocListHTMLEnd;
			}
			var onretTagStart = baseHTML.indexOf("<!--ONLINERETAILERRESULTS");
			if (onretTagStart != -1 && onretOn == 1) {
				var onretTagEnd = baseHTML.indexOf(">",onretTagStart);
				var onretTagStrip = baseHTML.substring(onretTagStart,(onretTagEnd+1));
				var onretHTMLStart = baseHTML.substr(0,onretTagStart);
				var onretHTMLEnd = baseHTML.substr((onretTagEnd+1));
				var panel1OnRetStyleStart = onretTagStrip.indexOf(" TYPE=");
				if (panel1OnRetStyleStart != -1) {
					var panel1OnRetStyleEnd = onretTagStrip.indexOf("]",panel1OnRetStyleStart);
					panel1OnRetStyle = onretTagStrip.substring((panel1OnRetStyleStart+8),(panel1OnRetStyleEnd));
				}
				if (panel1OnRetState == 0) {
					var retShow = " style='display:none;'";
				}
				else {
					var retShow = "";
				}
				baseHTML = onretHTMLStart + "<div id='panel1OnRetResultsShell' class='panel_2_onret_results_shell'" + retShow + "><\/div>" + onretHTMLEnd;
			}
			var onretselTagStart = baseHTML.indexOf("<!--ONLINERETAILERSELECT");
			if (onretselTagStart != -1 && onretOn == 1) {
				var onretselTagEnd = baseHTML.indexOf(">",onretselTagStart);
				var onretselTagStrip = baseHTML.substring(onretselTagStart,(onretselTagEnd+1));
				var onretselHTMLStart = baseHTML.substr(0,onretselTagStart);
				var onretselHTMLEnd = baseHTML.substr((onretselTagEnd+1));
				baseHTML = onretselHTMLStart + "<div id='panel1OnRetSelectShell' class='panel_2_onret_select_shell'><\/div>" + onretselHTMLEnd;
			}
			document.getElementById('panel1templates').innerHTML = baseHTML;
		}
	}
	else if (allOnOne == 1) {
		var baseHTML = autotextIt(p1TemplateSet.panel1BaseDiv,"panel1");
		if (baseHTML.length != -1) {
			var simpleFilterTagStart = baseHTML.indexOf("<!--SIMPLEFILTER");
			var redrawFilterTagStart = baseHTML.indexOf("<!--REDRAWFILTER");
			if (simpleFilterTagStart != -1) {
				var simpleFilterTagEnd = baseHTML.indexOf(">",simpleFilterTagStart);
				var simpleFilterTagStrip = baseHTML.substring(simpleFilterTagStart,(simpleFilterTagEnd+1));
				var simpleFilterHTMLStart = baseHTML.substr(0,simpleFilterTagStart);
				var simpleFilterHTMLEnd = baseHTML.substr((simpleFilterTagEnd+1));
				var simpleFilterTypeStart = simpleFilterTagStrip.indexOf(" TYPE=");
				if (simpleFilterTypeStart != -1) {
					var simpleFilterTypeEnd = simpleFilterTagStrip.indexOf("]",simpleFilterTypeStart);
					var simpleFilterType = simpleFilterTagStrip.substring((simpleFilterTypeStart+7),(simpleFilterTypeEnd));
					if (simpleFilterType == "CATEGORY") {
						p1SimpFillType = 1;
					}
				}
				panel1SimpleVar = 1;
				var p1filterType = "panel1SimpleFilter();";
				baseHTML = simpleFilterHTMLStart + simpleFilterHTMLEnd;
			}
			else if (redrawFilterTagStart != -1) {
				var redrawFilterTagEnd = baseHTML.indexOf(">",redrawFilterTagStart);
				var redrawFilterTagStrip = baseHTML.substring(redrawFilterTagStart,(redrawFilterTagEnd+1));
				var redrawFilterHTMLStart = baseHTML.substr(0,redrawFilterTagStart);
				var redrawFilterHTMLEnd = baseHTML.substr((redrawFilterTagEnd+1));
				panel1RedrawType = 1;
				var redrawFilterTypeStart = redrawFilterTagStrip.indexOf(" TYPE=");
				if (redrawFilterTypeStart != -1) {
					var redrawFilterTypeEnd = redrawFilterTagStrip.indexOf("]",redrawFilterTypeStart);
					var redrawFilterType = redrawFilterTagStrip.substring((redrawFilterTypeStart+7),(redrawFilterTypeEnd));
					if (redrawFilterType == "GROUP") {
						panel1RedrawType = 2;
					}
				}
				var redrawFilterPredrawStart = redrawFilterTagStrip.indexOf(" PREDRAW=");
				if (redrawFilterPredrawStart != -1) {
					var redrawFilterPredrawEnd = redrawFilterTagStrip.indexOf("]",redrawFilterPredrawStart);
					preRedrawOn = redrawFilterTagStrip.substring((redrawFilterPredrawStart+10),(redrawFilterPredrawEnd));
					if(gLog==1){console.log("REDRAWFILTER - preRedrawOn",preRedrawOn);}
				}
				panel1RedrawVar = 1;
				var p1filterType = "panel1RedrawFilter();";
				baseHTML = redrawFilterHTMLStart + redrawFilterHTMLEnd;
			}
			else {
				var p1filterType = "panel1DynamicFilter();";
			}
			var prodSelectTagStart = baseHTML.indexOf("<!--PRODSELECTMENU");
			if (prodSelectTagStart != -1) {
				var prodSelectTagEnd = baseHTML.indexOf(">",prodSelectTagStart);
				var prodSelectTagStrip = baseHTML.substring(prodSelectTagStart,(prodSelectTagEnd+1));
				var prodSelectHTMLStart = baseHTML.substr(0,prodSelectTagStart);
				var prodSelectHTMLEnd = baseHTML.substr((prodSelectTagEnd+1));
				var prodSelectValueStart = prodSelectTagStrip.indexOf(" VALUE=");
				var prodSelectValueVar = "";
				if (prodSelectValueStart != -1) {
					var prodSelectValueEnd = prodSelectTagStrip.indexOf("]",prodSelectValueStart);
					var prodSelectValueVar = " placeholder='" + prodSelectTagStrip.substring((prodSelectValueStart+8),(prodSelectValueEnd)) + "'";
				}
				var prodSelectSearchStart = prodSelectTagStrip.indexOf(" SEARCH=");
				if (prodSelectSearchStart != -1) {
					var prodSelectSearchEnd = prodSelectTagStrip.indexOf("]",prodSelectSearchStart);
					prodSelectSearch = prodSelectTagStrip.substring((prodSelectSearchStart+9),(prodSelectSearchEnd));
				}
				var prodSelectMatchStart = prodSelectTagStrip.indexOf(" MATCH=");
				if (prodSelectMatchStart != -1) {
					var prodSelectMatchEnd = prodSelectTagStrip.indexOf("]",prodSelectMatchStart);
					prodSelectMatch = prodSelectTagStrip.substring((prodSelectMatchStart+8),(prodSelectMatchEnd));
				}
				var prodSelectStartLimitStart = prodSelectTagStrip.indexOf(" STARTLIMIT=");
				if (prodSelectStartLimitStart != -1) {
					var prodSelectStartLimitEnd = prodSelectTagStrip.indexOf("]",prodSelectStartLimitStart);
					prodSelectStartLimit = prodSelectTagStrip.substring((prodSelectStartLimitStart+13),(prodSelectStartLimitEnd));
				}
				var prodSelectDisplayLimitStart = prodSelectTagStrip.indexOf(" DISPLAYLIMIT=");
				if (prodSelectDisplayLimitStart != -1) {
					var prodSelectDisplayLimitEnd = prodSelectTagStrip.indexOf("]",prodSelectDisplayLimitStart);
					prodSelectDisplayLimit = prodSelectTagStrip.substring((prodSelectDisplayLimitStart+15),(prodSelectDisplayLimitEnd));
				}
				var prodSelectDisplayMoreStart = prodSelectTagStrip.indexOf(" DISPLAYMORE");
				if (prodSelectDisplayMoreStart != -1) {
					prodSelectDisplayMore = 1;
				}
				var prodSelectMultiSelectStart = prodSelectTagStrip.indexOf(" MULTISELECT");
				if (prodSelectMultiSelectStart != -1) {
					prodSelectMultiSelect = 1;
				}
				var prodSelectHighlightSelectStart = prodSelectTagStrip.indexOf(" HIGHLIGHT");
				if (prodSelectHighlightSelectStart != -1) {
					prodSelectHighlightSelect = 1;
				}
				var prodSelectHTML = "";
				prodSelectHTML += "<input type='text' name='prodSelectFilterField' id='prodSelectFilterField'" + prodSelectValueVar + " class='prod_select_filter_field' onkeyup='prodSelectFilterIt();' onfocus='prodSelectClear();' title=\"" + prodSelectValueVar + "\"><span class='panel_close_me prod_select_auto_shell' id='prodSelectAutoShell' style='display:none;'><\/span>";
				baseHTML = prodSelectHTMLStart + prodSelectHTML + prodSelectHTMLEnd;
			}
			var prodSelectImgTagStart = baseHTML.indexOf("<!--PRODSELECTIMG");
			if (prodSelectImgTagStart != -1) {
				var prodSelectImgTagEnd = baseHTML.indexOf(">",prodSelectImgTagStart);
				var prodSelectImgTagStrip = baseHTML.substring(prodSelectImgTagStart,(prodSelectImgTagEnd+1));
				var prodSelectImgHTMLStart = baseHTML.substr(0,prodSelectImgTagStart);
				var prodSelectImgHTMLEnd = baseHTML.substr((prodSelectImgTagEnd+1));
				baseHTML = prodSelectImgHTMLStart + "<span id='prodSelectImgSpan' class='prod_select_img_span' style='display:none;'><img id='prodSelectImg' class='prod_select_img'></span>" + prodSelectImgHTMLEnd;
			}
			var prodSelectTextTagStart = baseHTML.indexOf("<!--PRODSELECTTEXT");
			if (prodSelectTextTagStart != -1) {
				var prodSelectTextTagEnd = baseHTML.indexOf(">",prodSelectTextTagStart);
				var prodSelectTextTagStrip = baseHTML.substring(prodSelectTextTagStart,(prodSelectTextTagEnd+1));
				var prodSelectTextHTMLStart = baseHTML.substr(0,prodSelectTextTagStart);
				var prodSelectTextHTMLEnd = baseHTML.substr((prodSelectTextTagEnd+1));
				baseHTML = prodSelectTextHTMLStart + "<span id='prodSelectText' class='prod_select_text' style='display:none;'></span>" + prodSelectTextHTMLEnd;
			}
			var prodSelectUPCTagStart = baseHTML.indexOf("<!--PRODSELECTUPC");
			if (prodSelectUPCTagStart != -1) {
				var prodSelectUPCTagEnd = baseHTML.indexOf(">",prodSelectUPCTagStart);
				var prodSelectUPCTagStrip = baseHTML.substring(prodSelectUPCTagStart,(prodSelectUPCTagEnd+1));
				var prodSelectUPCHTMLStart = baseHTML.substr(0,prodSelectUPCTagStart);
				var prodSelectUPCHTMLEnd = baseHTML.substr((prodSelectUPCTagEnd+1));
				baseHTML = prodSelectUPCHTMLStart + "<span id='prodSelectUPC' class='prod_select_upc' style='display:none;'></span>" + prodSelectUPCHTMLEnd;
			}
			var addFieldTagStart = baseHTML.indexOf("<!--ADDFIELD");
			if (addFieldTagStart != -1) {
				var addFieldTagEnd = baseHTML.indexOf(">",addFieldTagStart);
				var addFieldTagStrip = baseHTML.substring(addFieldTagStart,(addFieldTagEnd+1));
				var addFieldHTMLStart = baseHTML.substr(0,addFieldTagStart);
				var addFieldHTMLEnd = baseHTML.substr((addFieldTagEnd+1));
				var addFieldClearStart = addFieldTagStrip.indexOf(" CLEAR");
				if (addFieldClearStart != -1) {
					var addFieldClearRender = "clearAddfield(1);";
				}
				else {
					var addFieldClearRender = "";
				}
				var addFieldRender = "";
				var addFieldValueStart = addFieldTagStrip.indexOf(" VALUE=");
				if (addFieldValueStart != -1) {
					var addFieldValueEnd = addFieldTagStrip.indexOf("]");
					var addFieldValueVal = addFieldTagStrip.substring((addFieldValueStart+8),(addFieldValueEnd));
					p1AddFieldValueVar = addFieldValueVal;
					var addFieldValueRender = " placeholder='"+addFieldValueVal+"'";
					var addFieldFocusRender = " onfocus='" + addFieldClearRender + "'";
					var addFieldBlurRender = "";
				}
				else {
					p1AddFieldValueVar = "";
					var addFieldValueRender = "";
					var addFieldFocusRender = " onfocus='" + addFieldClearRender + "'";
					var addFieldBlurRender = "";
				}
				var addFieldBlankStart = addFieldTagStrip.indexOf(" BLANK");
				if (addFieldBlankStart != -1) {
					var addFieldBlankRender = " enforce_blank";
				}
				else {
					var addFieldBlankRender = "";
				}
				var addFieldReqStart = addFieldTagStrip.indexOf(" REQUIRED");
				if (addFieldReqStart != -1) {
					var addFieldReqRender = " class='panel_1_address_field panel_1_address_field_base panel_1_required" + addFieldBlankRender + "'";
				}
				else {
					var addFieldReqRender = " class='panel_1_address_field panel_1_address_field_base" + addFieldBlankRender + "'";
				}
				var addFieldCartStart = addFieldTagStrip.indexOf(" CART");
				if (addFieldCartStart != -1) {
					panel1CartReq = 1;
				}
				var addFieldSubStart = addFieldTagStrip.indexOf(" SUBMIT");
				if (addFieldSubStart != -1) {
					var addFieldSubRender = " onkeyup='panel1FieldKeypressAlt(event,\"panel1AddressField\",2);'";
				}
				else {
					var addFieldSubRender = "";
				}
				var addFieldHideStart = addFieldTagStrip.indexOf(" HIDE");
				if (addFieldHideStart != -1) {
					p1HideAddField = 1;
					var addFieldHideText = " style='display:none;'";
				}
				else {
					var addFieldHideText = "";
				}
				addFieldRender = "<input type='text' name='panel1AddressField' id='panel1AddressField'" + addFieldValueRender + addFieldFocusRender + addFieldBlurRender + addFieldReqRender + addFieldSubRender + addFieldHideText + " title=\"" + addFieldValueVal + "\" aria-label='Enter a city, state, or postal code to find stores near you'>";
				baseHTML = addFieldHTMLStart + addFieldRender + addFieldHTMLEnd;
			}
			var submitButtonSearchOn = 1;
			while (submitButtonSearchOn != 0) {
				var submitButtonTagStart = baseHTML.indexOf("<!--SUBBUTTON");
				if (submitButtonTagStart != -1) {
					var submitButtonTagEnd = baseHTML.indexOf(">",submitButtonTagStart);
					var submitButtonTagStrip = baseHTML.substring(submitButtonTagStart,(submitButtonTagEnd+1));
					var submitButtonHTMLStart = baseHTML.substr(0,submitButtonTagStart);
					var submitButtonHTMLEnd = baseHTML.substr((submitButtonTagEnd+1));
					var submitButtonRender = "";
					var submitButtonValueStart = submitButtonTagStrip.indexOf(" VALUE=");
					if (submitButtonValueStart != -1) {
						var submitButtonValueEnd = submitButtonTagStrip.indexOf("]",submitButtonValueStart);
						submitButtonValueVar = submitButtonTagStrip.substring((submitButtonValueStart+8),(submitButtonValueEnd));
					}
					else {
						submitButtonValueVar = "SUBMIT";
					}
					var submitButtonItalicStart = submitButtonTagStrip.indexOf(" FNTAW=");
					if (submitButtonItalicStart != -1) {
						var submitButtonItalicEnd = submitButtonTagStrip.indexOf("]",submitButtonItalicStart);
						var submitButtonItalicVar = "<i class='fa " + submitButtonTagStrip.substring((submitButtonItalicStart+8),(submitButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var submitButtonItalicVar = "";
					}
					submitButtonRender += "<div id='panel1SubmitButton" + submitButtonSearchOn + "' class='panel_1_submit_button panel_1_submit_button_" + submitButtonSearchOn + " panel_1_submit_button_off'";
					if (hoverState==1) {
						submitButtonRender += " onmouseover='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",1);' onfocus='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",1);' onmouseout='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",0);' onblur='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",0);'";
					}
					submitButtonRender += " onclick='prodSelectSubmit();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){prodSelectSubmit();}'>" + submitButtonItalicVar + submitButtonValueVar + "<\/div>";
					baseHTML = submitButtonHTMLStart + submitButtonRender + submitButtonHTMLEnd;
					submitButtonSearchOn++;
				}
				else {
					submitButtonSearchOn = 0;
				}
			}
			var prevTenButtonTagStart = baseHTML.indexOf("<!--PREVBUTTON");
			if (prevTenButtonTagStart != -1) {
				var prevTenButtonTagEnd = baseHTML.indexOf(">",prevTenButtonTagStart);
				var prevTenButtonTagStrip = baseHTML.substring(prevTenButtonTagStart,(prevTenButtonTagEnd+1));
				var prevTenButtonHTMLStart = baseHTML.substr(0,prevTenButtonTagStart);
				var prevTenButtonHTMLEnd = baseHTML.substr((prevTenButtonTagEnd+1));
				var prevTenButtonRender = "";
				var prevTenButtonValueStart = prevTenButtonTagStrip.indexOf(" VALUE=");
				if (prevTenButtonValueStart != -1) {
					var prevTenButtonValueEnd = prevTenButtonTagStrip.indexOf("]",prevTenButtonValueStart);
					var prevTenButtonValueVar = prevTenButtonTagStrip.substring((prevTenButtonValueStart+8),(prevTenButtonValueEnd));
				}
				else {
					var prevTenButtonValueVar = "PREVIOUS";
				}
				var prevTenButtonNoHideStart = prevTenButtonTagStrip.indexOf(" NOHIDE");
				if (prevTenButtonNoHideStart != -1) {
					var prevTenButtonNoHideVar = 1;
				}
				else {
					var prevTenButtonNoHideVar = 0;
				}
				var prevTenButtonItalicStart = prevTenButtonTagStrip.indexOf(" FNTAW=");
				if (prevTenButtonItalicStart != -1) {
					var prevTenButtonItalicEnd = prevTenButtonTagStrip.indexOf("]",prevTenButtonItalicStart);
					var prevTenButtonItalicVar = "<i class='fa " + prevTenButtonTagStrip.substring((prevTenButtonItalicStart+8),(prevTenButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var prevTenButtonItalicVar = "";
				}
				if (prevTenButtonNoHideVar == 0) {
					var prevTenShow = " style='display:none;'";
					var prevTenHideClass = "_off";
				}
				else {
					var prevTenShow = "";
					var prevTenHideClass = "_inactive";
				}
				prevTenButtonRender += "<div" + prevTenShow + " id='panel1PrevButton' class='panel_1_prev_button panel_1_prev_button" + prevTenHideClass + "'";
				if (hoverState==1) {
					prevTenButtonRender += " onmouseover='panel1ButtonHover(\"panel1PrevButton\",\"panel_1_prev_button\",1);' onfocus='panel1ButtonHover(\"panel1PrevButton\",\"panel_1_prev_button\",1);' onmouseout='panel1ButtonHover(\"panel1PrevButton\",\"panel_1_prev_button\",0);' onblur='panel1ButtonHover(\"panel1PrevButton\",\"panel_1_prev_button\",0);'";
				}
				prevTenButtonRender += " onclick='panel1PrevTen(" + prevTenButtonNoHideVar + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1PrevTen(" + prevTenButtonNoHideVar + ");}'>" + prevTenButtonItalicVar + prevTenButtonValueVar + "<\/div>";
				baseHTML = prevTenButtonHTMLStart + prevTenButtonRender + prevTenButtonHTMLEnd;
			}
			var nextTenButtonTagStart = baseHTML.indexOf("<!--NEXTBUTTON");
			if (nextTenButtonTagStart != -1) {
				var nextTenButtonTagEnd = baseHTML.indexOf(">",nextTenButtonTagStart);
				var nextTenButtonTagStrip = baseHTML.substring(nextTenButtonTagStart,(nextTenButtonTagEnd+1));
				var nextTenButtonHTMLStart = baseHTML.substr(0,nextTenButtonTagStart);
				var nextTenButtonHTMLEnd = baseHTML.substr((nextTenButtonTagEnd+1));
				var nextTenButtonRender = "";
				var nextTenButtonValueStart = nextTenButtonTagStrip.indexOf(" VALUE=");
				if (nextTenButtonValueStart != -1) {
					var nextTenButtonValueEnd = nextTenButtonTagStrip.indexOf("]",nextTenButtonValueStart);
					var nextTenButtonValueVar = nextTenButtonTagStrip.substring((nextTenButtonValueStart+8),(nextTenButtonValueEnd));
				}
				else {
					var nextTenButtonValueVar = "NEXT";
				}
				var nextTenButtonNoHideStart = nextTenButtonTagStrip.indexOf(" NOHIDE");
				if (nextTenButtonNoHideStart != -1) {
					var nextTenButtonNoHideVar = 1;
				}
				else {
					var nextTenButtonNoHideVar = 0;
				}
				var nextTenButtonItalicStart = nextTenButtonTagStrip.indexOf(" FNTAW=");
				if (nextTenButtonItalicStart != -1) {
				var nextTenButtonItalicEnd = nextTenButtonTagStrip.indexOf("]",nextTenButtonItalicStart);
					var nextTenButtonItalicVar = "<i class='fa " + nextTenButtonTagStrip.substring((nextTenButtonItalicStart+8),(nextTenButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var nextTenButtonItalicVar = "";
				}
				var nextNum = new Number(document.getElementById('results').value);
				if (nextTenButtonNoHideVar == 0) {
					if (storeDisplayArray.length <= nextNum) {
						var nextTenShow = " style='display:none;'";
					}
					else {
						var nextTenShow = "";
					}
					var nextTenHideClass = "_off";
				}
				else {
					if (storeDisplayArray.length <= nextNum) {
						var nextTenHideClass = "_inactive";
					}
					else {
						var nextTenHideClass = "_off";
					}
					var nextTenShow = "";
				}
				nextTenButtonRender += "<div id='panel1NextButton'" + nextTenShow + " class='panel_1_next_button panel_1_next_button" + nextTenHideClass + "'";
				if (hoverState==1) {
					nextTenButtonRender += " onmouseover='panel1ButtonHover(\"panel1NextButton\",\"panel_1_next_button\",1);' onfocus='panel1ButtonHover(\"panel1NextButton\",\"panel_1_next_button\",1);' onmouseout='panel1ButtonHover(\"panel1NextButton\",\"panel_1_next_button\",0);' onblur='panel1ButtonHover(\"panel1NextButton\",\"panel_1_next_button\",0);'";
				}
				nextTenButtonRender += " onclick='panel1NextTen(" + nextTenButtonNoHideVar + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1NextTen(" + nextTenButtonNoHideVar + ");}'>" + nextTenButtonItalicVar + nextTenButtonValueVar + "<\/div>";
				baseHTML = nextTenButtonHTMLStart + nextTenButtonRender + nextTenButtonHTMLEnd;
			}
			var resultsStartTagStart = baseHTML.indexOf("<!--RESULTSSTART");
			if (resultsStartTagStart != -1) {
				var resultsStartTagEnd = baseHTML.indexOf(">",resultsStartTagStart);
				var resultsStartTagStrip = baseHTML.substring(resultsStartTagStart,(resultsStartTagEnd+1));
				var resultsStartHTMLStart = baseHTML.substr(0,resultsStartTagStart);
				var resultsStartHTMLEnd = baseHTML.substr((resultsStartTagEnd+1));
				var resultsStartPage = resultsStartTagStrip.indexOf(" PAGE");
				if (resultsStartPage != -1) {
					panel1ResultsStartPage = 1;
				}
				baseHTML = resultsStartHTMLStart + "<span id='panel1ResultsStart'><\/span>" + resultsStartHTMLEnd;
			}
			var resultsEndTagStart = baseHTML.indexOf("<!--RESULTSEND");
			if (resultsEndTagStart != -1) {
				var resultsEndTagEnd = baseHTML.indexOf(">",resultsEndTagStart);
				var resultsEndHTMLStart = baseHTML.substr(0,resultsEndTagStart);
				var resultsEndHTMLEnd = baseHTML.substr((resultsEndTagEnd+1));
				baseHTML = resultsEndHTMLStart + "<span id='panel1ResultsEnd'><\/span>" + resultsEndHTMLEnd;
			}
			var resultsTotalTagStart = baseHTML.indexOf("<!--RESULTSTOTAL");
			if (resultsTotalTagStart != -1) {
				var resultsTotalTagEnd = baseHTML.indexOf(">",resultsTotalTagStart);
				var resultsTotalTagStrip = baseHTML.substring(resultsTotalTagStart,(resultsTotalTagEnd+1));
				var resultsTotalHTMLStart = baseHTML.substr(0,resultsTotalTagStart);
				var resultsTotalHTMLEnd = baseHTML.substr((resultsTotalTagEnd+1));
				var resultsTotalPage = resultsTotalTagStrip.indexOf(" PAGE");
				if (resultsTotalPage != -1) {
					panel1ResultsTotalPage = 1;
				}
				baseHTML = resultsTotalHTMLStart + "<span id='panel1ResultsTotal'><\/span>" + resultsTotalHTMLEnd;
			}
			var totalResultsTagStart = baseHTML.indexOf("<!--TOTALRESULTS");
			if (totalResultsTagStart != -1) {
				var totalResultsTagEnd = baseHTML.indexOf(">",totalResultsTagStart);
				var totalResultsTagStrip = baseHTML.substring(totalResultsTagStart,(totalResultsTagEnd+1));
				var totalResultsHTMLStart = baseHTML.substr(0,totalResultsTagStart);
				var totalResultsHTMLEnd = baseHTML.substr((totalResultsTagEnd+1));
				var totalResultsPage = totalResultsTagStrip.indexOf(" PAGE");
				if (totalResultsPage != -1) {
					panel1TotalResultsPage = 1;
				}
				baseHTML = totalResultsHTMLStart + "<span id='panel1TotalResults'><\/span>" + totalResultsHTMLEnd;
			}
			var resultsCompileTagStart = baseHTML.indexOf("<!--RESULTSCOMPILE");
			if (resultsCompileTagStart != -1) {
				var resultsCompileTagEnd = baseHTML.indexOf(">",resultsCompileTagStart);
				var resultsCompileHTMLStart = baseHTML.substr(0,resultsCompileTagStart);
				var resultsCompileHTMLEnd = baseHTML.substr((resultsCompileTagEnd+1));
				var resultsCompileVal = document.getElementById('revCodeCompile').value;
				if (resultsCompileVal == "") {
					resultsCompileVal = document.getElementById('addressCompile').value;
				}
				baseHTML = resultsCompileHTMLStart + "<span id='panel1ResultsCompile'>" + resultsCompileVal + "<\/span>" + resultsCompileHTMLEnd;
			}
			var resultsStreetTagStart = baseHTML.indexOf("<!--RESULTSSTREET");
			if (resultsStreetTagStart != -1) {
				var resultsStreetTagEnd = baseHTML.indexOf(">",resultsStreetTagStart);
				var resultsStreetHTMLStart = baseHTML.substr(0,resultsStreetTagStart);
				var resultsStreetHTMLEnd = baseHTML.substr((resultsStreetTagEnd+1));
				baseHTML = resultsStreetHTMLStart + "<span id='panel1ResultsStreet'>" + document.getElementById('revCodeStreet').value + "<\/span>" + resultsStreetHTMLEnd;
			}
			var resultsCityTagStart = baseHTML.indexOf("<!--RESULTSCITY");
			if (resultsCityTagStart != -1) {
				var resultsCityTagEnd = baseHTML.indexOf(">",resultsCityTagStart);
				var resultsCityHTMLStart = baseHTML.substr(0,resultsCityTagStart);
				var resultsCityHTMLEnd = baseHTML.substr((resultsCityTagEnd+1));
				baseHTML = resultsCityHTMLStart + "<span id='panel1ResultsCity'>" + document.getElementById('revCodeCity').value + "<\/span>" + resultsCityHTMLEnd;
			}
			var resultsStateTagStart = baseHTML.indexOf("<!--RESULTSSTATE");
			if (resultsStateTagStart != -1) {
				var resultsStateTagEnd = baseHTML.indexOf(">",resultsStateTagStart);
				var resultsStateHTMLStart = baseHTML.substr(0,resultsStateTagStart);
				var resultsStateHTMLEnd = baseHTML.substr((resultsStateTagEnd+1));
				baseHTML = resultsStateHTMLStart + "<span id='panel1ResultsState'>" + document.getElementById('revCodeState').value + "<\/span>" + resultsStateHTMLEnd;
			}
			var resultsZipTagStart = baseHTML.indexOf("<!--RESULTSZIP");
			if (resultsZipTagStart != -1) {
				var resultsZipTagEnd = baseHTML.indexOf(">",resultsZipTagStart);
				var resultsZipHTMLStart = baseHTML.substr(0,resultsZipTagStart);
				var resultsZipHTMLEnd = baseHTML.substr((resultsZipTagEnd+1));
				baseHTML = resultsZipHTMLStart + "<span id='panel1ResultsZip'>" + document.getElementById('revCodeZip').value + "<\/span>" + resultsZipHTMLEnd;
			}
			var resultsCountryTagStart = baseHTML.indexOf("<!--RESULTSCOUNTRY");
			if (resultsCountryTagStart != -1) {
				var resultsCountryTagEnd = baseHTML.indexOf(">",resultsCountryTagStart);
				var resultsCountryHTMLStart = baseHTML.substr(0,resultsCountryTagStart);
				var resultsCountryHTMLEnd = baseHTML.substr((resultsCountryTagEnd+1));
				baseHTML = resultsCountryHTMLStart + "<span id='panel1ResultsCountry'>" + document.getElementById('revCodeCountry').value + "<\/span>" + resultsCountryHTMLEnd;
			}
			var prodCountNumTagStart = baseHTML.indexOf("<!--PRODCOUNT");
			if (prodCountNumTagStart != -1) {
				var prodCountNumTagEnd = baseHTML.indexOf(">",prodCountNumTagStart);
				var prodCountNumTagStrip = baseHTML.substring(prodCountNumTagStart,(prodCountNumTagEnd+1));
				var prodCountNumHTMLStart = baseHTML.substr(0,prodCountNumTagStart);
				var prodCountNumHTMLEnd = baseHTML.substr((prodCountNumTagEnd+1));
				var panel2ProdCount = 0;
				var prodCountNumValueStart = prodCountNumTagStrip.indexOf(" VALUE=");
				if (prodCountNumValueStart != -1) {
					var prodCountNumValueEnd = prodCountNumTagStrip.indexOf("]",prodCountNumValueStart);
					prodCountNumValueVar = prodCountNumTagStrip.substring((prodCountNumValueStart+8),(prodCountNumValueEnd));
				}
				else {
					prodCountNumValueVar = "";
				}
				baseHTML = prodCountNumHTMLStart + "<span id='panel1ProdCountNumHolder'><span id='panel1ProdCountNum'>" + prodCartArray.length + "<\/span>" +  prodCountNumValueVar + "<\/span>" + prodCountNumHTMLEnd;
			}
			var emailButtonTagStart = baseHTML.indexOf("<!--EMAILBUTTON");
			if (emailButtonTagStart != -1) {
				var emailButtonTagEnd = baseHTML.indexOf(">",emailButtonTagStart);
				var emailButtonTagStrip = baseHTML.substring(emailButtonTagStart,(emailButtonTagEnd+1));
				var emailButtonHTMLStart = baseHTML.substr(0,emailButtonTagStart);
				var emailButtonHTMLEnd = baseHTML.substr((emailButtonTagEnd+1));
				var emailButtonRender = "";
				var emailButtonValueStart = emailButtonTagStrip.indexOf(" VALUE=");
				if (emailButtonValueStart != -1) {
					var emailButtonValueEnd = emailButtonTagStrip.indexOf("]",emailButtonValueStart);
					var emailButtonValueVar = emailButtonTagStrip.substring((emailButtonValueStart+8),(emailButtonValueEnd));
				}
				else {
					var emailButtonValueVar = "EMAIL";
				}
				var emailButtonItalicStart = emailButtonTagStrip.indexOf(" FNTAW=");
				if (emailButtonItalicStart != -1) {
					var emailButtonItalicEnd = emailButtonTagStrip.indexOf("]",emailButtonItalicStart);
					var emailButtonItalicVar = "<i class='fa " + emailButtonTagStrip.substring((emailButtonItalicStart+8),(emailButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var emailButtonItalicVar = "";
				}
				emailButtonRender += "<div id='panel1DetailSplitButton' class='panel_1_detail_button panel_1_detail_button_off'";
				if (hoverState==1) {
					emailButtonRender += " onmouseover='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",1);' onfocus='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",1);' onmouseout='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",0);' onblur='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",0);'";
				}
				emailButtonRender += " onclick='panel1WriteStoreListText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1WriteStoreListText();}'>" + emailButtonItalicVar + emailButtonValueVar + "<\/div>";
				baseHTML = emailButtonHTMLStart + emailButtonRender + emailButtonHTMLEnd;
			}
			var copyButtonTagStart = baseHTML.indexOf("<!--COPYBUTTON");
			if (copyButtonTagStart != -1) {
				var copyButtonTagEnd = baseHTML.indexOf(">",copyButtonTagStart);
				var copyButtonTagStrip = baseHTML.substring(copyButtonTagStart,(copyButtonTagEnd+1));
				var copyButtonHTMLStart = baseHTML.substr(0,copyButtonTagStart);
				var copyButtonHTMLEnd = baseHTML.substr((copyButtonTagEnd+1));
				var copyButtonRender = "";
				var copyButtonValueStart = copyButtonTagStrip.indexOf(" VALUE=");
				if (copyButtonValueStart != -1) {
					var copyButtonValueEnd = copyButtonTagStrip.indexOf("]",copyButtonValueStart);
					var copyButtonValueVar = copyButtonTagStrip.substring((copyButtonValueStart+8),(copyButtonValueEnd));
				}
				else {
					var copyButtonValueVar = "COPY";
				}
				var copyButtonClickedStart = copyButtonTagStrip.indexOf(" CLICK=");
				if (copyButtonClickedStart != -1) {
					var copyButtonClickedEnd = copyButtonTagStrip.indexOf("]",copyButtonClickedStart);
					var copyButtonClickedVar = copyButtonTagStrip.substring((copyButtonClickedStart+8),(copyButtonClickedEnd));
				}
				else {
					var copyButtonClickedVar = "copied";
				}
				var copyButtonItalicStart = copyButtonTagStrip.indexOf(" FNTAW=");
				if (copyButtonItalicStart != -1) {
					var copyButtonItalicEnd = copyButtonTagStrip.indexOf("]",copyButtonItalicStart);
					var copyButtonItalicVar = "<i class='fa " + copyButtonTagStrip.substring((copyButtonItalicStart+8),(copyButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var copyButtonItalicVar = "";
				}
				copyButtonRender += "<div id='panel1CopyButton' class='panel_1_copy_button panel_1_copy_button_off' style='display:none;'";
				if (hoverState==1) {
					copyButtonRender += " onmouseover='panel1ButtonHover(\"panel1CopyButton\",\"panel_1_copy_button\",1);' onfocus='panel1ButtonHover(\"panel1CopyButton\",\"panel_1_copy_button\",1);' onmouseout='panel1ButtonHover(\"panel1CopyButton\",\"panel_1_copy_button\",0);' onblur='panel1ButtonHover(\"panel1CopyButton\",\"panel_1_copy_button\",0);'";
				}
				copyButtonRender += " onclick='panel1CopyStoreListText(\"panel1CopyButtonText\",\"" + copyButtonValueVar + "\",\"" + copyButtonClickedVar + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CopyStoreListText(\"panel1CopyButtonText\",\"" + copyButtonValueVar + "\",\"" + copyButtonClickedVar + "\");}'>" + copyButtonItalicVar + "<span id='panel1CopyButtonText'>" + copyButtonValueVar + "<\/span><\/div>";
				baseHTML = copyButtonHTMLStart + copyButtonRender + copyButtonHTMLEnd;
			}
			var multiMapSearchOn = 1;
			while (multiMapSearchOn == 1) {
				var multiMapTagStart = baseHTML.indexOf("<!--MULTIMAP");
				if (multiMapTagStart != -1) {
					var multiMapTagEnd = baseHTML.indexOf(">",multiMapTagStart);
					var multiMapTagStrip = baseHTML.substring(multiMapTagStart,(multiMapTagEnd+1));
					var baseMultiMapHTMLStart = baseHTML.substr(0,multiMapTagStart);
					var baseMultiMapHTMLEnd = baseHTML.substr((multiMapTagEnd+1));
					var multiMapTagStoreCatPins = multiMapTagStrip.indexOf(" SCATPINS");
					if (multiMapTagStoreCatPins != -1) {
						panel1MapPinType = 1;
						panel1SCatPins = 1;
					}
					var multiMapTagPromoPins = multiMapTagStrip.indexOf(" PROMOPINS");
					if (multiMapTagPromoPins != -1) {
						panel1PMapPinType = 1;
					}
					var multiMapTagDefaultStart = multiMapTagStrip.indexOf(" DEFAULT=");
					if (multiMapTagDefaultStart != -1) {
						var multiMapTagDefaultEnd = multiMapTagStrip.indexOf("]",multiMapTagDefaultStart);
						var multiMapTagDefaultPair = multiMapTagStrip.substring((multiMapTagDefaultStart+10),(multiMapTagDefaultEnd));
						var mmtdpArr = multiMapTagDefaultPair.split(",");
						panel1MapDefaultLat = mmtdpArr[0];
						panel1MapDefaultLng = mmtdpArr[1];
						panel1MapDefaultLoc = 1;
					}
					baseHTML = baseMultiMapHTMLStart + "<div id='panel1MultiMap' class='panel_1_multi_map'><\/div>" + baseMultiMapHTMLEnd;
				}
				else {
					multiMapSearchOn = 0;
				}
			}
			var locListSearchOn = 1;
			while (locListSearchOn == 1) {
				var locListTagStart = baseHTML.indexOf("<!--LOCLIST");
				if (locListTagStart != -1) {
					var locListTagEnd = baseHTML.indexOf(">",locListTagStart);
					var locListTagStrip = baseHTML.substring(locListTagStart,(locListTagEnd+1));
					var baseLocListHTMLStart = baseHTML.substr(0,locListTagStart);
					var baseLocListHTMLEnd = baseHTML.substr((locListTagEnd+1));
					var locListTagDetailStart = locListTagStrip.indexOf(" DETAIL");
					if (locListTagDetailStart != -1) {
						panel1DetailLocList = 1;
					}
					baseHTML = baseLocListHTMLStart + "<div id='panel1LocListShell' class='panel_1_loc_list_shell'><\/div>" + baseLocListHTMLEnd;
				}
				else {
					locListSearchOn = 0;
				}
			}
			var allOnOneSessionStartButtonTagStart = baseHTML.indexOf("<!--SESSIONSTART");
			if (allOnOneSessionStartButtonTagStart != -1) {
				var allOnOneSessionStartButtonTagEnd = baseHTML.indexOf(">",allOnOneSessionStartButtonTagStart);
				var allOnOneSessionStartButtonTagStrip = baseHTML.substring(allOnOneSessionStartButtonTagStart,(allOnOneSessionStartButtonTagEnd+1));
				var allOnOneSessionStartButtonHTMLStart = baseHTML.substr(0,allOnOneSessionStartButtonTagStart);
				var allOnOneSessionStartButtonHTMLEnd = baseHTML.substr((allOnOneSessionStartButtonTagEnd+1));
				var allOnOneSessionStartButtonRender = "";
				var allOnOneSessionStartButtonValueStart = allOnOneSessionStartButtonTagStrip.indexOf(" VALUE=");
				if (allOnOneSessionStartButtonValueStart != -1) {
					var allOnOneSessionStartButtonValueEnd = allOnOneSessionStartButtonTagStrip.indexOf("]",allOnOneSessionStartButtonValueStart);
					var allOnOneSessionStartButtonValueVar = allOnOneSessionStartButtonTagStrip.substring((allOnOneSessionStartButtonValueStart+8),(allOnOneSessionStartButtonValueEnd));
				}
				else {
					var allOnOneSessionStartButtonValueVar = "START NEW SESSION";
				}
				var allOnOneSessionStartButtonItalicStart = allOnOneSessionStartButtonTagStrip.indexOf(" FNTAW=");
				if (allOnOneSessionStartButtonItalicStart != -1) {
					var allOnOneSessionStartButtonItalicEnd = allOnOneSessionStartButtonTagStrip.indexOf("]",allOnOneSessionStartButtonItalicStart);
					var allOnOneSessionStartButtonItalicVar = "<i class='fa " + allOnOneSessionStartButtonTagStrip.substring((allOnOneSessionStartButtonItalicStart+8),(allOnOneSessionStartButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var allOnOneSessionStartButtonItalicVar = "";
				}
				allOnOneSessionStartButtonRender += "<div id='panel1SessionStartButton' class='panel_1_session_start_button panel_1_session_start_button_off'";
				if (hoverState==1) {
					allOnOneSessionStartButtonRender += " onmouseover='panel1ButtonHover(\"panel1SessionStartButton\",\"panel_1_session_start_button\",1);' onfocus='panel1ButtonHover(\"panel1SessionStartButton\",\"panel_1_session_start_button\",1);' onmouseout='panel1ButtonHover(\"panel1SessionStartButton\",\"panel_1_session_start_button\",0);' onblur='panel1ButtonHover(\"panel1SessionStartButton\",\"panel_1_session_start_button\",0);'";
				}
				allOnOneSessionStartButtonRender += " onclick='p1SessionStart();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){p1SessionStart();}'>" + allOnOneSessionStartButtonItalicVar + allOnOneSessionStartButtonValueVar + "<\/div>";
				baseHTML = allOnOneSessionStartButtonHTMLStart + allOnOneSessionStartButtonRender + allOnOneSessionStartButtonHTMLEnd;
			}
			var allOnOneSessionEndButtonTagStart = baseHTML.indexOf("<!--SESSIONEND");
			if (allOnOneSessionEndButtonTagStart != -1) {
				var allOnOneSessionEndButtonTagEnd = baseHTML.indexOf(">",allOnOneSessionEndButtonTagStart);
				var allOnOneSessionEndButtonTagStrip = baseHTML.substring(allOnOneSessionEndButtonTagStart,(allOnOneSessionEndButtonTagEnd+1));
				var allOnOneSessionEndButtonHTMLStart = baseHTML.substr(0,allOnOneSessionEndButtonTagStart);
				var allOnOneSessionEndButtonHTMLEnd = baseHTML.substr((allOnOneSessionEndButtonTagEnd+1));
				var allOnOneSessionEndButtonRender = "";
				var allOnOneSessionEndButtonValueStart = allOnOneSessionEndButtonTagStrip.indexOf(" VALUE=");
				if (allOnOneSessionEndButtonValueStart != -1) {
					var allOnOneSessionEndButtonValueEnd = allOnOneSessionEndButtonTagStrip.indexOf("]",allOnOneSessionEndButtonValueStart);
					var allOnOneSessionEndButtonValueVar = allOnOneSessionEndButtonTagStrip.substring((allOnOneSessionEndButtonValueStart+8),(allOnOneSessionEndButtonValueEnd));
				}
				else {
					var allOnOneSessionEndButtonValueVar = "END SESSION";
				}
				var allOnOneSessionEndButtonItalicStart = allOnOneSessionEndButtonTagStrip.indexOf(" FNTAW=");
				if (allOnOneSessionEndButtonItalicStart != -1) {
					var allOnOneSessionEndButtonItalicEnd = allOnOneSessionEndButtonTagStrip.indexOf("]",allOnOneSessionEndButtonItalicStart);
					var allOnOneSessionEndButtonItalicVar = "<i class='fa " + allOnOneSessionEndButtonTagStrip.substring((allOnOneSessionEndButtonItalicStart+8),(allOnOneSessionEndButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var allOnOneSessionEndButtonItalicVar = "";
				}
				allOnOneSessionEndButtonRender += "<div id='panel1SessionEndButton' class='panel_1_session_end_button panel_1_session_end_button_off'";
				if (hoverState==1) {
					allOnOneSessionEndButtonRender += " onmouseover='panel1ButtonHover(\"panel1SessionEndButton\",\"panel_1_session_end_button\",1);' onfocus='panel1ButtonHover(\"panel1SessionEndButton\",\"panel_1_session_end_button\",1);' onmouseout='panel1ButtonHover(\"panel1SessionEndButton\",\"panel_1_session_end_button\",0);' onblur='panel1ButtonHover(\"panel1SessionEndButton\",\"panel_1_session_end_button\",0);'";
				}
				allOnOneSessionEndButtonRender += " onclick='p1SessionEnd();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){p1SessionEnd();}' style='display:none;'>" + allOnOneSessionEndButtonItalicVar + allOnOneSessionEndButtonValueVar + "<\/div>";
				baseHTML = allOnOneSessionEndButtonHTMLStart + allOnOneSessionEndButtonRender + allOnOneSessionEndButtonHTMLEnd;
			}
			var timerTagStart = baseHTML.indexOf("<!--TIMER");
			if (timerTagStart != -1) {
				var timerTagEnd = baseHTML.indexOf(">",timerTagStart);
				var timerTagStrip = baseHTML.substring(timerTagStart,(timerTagEnd+1));
				var timerHTMLStart = baseHTML.substr(0,timerTagStart);
				var timerHTMLEnd = baseHTML.substr((timerTagEnd+1));
				baseHTML = timerHTMLStart + "<span id='panel1Timer' class='all_on_one_timer all_on_one_timer_off'>00:00:00</span>" + timerHTMLEnd;
			}
			var productTabTagStart = baseHTML.indexOf("<!--PRODUCTTAB");
			if (productTabTagStart != -1) {
				var productTabTagEnd = baseHTML.indexOf(">",productTabTagStart);
				var productTabTagStrip = baseHTML.substring(productTabTagStart,(productTabTagEnd+1));
				var productTabHTMLStart = baseHTML.substr(0,productTabTagStart);
				var productTabHTMLEnd = baseHTML.substr((productTabTagEnd+1));
				var productHTML = autotextIt(p1TemplateSet.panel1ProductTabDiv,"panel1ProductTab");
				if (productHTML.length != -1) {
				}
				baseHTML = productTabHTMLStart + "<div id='panel1ProductTab' class='all_on_one_tab all_on_one_tab_on panel_1_product_tab' onclick='panel1ToggleAllInOneArea(\"product\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ToggleAllInOneArea(\"product\");}'>" + productHTML + "<\/div>" + productTabHTMLEnd;
			}
			var productAreaTagStart = baseHTML.indexOf("<!--PRODUCTAREA");
			if (productAreaTagStart != -1) {
				var productAreaTagEnd = baseHTML.indexOf(">",productAreaTagStart);
				var productAreaTagStrip = baseHTML.substring(productAreaTagStart,(productAreaTagEnd+1));
				var productAreaHTMLStart = baseHTML.substr(0,productAreaTagStart);
				var productAreaHTMLEnd = baseHTML.substr((productAreaTagEnd+1));
				var productAreaHTML = autotextIt(p1TemplateSet.panel1ProductAreaDiv,"panel1ProductArea");
				if (productAreaHTML.length != -1) {
					var discProdTagStart = productAreaHTML.indexOf("<!--DISCONTINUED");
					if (discProdTagStart != -1) {
						var discProdTagEnd = productAreaHTML.indexOf(">",discProdTagStart);
						var discProdTagStrip = productAreaHTML.substring(discProdTagStart,(discProdTagEnd+1));
						var discProdHTMLStart = productAreaHTML.substr(0,discProdTagStart);
						var discProdHTMLEnd = productAreaHTML.substr((discProdTagEnd+1));
						var discBaseHTML = "";
						var discFamHTML = autotextIt(p1TemplateSet.panel1DiscFamilyDiv,"panel1DiscFamily");
						var discCatHTML = autotextIt(p1TemplateSet.panel1DiscCategoryDiv,"panel1DiscCategory");
						var discProdHTML = autotextIt(p1TemplateSet.panel1DiscProductDiv,"panel1DiscProduct");
						sortCol(prodDiscontinuedArray,22);
						var thisFamID = 0;
						var thisCatID = 0;
						var prodDiscontinuedCat = [];
						var prodDiscontinuedProd = [];
						for (dp=0; dp<prodDiscontinuedArray.length; dp++) {
							prodDiscontinuedCat[dp] = prodDiscontinuedArray[dp];
							prodDiscontinuedProd[dp] = prodDiscontinuedArray[dp];
						}
						sortCol(prodDiscontinuedCat,16);
						sortCol(prodDiscontinuedProd,2);
						for (pda=0; pda<prodDiscontinuedArray.length; pda++){
							if (prodDiscontinuedArray[pda][17] != thisFamID) {
								thisFamID = prodDiscontinuedArray[pda][17];
								var discFamHTMLLeaf = discFamHTML;
								var famNameStart = discFamHTMLLeaf.indexOf("<!--FAMNAME");
								if (famNameStart != -1) {
									var famNameEnd = discFamHTMLLeaf.indexOf(">",famNameStart);
									var famNameStrip = discFamHTMLLeaf.substring(famNameStart,(famNameEnd+1));
									var famNameHTMLStart = discFamHTMLLeaf.substr(0,famNameStart);
									var famNameHTMLEnd = discFamHTMLLeaf.substr((famNameEnd+1));
									discFamHTMLLeaf = famNameHTMLStart + prodDiscontinuedArray[pda][22] + famNameHTMLEnd;
								}
								discBaseHTML += discFamHTMLLeaf;
								for (pdc=0; pdc<prodDiscontinuedCat.length; pdc++) {
									if (prodDiscontinuedCat[pdc][17] == prodDiscontinuedArray[pda][17] && prodDiscontinuedCat[pdc][8] != thisCatID) {
										thisCatID = prodDiscontinuedCat[pdc][8];
										var discCatHTMLLeaf = discCatHTML;
										var catNameStart = discCatHTMLLeaf.indexOf("<!--CATNAME");
										if (catNameStart != -1) {
											var catNameEnd = discCatHTMLLeaf.indexOf(">",catNameStart);
											var catNameStrip = discCatHTMLLeaf.substring(catNameStart,(catNameEnd+1));
											var catNameHTMLStart = discCatHTMLLeaf.substr(0,catNameStart);
											var catNameHTMLEnd = discCatHTMLLeaf.substr((catNameEnd+1));
											discCatHTMLLeaf = catNameHTMLStart + prodDiscontinuedCat[pdc][16] + catNameHTMLEnd;
										}
										discBaseHTML += discCatHTMLLeaf;
										for (pdp=0; pdp<prodDiscontinuedProd.length; pdp++) {
											if (prodDiscontinuedProd[pdp][8] == prodDiscontinuedCat[pdc][8]) {
												var discProdHTMLLeaf = discProdHTML;
												var prodNameStart = discProdHTMLLeaf.indexOf("<!--PRODNAME");
												if (prodNameStart != -1) {
													var prodNameEnd = discProdHTMLLeaf.indexOf(">",prodNameStart);
													var prodNameStrip = discProdHTMLLeaf.substring(prodNameStart,(prodNameEnd+1));
													var prodNameHTMLStart = discProdHTMLLeaf.substr(0,prodNameStart);
													var prodNameHTMLEnd = discProdHTMLLeaf.substr((prodNameEnd+1));
													discProdHTMLLeaf = prodNameHTMLStart + prodDiscontinuedProd[pdp][2] + prodNameHTMLEnd;
												}
												discBaseHTML += discProdHTMLLeaf;
											}
										}
									}
								}
							}
						}
						productAreaHTML = discProdHTMLStart + discBaseHTML + discProdHTMLEnd;
					}
					var catMenuTagStart = productAreaHTML.indexOf("<!--CATMENU");
					if (catMenuTagStart != -1) {
						var catMenuTagEnd = productAreaHTML.indexOf(">",catMenuTagStart);
						var catMenuTagStrip = productAreaHTML.substring(catMenuTagStart,(catMenuTagEnd+1));
						var catMenuHTMLStart = productAreaHTML.substr(0,catMenuTagStart);
						var catMenuHTMLEnd = productAreaHTML.substr((catMenuTagEnd+1));
						var catMenuRender = "";
						panel1HasCatMenu = 1;
						var catMenuValueStart = catMenuTagStrip.indexOf(" VALUE=");
						if (catMenuValueStart != -1) {
							var catMenuValueEnd = catMenuTagStrip.indexOf("]",catMenuValueStart);
							var catMenuValueVal = catMenuTagStrip.substring((catMenuValueStart+8),(catMenuValueEnd));
						}
						else {
							var catMenuValueVal = "SELECT A CATEGORY";
						}
						panel1CatMenuText = catMenuValueVal;
						panel1ThereIsACat = 0;
						var findAProdComma = document.getElementById('PROD').value.indexOf(",");
						if (findAProdComma != -1) {
							theProdSplit = document.getElementById('PROD').value.split(",");
							theProdCheck = theProdSplit[0];
						}
						else {
							theProdCheck = document.getElementById('PROD').value;
						}
						for (pc=0; pc<prodDisplayArray.length; pc++) {
							if (prodDisplayArray[pc][1] == theProdCheck) {
								panel1ThereIsACat = prodDisplayArray[pc][8];
								for (cc=0; cc<catArray.length; cc++) {
									if (catArray[cc][0] == panel1ThereIsACat) {
										catMenuValueVal = catArray[cc][1];
										break;
									}
								}
								break;
							}
						}
						var catMenuItalicStart = catMenuTagStrip.indexOf(" FNTAW=");
						if (catMenuItalicStart != -1) {
							var catMenuItalicEnd = catMenuTagStrip.indexOf("]",catMenuItalicStart);
							catMenuItalicVar = "<i class='fa " + catMenuTagStrip.substring((catMenuItalicStart+8),(catMenuItalicEnd)) + "'><\/i>";
						}
						else {
							catMenuItalicVar = "";
						}
						var catDivValueStart = catMenuTagStrip.indexOf(" DIVRENDER");
						if (catDivValueStart != -1) {
							var catDivValueVal = 1;
						}
						else {
							var catDivValueVal = 0;
						}
						catMenuRender = "<input type='hidden' name='panel1CatMenuHolder' id='panel1CatMenuHolder' value='" + panel1ThereIsACat + "' title=\"Category\"><div id='panel1CatMenuShell' class='panel_1_cat_menu_div_shell'";
						if (panel1HasFamMenu == 1) {
							catMenuRender += " style='display:none;'";
						}
						catMenuRender += ">";
						if (catDivValueVal == 0) {
							catMenuRender += "<select name='panel1CatSelect' id='panel1CatSelect' class='panel_1_cat_field panel_1_cat_field_base' onchange='panel1SetCatSelect();'>";
							catMenuRender += "<option value='0'";
							if (panel1ThereIsACat == 0) {
								catMenuRender += " selected='selected'";
							}
							catMenuRender += ">" + panel1CatMenuText + "<\/option>";
							if (panel1HasFamMenu == 0) {
								for (c=0; c<catArray.length; c++) {
									catMenuRender += "<option value='" + catArray[c][0] + "'";
									if (catMenuValueVal == catArray[c][1]) {
										catMenuRender += " selected='selected'";
									}
									catMenuRender += ">" + catArray[c][1] + "<\/option>";
								}
							}
							catMenuRender += "<\/select>";
						}
						else {
							catMenuRender += "<div class='panel_1_cat_menu_div_filter_arrow'><div class='panel_1_cat_menu_div_filter panel_1_cat_menu_div_filter_base panel_1_cat_menu_div_filter_base_off'";
							if (hoverState==1) {
								catMenuRender += " onmouseover='genericButtonOver(\"panel_1_cat_menu_div_filter\",\"panel_1_cat_menu_div_filter_base\");' onfocus='genericButtonOver(\"panel_1_cat_menu_div_filter\",\"panel_1_cat_menu_div_filter_base\");' onmouseout='genericButtonOut(\"panel_1_cat_menu_div_filter\",\"panel_1_cat_menu_div_filter_base\");' onblur='genericButtonOut(\"panel_1_cat_menu_div_filter\",\"panel_1_cat_menu_div_filter_base\");'";
							}
							catMenuRender += " onclick='$(\".panel_1_cat_menu_div_filter_slider\").toggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){$(\".panel_1_cat_menu_div_filter_slider\").toggle();}'><div class='panel_1_cat_menu_div_filter_text'><span id='panel1CatMenuDisplay'>" + catMenuValueVal + "<\/span> " + catMenuItalicVar + "<\/div><\/div><\/div><div class='panel_1_cat_menu_div_filter_slider panel_close_me' style='display:none;'><div class='panel_1_cat_menu_div_filter_liner' id='panel1CatMenuContent'>";
							if (panel1HasFamMenu == 0) {
								for (c=0; c<catArray.length; c++) {
									catMenuRender += "<div class='panel_1_cat_menu_div_filter_item_" + catArray[c][0] + " panel_1_cat_menu_div_filter_item panel_1_cat_menu_div_filter_item_off'";
									if (hoverState==1) {
										catMenuRender += " onmouseover='genericButtonOver(\"panel_1_cat_menu_div_filter_item_" + catArray[c][0] + "\",\"panel_1_cat_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_cat_menu_div_filter_item_" + catArray[c][0] + "\",\"panel_1_cat_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_cat_menu_div_filter_item_" + catArray[c][0] + "\",\"panel_1_cat_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_cat_menu_div_filter_item_" + catArray[c][0] + "\",\"panel_1_cat_menu_div_filter_item\");'";
									}
									catMenuRender += " onclick='panel1CatMenuSelect(" + catArray[c][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatMenuSelect(" + catArray[c][0] + ");}'>" + catArray[c][1] + "<\/div>";
								}
							}
							catMenuRender += "<\/div><\/div>";
						}
						catMenuRender += "<\/div>";
						productAreaHTML = catMenuHTMLStart + catMenuRender + catMenuHTMLEnd;
					}
					var prodMenuTagStart = productAreaHTML.indexOf("<!--PRODMENU");
					if (prodMenuTagStart != -1) {
						var prodMenuTagEnd = productAreaHTML.indexOf(">",prodMenuTagStart);
						var prodMenuTagStrip = productAreaHTML.substring(prodMenuTagStart,(prodMenuTagEnd+1));
						var prodMenuHTMLStart = productAreaHTML.substr(0,prodMenuTagStart);
						var prodMenuHTMLEnd = productAreaHTML.substr((prodMenuTagEnd+1));
						var prodMenuRender = "";
						panel1HasProdMenu = 1;
						var prodMenuValueStart = prodMenuTagStrip.indexOf(" VALUE=");
						if (prodMenuValueStart != -1) {
							var prodMenuValueEnd = prodMenuTagStrip.indexOf("]",prodMenuValueStart);
							var prodMenuValueVal = prodMenuTagStrip.substring((prodMenuValueStart+8),(prodMenuValueEnd));
						}
						else {
							var prodMenuValueVal = "SELECT A PRODUCT";
						}
						panel1ProdMenuText = prodMenuValueVal;
						panel1ThereIsAProd = "";
						if (panel1ThereIsACat != 0) {
							prodMenuArray = [];
							for (p=0; p<prodDisplayArray.length; p++) {
								if (prodDisplayArray[p][8] == panel1ThereIsACat) {
									prodMenuArray.push(prodDisplayArray[p][1]);
								}
							}
							panel1ProdAllList = prodMenuArray.toString();
						}
						for (pc=0; pc<prodDisplayArray.length; pc++) {
							if (prodDisplayArray[pc][1] == document.getElementById('PROD').value) {
								panel1ThereIsAProd = prodDisplayArray[pc][1];
								prodMenuValueVal = prodDisplayArray[pc][2];
								break;
							}
						}
						if (panel1ProdAllList == document.getElementById('PROD').value) {
							panel1ThereIsAProd = 999999;
						}
						var prodMenuItalicStart = prodMenuTagStrip.indexOf(" FNTAW=");
						if (prodMenuItalicStart != -1) {
							var prodMenuItalicEnd = prodMenuTagStrip.indexOf("]",prodMenuItalicStart);
							prodMenuItalicVar = "<i class='fa " + prodMenuTagStrip.substring((prodMenuItalicStart+8),(prodMenuItalicEnd)) + "'><\/i>";
						}
						else {
							prodMenuItalicVar = "";
						}
						var prodMenuAllStart = prodMenuTagStrip.indexOf(" ALL=");
						if (prodMenuAllStart != -1) {
							var prodMenuAllEnd = prodMenuTagStrip.indexOf("]",prodMenuAllStart);
							panel1ProdMenuAllVar = prodMenuTagStrip.substring((prodMenuAllStart+6),(prodMenuAllEnd));
						}
						var prodDivValueStart = prodMenuTagStrip.indexOf(" DIVRENDER");
						if (prodDivValueStart != -1) {
							var prodDivValueVal = 1;
						}
						else {
							var prodDivValueVal = 0;
						}
						var prodGoValueStart = prodMenuTagStrip.indexOf(" AUTOGO");
						if (prodGoValueStart != -1) {
							panel1ProdGoValueVal = 1;
						}
						prodMenuRender = "<input type='hidden' name='panel1ProdMenuHolder' id='panel1ProdMenuHolder' value='" + panel1ThereIsAProd + "' title=\"Product\"><div id='panel1ProdMenuShell' class='panel_1_prod_menu_div_shell'";
						if (panel1HasCatMenu == 1 && panel1ThereIsAProd == "") {
							prodMenuRender += " style='display:none;'";
						}
						prodMenuRender += ">";
						if (prodDivValueVal == 0) {
							prodMenuRender += "<select name='panel1ProdSelect' id='panel1ProdSelect' class='panel_1_prod_field panel_1_prod_field_base' onchange='panel1SetProdSelect(" + panel1ProdGoValueVal + ");'><option value='0'";
							if (panel1ThereIsAProd == 0) {
								prodMenuRender += " selected='selected'";
							}
							prodMenuRender += ">" + panel1ProdMenuText + "<\/option>";
							if (panel1HasCatMenu == 0) {
								for (p=0; p<prodDisplayArray.length; p++) {
									prodMenuRender += "<option value='" + prodDisplayArray[p][0] + "'";
									if (prodMenuValueVal == prodDisplayArray[p][2]) {
										prodMenuRender += " selected='selected'";
									}
									prodMenuRender += ">" + prodDisplayArray[p][2] + "<\/option>";
								}
							}
							else if (panel1ThereIsACat != 0) {
								if (panel1ProdMenuAllVar != "") {
									prodMenuRender += "<option value='999999'";
									if (panel1ThereIsAProd == 999999) {
										prodMenuRender += " selected='selected'";
									}
									prodMenuRender += ">" + panel1ProdMenuAllVar + "<\/option>";
								}
								for (p=0; p<prodDisplayArray.length; p++) {
									if (prodDisplayArray[p][8] == panel1ThereIsACat) {
										prodMenuRender += "<option value='" + prodDisplayArray[p][0] + "'";
										if (prodMenuValueVal == prodDisplayArray[p][2]) {
											prodMenuRender += " selected='selected'";
										}
										prodMenuRender += ">" + prodDisplayArray[p][2] + "<\/option>";
									}
								}
							}
							prodMenuRender += "<\/select>";
						}
						else {
							prodMenuRender += "<div class='panel_1_prod_menu_div_filter_arrow'><div class='panel_1_prod_menu_div_filter panel_1_prod_menu_div_filter_base panel_1_prod_menu_div_filter_base_off'";
							if (hoverState==1) {
								prodMenuRender += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter\",\"panel_1_prod_menu_div_filter_base\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter\",\"panel_1_prod_menu_div_filter_base\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter\",\"panel_1_prod_menu_div_filter_base\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter\",\"panel_1_prod_menu_div_filter_base\");'";
							}
							prodMenuRender += " onclick='$(\".panel_1_prod_menu_div_filter_slider\").toggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){$(\".panel_1_prod_menu_div_filter_slider\").toggle();}'><div class='panel_1_prod_menu_div_filter_text'><span id='panel1ProdMenuDisplay'>";
							if (panel1ThereIsAProd == 999999) {
								prodMenuRender += panel1ProdMenuAllVar;
							}
							else {
								prodMenuRender += prodMenuValueVal
							}
							prodMenuRender += "<\/span> " + prodMenuItalicVar + "<\/div><\/div><\/div><div class='panel_1_prod_menu_div_filter_slider panel_close_me' style='display:none;'><div class='panel_1_prod_menu_div_filter_liner' id='panel1ProdMenuContent'>";
							if (panel1HasCatMenu == 0) {
								for (p=0; p<prodDisplayArray.length; p++) {
									prodMenuRender += "<div class='panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + " panel_1_prod_menu_div_filter_item panel_1_prod_menu_div_filter_item_off'";
									if (hoverState==1) {
										prodMenuRender += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");'";
									}
									prodMenuRender += " onclick='panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");}'>" + prodDisplayArray[p][2] + "<\/div>";
								}
							}
							else if (panel1ThereIsACat != 0) {
								if (panel1ProdMenuAllVar != "") {
									prodMenuRender += "<div class='panel_1_prod_menu_div_filter_item_999999 panel_1_prod_menu_div_filter_item panel_1_prod_menu_div_filter_item_off'";
									if (hoverState==1) {
										prodMenuRender += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");'";
									}
									prodMenuRender += " onclick='panel1ProdMenuSelect(999999," + panel1ProdGoValueVal + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdMenuSelect(999999," + panel1ProdGoValueVal + ");}'>" + panel1ProdMenuAllVar + "<\/div>";
								}
								for (p=0; p<prodDisplayArray.length; p++) {
									if (prodDisplayArray[p][8] == panel1ThereIsACat) {
										prodMenuRender += "<div class='panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + " panel_1_prod_menu_div_filter_item panel_1_prod_menu_div_filter_item_off'";
										if (hoverState==1) {
											prodMenuRender += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");'";
										}
										prodMenuRender += " onclick='panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");}'>" + prodDisplayArray[p][2] + "<\/div>";
									}
								}
							}
							prodMenuRender += "<\/div><\/div>";
						}
						prodMenuRender += "<\/div>";
						productAreaHTML = prodMenuHTMLStart + prodMenuRender + prodMenuHTMLEnd;
					}
					var selProdLabButtonTagStart = productAreaHTML.indexOf("<!--SELALLPRODLAB");
					if (selProdLabButtonTagStart != -1) {
						var selProdLabButtonTagEnd = productAreaHTML.indexOf(">",selProdLabButtonTagStart);
						var selProdLabButtonTagStrip = productAreaHTML.substring(selProdLabButtonTagStart,(selProdLabButtonTagEnd+1));
						var selProdLabButtonHTMLStart = productAreaHTML.substr(0,selProdLabButtonTagStart);
						var selProdLabButtonHTMLEnd = productAreaHTML.substr((selProdLabButtonTagEnd+1));
						var selProdLabButtonRender = "";
						var selProdLabButtonValueStart = selProdLabButtonTagStrip.indexOf(" VALUE=");
						if (selProdLabButtonValueStart != -1) {
							var selProdLabButtonValueEnd = selProdLabButtonTagStrip.indexOf("]",selProdLabButtonValueStart);
							var selProdLabButtonValueVar = selProdLabButtonTagStrip.substring((selProdLabButtonValueStart+8),(selProdLabButtonValueEnd));
						}
						else {
							var selProdLabButtonValueVar = "SELECT ALL";
						}
						var selProdLabButtonItalicOnStart = selProdLabButtonTagStrip.indexOf(" FNTAWON=");
						if (selProdLabButtonItalicOnStart != -1) {
							var selProdLabButtonItalicOnEnd = selProdLabButtonTagStrip.indexOf("]",selProdLabButtonItalicOnStart);
							var selProdLabButtonItalicOnVar = "<i id='p1SelProdLabButtonItalicOn' class='fa " + selProdLabButtonTagStrip.substring((selProdLabButtonItalicOnStart+10),(selProdLabButtonItalicOnEnd)) + "' style='display:none;'><\/i>";
						}
						else {
							var selProdLabButtonItalicOnVar = "";
						}
						var selProdLabButtonItalicOffStart = selProdLabButtonTagStrip.indexOf(" FNTAWOFF=");
						if (selProdLabButtonItalicOffStart != -1) {
							var selProdLabButtonItalicOffEnd = selProdLabButtonTagStrip.indexOf("]",selProdLabButtonItalicOffStart);
							var selProdLabButtonItalicOffVar = "<i id='p1SelProdLabButtonItalicOff' class='fa " + selProdLabButtonTagStrip.substring((selProdLabButtonItalicOffStart+11),(selProdLabButtonItalicOffEnd)) + "'><\/i>";
						}
						else {
							var selProdLabButtonItalicOffVar = "";
						}
						selProdLabButtonRender += "<div id='p1SelProdLabButton' class='panel_1_select_product_label_button panel_1_select_product_label_button_off'";
						if (hoverState==1) {
							selProdLabButtonRender += " onmouseover='panel1ButtonHover(\"p1SelProdLabButton\",\"panel_1_select_product_label_button\",1);' onfocus='panel1ButtonHover(\"p1SelProdLabButton\",\"panel_1_select_product_label_button\",1);' onmouseout='panel1ButtonHover(\"p1SelProdLabButton\",\"panel_1_select_product_label_button\",0);' onblur='panel1ButtonHover(\"p1SelProdLabButton\",\"panel_1_select_product_label_button\",0);'";
						}
						var selProdLabButtonClick = "panel1SelectProdLabel(1);";
						if (panel1RedrawVar == 1) {
							selProdLabButtonClick = "caRedrawSelectAll(1);";
						}
						selProdLabButtonRender += " onclick='" + selProdLabButtonClick + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + selProdLabButtonClick + "}'>" + selProdLabButtonItalicOnVar + selProdLabButtonItalicOffVar + "<span class='panel_1_select_product_label_button_span'>" + selProdLabButtonValueVar + "<\/span><\/div>";
						productAreaHTML = selProdLabButtonHTMLStart + selProdLabButtonRender + selProdLabButtonHTMLEnd;
					}
					var allfamButtonTagStart = productAreaHTML.indexOf("<!--ALLFAMBUTTON");
					if (allfamButtonTagStart != -1) {
						var allfamButtonTagEnd = productAreaHTML.indexOf(">",allfamButtonTagStart);
						var allfamButtonTagStrip = productAreaHTML.substring(allfamButtonTagStart,(allfamButtonTagEnd+1));
						var allfamButtonHTMLStart = productAreaHTML.substr(0,allfamButtonTagStart);
						var allfamButtonHTMLEnd = productAreaHTML.substr((allfamButtonTagEnd+1));
						var allfamButtonRender = "";
						var allfamButtonValueStart = allfamButtonTagStrip.indexOf(" VALUE=");
						if (allfamButtonValueStart != -1) {
							var allfamButtonValueEnd = allfamButtonTagStrip.indexOf("]",allfamButtonValueStart);
							var allfamButtonValueVar = allfamButtonTagStrip.substring((allfamButtonValueStart+8),(allfamButtonValueEnd));
						}
						else {
							var allfamButtonValueVar = "SELECT ALL FAMILIES";
						}
						var allfamButtonItalicStart = allfamButtonTagStrip.indexOf(" FNTAW=");
						if (allfamButtonItalicStart != -1) {
							var allfamButtonItalicEnd = allfamButtonTagStrip.indexOf("]",allfamButtonItalicStart);
							var allfamButtonItalicVar = "<i class='fa " + allfamButtonTagStrip.substring((allfamButtonItalicStart+8),(allfamButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var allfamButtonItalicVar = "";
						}
						allfamButtonRender += "<div id='panel1AllFamButton' class='panel_1_allfam_button panel_1_allfam_button_off'";
						if (hoverState==1) {
							allfamButtonRender += " onmouseover='panel1ButtonHover(\"panel1AllFamButton\",\"panel_1_allfam_button\",1);' onfocus='panel1ButtonHover(\"panel1AllFamButton\",\"panel_1_allfam_button\",1);' onmouseout='panel1ButtonHover(\"panel1AllFamButton\",\"panel_1_allfam_button\",0);' onblur='panel1ButtonHover(\"panel1AllFamButton\",\"panel_1_allfam_button\",0);'";
						}
						allfamButtonRender += " onclick='panel1AllFam();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1AllFam();}'>" + allfamButtonItalicVar + allfamButtonValueVar + "<\/div>";
						productAreaHTML = allfamButtonHTMLStart + allfamButtonRender + allfamButtonHTMLEnd;
					}
					var allcatButtonTagStart = productAreaHTML.indexOf("<!--ALLCATBUTTON");
					if (allcatButtonTagStart != -1) {
						var allcatButtonTagEnd = productAreaHTML.indexOf(">",allcatButtonTagStart);
						var allcatButtonTagStrip = productAreaHTML.substring(allcatButtonTagStart,(allcatButtonTagEnd+1));
						var allcatButtonHTMLStart = productAreaHTML.substr(0,allcatButtonTagStart);
						var allcatButtonHTMLEnd = productAreaHTML.substr((allcatButtonTagEnd+1));
						var allcatButtonRender = "";
						var allcatButtonValueStart = allcatButtonTagStrip.indexOf(" VALUE=");
						if (allcatButtonValueStart != -1) {
							var allcatButtonValueEnd = allcatButtonTagStrip.indexOf("]",allcatButtonValueStart);
							var allcatButtonValueVar = allcatButtonTagStrip.substring((allcatButtonValueStart+8),(allcatButtonValueEnd));
						}
						else {
							var allcatButtonValueVar = "SELECT ALL CATEGORIES";
						}
						var allcatButtonItalicStart = allcatButtonTagStrip.indexOf(" FNTAW=");
						if (allcatButtonItalicStart != -1) {
							var allcatButtonItalicEnd = allcatButtonTagStrip.indexOf("]",allcatButtonItalicStart);
							var allcatButtonItalicVar = "<i class='fa " + allcatButtonTagStrip.substring((allcatButtonItalicStart+8),(allcatButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var allcatButtonItalicVar = "";
						}
						allcatButtonRender += "<div id='panel1AllCatButton' class='panel_1_allcat_button panel_1_allcat_button_off'";
						if (hoverState==1) {
							allcatButtonRender += " onmouseover='panel1ButtonHover(\"panel1AllCatButton\",\"panel_1_allcat_button\",1);' onfocus='panel1ButtonHover(\"panel1AllCatButton\",\"panel_1_allcat_button\",1);' onmouseout='panel1ButtonHover(\"panel1AllCatButton\",\"panel_1_allcat_button\",0);' onblur='panel1ButtonHover(\"panel1AllCatButton\",\"panel_1_allcat_button\",0);'";
						}
						allcatButtonRender += " onclick='panel1AllCat();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1AllCat();}'>" + allcatButtonItalicVar + allcatButtonValueVar + "<\/div>";
						productAreaHTML = allcatButtonHTMLStart + allcatButtonRender + allcatButtonHTMLEnd;
					}
					var allprodButtonTagStart = productAreaHTML.indexOf("<!--ALLPRODBUTTON");
					if (allprodButtonTagStart != -1) {
						var allprodButtonTagEnd = productAreaHTML.indexOf(">",allprodButtonTagStart);
						var allprodButtonTagStrip = productAreaHTML.substring(allprodButtonTagStart,(allprodButtonTagEnd+1));
						var allprodButtonHTMLStart = productAreaHTML.substr(0,allprodButtonTagStart);
						var allprodButtonHTMLEnd = productAreaHTML.substr((allprodButtonTagEnd+1));
						var allprodButtonRender = "";
						var allprodButtonValueStart = allprodButtonTagStrip.indexOf(" VALUE=");
						if (allprodButtonValueStart != -1) {
							var allprodButtonValueEnd = allprodButtonTagStrip.indexOf("]",allprodButtonValueStart);
							var allprodButtonValueVar = allprodButtonTagStrip.substring((allprodButtonValueStart+8),(allprodButtonValueEnd));
						}
						else {
							var allprodButtonValueVar = "SELECT ALL PRODUCTS";
						}
						var allprodButtonItalicStart = allprodButtonTagStrip.indexOf(" FNTAW=");
						if (allprodButtonItalicStart != -1) {
							var allprodButtonItalicEnd = allprodButtonTagStrip.indexOf("]",allprodButtonItalicStart);
							var allprodButtonItalicVar = "<i class='fa " + allprodButtonTagStrip.substring((allprodButtonItalicStart+8),(allprodButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var allprodButtonItalicVar = "";
						}
						allprodButtonRender += "<div id='panel1AllProdButton' class='panel_1_allprod_button panel_1_allprod_button_off'";
						if (hoverState==1) {
							allprodButtonRender += " onmouseover='panel1ButtonHover(\"panel1AllProdButton\",\"panel_1_allprod_button\",1);' onfocus='panel1ButtonHover(\"panel1AllProdButton\",\"panel_1_allprod_button\",1);' onmouseout='panel1ButtonHover(\"panel1AllProdButton\",\"panel_1_allprod_button\",0);' onblur='panel1ButtonHover(\"panel1AllProdButton\",\"panel_1_allprod_button\",0);'";
						}
						allprodButtonRender += " onclick='panel1AllProd();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1AllProd();}'>" + allprodButtonItalicVar + allprodButtonValueVar + "<\/div>";
						productAreaHTML = allprodButtonHTMLStart + allprodButtonRender + allprodButtonHTMLEnd;
					}
					var prodcartCountTagStart = productAreaHTML.indexOf("<!--PRODCARTCOUNT");
					if (prodcartCountTagStart != -1) {
						var prodcartCountTagEnd = productAreaHTML.indexOf(">",prodcartCountTagStart);
						var prodcartCountTagStrip = productAreaHTML.substring(prodcartCountTagStart,(prodcartCountTagEnd+1));
						var prodcartCountHTMLStart = productAreaHTML.substr(0,prodcartCountTagStart);
						var prodcartCountHTMLEnd = productAreaHTML.substr((prodcartCountTagEnd+1));
						productAreaHTML = prodcartCountHTMLStart + "<span id='panel1ProdCartCount'>" + prodCartArray.length + "<\/span>" + prodcartCountHTMLEnd;
					}
					var selectedProductsTagStart = productAreaHTML.indexOf("<!--SELPRODTEXT");
					if (selectedProductsTagStart != -1) {
						var selectedProductsTagEnd = productAreaHTML.indexOf(">",selectedProductsTagStart);
						var selectedProductsTagStrip = productAreaHTML.substring(selectedProductsTagStart,(selectedProductsTagEnd+1));
						var selectedProductsHTMLStart = productAreaHTML.substr(0,selectedProductsTagStart);
						var selectedProductsHTMLEnd = productAreaHTML.substr((selectedProductsTagEnd+1));
						var selProdSingularStart = selectedProductsTagStrip.indexOf(" SINGULAR=");
						if (selProdSingularStart != -1) {
							var selProdSingularEnd = selectedProductsTagStrip.indexOf("]",selProdSingularStart);
							p1selProdSingularVar = " " + selectedProductsTagStrip.substring((selProdSingularStart+11),(selProdSingularEnd));
						}
						var selProdPluralStart = selectedProductsTagStrip.indexOf(" PLURAL=");
						if (selProdPluralStart != -1) {
							var selProdPluralEnd = selectedProductsTagStrip.indexOf("]",selProdPluralStart);
							p1selProdPluralVar = " " + selectedProductsTagStrip.substring((selProdPluralStart+9),(selProdPluralEnd));
						}
						productAreaHTML = selectedProductsHTMLStart + "<div id='panel1SelProdText' class='panel_1_selected_products_text'>" + p1selProdPluralVar + "<\/div>" + selectedProductsHTMLEnd;
					}
					var multiFilterButtonOn = 1;
					while (multiFilterButtonOn != 0) {
						var multiButtonTagStart = productAreaHTML.indexOf("<!--MULTIBUTTON");
						if (multiButtonTagStart != -1) {
							var multiButtonTagEnd = productAreaHTML.indexOf(">",multiButtonTagStart);
							var multiButtonTagStrip = productAreaHTML.substring(multiButtonTagStart,(multiButtonTagEnd+1));
							var multiButtonHTMLStart = productAreaHTML.substr(0,multiButtonTagStart);
							var multiButtonHTMLEnd = productAreaHTML.substr((multiButtonTagEnd+1));
							var multiButtonRender = "";
							var multiButtonValueStart = multiButtonTagStrip.indexOf(" VALUE=");
							if (multiButtonValueStart != -1) {
								var multiButtonValueEnd = multiButtonTagStrip.indexOf("]",multiButtonValueStart);
								var multiButtonValueVar = multiButtonTagStrip.substring((multiButtonValueStart+8),(multiButtonValueEnd));
							}
							else {
								var multiButtonValueVar = "SELECT";
							}
							var multiButtonItalicStart = multiButtonTagStrip.indexOf(" FNTAW=");
							if (multiButtonItalicStart != -1) {
								var multiButtonItalicEnd = multiButtonTagStrip.indexOf("]",multiButtonItalicStart);
								var multiButtonItalicVar = "<i class='fa " + multiButtonTagStrip.substring((multiButtonItalicStart+8),(multiButtonItalicEnd)) + "'><\/i>";
							}
							else {
								var multiButtonItalicVar = "";
							}
							var multiButtonNumStart = multiButtonTagStrip.indexOf(" NUMBER=");
							if (multiButtonNumStart != -1) {
								var multiButtonNumEnd = multiButtonTagStrip.indexOf("]",multiButtonNumStart);
								var multiFilterButtonNum = parseInt(multiButtonTagStrip.substring((multiButtonNumStart+9),(multiButtonNumEnd)));
							}
							else {
								var multiFilterButtonNum = 1;
							}
							var multiButtonDisplay = "off";
							var multiButtonDisplayStart = multiButtonTagStrip.indexOf(" ACTIVE");
							if (multiButtonDisplayStart != -1) {
								multiButtonDisplay = "on";
							}
							var multiButtonHideStart = multiButtonTagStrip.indexOf(" HIDE");
							if (multiButtonHideStart != -1) {
								panel1MultiButHide = 1;
								MFLButArr.push(multiFilterButtonOn);
							}
							multiButtonRender += "<div id='panel1MultiButton" + multiFilterButtonOn + "' class='panel_1_multi_button panel_1_multi_button_" + multiButtonDisplay + "'";
							if (hoverState==1) {
								multiButtonRender += " onmouseover='panel1ButtonHover(\"panel1MultiButton" + multiFilterButtonOn + "\",\"panel_1_multi_button\",1);' onfocus='panel1ButtonHover(\"panel1MultiButton" + multiFilterButtonOn + "\",\"panel_1_multi_button\",1);' onmouseout='panel1ButtonHover(\"panel1MultiButton" + multiFilterButtonOn + "\",\"panel_1_multi_button\",0);' onblur='panel1ButtonHover(\"panel1MultiButton" + multiFilterButtonOn + "\",\"panel_1_multi_button\",0);'";
							}
							multiButtonRender += " onclick='panel1MultiButtonClick(" + multiFilterButtonOn + "," + multiFilterButtonNum + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1MultiButtonClick(" + multiFilterButtonOn + "," + multiFilterButtonNum + ");}'>" + multiButtonItalicVar + multiButtonValueVar + "<\/div>";
							productAreaHTML = multiButtonHTMLStart + multiButtonRender + multiButtonHTMLEnd;
							multiFilterButtonOn++;
						}
						else {
							multiFilterButtonOn = 0;
						}
					}
					var multibackButTagStart = productAreaHTML.indexOf("<!--MULTIBACKBUTTON");
					if (multibackButTagStart != -1) {
						var multibackButTagEnd = productAreaHTML.indexOf(">",multibackButTagStart);
						var multibackButTagStrip = productAreaHTML.substring(multibackButTagStart,(multibackButTagEnd+1));
						var multibackButHTMLStart = productAreaHTML.substr(0,multibackButTagStart);
						var multibackButHTMLEnd = productAreaHTML.substr((multibackButTagEnd+1));
						var multibackButRender = "";
						var multibackButValueVar = "BACK";
						var multibackButValueStart = multibackButTagStrip.indexOf(" VALUE=");
						if (multibackButValueStart != -1) {
							var multibackButValueEnd = multibackButTagStrip.indexOf("]",multibackButValueStart);
							multibackButValueVar = multibackButTagStrip.substring((multibackButValueStart+8),(multibackButValueEnd));
						}
						var multibackButItalicVar = "";
						var multibackButItalicStart = multibackButTagStrip.indexOf(" FNTAW=");
						if (multibackButItalicStart != -1) {
							var multibackButItalicEnd = multibackButTagStrip.indexOf("]",multibackButItalicStart);
							multibackButItalicVar = "<i class='fa " + multibackButTagStrip.substring((multibackButItalicStart+8),(multibackButItalicEnd)) + "'><\/i>";
						}
						multibackButRender += "<div id='panel1MultiBackBut' class='panel_1_multiback_but panel_1_multiback_but_off'";
						if (hoverState==1) {
							multibackButRender += " onmouseover='panel1ButtonHover(\"panel1MultiBackBut\",\"panel_1_multiback_but\",1);' onfocus='panel1ButtonHover(\"panel1MultiBackBut\",\"panel_1_multiback_but\",1);' onmouseout='panel1ButtonHover(\"panel1MultiBackBut\",\"panel_1_multiback_but\",0);' onblur='panel1ButtonHover(\"panel1MultiBackBut\",\"panel_1_multiback_but\",0);'";
						}
						multibackButRender += " onclick='panel1MultiBack();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1MultiBack();}' style='display:none;'>" + multibackButItalicVar + multibackButValueVar + "<\/div>";
						productAreaHTML = multibackButHTMLStart + multibackButRender + multibackButHTMLEnd;
					}
					var multibackFTextTagStart = productAreaHTML.indexOf("<!--MULTIFINDTEXT");
					if (multibackFTextTagStart != -1) {
						var multibackFTextTagEnd = productAreaHTML.indexOf(">",multibackFTextTagStart);
						var multibackFTextTagStrip = productAreaHTML.substring(multibackFTextTagStart,(multibackFTextTagEnd+1));
						var multibackFTextHTMLStart = productAreaHTML.substr(0,multibackFTextTagStart);
						var multibackFTextHTMLEnd = productAreaHTML.substr((multibackFTextTagEnd+1));
						var multibackFTextValueVar = "MAKE A SELECTION";
						var multibackFTextValueStart = multibackFTextTagStrip.indexOf(" VALUE=");
						if (multibackFTextValueStart != -1) {
							var multibackFTextValueEnd = multibackFTextTagStrip.indexOf("]",multibackFTextValueStart);
							multibackFTextValueVar = multibackFTextTagStrip.substring((multibackFTextValueStart+8),(multibackFTextValueEnd));
						}
						productAreaHTML = multibackFTextHTMLStart + "<span id='panel1MultiFindText' class='panel_1_multifind_text'>" + multibackFTextValueVar + "<\/span>" + multibackFTextHTMLEnd;
					}
					var multibackFValTagStart = productAreaHTML.indexOf("<!--MULTIFINDVAL");
					if (multibackFValTagStart != -1) {
						var multibackFValTagEnd = productAreaHTML.indexOf(">",multibackFValTagStart);
						var multibackFValTagStrip = productAreaHTML.substring(multibackFValTagStart,(multibackFValTagEnd+1));
						var multibackFValHTMLStart = productAreaHTML.substr(0,multibackFValTagStart);
						var multibackFValHTMLEnd = productAreaHTML.substr((multibackFValTagEnd+1));
						var multibackFValValueVar = "MAKE A SELECTION";
						var multibackFValValueStart = multibackFValTagStrip.indexOf(" VALUE=");
						if (multibackFValValueStart != -1) {
							var multibackFValValueEnd = multibackFValTagStrip.indexOf("]",multibackFValValueStart);
							multibackFValValueVar = multibackFValTagStrip.substring((multibackFValValueStart+8),(multibackFValValueEnd));
						}
						productAreaHTML = multibackFValHTMLStart + "<span id='panel1MultiFindVal' class='panel_1_multifind_val'>" + multibackFValValueVar + "<\/span>" + multibackFValHTMLEnd;
					}
					var multibackBigImgTagStart = productAreaHTML.indexOf("<!--MULTIBIGIMG");
					if (multibackBigImgTagStart != -1) {
						var multibackBigImgTagEnd = productAreaHTML.indexOf(">",multibackBigImgTagStart);
						var multibackBigImgTagStrip = productAreaHTML.substring(multibackBigImgTagStart,(multibackBigImgTagEnd+1));
						var multibackBigImgHTMLStart = productAreaHTML.substr(0,multibackBigImgTagStart);
						var multibackBigImgHTMLEnd = productAreaHTML.substr((multibackBigImgTagEnd+1));
						productAreaHTML = multibackBigImgHTMLStart + "<span id='panel1MultiBigImgHolder' class='panel_1_multi_big_img_holder'><\/span>" + multibackBigImgHTMLEnd;
					}
					var multibackSmImgTagStart = productAreaHTML.indexOf("<!--MULTISMIMG");
					if (multibackSmImgTagStart != -1) {
						var multibackSmImgTagEnd = productAreaHTML.indexOf(">",multibackSmImgTagStart);
						var multibackSmImgTagStrip = productAreaHTML.substring(multibackSmImgTagStart,(multibackSmImgTagEnd+1));
						var multibackSmImgHTMLStart = productAreaHTML.substr(0,multibackSmImgTagStart);
						var multibackSmImgHTMLEnd = productAreaHTML.substr((multibackSmImgTagEnd+1));
						productAreaHTML = multibackSmImgHTMLStart + "<span id='panel1MultiSmImgHolder' class='panel_1_multi_sm_img_holder'><\/span>" + multibackSmImgHTMLEnd;
					}
					var multiFilterSearchOn = 1;
					MFL1Arr.length = 0;
					MFL2Arr.length = 0;
					while (multiFilterSearchOn != 0) {
						var multiFilterTagStart = productAreaHTML.indexOf("<!--MULTIFILTER");
						if (multiFilterTagStart != -1) {
							var multiFilterTagEnd = productAreaHTML.indexOf(">",multiFilterTagStart);
							var multiFilterTagStrip = productAreaHTML.substring(multiFilterTagStart,(multiFilterTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,multiFilterTagStart);
							var baseHTMLEnd = productAreaHTML.substr((multiFilterTagEnd+1));
							var multiFilterL1Type = "FAMILY";
							var multiFilterL1TypeStart = multiFilterTagStrip.indexOf(" LEVEL1=");
							if (multiFilterL1TypeStart != -1) {
								var multiFilterL1TypeEnd = multiFilterTagStrip.indexOf("]",multiFilterL1TypeStart);
								multiFilterL1Type = multiFilterTagStrip.substring((multiFilterL1TypeStart+9),(multiFilterL1TypeEnd));
							}
							var mf1l = MFL1Arr.length;
							if (multiFilterL1Type == "FAMILY") {
								for (mfl=0; mfl<famArray.length; mfl++) {
									MFL1Arr[mf1l] = [famArray[mfl][0], famArray[mfl][1], famArray[mfl][2], famArray[mfl][3], multiFilterSearchOn];
									mf1l++;
								}
							}
							else if (multiFilterL1Type == "LABEL") {
								for (mfl=0; mfl<labelArray.length; mfl++) {
									MFL1Arr[mf1l] = [labelArray[mfl][0], labelArray[mfl][1], labelArray[mfl][6], labelArray[mfl][7], multiFilterSearchOn];
									mf1l++;
								}
							}
							var multiFilterL2Type = "LABEL";
							var multiFilterL2TypeStart = multiFilterTagStrip.indexOf(" LEVEL2=");
							if (multiFilterL2TypeStart != -1) {
								var multiFilterL2TypeEnd = multiFilterTagStrip.indexOf("]",multiFilterL2TypeStart);
								multiFilterL2Type = multiFilterTagStrip.substring((multiFilterL2TypeStart+9),(multiFilterL2TypeEnd));
							}
							var mf2l = MFL2Arr.length;
							if (multiFilterL2Type == "FAMILY") {
								for (mfl=0; mfl<famArray.length; mfl++) {
									MFL2Arr[mf2l] = [famArray[mfl][0], famArray[mfl][1], famArray[mfl][2], famArray[mfl][3], multiFilterSearchOn];
									mf2l++;
								}
							}
							else if (multiFilterL2Type == "LABEL") {
								for (mfl=0; mfl<labelArray.length; mfl++) {
									MFL2Arr[mf2l] = [labelArray[mfl][0], labelArray[mfl][1], labelArray[mfl][6], labelArray[mfl][7], multiFilterSearchOn];
									mf2l++;
								}
							}
							if(gLog==1){console.log("MULTIFILTER " + multiFilterSearchOn + " - Level 1: ", MFL1Arr);}
							if(gLog==1){console.log("MULTIFILTER " + multiFilterSearchOn + " - Level 2: ", MFL2Arr);}
							var multiFilterDisplay = " style='display:none;'";
							var multiFilterDisplayStart = multiFilterTagStrip.indexOf(" ACTIVE");
							if (multiFilterDisplayStart != -1) {
								multiFilterDisplay = "";
							}
							var multiFilterHTML = "<div class='panel_1_multiFilter_shell panel_1_multifilter_shell_" + multiFilterSearchOn + "'" + multiFilterDisplay + "><div class='panel_1_multiFilter_inner'><div id='panel1MultiFilterL1Shell" + multiFilterSearchOn + "' class='panel_1_multiFilter_l1_shell panel_1_multifilter_l1_shell_" + multiFilterSearchOn + "'><div class='panel_1_multiFilter_l1_inner'>";
							for (mflo=0; mflo<MFL1Arr.length; mflo++) {
								if (MFL1Arr[mflo][4] == multiFilterSearchOn) {
									if (multiFilterL1Type == "LABEL") {
										var multiFilterL1HTML = autotextIt(p1TemplateSet.panel1Filter1LabelDiv,"panel1Filter1Label");
									}
									else if (multiFilterL1Type == "FAMILY") {
										var multiFilterL1HTML = autotextIt(p1TemplateSet.panel1Filter1FamDiv,"panel1Filter1Fam");
									}
									var multiFilterNameTagStart = multiFilterL1HTML.indexOf("<!--FILTERNAME");
									if (multiFilterNameTagStart != -1) {
										var multiFilterNameTagEnd = multiFilterL1HTML.indexOf(">",multiFilterNameTagStart);
										var multiFilterNameTagStrip = multiFilterL1HTML.substring(multiFilterNameTagStart,(multiFilterNameTagEnd+1));
										var baseMultiFilterNameHTMLStart = multiFilterL1HTML.substr(0,multiFilterNameTagStart);
										var baseMultiFilterNameHTMLEnd = multiFilterL1HTML.substr((multiFilterNameTagEnd+1));
										var multiFilterNameValueStart = multiFilterNameTagStrip.indexOf(" VALUE=");
										if (multiFilterNameValueStart != -1) {
											var multiFilterNameValueEnd = multiFilterNameTagStrip.indexOf("]", multiFilterNameValueStart);
											var multiFilterNameValueVal = multiFilterNameTagStrip.substring((multiFilterNameValueStart+8),(multiFilterNameValueEnd));
										}
										else {
											var multiFilterNameValueVal = MFL1Arr[mflo][1];
										}
										multiFilterL1HTML = baseMultiFilterNameHTMLStart + "<div id='panel1MultiFilterL1Name" + multiFilterSearchOn + "_" + MFL1Arr[mflo][0] + "' class='panel_1_multiFilter_l1_name'>" + multiFilterNameValueVal + "<\/div>" + baseMultiFilterNameHTMLEnd;
									}
									var multiFilterBigImgTagStart = multiFilterL1HTML.indexOf("<!--FILTERBIGIMG");
									if (multiFilterBigImgTagStart != -1) {
										var multiFilterBigImgTagEnd = multiFilterL1HTML.indexOf(">",multiFilterBigImgTagStart);
										var multiFilterBigImgTagStrip = multiFilterL1HTML.substring(multiFilterBigImgTagStart,(multiFilterBigImgTagEnd+1));
										var baseMultiFilterBigImgHTMLStart = multiFilterL1HTML.substr(0,multiFilterBigImgTagStart);
										var baseMultiFilterBigImgHTMLEnd = multiFilterL1HTML.substr((multiFilterBigImgTagEnd+1));
										multiFilterL1HTML = baseMultiFilterBigImgHTMLStart + "<img title=\"" + MFL1Arr[mflo][1] + "\" alt=\"" + MFL1Arr[mflo][1] + "\" id='panel1MultiFilterL1BigImg" + multiFilterSearchOn + "_" + MFL1Arr[mflo][0] + "' class='panel_1_multiFilter_l1_big_img' src='" + clientImgBase + MFL1Arr[mflo][2] + "'>" + baseMultiFilterBigImgHTMLEnd;
									}
									var multiFilterSmImgTagStart = multiFilterL1HTML.indexOf("<!--FILTERSMIMG");
									if (multiFilterSmImgTagStart != -1) {
										var multiFilterSmImgTagEnd = multiFilterL1HTML.indexOf(">",multiFilterSmImgTagStart);
										var multiFilterSmImgTagStrip = multiFilterL1HTML.substring(multiFilterSmImgTagStart,(multiFilterSmImgTagEnd+1));
										var baseMultiFilterSmImgHTMLStart = multiFilterL1HTML.substr(0,multiFilterSmImgTagStart);
										var baseMultiFilterSmImgHTMLEnd = multiFilterL1HTML.substr((multiFilterSmImgTagEnd+1));
										multiFilterL1HTML = baseMultiFilterSmImgHTMLStart + "<img title=\"" + MFL1Arr[mflo][1] + "\" alt=\"" + MFL1Arr[mflo][1] + "\" id='panel1MultiFilterL1SmImg" + multiFilterSearchOn + "_" + MFL1Arr[mflo][0] + "' class='panel_1_multiFilter_l1_sm_img' src='" + clientImgBase + MFL1Arr[mflo][3] + "'>" + baseMultiFilterSmImgHTMLEnd;
									}
									var setstr = MFL1Arr[mflo][1];
									multiFilterHTML += "<div class='panel_1_multiFilter_l1_item_shell panel_1_multifilter_l1_item_" + multiFilterSearchOn + "_" + MFL1Arr[mflo][0] + "' onclick='panel1ChooseFilterL1(\"" + multiFilterL1Type + "\"," + multiFilterSearchOn + ",\"" + setstr.replace("'","&#39;") + "\",\"" + multiFilterL2Type + "\"," + MFL1Arr[mflo][0] + ", \"" + MFL1Arr[mflo][2] + "\", \"" + MFL1Arr[mflo][3] + "\");' onkeyup='panel1ChooseFilterL1(\"" + multiFilterL1Type + "\"," + multiFilterSearchOn + ",\"" + setstr.replace("'","&#39;") + "\",\"" + multiFilterL2Type + "\"," + MFL1Arr[mflo][0] + ", \"" + MFL1Arr[mflo][2] + "\", \"" + MFL1Arr[mflo][3] + "\");'><div class='panel_1_multiFilter_l1_item_inner'>" + multiFilterL1HTML + "<\/div><\/div>";
								}
							}
							multiFilterHTML += "<\/div><\/div>";
							var multiFilterL2HTML = autotextIt(p1TemplateSet.panel1Filter2Div,"panel1Filter2");
							var multibackButtonTagStart = multiFilterL2HTML.indexOf("<!--MULTIBACKBUTTON");
							if (multibackButtonTagStart != -1) {
								var multibackButtonTagEnd = multiFilterL2HTML.indexOf(">",multibackButtonTagStart);
								var multibackButtonTagStrip = multiFilterL2HTML.substring(multibackButtonTagStart,(multibackButtonTagEnd+1));
								var multibackButtonHTMLStart = multiFilterL2HTML.substr(0,multibackButtonTagStart);
								var multibackButtonHTMLEnd = multiFilterL2HTML.substr((multibackButtonTagEnd+1));
								var multibackButtonRender = "";
								var multibackButtonValueVar = "BACK";
								var multibackButtonValueStart = multibackButtonTagStrip.indexOf(" VALUE=");
								if (multibackButtonValueStart != -1) {
									var multibackButtonValueEnd = multibackButtonTagStrip.indexOf("]",multibackButtonValueStart);
									multibackButtonValueVar = multibackButtonTagStrip.substring((multibackButtonValueStart+8),(multibackButtonValueEnd));
								}
								var multibackButtonItalicVar = "";
								var multibackButtonItalicStart = multibackButtonTagStrip.indexOf(" FNTAW=");
								if (multibackButtonItalicStart != -1) {
									var multibackButtonItalicEnd = multibackButtonTagStrip.indexOf("]",multibackButtonItalicStart);
									multibackButtonItalicVar = "<i class='fa " + multibackButtonTagStrip.substring((multibackButtonItalicStart+8),(multibackButtonItalicEnd)) + "'><\/i>";
								}
								multibackButtonRender += "<div id='panel1MultiBackButton" + multiFilterSearchOn + "' class='panel_1_multiback_button panel_1_multiback_button_off'";
								if (hoverState==1) {
									multibackButtonRender += " onmouseover='panel1ButtonHover(\"panel1MultiBackButton" + multiFilterSearchOn + "\",\"panel_1_multiback_button\",1);' onfocus='panel1ButtonHover(\"panel1MultiBackButton" + multiFilterSearchOn + "\",\"panel_1_multiback_button\",1);' onmouseout='panel1ButtonHover(\"panel1MultiBackButton" + multiFilterSearchOn + "\",\"panel_1_multiback_button\",0);' onblur='panel1ButtonHover(\"panel1MultiBackButton" + multiFilterSearchOn + "\",\"panel_1_multiback_button\",0);'";
								}
								multibackButtonRender += " onclick='panel1MultiBack();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1MultiBack();}'>" + multibackButtonItalicVar + multibackButtonValueVar + "<\/div>" + multibackButtonHTMLEnd;
								multiFilterL2HTML = multibackButtonHTMLStart + multibackButtonRender + multibackButtonHTMLEnd;
							}
							var multiFilterValueTagStart = multiFilterL2HTML.indexOf("<!--FILTERVALUE");
							if (multiFilterValueTagStart != -1) {
								var multiFilterValueTagEnd = multiFilterL2HTML.indexOf(">",multiFilterValueTagStart);
								var multiFilterValueTagStrip = multiFilterL2HTML.substring(multiFilterValueTagStart,(multiFilterValueTagEnd+1));
								var baseMultiFilterValueHTMLStart = multiFilterL2HTML.substr(0,multiFilterValueTagStart);
								var baseMultiFilterValueHTMLEnd = multiFilterL2HTML.substr((multiFilterValueTagEnd+1));
								multiFilterL2HTML = baseMultiFilterValueHTMLStart + "<span id='panel1MultiFilterL2Value" + multiFilterSearchOn + "' class='panel_1_multiFilter_l2_value'><\/span>" + baseMultiFilterValueHTMLEnd;
							}
							var multiFilterTwoValueTagStart = multiFilterL2HTML.indexOf("<!--FILTERTWOVALUE");
							if (multiFilterTwoValueTagStart != -1) {
								var multiFilterTwoValueTagEnd = multiFilterL2HTML.indexOf(">",multiFilterTwoValueTagStart);
								var multiFilterTwoValueTagStrip = multiFilterL2HTML.substring(multiFilterTwoValueTagStart,(multiFilterTwoValueTagEnd+1));
								var baseMultiFilterTwoValueHTMLStart = multiFilterL2HTML.substr(0,multiFilterTwoValueTagStart);
								var baseMultiFilterTwoValueHTMLEnd = multiFilterL2HTML.substr((multiFilterTwoValueTagEnd+1));
								multiFilterL2HTML = baseMultiFilterTwoValueHTMLStart + "<span id='panel1MultiFilterTwoL2Value" + multiFilterSearchOn + "' class='panel_1_multiFilterTwo_l2_value'><\/span>" + baseMultiFilterTwoValueHTMLEnd;
							}
							var multiFilterProductsTagStart = multiFilterL2HTML.indexOf("<!--FILTERPRODUCTS");
							if (multiFilterProductsTagStart != -1) {
								var multiFilterProductsTagEnd = multiFilterL2HTML.indexOf(">",multiFilterProductsTagStart);
								var multiFilterProductsTagStrip = multiFilterL2HTML.substring(multiFilterProductsTagStart,(multiFilterProductsTagEnd+1));
								var baseMultiFilterProductsHTMLStart = multiFilterL2HTML.substr(0,multiFilterProductsTagStart);
								var baseMultiFilterProductsHTMLEnd = multiFilterL2HTML.substr((multiFilterProductsTagEnd+1));
								multiFilterL2HTML = baseMultiFilterProductsHTMLStart + "<div id='panel1MultiFilterL3Div" + multiFilterSearchOn + "' class='panel_1_multiFilter_l3_div panel_1_multiFilter_l3_div_" + multiFilterSearchOn + "'></div>" + baseMultiFilterProductsHTMLEnd;
							}
							multiFilterHTML += "<div id='panel1MultiFilterL2Shell" + multiFilterSearchOn + "' class='panel_1_multiFilter_l2_shell panel_1_multifilter_l2_shell_" + multiFilterSearchOn + "' style='display:none;'><div class='panel_1_multiFilter_l2_inner'>" + multiFilterL2HTML + "<\/div><\/div>";
							productAreaHTML = baseHTMLStart + multiFilterHTML + "<\/div><\/div>" + baseHTMLEnd;
							multiFilterSearchOn++;
						}
						else {
							multiFilterSearchOn = 0;
						}
					}
					var producerSearchOn = 1;
					while (producerSearchOn == 1) {
						var producerTagStart = productAreaHTML.indexOf("<!--PRODUCER");
						if (producerTagStart != -1) {
							var producerTagEnd = productAreaHTML.indexOf(">",producerTagStart);
							var producerTagStrip = productAreaHTML.substring(producerTagStart,(producerTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,producerTagStart);
							var baseHTMLEnd = productAreaHTML.substr((producerTagEnd+1));
							var producerID = 0;
							var producerHTML = "";
							var producerIDStart = producerTagStrip.indexOf(" ID=");
							if (producerIDStart != -1) {
								var producerIDEnd = producerTagStrip.indexOf("]");
								producerID = producerTagStrip.substring((producerIDStart+5),(producerIDEnd));
							}
							if (producerID != 0) {
								var producerHTMLTest = autotextIt(p1TemplateSet.panel1ProducerDiv,"panel1Producer");
								var whatProducerIndex = -1;
								for (x=0; x<producerArray.length; x++) {
									if (producerArray[x][0] == producerID) {
										whatProducerIndex = x;
										break;
									}
								}
								if (whatProducerIndex != -1) {
									var producerNameTagStart = producerHTMLTest.indexOf("<!--PRODUCERNAME");
									if (producerNameTagStart != -1) {
										var producerNameTagEnd = producerHTMLTest.indexOf(">",producerNameTagStart);
										var producerNameTagStrip = producerHTMLTest.substring(producerNameTagStart,(producerNameTagEnd+1));
										var baseProducerNameHTMLStart = producerHTMLTest.substr(0,producerNameTagStart);
										var baseProducerNameHTMLEnd = producerHTMLTest.substr((producerNameTagEnd+1));
										var producerNameValueStart = producerNameTagStrip.indexOf(" VALUE=");
										if (producerNameValueStart != -1) {
											var producerNameValueEnd = producerNameTagStrip.indexOf("]", producerNameValueStart);
											var producerNameValueVal = producerNameTagStrip.substring((producerNameValueStart+8),(producerNameValueEnd));
										}
										else {
											var producerNameValueVal = producerArray[whatProducerIndex][1];
										}
										producerHTMLTest = baseProducerNameHTMLStart + "<div id='panel1ProducerName" + producerArray[whatProducerIndex][0] + "' class='panel_1_producer_name'>" + producerNameValueVal + "<\/div>" + baseProducerNameHTMLEnd;
									}
									var producerBigImgTagStart = producerHTMLTest.indexOf("<!--PRODUCERBIGIMG");
									if (producerBigImgTagStart != -1) {
										var producerBigImgTagEnd = producerHTMLTest.indexOf(">",producerBigImgTagStart);
										var producerBigImgTagStrip = producerHTMLTest.substring(producerBigImgTagStart,(producerBigImgTagEnd+1));
										var baseProducerBigImgHTMLStart = producerHTMLTest.substr(0,producerBigImgTagStart);
										var baseProducerBigImgHTMLEnd = producerHTMLTest.substr((producerBigImgTagEnd+1));
										producerHTMLTest = baseProducerBigImgHTMLStart + "<img title=\"" + producerArray[whatProducerIndex][1] + "\" alt=\"" + producerArray[whatProducerIndex][1] + "\" id='panel1ProducerBigImg" + producerArray[whatProducerIndex][0] + "' class='panel_1_producer_big_img' src='//" + endpointCDN + "/cms/images/" + producerArray[whatProducerIndex][3] + "'>" + baseProducerBigImgHTMLEnd;
									}
									var producerSmImgTagStart = producerHTMLTest.indexOf("<!--PRODUCERSMIMG");
									if (producerSmImgTagStart != -1) {
										var producerSmImgTagEnd = producerHTMLTest.indexOf(">",producerSmImgTagStart);
										var producerSmImgTagStrip = producerHTMLTest.substring(producerSmImgTagStart,(producerSmImgTagEnd+1));
										var baseProducerSmImgHTMLStart = producerHTMLTest.substr(0,producerSmImgTagStart);
										var baseProducerSmImgHTMLEnd = producerHTMLTest.substr((producerSmImgTagEnd+1));
										producerHTMLTest = baseProducerSmImgHTMLStart + "<img title=\"" + producerArray[whatProducerIndex][1] + "\" alt=\"" + producerArray[whatProducerIndex][1] + "\" id='panel1ProducerSmImg" + producerArray[whatProducerIndex][0] + "' class='panel_1_producer_sm_img' src='//" + endpointCDN + "/cms/images/" + producerArray[whatProducerIndex][4] + "'>" + baseProducerSmImgHTMLEnd;
									}
									producerHTML += producerHTMLTest;
								}
							}
							else {
								for (x=0; x<producerArray.length; x++) {
									var producerHTMLTest = autotextIt(p1TemplateSet.panel1ProducerDiv,"panel1Producer");
									var producerNameTagStart = producerHTMLTest.indexOf("<!--PRODUCERNAME");
									if (producerNameTagStart != -1) {
										var producerNameTagEnd = producerHTMLTest.indexOf(">",producerNameTagStart);
										var producerNameTagStrip = producerHTMLTest.substring(producerNameTagStart,(producerNameTagEnd+1));
										var baseProducerNameHTMLStart = producerHTMLTest.substr(0,producerNameTagStart);
										var baseProducerNameHTMLEnd = producerHTMLTest.substr((producerNameTagEnd+1));
										var producerNameValueStart = producerNameTagStrip.indexOf(" VALUE=");
										if (producerNameValueStart != -1) {
											var producerNameValueEnd = producerNameTagStrip.indexOf("]", producerNameValueStart);
											var producerNameValueVal = producerNameTagStrip.substring((producerNameValueStart+8),(producerNameValueEnd));
										}
										else {
											var producerNameValueVal = producerArray[x][1];
										}
										producerHTMLTest = baseProducerNameHTMLStart + "<div id='panel1ProducerName" + producerArray[x][0] + "' class='panel_1_producer_name'>" + producerNameValueVal + "<\/div>" + baseProducerNameHTMLEnd;
									}
									var producerBigImgTagStart = producerHTMLTest.indexOf("<!--PRODUCERBIGIMG");
									if (producerBigImgTagStart != -1) {
										var producerBigImgTagEnd = producerHTMLTest.indexOf(">",producerBigImgTagStart);
										var producerBigImgTagStrip = producerHTMLTest.substring(producerBigImgTagStart,(producerBigImgTagEnd+1));
										var baseProducerBigImgHTMLStart = producerHTMLTest.substr(0,producerBigImgTagStart);
										var baseProducerBigImgHTMLEnd = producerHTMLTest.substr((producerBigImgTagEnd+1));
										producerHTMLTest = baseProducerBigImgHTMLStart + "<img title=\"" + producerArray[x][1] + "\" alt=\"" + producerArray[x][1] + "\" id='panel1ProducerBigImg" + producerArray[x][0] + "' class='panel_1_producer_big_img' src='//" + endpointCDN + "/cms/images/" + producerArray[x][3] + "'>" + baseProducerBigImgHTMLEnd;
									}
									var producerSmImgTagStart = producerHTMLTest.indexOf("<!--PRODUCERSMIMG");
									if (producerSmImgTagStart != -1) {
										var producerSmImgTagEnd = producerHTMLTest.indexOf(">",producerSmImgTagStart);
										var producerSmImgTagStrip = producerHTMLTest.substring(producerSmImgTagStart,(producerSmImgTagEnd+1));
										var baseProducerSmImgHTMLStart = producerHTMLTest.substr(0,producerSmImgTagStart);
										var baseProducerSmImgHTMLEnd = producerHTMLTest.substr((producerSmImgTagEnd+1));
										producerHTMLTest = baseProducerSmImgHTMLStart + "<img title=\"" + producerArray[x][1] + "\" alt=\"" + producerArray[x][1] + "\" id='panel1ProducerSmImg" + producerArray[x][0] + "' class='panel_1_producer_sm_img' src='//" + endpointCDN + "/cms/images/" + producerArray[x][4] + "'>" + baseProducerSmImgHTMLEnd;
									}
									producerHTML += producerHTMLTest;
								}
							}
							productAreaHTML = baseHTMLStart + producerHTML + baseHTMLEnd;
						}
						else {
							producerSearchOn = 0;
						}
					}
					var famSearchOn = 1;
					while (famSearchOn == 1) {
						var famTagStart = productAreaHTML.indexOf("<!--FAMILY");
						if (famTagStart != -1) {
							var famTagEnd = productAreaHTML.indexOf(">",famTagStart);
							var famTagStrip = productAreaHTML.substring(famTagStart,(famTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,famTagStart);
							var baseHTMLEnd = productAreaHTML.substr((famTagEnd+1));
							var familyHTML = "";
							var familyID = 0;
							var familyIDStart = famTagStrip.indexOf(" ID=");
							if (familyIDStart != -1) {
								var familyIDEnd = famTagStrip.indexOf("]",familyIDStart);
								familyID = famTagStrip.substring((familyIDStart+5),(familyIDEnd));
							}
							if (familyID != 0) {
								var familyHTMLTest = autotextIt(p1TemplateSet.panel1FamilyDiv,"panel1Family");
								var whatFamIndex = -1;
								for (x=0; x<famArray.length; x++) {
									if (famArray[x][0] == familyID) {
										whatFamIndex = x;
										break;
									}
								}
								if (whatFamIndex != -1) {
									var famNameTagStart = familyHTMLTest.indexOf("<!--FAMNAME");
									if (famNameTagStart != -1) {
										var famNameTagEnd = familyHTMLTest.indexOf(">",famNameTagStart);
										var famNameTagStrip = familyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
										var baseFamNameHTMLStart = familyHTMLTest.substr(0,famNameTagStart);
										var baseFamNameHTMLEnd = familyHTMLTest.substr((famNameTagEnd+1));
										var famNameValueStart = famNameTagStrip.indexOf(" VALUE=");
										if (famNameValueStart != -1) {
											var famNameValueEnd = famNameTagStrip.indexOf("]", famNameValueStart);
											var famNameValueVal = famNameTagStrip.substring((famNameValueStart+8),(famNameValueEnd));
										}
										else {
											var famNameValueVal = famArray[whatFamIndex][1];
										}
										var replaceImgTest = famNameTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famNameTagLink = "";
										if (famNameTagLinkTest != -1) {
											famNameTagLink += " style='cursor:pointer;' onclick='panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");}'";
											if (hoverState==1) {
												famNameTagLink += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "'";
											}
										}
										familyHTMLTest = baseFamNameHTMLStart + "<div id='panel1FamilyName" + famArray[whatFamIndex][0] + "' class='panel_1_family_name panel_1_family_name_off" + replaceImgMouseClass + "'" + famNameTagLink + ">" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
									}
									var famBigImgTagStart = familyHTMLTest.indexOf("<!--FAMBIGIMG");
									if (famBigImgTagStart != -1) {
										var famBigImgTagEnd = familyHTMLTest.indexOf(">",famBigImgTagStart);
										var famBigImgTagStrip = familyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
										var baseFamBigImgHTMLStart = familyHTMLTest.substr(0,famBigImgTagStart);
										var baseFamBigImgHTMLEnd = familyHTMLTest.substr((famBigImgTagEnd+1));
										var replaceImgTest = famBigImgTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famBigImgTagLinkTest = famBigImgTagStrip.indexOf(" LINK");
										var famBigImgTagLinkStart = "";
										var famBigImgTagLinkEnd = "";
										if (famBigImgTagLinkTest != -1) {
											famBigImgTagLinkStart += "<a href='' onclick='panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");return false;}'";
											if (hoverState==1) {
												famBigImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "'";
											}
											famBigImgTagLinkStart += ">";
											famBigImgTagLinkEnd = "<\/a>";
										}
										if (famArray[whatFamIndex][2].substring(0,4) == "http") {
											var famBigImgLead = "";
										}
										else {
											var famBigImgLead = clientImgBase;
										}
										familyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + famArray[whatFamIndex][1] + "\" alt=\"" + famArray[whatFamIndex][1] + "\" id='panel1FamilyBigImg" + famArray[whatFamIndex][0] + "' class='panel_1_family_big_img" + replaceImgMouseClass + "' src='" + famBigImgLead + famArray[whatFamIndex][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
									}
									var famSmImgTagStart = familyHTMLTest.indexOf("<!--FAMSMIMG");
									if (famSmImgTagStart != -1) {
										var famSmImgTagEnd = familyHTMLTest.indexOf(">",famSmImgTagStart);
										var famSmImgTagStrip = familyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
										var baseFamSmImgHTMLStart = familyHTMLTest.substr(0,famSmImgTagStart);
										var baseFamSmImgHTMLEnd = familyHTMLTest.substr((famSmImgTagEnd+1));
										var replaceImgTest = famSmImgTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famSmImgTagLinkTest = famSmImgTagStrip.indexOf(" LINK");
										var famSmImgTagLinkStart = "";
										var famSmImgTagLinkEnd = "";
										if (famSmImgTagLinkTest != -1) {
											famSmImgTagLinkStart += "<a href='' onclick='panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[whatFamIndex][0] + ", \"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ", \"panel1FamilyNameVar" + famArray[whatFamIndex][0] + "\");return false;}'";
											if (hoverState==1) {
												famSmImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[whatFamIndex][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[whatFamIndex][0] + ");" + replaceImgMouseOut + "'";
											}
											famSmImgTagLinkStart += ">";
											famSmImgTagLinkEnd = "<\/a>";
										}
										if (famArray[whatFamIndex][3].substring(0,4) == "http") {
											var famSmImgLead = "";
										}
										else {
											var famSmImgLead = clientImgBase;
										}
										familyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + famArray[whatFamIndex][1] + "\" alt=\"" + famArray[whatFamIndex][1] + "\" id='panel1FamilySmImg" + famArray[whatFamIndex][0] + "' class='panel_1_family_sm_img" + replaceImgMouseClass + "' src='" + famSmImgLead + famArray[whatFamIndex][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
									}
									familyHTML += familyHTMLTest;
								}
							}
							else {
								for (x=0; x<famArray.length; x++) {
									var familyHTMLTest = autotextIt(p1TemplateSet.panel1FamilyDiv,"panel1Family");
									var famNameTagStart = familyHTMLTest.indexOf("<!--FAMNAME");
									if (famNameTagStart != -1) {
										var famNameTagEnd = familyHTMLTest.indexOf(">",famNameTagStart);
										var famNameTagStrip = familyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
										var baseFamNameHTMLStart = familyHTMLTest.substr(0,famNameTagStart);
										var baseFamNameHTMLEnd = familyHTMLTest.substr((famNameTagEnd+1));
										var famNameValueStart = famNameTagStrip.indexOf(" VALUE=");
										if (famNameValueStart != -1) {
											var famNameValueEnd = famNameTagStrip.indexOf("]", famNameValueStart);
											var famNameValueVal = famNameTagStrip.substring((famNameValueStart+8),(famNameValueEnd));
										}
										else {
											var famNameValueVal = famArray[x][1];
										}
										var replaceImgTest = famNameTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famNameTagLink = "";
										if (famNameTagLinkTest != -1) {
											famNameTagLink += " style='cursor:pointer;' onclick='panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");}'";
											if (hoverState==1) {
												famNameTagLink += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
											}
										}
										familyHTMLTest = baseFamNameHTMLStart + "<div id='panel1FamilyName" + famArray[x][0] + "' class='panel_1_family_name panel_1_family_name_off" + replaceImgMouseClass + "'" + famNameTagLink + ">" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
									}
									var famBigImgTagStart = familyHTMLTest.indexOf("<!--FAMBIGIMG");
									if (famBigImgTagStart != -1) {
										var famBigImgTagEnd = familyHTMLTest.indexOf(">",famBigImgTagStart);
										var famBigImgTagStrip = familyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
										var baseFamBigImgHTMLStart = familyHTMLTest.substr(0,famBigImgTagStart);
										var baseFamBigImgHTMLEnd = familyHTMLTest.substr((famBigImgTagEnd+1));
										var replaceImgTest = famBigImgTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famBigImgTagLinkTest = famBigImgTagStrip.indexOf(" LINK");
										var famBigImgTagLinkStart = "";
										var famBigImgTagLinkEnd = "";
										if (famBigImgTagLinkTest != -1) {
											famBigImgTagLinkStart += "<a href='' onclick='panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");return false;}'";
											if (hoverState==1) {
												famBigImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
											}
											famBigImgTagLinkStart += ">";
											famBigImgTagLinkEnd = "<\/a>";
										}
										if (famArray[x][2].substring(0,4) == "http") {
											var famBigImgLead = "";
										}
										else {
											var famBigImgLead = clientImgBase;
										}
										familyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + famArray[x][1] + "\" alt=\"" + famArray[x][1] + "\" id='panel1FamilyBigImg" + famArray[x][0] + "' class='panel_1_family_big_img" + replaceImgMouseClass + "' src='" + famBigImgLead + famArray[x][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
									}
									var famSmImgTagStart = familyHTMLTest.indexOf("<!--FAMSMIMG");
									if (famSmImgTagStart != -1) {
										var famSmImgTagEnd = familyHTMLTest.indexOf(">",famSmImgTagStart);
										var famSmImgTagStrip = familyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
										var baseFamSmImgHTMLStart = familyHTMLTest.substr(0,famSmImgTagStart);
										var baseFamSmImgHTMLEnd = familyHTMLTest.substr((famSmImgTagEnd+1));
										var replaceImgTest = famSmImgTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famSmImgTagLinkTest = famSmImgTagStrip.indexOf(" LINK");
										var famSmImgTagLinkStart = "";
										var famSmImgTagLinkEnd = "";
										if (famSmImgTagLinkTest != -1) {
											famSmImgTagLinkStart += "<a href='' onclick='panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamSelectProducts(" + famArray[x][0] + ", \"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ", \"panel1FamilyNameVar" + famArray[x][0] + "\");return false;}'";
											if (hoverState==1) {
												famSmImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
											}
											famSmImgTagLinkStart += ">";
											famSmImgTagLinkEnd = "<\/a>";
										}
										if (famArray[x][3].substring(0,4) == "http") {
											var famSmImgLead = "";
										}
										else {
											var famSmImgLead = clientImgBase;
										}
										familyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + famArray[x][1] + "\" alt=\"" + famArray[x][1] + "\" class='panel_1_family_sm_img" + replaceImgMouseClass + "' src='" + famSmImgLead + famArray[x][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
									}
									familyHTML += familyHTMLTest;
								}
							}
							productAreaHTML = baseHTMLStart + familyHTML + baseHTMLEnd;
						}
						else {
							famSearchOn = 0;
						}
					}
					var catActiveSearchOn = 1;
					var catActiveButtonCount = -1;
					while (catActiveSearchOn == 1) {
						catActiveButtonCount++;
						var catActiveButtonTagStart = productAreaHTML.indexOf("<!--CATACTIVEBUTTON");
						if (catActiveButtonTagStart != -1) {
							var catActiveButtonTagEnd = productAreaHTML.indexOf(">",catActiveButtonTagStart);
							var catActiveButtonTagStrip = productAreaHTML.substring(catActiveButtonTagStart,(catActiveButtonTagEnd+1));
							var catActiveButtonHTMLStart = productAreaHTML.substr(0,catActiveButtonTagStart);
							var catActiveButtonHTMLEnd = productAreaHTML.substr((catActiveButtonTagEnd+1));
							var catActiveButtonRender = "";
							var catActiveButtonValueStart = catActiveButtonTagStrip.indexOf(" VALUE=");
							if (catActiveButtonValueStart != -1) {
								var catActiveButtonValueEnd = catActiveButtonTagStrip.indexOf("]",catActiveButtonValueStart);
								var catActiveButtonValueVar = catActiveButtonTagStrip.substring((catActiveButtonValueStart+8),(catActiveButtonValueEnd));
							}
							else {
								var catActiveButtonValueVar = "CLOSE";
							}
							var catActiveButtonItalicStart = catActiveButtonTagStrip.indexOf(" FNTAW=");
							if (catActiveButtonItalicStart != -1) {
								var catActiveButtonItalicEnd = catActiveButtonTagStrip.indexOf("]",catActiveButtonItalicStart);
								var catActiveButtonItalicVar = "<i class='fa " + catActiveButtonTagStrip.substring((catActiveButtonItalicStart+8),(catActiveButtonItalicEnd)) + "'><\/i>";
							}
							else {
								var catActiveButtonItalicVar = "";
							}
							catActiveButtonRender += "<div id='panel1CatActiveButton" + catActiveButtonCount + "' class='panel_1_catactive_button panel_1_catactive_button_off'";
							if (hoverState==1) {
								catActiveButtonRender += " onmouseover='panel1ButtonHover(\"panel1CatActiveButton" + catActiveButtonCount + "\",\"panel_1_catactive_button\",1);' onfocus='panel1ButtonHover(\"panel1CatActiveButton" + catActiveButtonCount + "\",\"panel_1_catactive_button\",1);' onmouseout='panel1ButtonHover(\"panel1CatActiveButton" + catActiveButtonCount + "\",\"panel_1_catactive_button\",0);' onblur='panel1ButtonHover(\"panel1CatActiveButton" + catActiveButtonCount + "\",\"panel_1_catactive_button\",0);'";
							}
							catActiveButtonRender += " onclick='catActivate(\"blank\"," + trackActiveCatNum + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){catActivate(\"blank\"," + trackActiveCatNum + ");}'>" + catActiveButtonItalicVar + catActiveButtonValueVar + "<\/div>";
							productAreaHTML = catActiveButtonHTMLStart + catActiveButtonRender + catActiveButtonHTMLEnd;
						}
						else {
							catActiveSearchOn = 0;
						}
					}
					var baseCatAllSearchOn = 1;
					while (baseCatAllSearchOn == 1) {
						var baseCatAllTagStart = productAreaHTML.indexOf("<!--CATALL");
						if (baseCatAllTagStart != -1) {
							var baseCatAllTagEnd = productAreaHTML.indexOf(">",baseCatAllTagStart);
							var baseCatAllTagStrip = productAreaHTML.substring(baseCatAllTagStart,(baseCatAllTagEnd+1));
							var baseCatAllHTMLStart = productAreaHTML.substr(0,baseCatAllTagStart);
							var baseCatAllHTMLEnd = productAreaHTML.substr((baseCatAllTagEnd+1));
							var baseCatAllIdStart = baseCatAllTagStrip.indexOf(" CATID=");
							if (baseCatAllIdStart != -1) {
								var baseCatAllIdEnd = baseCatAllTagStrip.indexOf("]", baseCatAllIdStart);
								var baseCatAllIdValTest = baseCatAllTagStrip.substring((baseCatAllIdStart+8),(baseCatAllIdEnd));
								var baseCatAllIdVal = 0;
								for (g=0; g<catArray.length; g++) {
									if (catArray[g][0] == baseCatAllIdValTest) {
										baseCatAllIdVal = g;
									}
								}
							}
							else {
								var baseCatAllIdVal = 0;
							}
							var categoryCartStart = baseCatAllTagStrip.indexOf(" CART");
							if (categoryCartStart != -1) {
								var categoryCartVar = 2;
							}
							else {
								var categoryCartVar = 1;
							}
							var categoryNoImgStart = baseCatAllTagStrip.indexOf(" NOIMG");
							if (categoryNoImgStart != -1) {
								p1CatAllToImg = 0;
							}
							var baseCatAllValueStart = baseCatAllTagStrip.indexOf(" VALUE=");
							if (baseCatAllValueStart != -1) {
								var baseCatAllValueEnd = baseCatAllTagStrip.indexOf("]", baseCatAllValueStart);
								var baseCatAllValueVal = baseCatAllTagStrip.substring((baseCatAllValueStart+8),(baseCatAllValueEnd));
							}
							else {
								var baseCatAllValueVal = "ALL";
							}
							var replaceImgTest = baseCatAllTagStrip.indexOf(" REPLACE");
							if (replaceImgTest != -1) {
								var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[baseCatAllIdVal][0] + ");";
								var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[baseCatAllIdVal][0] + ");";
								var replaceImgMouseClass = " img_replace_active";
							}
							else {
								var replaceImgMouseOver = "";
								var replaceImgMouseOut = "";
								var replaceImgMouseClass = "";
							}
							if (catArray[baseCatAllIdVal][6] == 1) {
								var catAllSelVal = " panel_1_category_name_all_on";
							}
							else {
								var catAllSelVal = " panel_1_category_name_all_off";
							}
							var baseCatAllTagLinkTest = baseCatAllTagStrip.indexOf(" LINK");
							var baseCatAllTagLink = "";
							if (baseCatAllTagLinkTest != -1) {
								baseCatAllTagLink += " style='cursor:pointer;' onclick='panel1CatSelectProducts(" + catArray[baseCatAllIdVal][0] + ", \"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ", \"panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[baseCatAllIdVal][0] + ", \"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ", \"panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + "\",2);}'";
								if (hoverState==1) {
									baseCatAllTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[baseCatAllIdVal][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[baseCatAllIdVal][0] + ");" + replaceImgMouseOut + "'";
								}
							}
							var catAllMulti = baseCatAllTagStrip.indexOf(" MULTI");
							if (catAllMulti != -1 && catArray[baseCatAllIdVal][7] == 1) {
								var calAllWriteIt = 0;
							}
							else {
								var calAllWriteIt = 1;
							}
							if (calAllWriteIt == 0) {
								productAreaHTML = baseCatAllHTMLStart + baseCatAllHTMLEnd;
							}
							else {
								productAreaHTML = baseCatAllHTMLStart + "<div id='panel1CategoryName" + catArray[baseCatAllIdVal][0] + "All' class='panel_1_category_name_all_" + catArray[baseCatAllIdVal][0] + " panel_1_category_name_all" + replaceImgMouseClass + catAllSelVal + "'" + baseCatAllTagLink + ">" + baseCatAllValueVal + "<\/div>" + baseCatAllHTMLEnd;
							}
						}
						else {
							baseCatAllSearchOn = 0;
						}
					}
					var panel1CatSearchOn = 1;
					while (panel1CatSearchOn == 1) {
						var catTagStart = productAreaHTML.indexOf("<!--CATEGORY");
						if (catTagStart != -1) {
							var catTagEnd = productAreaHTML.indexOf(">",catTagStart);
							var catTagStrip = productAreaHTML.substring(catTagStart,(catTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,catTagStart);
							var baseHTMLEnd = productAreaHTML.substr((catTagEnd+1));
							var categoryID = 0;
							var categoryHTML = "";
							var categoryIDStart = catTagStrip.indexOf(" ID=");
							if (categoryIDStart != -1) {
								var categoryIDEnd = catTagStrip.indexOf("]", categoryIDStart);
								categoryID = catTagStrip.substring((categoryIDStart+5),(categoryIDEnd));
							}
							var categoryCartStart = catTagStrip.indexOf(" CART");
							if (categoryCartStart != -1) {
								var categoryCartVar = 2;
							}
							else {
								var categoryCartVar = 1;
							}
							categoryNoSelectStart = catTagStrip.indexOf(" NOSELECT");
							if (categoryNoSelectStart != -1) {
								categoryNoSelect = 1;
							}
							categoryModalStart = catTagStrip.indexOf(" MODAL");
							if (categoryModalStart != -1) {
								categoryModal = 1;
							}
							var catActivateLink = "";
							var catActivateClass = "";
							var categoryActivateStart = catTagStrip.indexOf(" ACTIVATE=");
							if (categoryActivateStart != -1) {
								var categoryActivateEnd = catTagStrip.indexOf("]", categoryActivateStart);
								catActivateClass = catTagStrip.substring((categoryActivateStart+11),(categoryActivateEnd));
								catActivateLinkStart = "catActivate(\"" + catActivateClass + "\",";
								catActivateLinkEnd = ");";
								window["catActiveTrack"+categoryID] = 1;
							}
							var categoryPostload = catTagStrip.indexOf(" POSTLOAD");
							if (categoryPostload != -1) {
								panel1PostLoad = 1;
							}
							if (categoryID != 0) {
								var catModalTest = p1TemplateSet.panel1CategoryDiv.indexOf("<!--CATMODAL");
								if(gLog==1){console.log("catModalTest 4",catModalTest);}
								var categoryHTMLTest = autotextIt(p1TemplateSet.panel1CategoryDiv,"panel1Category");
								var whatCatIndex = -1;
								for (x=0; x<catArray.length; x++) {
									if (catArray[x][0] == categoryID) {
										whatCatIndex = x;
										break;
									}
								}
								if (whatCatIndex != -1) {
									var catIterOn = 1;
									while (catIterOn == 1) {
										var catIterStart = categoryHTMLTest.indexOf("<!--CATITER");
										if (catIterStart != -1) {
											var catIterEnd = categoryHTMLTest.indexOf(">",catIterStart);
											var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catIterStart);
											var baseCatIterHTMLEnd = categoryHTMLTest.substr((catIterEnd+1));
											categoryHTMLTest = baseCatIterHTMLStart + catArray[whatCatIndex][0] + baseCatIterHTMLEnd;
										}
										else {
											catIterOn = 0;
										}
									}
									var catBiterOn = 1;
									while (catBiterOn == 1) {
										var catBiterStart = categoryHTMLTest.indexOf("|!--CATITER");
										if (catBiterStart != -1) {
											var catBiterEnd = categoryHTMLTest.indexOf("|",catBiterStart+1);
											var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catBiterStart);
											var baseCatIterHTMLEnd = categoryHTMLTest.substr((catBiterEnd+1));
											categoryHTMLTest = baseCatIterHTMLStart + catArray[whatCatIndex][0] + baseCatIterHTMLEnd;
										}
										else {
											catBiterOn = 0;
										}
									}
									var famNameTagStart = categoryHTMLTest.indexOf("<!--FAMNAME");
									if (famNameTagStart != -1) {
										var famNameTagEnd = categoryHTMLTest.indexOf(">",famNameTagStart);
										var famNameTagStrip = categoryHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
										var baseFamNameHTMLStart = categoryHTMLTest.substr(0,famNameTagStart);
										var baseFamNameHTMLEnd = categoryHTMLTest.substr((famNameTagEnd+1));
										var famNameValueVal = "FAMILY NAME ERROR";
										for (fn=0; fn<famArray.length; fn++) {
											if (famArray[fn][0] == catArray[whatCatIndex][2]) {
												famNameValueVal = famArray[fn][1];
												break;
											}
										}
										categoryHTMLTest = baseFamNameHTMLStart + "<div id='panel1CategoryFamilyName" + catArray[whatCatIndex][0] + "' class='panel_1_category_family_name_" + catArray[whatCatIndex][0] + " panel_1_category_family_name" + replaceImgMouseClass + "'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
									}
									var catBadgeTagStart = categoryHTMLTest.indexOf("<!--BADGE");
									if (catBadgeTagStart != -1) {
										var catBadgeTagEnd = categoryHTMLTest.indexOf(">",catBadgeTagStart);
										var catBadgeTagStrip = categoryHTMLTest.substring(catBadgeTagStart,(catBadgeTagEnd+1));
										var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBadgeTagStart);
										var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBadgeTagEnd+1));
										var catBadgeSingle = "";
										var catBadgeSingleStart = catBadgeTagStrip.indexOf(" SINGLE=");
										if (catBadgeSingleStart != -1) {
											var catBadgeSingleEnd = catBadgeTagStrip.indexOf("]", catBadgeSingleStart);
											catBadgeSingle = " " + catBadgeTagStrip.substring((catBadgeSingleStart+9),(catBadgeSingleEnd));
										}
										var catBadgeMultiple = "";
										var catBadgeMultipleStart = catBadgeTagStrip.indexOf(" MULTIPLE=");
										if (catBadgeMultipleStart != -1) {
											var catBadgeMultipleEnd = catBadgeTagStrip.indexOf("]", catBadgeMultipleStart);
											catBadgeMultiple = " " + catBadgeTagStrip.substring((catBadgeMultipleStart+11),(catBadgeMultipleEnd));
										}
										var cbc = 0;
										for (p=0; p<prodDisplayArray.length; p++) {
											if (prodDisplayArray[p][8] == catArray[whatCatIndex][0]) {
												cbc++;
											}
										}
										if (cbc == 1) {
											var catBadgeWrite = cbc + catBadgeSingle;
										}
										else {
											var catBadgeWrite = cbc + catBadgeMultiple;
										}
										categoryHTMLTest = baseCatBigImgHTMLStart + "<span id='panel1CatBadge" + catArray[whatCatIndex][0] + "' class='counter_badge panel_1_cat_badge'>" + catBadgeWrite + "<\/span>" + baseCatBigImgHTMLEnd;
									}
									var catDiscTagStart = categoryHTMLTest.indexOf("<!--HIGHPROD");
									if (catDiscTagStart != -1) {
										var catDiscTagEnd = categoryHTMLTest.indexOf(">",catDiscTagStart);
										var catDiscTagStrip = categoryHTMLTest.substring(catDiscTagStart,(catDiscTagEnd+1));
										var catDiscHTMLStart = categoryHTMLTest.substr(0,catDiscTagStart);
										var catDiscHTMLEnd = categoryHTMLTest.substr((catDiscTagEnd+1));
										var catDiscWrite = "";
										var discTestArr = [];
										for (cdc=0; cdc<prodDisplayArray.length; cdc++) {
											if (prodDisplayArray[cdc][8] == catArray[whatCatIndex][0] && prodDisplayArray[cdc][6] != 1) {
												discTestArr.push(prodDisplayArray[cdc][6]);
											}
										}
										if (discTestArr.length != 0) {
											var discFoundArr = discTestArr.filter( onlyUnique );
											if (discFoundArr.length == 1) {
												catDiscWrite = "<div class='global_" + hpArr[discFoundArr[0]][1] + " panel1Category_" + hpArr[discFoundArr[0]][1] + "'>" + hpArr[discFoundArr[0]][0] + "<\/div>";
											}
										}
										categoryHTMLTest = catDiscHTMLStart + catDiscWrite + catDiscHTMLEnd;
									}
									var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
									if (catNameTagStart != -1) {
										var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
										var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
										var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
										var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
										var catNameValueStart = catNameTagStrip.indexOf(" VALUE=");
										if (catNameValueStart != -1) {
											var catNameValueEnd = catNameTagStrip.indexOf("]", catNameValueStart);
											var catNameValueVal = catNameTagStrip.substring((catNameValueStart+8),(catNameValueEnd));
										}
										else {
											var catNameValueVal = catArray[whatCatIndex][1];
										}
										var replaceImgTest = catNameTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											if (categoryModal == 1) {
												var replaceImgMouseOver = "panel1CatModalImgReplace(1," + catArray[whatCatIndex][0] + ");";
												var replaceImgMouseOut = "panel1CatModalImgReplace(2," + catArray[whatCatIndex][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
											else {
												var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[whatCatIndex][0] + ");";
												var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[whatCatIndex][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										if (catArray[whatCatIndex][6] == 1 || (catModalTest != -1 && catArray[whatCatIndex][9] == 1)) {
											var catNameSelVal = " panel_1_category_name_on";
										}
										else {
											var catNameSelVal = " panel_1_category_name_off";
										}
										var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
										var catNameTagLink = "";
										if (catNameTagLinkTest != -1) {
											if (categoryNoSelect == 0) {
												if (categoryModal == 1) {
													var catNameOnClickVar = " onclick='panel1CatModalWrite(" + x + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + x + ");}'";
												}
												else {
													var catNameOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);}'";
												}
											}
											else {
												var catNameOnClickVar = " onclick='" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;}'";
											}
											catNameTagLink = " style='cursor:pointer;'" + catNameOnClickVar;
											if (hoverState==1) {
												catNameTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOut + "'";
											}
										}
										categoryHTMLTest = baseCatNameHTMLStart + "<a name='panel1CategoryAnchor" + catArray[whatCatIndex][0] + "' id='panel1CategoryAnchor" + catArray[whatCatIndex][0] + "'><\/a><div id='panel1CategoryName" + catArray[whatCatIndex][0] + "' class='panel_1_category_name_" + catArray[whatCatIndex][0] + " panel_1_category_name" + replaceImgMouseClass + catNameSelVal + "'" + catNameTagLink + ">" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
									}
									var catAllTagStart = categoryHTMLTest.indexOf("<!--CATALL");
									if (catAllTagStart != -1) {
										var catAllTagEnd = categoryHTMLTest.indexOf(">",catAllTagStart);
										var catAllTagStrip = categoryHTMLTest.substring(catAllTagStart,(catAllTagEnd+1));
										var baseCatAllHTMLStart = categoryHTMLTest.substr(0,catAllTagStart);
										var baseCatAllHTMLEnd = categoryHTMLTest.substr((catAllTagEnd+1));
										var catAllValueStart = catAllTagStrip.indexOf(" VALUE=");
										if (catAllValueStart != -1) {
											var catAllValueEnd = catAllTagStrip.indexOf("]", catAllValueStart);
											var catAllValueVal = catAllTagStrip.substring((catAllValueStart+8),(catAllValueEnd));
										}
										else {
											var catAllValueVal = "ALL";
										}
										var categoryNoImgStart = catAllTagStrip.indexOf(" NOIMG");
										if (categoryNoImgStart != -1) {
											p1CatAllToImg = 0;
										}
										var replaceImgTest = catAllTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[whatCatIndex][0] + ");";
											var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[whatCatIndex][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										if (catArray[whatCatIndex][6] == 1) {
											var catAllSelVal = " panel_1_category_name_all_on";
										}
										else {
											var catAllSelVal = " panel_1_category_name_all_off";
										}
										var catAllTagLinkTest = catAllTagStrip.indexOf(" LINK");
										var catAllTagLink = "";
										if (catAllTagLinkTest != -1) {
											catAllTagLink += " style='cursor:pointer;' onclick='panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);}'";
											if (hoverState==1) {
												catAllTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceImgMouseOut + "'";
											}
										}
										var catAllMulti = catAllTagStrip.indexOf(" MULTI");
										if (catAllMulti != -1 && catArray[whatCatIndex][7] == 1) {
											var calAllWriteIt = 0;
										}
										else {
											var calAllWriteIt = 1;
										}
										if (calAllWriteIt == 0) {
											categoryHTMLTest = baseCatAllHTMLStart + baseCatAllHTMLEnd;
										}
										else {
											categoryHTMLTest = baseCatAllHTMLStart + "<div id='panel1CategoryName" + catArray[whatCatIndex][0] + "All' class='panel_1_category_name_all_" + catArray[whatCatIndex][0] + " panel_1_category_name_all" + replaceImgMouseClass + catAllSelVal + "'" + catAllTagLink + ">" + catAllValueVal + "<\/div>" + baseCatAllHTMLEnd;
										}
									}
									var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
									if (catBigImgTagStart != -1) {
										var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
										var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
										var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
										var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
										var catBigImgTagRender = "";
										var replaceBigImgPreset = catArray[whatCatIndex][3];
										var replaceBigImgHidden = " style='display:none;'";
										var replaceBigImgBackClass = "off";
										var replaceBigImgTest = catBigImgTagStrip.indexOf(" REPLACE");
										if (replaceBigImgTest != -1) {
											if (categoryModal == 1) {
												var replaceBigImgMouseOver = "panel1CatModalImgReplace(1," + catArray[whatCatIndex][0] + ");";
												var replaceBigImgMouseOut = "panel1CatModalImgReplace(2," + catArray[whatCatIndex][0] + ");";
												var replaceBigImgMouseClass = " img_replace_active";
											}
											else {
												var replaceBigImgMouseOver = "panel1CatImgReplace(1," + catArray[whatCatIndex][0] + ");";
												var replaceBigImgMouseOut = "panel1CatImgReplace(2," + catArray[whatCatIndex][0] + ");";
												var replaceBigImgMouseClass = " img_replace_active";
											}
										}
										else {
											var replaceBigImgMouseOver = "";
											var replaceBigImgMouseOut = "";
											var replaceBigImgMouseClass = "";
										}
										if (categoryNoSelect == 0) {
											if (categoryModal == 1) {
												var catBigImgOnClickVar = " onclick='panel1CatModalWrite(" + x + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + x + ");}'";
											}
											else {
												var catBigImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);return false;}'";
											}
										}
										else {
											var catBigImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;}'";
										}
										var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[whatCatIndex][3] + "\");'";
										if (panel1PostLoad == 1) {
											postImgBig = "";
										};
										if (catArray[whatCatIndex][6] != 0 || (catModalTest != -1 && catArray[whatCatIndex][9] == 1)) {
											replaceBigImgHidden = "";
											replaceBigImgBackClass = "on";
										}
										var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
										var catBigImgTagLinkStart = "";
										var catBigImgTagLinkEnd = "";
										if (catBigImgTagLinkTest != -1) {
											catBigImgTagLinkStart = "<a href=''" + catBigImgOnClickVar;
											if (hoverState==1) {
												catBigImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOut + "'";
											}
											catBigImgTagLinkStart += ">";
											catBigImgTagLinkEnd = "<\/a>";
										}
										var catBigImgTagDivTest = catBigImgTagStrip.indexOf(" DIV");
										if (catBigImgTagDivTest != -1) {
											if (panel1PostLoad == 1) {plPostCat = 1;}
											p1CHWon = 1;
											catBigImgTagRender = "<div title=\"" + catArray[whatCatIndex][1] + "\" id='panel1CategoryBigImgDivShell" + catArray[whatCatIndex][0] + "' class='panel_1_category_big_img_div_shell panel_1_category_big_img_div_shell_" + catArray[whatCatIndex][0] + "'" + catBigImgOnClickVar;
											if (hoverState==1) {
												catBigImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOver + "'";
											}
											catBigImgTagRender += "><div id='panel1CategoryBigImgDivBack" + catArray[whatCatIndex][0] + "' class='panel_1_category_big_img_div_back panel_1_category_big_img_div_back_" + replaceBigImgBackClass + " panel_1_category_big_img_div_back_" + catArray[whatCatIndex][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategoryBigImgDivOver" + catArray[whatCatIndex][0] + "' class='panel_1_category_big_img_div_over panel_1_category_big_img_div_over_" + catArray[whatCatIndex][0] +"'" + replaceBigImgHidden;
											if (hoverState==1) {
												catBigImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceBigImgMouseOut + "'";
											}
											catBigImgTagRender += ">&nbsp;<\/div><\/div>";
											categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagRender + baseCatBigImgHTMLEnd;
										}
										else {
											categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + catArray[whatCatIndex][1] + "\" alt=\"" + catArray[whatCatIndex][1] + "\" id='panel1CategoryBigImg" + catArray[whatCatIndex][0] + "' class='panel_1_category_big_img panel_1_category_big_img_" +catArray[whatCatIndex][0] + replaceBigImgMouseClass + "' src='" + clientImgBase + catArray[whatCatIndex][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
										}
									}
									var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
									if (catSmImgTagStart != -1) {
										var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
										var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
										var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
										var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
										var catSmImgTagRender = "";
										var replaceSmImgPreset = catArray[whatCatIndex][4];
										var replaceSmImgHidden = " style='display:none;'";
										var replaceSmImgBackClass = "off";
										var replaceSmImgTest = catSmImgTagStrip.indexOf(" REPLACE");
										if (replaceSmImgTest != -1) {
											if (categoryModal == 1) {
												var replaceSmImgMouseOver = "panel1CatModalImgReplace(1," + catArray[whatCatIndex][0] + ");";
												var replaceSmImgMouseOut = "panel1CatModalImgReplace(2," + catArray[whatCatIndex][0] + ");";
												var replaceSmImgMouseClass = " img_replace_active";
											}
											else {
												var replaceSmImgMouseOver = "panel1CatImgReplace(1," + catArray[whatCatIndex][0] + ");";
												var replaceSmImgMouseOut = "panel1CatImgReplace(2," + catArray[whatCatIndex][0] + ");";
												var replaceSmImgMouseClass = " img_replace_active";
											}
										}
										else {
											var replaceSmImgMouseOver = "";
											var replaceSmImgMouseOut = "";
											var replaceSmImgMouseClass = "";
										}
										if (categoryNoSelect == 0) {
											if (categoryModal == 1) {
												var catSmImgOnClickVar = " onclick='panel1CatModalWrite(" + x + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + x + ");}'";
											}
											else {
												var catSmImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[whatCatIndex][0] + ", \"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ", \"panel1CategoryNameVar" + catArray[whatCatIndex][0] + "\",2);return false;}'";
											}
										}
										else {
											var catSmImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[whatCatIndex][0] + catActivateLinkEnd + "return false;}'";
										}
										var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[whatCatIndex][4] + "\");'";
										if (panel1PostLoad == 1) {
											postImgBig = "";
										};
										if (catArray[whatCatIndex][6] != 0 || (catModalTest != -1 && catArray[whatCatIndex][9] == 1)) {
											replaceSmImgHidden = "";
											replaceSmImgBackClass = "on";
										}
										var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
										var catSmImgTagLinkStart = "";
										var catSmImgTagLinkEnd = "";
										if (catSmImgTagLinkTest != -1) {
											catSmImgTagLinkStart = "<a href=''" + catSmImgOnClickVar;
											if (hoverState==1) {
												catSmImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOut + "'";
											}
											catSmImgTagLinkStart += ">";
											catSmImgTagLinkEnd = "<\/a>";
										}
										var catSmImgTagDivTest = catSmImgTagStrip.indexOf(" DIV");
										if (catSmImgTagDivTest != -1) {
											if (panel1PostLoad == 1) {plPostCat = 1;}
											p1CHWon = 1;
											catSmImgTagRender = "<div title=\"" + catArray[whatCatIndex][1] + "\" id='panel1CategorySmImgDivShell" + catArray[whatCatIndex][0] + "' class='panel_1_category_sm_img_div_shell panel_1_category_sm_img_div_shell_" + catArray[whatCatIndex][0] + "'" + catSmImgOnClickVar;
											if (hoverState==1) {
												catSmImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOver + "'";
											}
											catSmImgTagRender += "><div id='panel1CategorySmImgDivBack" + catArray[whatCatIndex][0] + "' class='panel_1_category_sm_img_div_back panel_1_category_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_category_sm_img_div_back_" + catArray[whatCatIndex][0] + replaceSmImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategorySmImgDivOver" + catArray[whatCatIndex][0] + "' class='panel_1_category_sm_img_div_over panel_1_category_sm_img_div_over_" + catArray[whatCatIndex][0] +"'" + replaceSmImgHidden;
											if (hoverState==1) {
												catSmImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[whatCatIndex][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[whatCatIndex][0] + ");" + replaceSmImgMouseOut + "'";
											}
											catSmImgTagRender += ">&nbsp;<\/div><\/div>";
											categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagRender + baseCatSmImgHTMLEnd;
										}
										else {
											categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + catArray[whatCatIndex][1] + "\" alt=\"" + catArray[whatCatIndex][1] + "\" id='panel1CategorySmImg" + catArray[whatCatIndex][0] + "' class='panel_1_category_sm_img panel_1_category_sm_img_" +catArray[whatCatIndex][0] + replaceSmImgMouseClass + "' src='" + clientImgBase + catArray[whatCatIndex][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
										}
									}
									var catModalTagStart = categoryHTMLTest.indexOf("<!--CATMODAL");
									if (catModalTagStart != -1) {
										if(gLog==1){console.log("CATMODAL 4");}
										var catModalTagEnd = categoryHTMLTest.indexOf(">",catModalTagStart);
										var catModalTagStrip = categoryHTMLTest.substring(catModalTagStart,(catModalTagEnd+1));
										var catModalHTMLStart = categoryHTMLTest.substr(0,catModalTagStart);
										var catModalHTMLEnd = categoryHTMLTest.substr((catModalTagEnd+1));
										var catProdWrite = "<div id='panel1CategoryModalShell" + catArray[whatCatIndex][0] + "' class='panel_1_category_modal_shell panel_1_category_modal_shell_" + catArray[whatCatIndex][0] + " panel_close_me' style='display:none;'><\/div><div style='display:none;'>";
										for (y=0; y<prodDisplayArray.length; y++) {
											if (prodDisplayArray[y][8] == catArray[whatCatIndex][0]) {
												catProdWrite += "<div id='panel1ProductName" + prodDisplayArray[y][0] + "' style='display:none;'>&nbsp;<\/div>";
											}
										}
										catProdWrite += "<\/div>";
										categoryHTMLTest = catModalHTMLStart + catProdWrite + catModalHTMLEnd;
									}
									var catProductsTagStart = categoryHTMLTest.indexOf("<!--CATPRODUCTS");
									if (catProductsTagStart != -1) {
										if(gLog==1){console.log("CATPRODUCTS 4");}
										var catProductsTagEnd = categoryHTMLTest.indexOf(">",catProductsTagStart);
										var catProductsTagStrip = categoryHTMLTest.substring(catProductsTagStart,(catProductsTagEnd+1));
										var baseCatProductsHTMLStart = categoryHTMLTest.substr(0,catProductsTagStart);
										var baseCatProductsHTMLEnd = categoryHTMLTest.substr((catProductsTagEnd+1));
										var catProdWrite = "<div id='panel1CategoryProductsShell" + catArray[whatCatIndex][0] + "' class='panel_1_category_products_shell panel_1_category_products_shell_" + catArray[whatCatIndex][0] + "'>";
										for (y=0; y<prodDisplayArray.length; y++) {
											if (prodDisplayArray[y][8] == whatCatProdIndex) {
												if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
													var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
												}
												else {
													var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
												}
												var prodCloseThings = "";
												var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
												if (prodCloseTagStart != -1) {
													var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
													var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
													var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
													prodCloseThings = "genericCloseMe();";
													productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
												}
												var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
												if (prodIterTagStart != -1) {
													var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
													var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
													var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
													var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
													productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
												}
												var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
												if (famNameTagStart != -1) {
													var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
													var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
													var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
													var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
													var famNameValueVal = "FAMILY NAME ERROR";
													var famProdCatNum = -1;
													for (cn=0; cn<catArray.length; cn++) {
														if (catArray[cn][0] == prodDisplayArray[y][8]) {
															famProdCatNum = cn;
															break;
														}
													}
													if (famProdCatNum != -1) {
														for (fn=0; fn<famArray.length; fn++) {
															if (famArray[fn][0] == catArray[famProdCatNum][2]) {
																famNameValueVal = famArray[fn][1];
																break;
															}
														}
													}
													productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
												}
												var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
												if (catNameTagStart != -1) {
													var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
													var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
													var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
													var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
													var catNameValueVal = "CATEGORY NAME ERROR";
													for (cn=0; cn<catArray.length; cn++) {
														if (catArray[cn][0] == prodDisplayArray[y][8]) {
															catNameValueVal = catArray[cn][1];
															break;
														}
													}
													productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
												}
												var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
												if (prodDiscTagStart != -1) {
													var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
													var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
													var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
													var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
													var prodDiscWrite = "";
													var discVal = prodDisplayArray[y][6];
													if (discVal != 1) {
														prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
													}
													productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
												}
												var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
												if (prodNameTagStart != -1) {
													var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
													var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
													var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
													var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
													var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
													if (replaceImgTest != -1) {
														var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														var replaceImgMouseClass = " img_replace_active";
													}
													else {
														var replaceImgMouseOver = "";
														var replaceImgMouseOut = "";
														var replaceImgMouseClass = "";
													}
													var descTest = prodNameTagStrip.indexOf(" DESC");
													if (descTest != -1) {
														var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
													}
													else {
														var descVal = "";
													}
													var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
													var prodPopupMO = "";
													var prodPopupDIV = "";
													if (prodPopupTestStart != -1) {
														var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
														var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
														prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
														prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
													}
													var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
													var prodNameTagLink = "";
													if (prodNameTagLinkTest != -1) {
														prodNameTagLink += " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
														if (hoverState==1) {
															prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
														}
													}
													var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
													if (prodNameItalicStart != -1) {
														var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
														var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
													}
													else {
														var prodNameItalicVar = "";
													}
													var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
													if (prodNameSizeStart != -1) {
														var prodNameDispVal = prodDisplayArray[y][21];
													}
													else {
														var prodNameDispVal = prodDisplayArray[y][2];
													}
													if (FPC==1) {
														var isProductChecked = 1;
														window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
														var baseProductStyle = " panel_1_product_name_on";
														}
													else {
														if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
															var isProductChecked = 1;
															window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
															var baseProductStyle = " panel_1_product_name_on";
														}
														else {
															var isProductChecked = 0;
															var baseProductStyle = " panel_1_product_name_off";
														}
													}
													productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + ">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
												}
												var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
												if (prodDescTagStart != -1) {
													var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
													var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
													var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
													var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
													productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
												}
												var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
												if (prodCatTagStart != -1) {
													var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
													var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
													var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
													var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
													productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
												}
												var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
												if (prodBigImgTagStart != -1) {
													var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
													var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
													var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
													var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
													var replaceBigImgRender = "";
													var replaceBigImgMouseOver = "";
													var replaceBigImgMouseOut = "";
													var replaceBigImgMouseClass = "";
													var replaceBigImgPreset = prodDisplayArray[y][4];
													var replaceBigImgHidden = " style='display:none;'";
													var replaceBigImgBackClass = "off";
													var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
													if (replaceBigImgTest != -1) {
														replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														replaceBigImgMouseClass = " img_replace_active";
														var replaceBigImgLength = prodDisplayArray[y][4].length;
														if (FPC==1) {
															var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
															var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
															replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
															replaceBigImgHidden = "";
															replaceBigImgBackClass = "on";
														}
														else {
															if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
																var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
																replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
																replaceBigImgHidden = "";
																replaceBigImgBackClass = "on";
															}
														}
													}
													var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
													var prodBigImgTagLinkStart = "";
													var prodBigImgTagLinkEnd = "";
													if (prodBigImgTagLinkTest != -1) {
														prodBigImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
														if (hoverState==1) {
															prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
														}
														prodBigImgTagLinkStart += ">";
														prodBigImgTagLinkEnd = "<\/a>";
													}
													var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
													if (prodBigImgTagDivTest != -1) {
														p1PHWon = 1;
														replaceBigImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
														if (hoverState==1) {
															replaceBigImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
														}
														replaceBigImgRender += "><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
														if (hoverState==1) {
															replaceBigImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
														}
														replaceBigImgRender += ">&nbsp;<\/div><\/div>";
														productHTMLTest = baseProdBigImgHTMLStart + replaceBigImgRender + baseProdBigImgHTMLEnd;
													}
													else {
														productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
													}
												}
												var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
												if (prodSmImgTagStart != -1) {
													var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
													var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
													var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
													var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
													var replaceSmImgRender = "";
													var replaceSmImgMouseOver = "";
													var replaceSmImgMouseOut = "";
													var replaceSmImgMouseClass = "";
													var replaceSmImgPreset = prodDisplayArray[y][5];
													var replaceSmImgHidden = " style='display:none;'";
													var replaceSmImgBackClass = "off";
													var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
													if (replaceSmImgTest != -1) {
														replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														replaceSmImgMouseClass = " img_replace_active";
														var replaceSmImgLength = prodDisplayArray[y][5].length;
														if (FPC==1) {
															var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
															var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
															replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
															replaceSmImgHidden = "";
															replaceSmImgBackClass = "on";
														}
														else {
															if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
																var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
																replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
																replaceSmImgHidden = "";
																replaceSmImgBackClass = "on";
															}
														}
													}
													var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
													var prodSmImgTagLinkStart = "";
													var prodSmImgTagLinkEnd = "";
													if (prodSmImgTagLinkTest != -1) {
														prodSmImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
														if (hoverState==1) {
															prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
														}
														prodSmImgTagLinkStart += ">";
														prodSmImgTagLinkEnd = "<\/a>";
													}
													var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
													if (prodSmImgTagDivTest != -1) {
														p1PHWon = 1;
														replaceSmImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
														if (hoverState==1) {
															replaceSmImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
														}
														replaceSmImgRender += "><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
														if (hoverState==1) {
															replaceSmImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
														}
														replaceSmImgRender += ">&nbsp;<\/div><\/div>";
														productHTMLTest = baseProdSmImgHTMLStart + replaceSmImgRender + baseProdSmImgHTMLEnd;
													}
													else {
														productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
													}
												}
												catProdWrite += productHTMLTest;
											}
										}
										catProdWrite += "<\/div>";
										categoryHTMLTest = baseCatProductsHTMLStart + catProdWrite + baseCatProductsHTMLEnd;
									}
									categoryHTML += categoryHTMLTest;
								}
							}
							else {
								var catModalTest = p1TemplateSet.panel1CategoryDiv.indexOf("<!--CATMODAL");
								if(gLog==1){console.log("catModalTest 5",catModalTest);}
								for (x=0; x<catArray.length;x++) {
									var categoryHTMLTest = autotextIt(p1TemplateSet.panel1CategoryDiv,"panel1Category");
									var catIterOn = 1;
									while (catIterOn == 1) {
										var catIterStart = categoryHTMLTest.indexOf("<!--CATITER");
										if (catIterStart != -1) {
											var catIterEnd = categoryHTMLTest.indexOf(">",catIterStart);
											var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catIterStart);
											var baseCatIterHTMLEnd = categoryHTMLTest.substr((catIterEnd+1));
											categoryHTMLTest = baseCatIterHTMLStart + catArray[x][0] + baseCatIterHTMLEnd;
										}
										else {
											catIterOn = 0;
										}
									}
									var catBiterOn = 1;
									while (catBiterOn == 1) {
										var catBiterStart = categoryHTMLTest.indexOf("|!--CATITER");
										if (catBiterStart != -1) {
											var catBiterEnd = categoryHTMLTest.indexOf("|",catBiterStart+1);
											var baseCatIterHTMLStart = categoryHTMLTest.substr(0,catBiterStart);
											var baseCatIterHTMLEnd = categoryHTMLTest.substr((catBiterEnd+1));
											categoryHTMLTest = baseCatIterHTMLStart + catArray[x][0] + baseCatIterHTMLEnd;
										}
										else {
											catBiterOn = 0;
										}
									}
									var famNameTagStart = categoryHTMLTest.indexOf("<!--FAMNAME");
									if (famNameTagStart != -1) {
										var famNameTagEnd = categoryHTMLTest.indexOf(">",famNameTagStart);
										var famNameTagStrip = categoryHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
										var baseFamNameHTMLStart = categoryHTMLTest.substr(0,famNameTagStart);
										var baseFamNameHTMLEnd = categoryHTMLTest.substr((famNameTagEnd+1));
										var famNameValueVal = "FAMILY NAME ERROR";
										for (fn=0; fn<famArray.length; fn++) {
											if (famArray[fn][0] == catArray[x][2]) {
												famNameValueVal = famArray[fn][1];
												break;
											}
										}
										categoryHTMLTest = baseFamNameHTMLStart + "<div id='panel1CategoryFamilyName" + catArray[x][0] + "' class='panel_1_category_family_name_" + catArray[whatCatIndex][0] + " panel_1_category_family_name" + replaceImgMouseClass + "'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
									}
									var catBadgeTagStart = categoryHTMLTest.indexOf("<!--BADGE");
									if (catBadgeTagStart != -1) {
										var catBadgeTagEnd = categoryHTMLTest.indexOf(">",catBadgeTagStart);
										var catBadgeTagStrip = categoryHTMLTest.substring(catBadgeTagStart,(catBadgeTagEnd+1));
										var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBadgeTagStart);
										var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBadgeTagEnd+1));
										var catBadgeSingle = "";
										var catBadgeSingleStart = catBadgeTagStrip.indexOf(" SINGLE=");
										if (catBadgeSingleStart != -1) {
											var catBadgeSingleEnd = catBadgeTagStrip.indexOf("]", catBadgeSingleStart);
											catBadgeSingle = " " + catBadgeTagStrip.substring((catBadgeSingleStart+9),(catBadgeSingleEnd));
										}
										var catBadgeMultiple = "";
										var catBadgeMultipleStart = catBadgeTagStrip.indexOf(" MULTIPLE=");
										if (catBadgeMultipleStart != -1) {
											var catBadgeMultipleEnd = catBadgeTagStrip.indexOf("]", catBadgeMultipleStart);
											catBadgeMultiple = " " + catBadgeTagStrip.substring((catBadgeMultipleStart+11),(catBadgeMultipleEnd));
										}
										var cbc = 0;
										for (p=0; p<prodDisplayArray.length; p++) {
											if (prodDisplayArray[p][8] == catArray[x][0]) {
												cbc++;
											}
										}
										if (cbc == 1) {
											var catBadgeWrite = cbc + catBadgeSingle;
										}
										else {
											var catBadgeWrite = cbc + catBadgeMultiple;
										}
										categoryHTMLTest = baseCatBigImgHTMLStart + "<span id='panel1CatBadge" + catArray[x][0] + "' class='counter_badge panel_1_cat_badge'>" + catBadgeWrite + "<\/span>" + baseCatBigImgHTMLEnd;
									}
									var catDiscTagStart = categoryHTMLTest.indexOf("<!--HIGHPROD");
									if (catDiscTagStart != -1) {
										var catDiscTagEnd = categoryHTMLTest.indexOf(">",catDiscTagStart);
										var catDiscTagStrip = categoryHTMLTest.substring(catDiscTagStart,(catDiscTagEnd+1));
										var catDiscHTMLStart = categoryHTMLTest.substr(0,catDiscTagStart);
										var catDiscHTMLEnd = categoryHTMLTest.substr((catDiscTagEnd+1));
										var catDiscWrite = "";
										var discTestArr = [];
										for (cdc=0; cdc<prodDisplayArray.length; cdc++) {
											if (prodDisplayArray[cdc][8] == catArray[x][0] && prodDisplayArray[cdc][6] != 1) {
												discTestArr.push(prodDisplayArray[cdc][6]);
											}
										}
										if (discTestArr.length != 0) {
											var discFoundArr = discTestArr.filter( onlyUnique );
											if (discFoundArr.length == 1) {
												catDiscWrite = "<div class='global_" + hpArr[discFoundArr[0]][1] + " panel1Category_" + hpArr[discFoundArr[0]][1] + "'>" + hpArr[discFoundArr[0]][0] + "<\/div>";
											}
										}
										categoryHTMLTest = catDiscHTMLStart + catDiscWrite + catDiscHTMLEnd;
									}
									var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
									if (catNameTagStart != -1) {
										var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
										var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
										var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
										var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
										var catNameValueStart = catNameTagStrip.indexOf(" VALUE=");
										if (catNameValueStart != -1) {
											var catNameValueEnd = catNameTagStrip.indexOf("]", catNameValueStart);
											var catNameValueVal = catNameTagStrip.substring((catNameValueStart+8),(catNameValueEnd));
										}
										else {
											var catNameValueVal = catArray[x][1];
										}
										var replaceImgTest = catNameTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											if (categoryModal == 1) {
												var replaceImgMouseOver = "panel1CatModalImgReplace(1," + catArray[x][0] + ");";
												var replaceImgMouseOut = "panel1CatModalImgReplace(2," + catArray[x][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
											else {
												var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[x][0] + ");";
												var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[x][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										if (catArray[x][6] == 1 || (catModalTest != -1 && catArray[x][9] == 1)) {
											var catNameSelVal = " panel_1_category_name_on";
										}
										else {
											var catNameSelVal = " panel_1_category_name_off";
										}
										var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
										var catNameTagLink = "";
										if (catNameTagLinkTest != -1) {
											if (categoryNoSelect == 0) {
												if (categoryModal == 1) {
													var catNameOnClickVar = " onclick='panel1CatModalWrite(" + x + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + x + ");}'";
												}
												else {
													var catNameOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);}'";
												}
											}
											else {
												var catNameOnClickVar = " onclick='" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;}'";
											}
											catNameTagLink = " style='cursor:pointer;'" + catNameOnClickVar;
											if (hoverState==1) {
												catNameTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOut + "'";
											}
										}
										categoryHTMLTest = baseCatNameHTMLStart + "<a name='panel1CategoryAnchor" + catArray[x][0] + "' id='panel1CategoryAnchor" + catArray[x][0] + "'><\/a><div id='panel1CategoryName" + catArray[x][0] + "' class='panel_1_category_name_" + catArray[x][0] + " panel_1_category_name" + replaceImgMouseClass + catNameSelVal + "'" + catNameTagLink + ">" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
									}
									var catAllTagStart = categoryHTMLTest.indexOf("<!--CATALL");
									if (catAllTagStart != -1) {
										var catAllTagEnd = categoryHTMLTest.indexOf(">",catAllTagStart);
										var catAllTagStrip = categoryHTMLTest.substring(catAllTagStart,(catAllTagEnd+1));
										var baseCatAllHTMLStart = categoryHTMLTest.substr(0,catAllTagStart);
										var baseCatAllHTMLEnd = categoryHTMLTest.substr((catAllTagEnd+1));
										var catAllValueStart = catAllTagStrip.indexOf(" VALUE=");
										if (catAllValueStart != -1) {
											var catAllValueEnd = catAllTagStrip.indexOf("]", catAllValueStart);
											var catAllValueVal = catAllTagStrip.substring((catAllValueStart+8),(catAllValueEnd));
										}
										else {
											var catAllValueVal = "ALL";
										}
										var categoryNoImgStart = catAllTagStrip.indexOf(" NOIMG");
										if (categoryNoImgStart != -1) {
											p1CatAllToImg = 0;
										}
										var replaceImgTest = catAllTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1CatImgReplace(1," + catArray[x][0] + ");";
											var replaceImgMouseOut = "panel1CatImgReplace(2," + catArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										if (catArray[x][6] == 1) {
											var catAllSelVal = " panel_1_category_name_all_on";
										}
										else {
											var catAllSelVal = " panel_1_category_name_all_off";
										}
										var catAllTagLinkTest = catAllTagStrip.indexOf(" LINK");
										var catAllTagLink = "";
										if (catAllTagLinkTest != -1) {
											catAllTagLink += " style='cursor:pointer;' onclick='panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);}'";
											if (hoverState==1) {
												catAllTagLink += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceImgMouseOut + "'";
											}
										}
										var catAllMulti = catAllTagStrip.indexOf(" MULTI");
										if (catAllMulti != -1 && catArray[x][7] == 1) {
											var calAllWriteIt = 0;
										}
										else {
											var calAllWriteIt = 1;
										}
										if (calAllWriteIt == 0) {
											categoryHTMLTest = baseCatAllHTMLStart + baseCatAllHTMLEnd;
										}
										else {
											categoryHTMLTest = baseCatAllHTMLStart + "<div id='panel1CategoryName" + catArray[x][0] + "All' class='panel_1_category_name_all_" + catArray[x][0] + " panel_1_category_name_all" + replaceImgMouseClass + catAllSelVal + "'" + catAllTagLink + ">" + catAllValueVal + "<\/div>" + baseCatAllHTMLEnd;
										}
									}
									var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
									if (catBigImgTagStart != -1) {
										var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
										var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
										var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
										var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
										var replaceBigImgRender = "";
										var replaceBigImgMouseOver = "";
										var replaceBigImgMouseOut = "";
										var replaceBigImgMouseClass = "";
										var replaceBigImgPreset = catArray[x][3];
										var replaceBigImgHidden = " style='display:none;'";
										var replaceBigImgBackClass = "off";
										var replaceBigImgTest = catBigImgTagStrip.indexOf(" REPLACE");
										if (replaceBigImgTest != -1) {
											replaceBigImgMouseOver = "panel1CatImgReplace(1," + catArray[x][0] + ");";
											replaceBigImgMouseOut = "panel1CatImgReplace(2," + catArray[x][0] + ");";
											replaceBigImgMouseClass = " img_replace_active";
										}
										if (categoryNoSelect == 0) {
											var catBigImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);return false;}'";
										}
										else {
											var catBigImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;}'";
										}
										var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[x][3] + "\");'";
										if (panel1PostLoad == 1) {
											postImgBig = "";
										};
										if (catArray[x][6] != 0 || (catModalTest != -1 && catArray[x][9] == 1)) {
											replaceBigImgHidden = "";
											replaceBigImgBackClass = "on";
										}
										var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
										var catBigImgTagLinkStart = "";
										var catBigImgTagLinkEnd = "";
										if (catBigImgTagLinkTest != -1) {
											catBigImgTagLinkStart += "<a href=''" + catBigImgOnClickVar;
											if (hoverState==1) {
												catBigImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOut + "'";
											}
											catBigImgTagLinkStart += ">";
											catBigImgTagLinkEnd = "<\/a>";
										}
										var catBigImgTagDivTest = catBigImgTagStrip.indexOf(" DIV");
										if (catBigImgTagDivTest != -1) {
											if (panel1PostLoad == 1) {plPostCat = 1;}
											p1CHWon = 1;
											replaceBigImgRender += "<div title=\"" + catArray[x][1] + "\" id='panel1CategoryBigImgDivShell" + catArray[x][0] + "' class='panel_1_category_big_img_div_shell panel_1_category_big_img_div_shell_" + catArray[x][0] + "'" + catBigImgOnClickVar;
											if (hoverState==1) {
												replaceBigImgRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOver + "'";
											}
											replaceBigImgRender += "><div id='panel1CategoryBigImgDivBack" + catArray[x][0] + "' class='panel_1_category_big_img_div_back panel_1_category_big_img_div_back_" + replaceBigImgBackClass + " panel_1_category_big_img_div_back_" + catArray[x][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategoryBigImgDivOver" + catArray[x][0] + "' class='panel_1_category_big_img_div_over panel_1_category_big_img_div_over_" + catArray[x][0] +"'" + replaceBigImgHidden;
											if (hoverState==1) {
												replaceBigImgRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceBigImgMouseOut + "'";
											}
											replaceBigImgRender += ">&nbsp;<\/div><\/div>";
											categoryHTMLTest = baseCatBigImgHTMLStart + replaceBigImgRender + baseCatBigImgHTMLEnd;
										}
										else {
											categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + catArray[x][1] + "\" alt=\"" + catArray[x][1] + "\" id='panel1CategoryBigImg" + catArray[x][0] + "' class='panel_1_category_big_img panel_1_category_big_img_" +catArray[x][0] + replaceBigImgMouseClass + "' src='" + clientImgBase + catArray[x][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
										}
									}
									var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
									if (catSmImgTagStart != -1) {
										var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
										var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
										var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
										var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
										var catSmImgTagRender = "";
										var replaceSmImgPreset = catArray[x][4];
										var replaceSmImgHidden = " style='display:none;'";
										var replaceSmImgBackClass = "off";
										var replaceSmImgTest = catSmImgTagStrip.indexOf(" REPLACE");
										if (replaceSmImgTest != -1) {
											if (categoryModal == 1) {
												var replaceSmImgMouseOver = "panel1CatModalImgReplace(1," + catArray[x][0] + ");";
												var replaceSmImgMouseOut = "panel1CatModalImgReplace(2," + catArray[x][0] + ");";
												var replaceSmImgMouseClass = " img_replace_active";
											}
											else {
												var replaceSmImgMouseOver = "panel1CatImgReplace(1," + catArray[x][0] + ");";
												var replaceSmImgMouseOut = "panel1CatImgReplace(2," + catArray[x][0] + ");";
												var replaceSmImgMouseClass = " img_replace_active";
											}
										}
										else {
											var replaceSmImgMouseOver = "";
											var replaceSmImgMouseOut = "";
											var replaceSmImgMouseClass = "";
										}
										if (categoryNoSelect == 0) {
											if (categoryModal == 1) {
												var catSmImgOnClickVar = " onclick='panel1CatModalWrite(" + x + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatModalWrite(" + x + ");}'";
											}
											else {
												var catSmImgOnClickVar = " onclick='panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[x][0] + ", \"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ", \"panel1CategoryNameVar" + catArray[x][0] + "\",2);return false;}'";
											}
										}
										else {
											var catSmImgOnClickVar = " onclick='" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + catActivateLinkStart + catArray[x][0] + catActivateLinkEnd + "return false;}'";
										}
										var postImgBig = " style='background-image:url(\"" + clientImgBase + catArray[x][4] + "\");'";
										if (panel1PostLoad == 1) {
											postImgBig = "";
										};
										if (catArray[x][6] != 0 || (catModalTest != -1 && catArray[x][9] == 1)) {
											replaceSmImgHidden = "";
											replaceSmImgBackClass = "on";
										}
										var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
										var catSmImgTagLinkStart = "";
										var catSmImgTagLinkEnd = "";
										if (catSmImgTagLinkTest != -1) {
											catSmImgTagLinkStart = "<a href=''" + catSmImgOnClickVar;
											if (hoverState==1) {
												catSmImgTagLinkStart += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOver + "' onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOut + "'";
											}
											catSmImgTagLinkStart += ">";
											catSmImgTagLinkEnd = "<\/a>";
										}
										var catSmImgTagDivTest = catSmImgTagStrip.indexOf(" DIV");
										if (catSmImgTagDivTest != -1) {
											if (panel1PostLoad == 1) {plPostCat = 1;}
											p1CHWon = 1;
											catSmImgTagRender = "<div title=\"" + catArray[x][1] + "\" id='panel1CategorySmImgDivShell" + catArray[x][0] + "' class='panel_1_category_sm_img_div_shell panel_1_category_sm_img_div_shell_" + catArray[x][0] + "'" + catSmImgOnClickVar;
											if (hoverState==1) {
												catSmImgTagRender += " onmouseover='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1CatMouseOver(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOver + "'";
											}
											catSmImgTagRender += "><div id='panel1CategorySmImgDivBack" + catArray[x][0] + "' class='panel_1_category_sm_img_div_back panel_1_category_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_category_sm_img_div_back_" + catArray[x][0] + replaceSmImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1CategorySmImgDivOver" + catArray[x][0] + "' class='panel_1_category_sm_img_div_over panel_1_category_sm_img_div_over_" + catArray[x][0] +"'" + replaceSmImgHidden;
											if (hoverState==1) {
												catSmImgTagRender += " onmouseout='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1CatMouseOut(\"panel1CategoryName" + catArray[x][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[x][0] + ");" + replaceSmImgMouseOut + "'";
											}
											catSmImgTagRender += ">&nbsp;<\/div><\/div>";
											categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagRender + baseCatSmImgHTMLEnd;
										}
										else {
											categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + catArray[x][1] + "\" alt=\"" + catArray[x][1] + "\" id='panel1CategorySmImg" + catArray[x][0] + "' class='panel_1_category_sm_img panel_1_category_sm_img_" +catArray[x][0] + replaceSmImgMouseClass + "' src='" + clientImgBase + catArray[x][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
										}
									}
									var catModalTagStart = categoryHTMLTest.indexOf("<!--CATMODAL");
									if (catModalTagStart != -1) {
										if(gLog==1){console.log("CATMODAL 5");}
										var catModalTagEnd = categoryHTMLTest.indexOf(">",catModalTagStart);
										var catModalTagStrip = categoryHTMLTest.substring(catModalTagStart,(catModalTagEnd+1));
										var catModalHTMLStart = categoryHTMLTest.substr(0,catModalTagStart);
										var catModalHTMLEnd = categoryHTMLTest.substr((catModalTagEnd+1));
										var catProdWrite = "<div id='panel1CategoryModalShell" + catArray[x][0] + "' class='panel_1_category_modal_shell panel_1_category_modal_shell_" + catArray[x][0] + " panel_close_me' style='display:none;'><\/div><div style='display:none;'>";
										for (y=0; y<prodDisplayArray.length; y++) {
											if (prodDisplayArray[y][8] == catArray[x][0]) {
												catProdWrite += "<div id='panel1ProductName" + prodDisplayArray[y][0] + "' style='display:none;'>&nbsp;<\/div>";
											}
										}
										catProdWrite += "<\/div>";
										categoryHTMLTest = catModalHTMLStart + catProdWrite + catModalHTMLEnd;
									}
									var catProductsTagStart = categoryHTMLTest.indexOf("<!--CATPRODUCTS");
									if (catProductsTagStart != -1) {
										if(gLog==1){console.log("CATPRODUCTS 5");}
										var catProductsTagEnd = categoryHTMLTest.indexOf(">",catProductsTagStart);
										var catProductsTagStrip = categoryHTMLTest.substring(catProductsTagStart,(catProductsTagEnd+1));
										var baseCatProductsHTMLStart = categoryHTMLTest.substr(0,catProductsTagStart);
										var baseCatProductsHTMLEnd = categoryHTMLTest.substr((catProductsTagEnd+1));
										var simpleCAClass = "";
										var simpleCADisplay = "";
										if (catActivateClass != "") {
											simpleCAClass = catActivateClass + " " + catActivateClass + "_" + catArray[x][0] + " panel_close_me ";
											simpleCADisplay = " style='display:none;'";
										}
										var catProdWrite = "<div id='panel1CategoryProductsShell" + catArray[x][0] + "' class='" + simpleCAClass + "panel_1_category_products_shell panel_1_category_products_shell_" + catArray[x][0] + "'" + simpleCADisplay + ">";
										for (y=0; y<prodDisplayArray.length; y++) {
											if (prodDisplayArray[y][8] == catArray[x][0]) {
												if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
													var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
												}
												else {
													var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
												}
												var prodCloseThings = "";
												var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
												if (prodCloseTagStart != -1) {
													var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
													var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
													var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
													prodCloseThings = "genericCloseMe();";
													productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
												}
												var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
												if (prodIterTagStart != -1) {
													var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
													var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
													var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
													var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
													productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
												}
												var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
												if (famNameTagStart != -1) {
													var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
													var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
													var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
													var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
													var famNameValueVal = "FAMILY NAME ERROR";
													var famProdCatNum = -1;
													for (cn=0; cn<catArray.length; cn++) {
														if (catArray[cn][0] == prodDisplayArray[y][8]) {
															famProdCatNum = cn;
															break;
														}
													}
													if (famProdCatNum != -1) {
														for (fn=0; fn<famArray.length; fn++) {
															if (famArray[fn][0] == catArray[famProdCatNum][2]) {
																famNameValueVal = famArray[fn][1];
																break;
															}
														}
													}
													productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
												}
												var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
												if (catNameTagStart != -1) {
													var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
													var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
													var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
													var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
													var catNameValueVal = "CATEGORY NAME ERROR";
													for (cn=0; cn<catArray.length; cn++) {
														if (catArray[cn][0] == prodDisplayArray[y][8]) {
															catNameValueVal = catArray[cn][1];
															break;
														}
													}
													productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
												}
												var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
												if (prodDiscTagStart != -1) {
													var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
													var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
													var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
													var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
													var prodDiscWrite = "";
													var discVal = prodDisplayArray[y][6];
													if (discVal != 1) {
														prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
													}
													productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
												}
												var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
												if (prodNameTagStart != -1) {
													var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
													var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
													var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
													var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
													var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
													if (replaceImgTest != -1) {
														var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														var replaceImgMouseClass = " img_replace_active";
													}
													else {
														var replaceImgMouseOver = "";
														var replaceImgMouseOut = "";
														var replaceImgMouseClass = "";
													}
													var descTest = prodNameTagStrip.indexOf(" DESC");
													if (descTest != -1) {
														var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
													}
													else {
														var descVal = "";
													}
													var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
													var prodPopupMO = "";
													var prodPopupDIV = "";
													if (prodPopupTestStart != -1) {
														var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
														var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
														prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
														prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
													}
													var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
													var prodNameTagLink = "";
													if (prodNameTagLinkTest != -1) {
														prodNameTagLink += " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
														if (hoverState==1) {
															prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
														}
													}
													var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
													if (prodNameItalicStart != -1) {
														var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
														var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
													}
													else {
														var prodNameItalicVar = "";
													}
													var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
													if (prodNameSizeStart != -1) {
														var prodNameDispVal = prodDisplayArray[y][21];
													}
													else {
														var prodNameDispVal = prodDisplayArray[y][2];
													}
													if (FPC==1) {
														var isProductChecked = 1;
														window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
														var baseProductStyle = " panel_1_product_name_on";
													}
													else {
														if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
															var isProductChecked = 1;
															window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
															var baseProductStyle = " panel_1_product_name_on";
														}
														else {
															var isProductChecked = 0;
															var baseProductStyle = " panel_1_product_name_off";
														}
													}
													productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + ">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
												}
												var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
												if (prodDescTagStart != -1) {
													var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
													var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
													var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
													var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
													productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
												}
												var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
												if (prodCatTagStart != -1) {
													var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
													var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
													var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
													var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
													productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
												}
												var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
												if (prodBigImgTagStart != -1) {
													var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
													var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
													var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
													var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
													var replaceBigImgRender = "";
													var replaceBigImgMouseOver = "";
													var replaceBigImgMouseOut = "";
													var replaceBigImgMouseClass = "";
													var replaceBigImgPreset = prodDisplayArray[y][4];
													var replaceBigImgHidden = " style='display:none;'";
													var replaceBigImgBackClass = "off";
													var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
													if (replaceBigImgTest != -1) {
														replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														replaceBigImgMouseClass = " img_replace_active";
														var replaceBigImgLength = prodDisplayArray[y][4].length;
														if (FPC==1) {
															var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
															var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
															replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
															replaceBigImgHidden = "";
															replaceBigImgBackClass = "on";
														}
														else {
															if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
																var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
																replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
																replaceBigImgHidden = "";
																replaceBigImgBackClass = "on";
															}
														}
													}
													var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
													var prodBigImgTagLinkStart = "";
													var prodBigImgTagLinkEnd = "";
													if (prodBigImgTagLinkTest != -1) {
														prodBigImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
														if (hoverState==1) {
															prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
														}
														prodBigImgTagLinkStart += ">";
														prodBigImgTagLinkEnd = "<\/a>";
													}
													var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
													if (prodBigImgTagDivTest != -1) {
														p1PHWon = 1;
														replaceBigImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
														if (hoverState==1) {
															replaceBigImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
														}
														replaceBigImgRender += "><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
														if (hoverState==1) {
															replaceBigImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
														}
														replaceBigImgRender += ">&nbsp;<\/div><\/div>";
														productHTMLTest = baseProdBigImgHTMLStart + replaceBigImgRender + baseProdBigImgHTMLEnd;
													}
													else {
														productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
													}
												}
												var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
												if (prodSmImgTagStart != -1) {
													var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
													var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
													var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
													var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
													var replaceSmImgRender = "";
													var replaceSmImgMouseOver = "";
													var replaceSmImgMouseOut = "";
													var replaceSmImgMouseClass = "";
													var replaceSmImgPreset = prodDisplayArray[y][5];
													var replaceSmImgHidden = " style='display:none;'";
													var replaceSmImgBackClass = "off";
													var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
													if (replaceSmImgTest != -1) {
														replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														replaceSmImgMouseClass = " img_replace_active";
														var replaceSmImgLength = prodDisplayArray[y][5].length;
														if (FPC==1) {
															var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
															var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
															replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
															replaceSmImgHidden = "";
															replaceSmImgBackClass = "on";
														}
														else {
															if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
																var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
																replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
																replaceSmImgHidden = "";
																replaceSmImgBackClass = "on";
															}
														}
													}
													var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
													var prodSmImgTagLinkStart = "";
													var prodSmImgTagLinkEnd = "";
													if (prodSmImgTagLinkTest != -1) {
														prodSmImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
														if (hoverState==1) {
															prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
														}
														prodSmImgTagLinkStart += ">";
														prodSmImgTagLinkEnd = "<\/a>";
													}
													var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
													if (prodSmImgTagDivTest != -1) {
														p1PHWon = 1;
														replaceSmImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
														if (hoverState==1) {
															replaceSmImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
														}
														replaceSmImgRender += "><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
														if (hoverState==1) {
															replaceSmImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
														}
														replaceSmImgRender += ">&nbsp;<\/div><\/div>";
														productHTMLTest = baseProdSmImgHTMLStart + replaceSmImgRender + baseProdSmImgHTMLEnd;
													}
													else {
														productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
													}
												}
												catProdWrite += productHTMLTest;
											}
										}
										catProdWrite += "<\/div>";
										categoryHTMLTest = baseCatProductsHTMLStart + catProdWrite + baseCatProductsHTMLEnd;
									}
									categoryHTML += categoryHTMLTest;
								}
							}
							productAreaHTML = baseHTMLStart + categoryHTML + baseHTMLEnd;
						}
						else {
							panel1CatSearchOn = 0;
						}
					}
					var classSearchOn = 1;
					while (classSearchOn == 1) {
						var classTagStart = productAreaHTML.indexOf("<!--CLASS");
						if (classTagStart != -1) {
							var classTagEnd = productAreaHTML.indexOf(">",classTagStart);
							var classTagStrip = productAreaHTML.substring(classTagStart,(classTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,classTagStart);
							var baseHTMLEnd = productAreaHTML.substr((classTagEnd+1));
							var classID = 0;
							var classHTML = "";
							var classIDStart = classTagStrip.indexOf(" ID=");
							if (classIDStart != -1) {
								var classIDEnd = classTagStrip.indexOf("]");
								classID = classTagStrip.substring((classIDStart+5),(classIDEnd));
							}
							if (classID != 0) {
								var foundClassID = 0;
								for (l=0;l<classArray.length;l++) {
									if (classArray[l][0] == classID) {
										var classValueStart = classTagStrip.indexOf(" VALUE=");
										var classValueEnd = classTagStrip.indexOf("]");
										if (classValueStart != -1) {
											var classValueVal = classTagStrip.substring((classValueStart+8),(classValueEnd));
										}
										else {
											var classValueVal = classArray[l][1];
										}
										if (classArray[l][5] == 1) {
											var classOnOff = " panel_1_product_class_on";
										}
										else {
											var classOnOff = " panel_1_product_class_off";
										}
										classHTML += "<div class='panel_1_product_class panel_1_product_class_" + classArray[l][0] + classOnOff + "'";
										if (hoverState==1) {
											classHTML += " onmouseover='panel1ProductClassMouseover("+l+","+classArray[l][0]+");' onfocus='panel1ProductClassMouseover("+l+","+classArray[l][0]+");' onmouseout='panel1ProductClassMouseout("+l+","+classArray[l][0]+");' onblur='panel1ProductClassMouseout("+l+","+classArray[l][0]+");'";
										}
										classHTML += " onclick='panel1ProductClassSelect("+l+","+classArray[l][0]+",\"" + clientMarket + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductClassSelect("+l+","+classArray[l][0]+",\"" + clientMarket + "\");}'>" + classValueVal + "<\/div>";
										foundClassID = 1;
										break;
									}
								}
								if (foundClassID == 0) {
									if(gLog==1){console.log("ERROR: Unknown Class ID="+classID);}
									p1ErrorArray.push("ERROR: Unknown Class ID="+classID);
									classHTML = "";
								}
							}
							else {
								if(gLog==1){console.log("ERROR: No Class ID");}
								p1ErrorArray.push("ERROR: No Class ID");
								classHTML = "";
							}
							productAreaHTML = baseHTMLStart + classHTML + baseHTMLEnd;
						}
						else {
							classSearchOn = 0;
						}
					}
					var labelGroupSearchOn = 1;
					while (labelGroupSearchOn == 1) {
						var labelGroupTagStart = productAreaHTML.indexOf("<!--LGROUP");
						if (labelGroupTagStart != -1) {
							var labelGroupTagEnd = productAreaHTML.indexOf(">",labelGroupTagStart);
							var labelGroupTagStrip = productAreaHTML.substring(labelGroupTagStart,(labelGroupTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,labelGroupTagStart);
							var baseHTMLEnd = productAreaHTML.substr((labelGroupTagEnd+1));
							var labelGroupID = 0;
							var labelGroupHTML = "";
							var labelGroupIDStart = labelGroupTagStrip.indexOf(" LID=");
							if (labelGroupIDStart != -1) {
								var labelGroupIDEnd = labelGroupTagStrip.indexOf("]");
								labelGroupID = labelGroupTagStrip.substring((labelGroupIDStart+6),(labelGroupIDEnd));
							}
							var labelGroupItalicStart = labelGroupTagStrip.indexOf(" FNTAW=");
							if (labelGroupItalicStart != -1) {
								var labelGroupItalicEnd = labelGroupTagStrip.indexOf("]",labelGroupItalicStart);
								labelGroupItalicVar = "<i class='fa " + labelGroupTagStrip.substring((labelGroupItalicStart+8),(labelGroupItalicEnd)) + "'><\/i>";
							}
							else {
								labelGroupItalicVar = "";
							}
							var labelGroupValueStart = labelGroupTagStrip.indexOf(" VALUE=");
							if (labelGroupValueStart != -1) {
								var labelGroupValueEnd = labelGroupTagStrip.indexOf("]");
								var labelGroupValueVal = labelGroupTagStrip.substring((labelGroupValueStart+8),(labelGroupValueEnd));
							}
							else {
								var labelGroupValueVal = "UNNAMED LGROUP";
							}
							if (labelGroupID != 0) {
								labelGroupHTML += "<div class='panel_1_product_labelgroup panel_1_product_labelgroup_" + labelGroupArray[l][0] + " " + labelGroupClass + "'";
								if (hoverState==1) {
									labelGroupHTML += " onmouseover='panel1ProductLabelGroupMouseover("+l+","+labelGroupArray[l][0]+");' onfocus='panel1ProductLabelGroupMouseover("+l+","+labelGroupArray[l][0]+");' onmouseout='panel1ProductLabelGroupMouseout("+l+","+labelGroupArray[l][0]+");' onblur='panel1ProductLabelGroupMouseout("+l+","+labelGroupArray[l][0]+");'";
								}
								labelGroupHTML += " onclick='panel1ProductLabelGroupSelect("+l+","+labelGroupArray[l][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductLabelGroupSelect("+l+","+labelGroupArray[l][0]+");}'>" + labelGroupItalicVar + labelGroupValueVal + "<\/div>";
							}
							else {
								if(gLog==1){console.log("ERROR: No LGroup LID");}
								p1ErrorArray.push("ERROR: No LGroup LID");
								labelGroupHTML = "";
							}
							productAreaHTML = baseHTMLStart + labelGroupHTML + baseHTMLEnd;
						}
						else {
							labelGroupSearchOn = 0;
						}
					}
					var labelBreadcrumbTagStart = productAreaHTML.indexOf("<!--LABELBREADCRUMB");
					if (labelBreadcrumbTagStart != -1) {
						var labelBreadcrumbTagEnd = productAreaHTML.indexOf(">",labelBreadcrumbTagStart);
						var labelBreadcrumbTagStrip = productAreaHTML.substring(labelBreadcrumbTagStart,(labelBreadcrumbTagEnd+1));
						var baseHTMLStart = productAreaHTML.substr(0,labelBreadcrumbTagStart);
						var baseHTMLEnd = productAreaHTML.substr((labelBreadcrumbTagEnd+1));
						var crumbShowStart = labelBreadcrumbTagStrip.indexOf(" SHOW=");
						if (crumbShowStart != -1) {
							crumbShowArr.length = 0;
							var crumbShowEnd = labelBreadcrumbTagStrip.indexOf("]",crumbShowStart);
							var crumbShow = labelBreadcrumbTagStrip.substring((crumbShowStart+7),(crumbShowEnd));
							crumbShowArr = crumbShow.split(",",crumbShowStart);
						}
						var crumbHideStart = labelBreadcrumbTagStrip.indexOf(" HIDE=");
						if (crumbHideStart != -1) {
							crumbHideArr.length = 0;
							var crumbHideEnd = labelBreadcrumbTagStrip.indexOf("]",crumbHideStart);
							var crumbHide = labelBreadcrumbTagStrip.substring((crumbHideStart+7),(crumbHideEnd));
							crumbHideArr = crumbHide.split(",");
						}
						var labelBreadcrumbCloseStart = labelBreadcrumbTagStrip.indexOf(" NOCLOSE");
						if (labelBreadcrumbCloseStart != -1) {
							caCrumbClose = 0;
						}
						var labelBreadcrumbClearStart = labelBreadcrumbTagStrip.indexOf(" CLEARBUTTON=");
						if (labelBreadcrumbClearStart != -1) {
							var labelBreadcrumbClearEnd = labelBreadcrumbTagStrip.indexOf("]",labelBreadcrumbClearStart);
							breadcrumbClearButtonValue = labelBreadcrumbTagStrip.substring((labelBreadcrumbClearStart+14),(labelBreadcrumbClearEnd));
							caCrumbClearButton = 1;
						}
						var labelBreadcrumbValueStart = labelBreadcrumbTagStrip.indexOf(" VALUE=");
						if (labelBreadcrumbValueStart != -1) {
							var labelBreadcrumbValueEnd = labelBreadcrumbTagStrip.indexOf("]",labelBreadcrumbValueStart);
							var labelBreadcrumbValueVal = labelBreadcrumbTagStrip.substring((labelBreadcrumbValueStart+8),(labelBreadcrumbValueEnd));
						}
						else {
							var labelBreadcrumbValueVal = "Showing products for: ";
						}
						productAreaHTML = baseHTMLStart + "<div id='panel1LabelCrumbShell' class='panel_1__label_crumb_shell' style='display:none;'>" + labelBreadcrumbValueVal + "<span id='panel1LabelCrumbItems'><\/span><\/div>" + baseHTMLEnd;
					}
					var labelresetButtonTagStart = productAreaHTML.indexOf("<!--LABELRESETBUTTON");
					if (labelresetButtonTagStart != -1) {
						var labelresetButtonTagEnd = productAreaHTML.indexOf(">",labelresetButtonTagStart);
						var labelresetButtonTagStrip = productAreaHTML.substring(labelresetButtonTagStart,(labelresetButtonTagEnd+1));
						var labelresetButtonHTMLStart = productAreaHTML.substr(0,labelresetButtonTagStart);
						var labelresetButtonHTMLEnd = productAreaHTML.substr((labelresetButtonTagEnd+1));
						var labelresetButtonRender = "";
						var labelresetButtonValueStart = labelresetButtonTagStrip.indexOf(" VALUE=");
						if (labelresetButtonValueStart != -1) {
							var labelresetButtonValueEnd = labelresetButtonTagStrip.indexOf("]",labelresetButtonValueStart);
							var labelresetButtonValueVar = labelresetButtonTagStrip.substring((labelresetButtonValueStart+8),(labelresetButtonValueEnd));
						}
						else {
							var labelresetButtonValueVar = "RESET LABELS";
						}
						var labelresetButtonItalicStart = labelresetButtonTagStrip.indexOf(" FNTAW=");
						if (labelresetButtonItalicStart != -1) {
							var labelresetButtonItalicEnd = labelresetButtonTagStrip.indexOf("]",labelresetButtonItalicStart);
							var labelresetButtonItalicVar = "<i class='fa " + labelresetButtonTagStrip.substring((labelresetButtonItalicStart+8),(labelresetButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var labelresetButtonItalicVar = "";
						}
						labelresetButtonRender += "<div id='panel1LabelResetButton' class='panel_1_labelreset_button panel_1_labelreset_button_off'";
						if (hoverState==1) {
							labelresetButtonRender += " onmouseover='panel1ButtonHover(\"panel1LabelResetButton\",\"panel_1_labelreset_button\",1);' onfocus='panel1ButtonHover(\"panel1LabelResetButton\",\"panel_1_labelreset_button\",1);' onmouseout='panel1ButtonHover(\"panel1LabelResetButton\",\"panel_1_labelreset_button\",0);' onblur='panel1ButtonHover(\"panel1LabelResetButton\",\"panel_1_labelreset_button\",0);'";
						}
						labelresetButtonRender += " onclick='panel1LabelReset();"+p1filterType+"' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabelReset();"+p1filterType+"}'>" + labelresetButtonItalicVar + labelresetButtonValueVar + "<\/div>";
						productAreaHTML = labelresetButtonHTMLStart + labelresetButtonRender + labelresetButtonHTMLEnd;
					}
					var navLabelTagStart = productAreaHTML.indexOf("<!--NAVLABEL");
					if (navLabelTagStart != -1) {
						var navLabelTagEnd = productAreaHTML.indexOf(">",navLabelTagStart);
						var navLabelTagStrip = productAreaHTML.substring(navLabelTagStart,(navLabelTagEnd+1));
						var navLabelHTMLStart = productAreaHTML.substr(0,navLabelTagStart);
						var navLabelHTMLEnd = productAreaHTML.substr((navLabelTagEnd+1));
						var navLabelRender = "";
						var navLabelItalicStart = navLabelTagStrip.indexOf(" FNTAW=");
						if (navLabelItalicStart != -1) {
							var navLabelItalicEnd = navLabelTagStrip.indexOf("]",navLabelItalicStart);
							var navLabelItalicVar = "<i class='fa " + navLabelTagStrip.substring((navLabelItalicStart+8),(navLabelItalicEnd)) + "'><\/i>";
						}
						else {
							var navLabelItalicVar = "";
						}
						var navLabelValueVar = "";
						var navLabelValueStart = navLabelTagStrip.indexOf(" VALUE=");
						if (navLabelValueStart != -1) {
							var navLabelValueEnd = navLabelTagStrip.indexOf("]",navLabelValueStart);
							var navLabelValueVar = navLabelTagStrip.substring((navLabelValueStart+8),(navLabelValueEnd));
						}
						navLabelRender += "<span id='panel1NavLabel' style='display:none;'><div id='panel1NavLabelControl' class='panel_1_nav_label panel_1_nav_label_off'";
						if (hoverState==1) {
							navLabelRender += " onmouseover='panel1ButtonHover(\"panel1NavLabel\",\"panel_1_nav_label\",1);' onfocus='panel1ButtonHover(\"panel1NavLabel\",\"panel_1_nav_label\",1);' onmouseout='panel1ButtonHover(\"panel1NavLabel\",\"panel_1_nav_label\",0);' onblur='panel1ButtonHover(\"panel1NavLabel\",\"panel_1_nav_label\",0);'";
						}
						navLabelRender += " onclick='panel1CAParent();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CAParent();}'>" + navLabelItalicVar + "<span id='panel1NavLabelText'><\/span><\/div>";
						if (navLabelValueVar != "") {
							navLabelRender += "<div id='panel1NavLabelHeader' class='panel_1_nav_label_header'>" + navLabelValueVar + "<\/div>";
						}
						navLabelRender += "<\/span>";
						productAreaHTML = navLabelHTMLStart + navLabelRender + navLabelHTMLEnd;
					}
					var redrawModalButtonTagStart = productAreaHTML.indexOf("<!--REDRAWMODALBUTTON");
					if (redrawModalButtonTagStart != -1) {
						var redrawModalButtonTagEnd = productAreaHTML.indexOf(">",redrawModalButtonTagStart);
						var redrawModalButtonTagStrip = productAreaHTML.substring(redrawModalButtonTagStart,(redrawModalButtonTagEnd+1));
						var redrawModalButtonHTMLStart = productAreaHTML.substr(0,redrawModalButtonTagStart);
						var redrawModalButtonHTMLEnd = productAreaHTML.substr((redrawModalButtonTagEnd+1));
						var redrawModalButtonRender = "";
						var redrawModalButtonValueStart = redrawModalButtonTagStrip.indexOf(" VALUE=");
						var redrawModalButtonValueEnd = redrawModalButtonTagStrip.indexOf("]",redrawModalButtonValueStart);
						if (redrawModalButtonValueStart != -1) {
							redrawModalButtonValueVar = redrawModalButtonTagStrip.substring((redrawModalButtonValueStart+8),(redrawModalButtonValueEnd));
						}
						else {
							redrawModalButtonValueVar = "FILTERS";
						}
						var redrawModalButtonItalicStart = redrawModalButtonTagStrip.indexOf(" FNTAW=");
						var redrawModalButtonItalicEnd = redrawModalButtonTagStrip.indexOf("]",redrawModalButtonItalicStart);
						if (redrawModalButtonItalicStart != -1) {
							redrawModalButtonItalicVar = "<i class='fa " + redrawModalButtonTagStrip.substring((redrawModalButtonItalicStart+8),(redrawModalButtonItalicEnd)) + "'><\/i>";
						}
						else {
							redrawModalButtonItalicVar = "";
						}
						redrawModalButtonRender += "<div id='panel1RedrawModalButton' class='panel_1_redraw_modal_button panel_1_redraw_modal_button_off'";
						if (hoverState==1) {
							redrawModalButtonRender += " onmouseover='panel1ButtonHover(\"panel1RedrawModalButton\",\"panel_1_redraw_modal_button\",1);' onfocus='panel1ButtonHover(\"panel1RedrawModalButton\",\"panel_1_redraw_modal_button\",1);' onmouseout='panel1ButtonHover(\"panel1RedrawModalButton\",\"panel_1_redraw_modal_button\",0);' onblur='panel1ButtonHover(\"panel1RedrawModalButton\",\"panel_1_redraw_modal_button\",0);'";
						}
						redrawModalButtonRender += " onclick='modalOpen();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){modalOpen();}'>" + redrawModalButtonItalicVar + redrawModalButtonValueVar + "<\/div>";
						productAreaHTML = redrawModalButtonHTMLStart + redrawModalButtonRender + redrawModalButtonHTMLEnd;
					}
					var redrawSelAllProdButtonTagStart = productAreaHTML.indexOf("<!--REDRAWSELALLPRODBUTTON");
					if (redrawSelAllProdButtonTagStart != -1) {
						var redrawSelAllProdButtonTagEnd = productAreaHTML.indexOf(">",redrawSelAllProdButtonTagStart);
						var redrawSelAllProdButtonTagStrip = productAreaHTML.substring(redrawSelAllProdButtonTagStart,(redrawSelAllProdButtonTagEnd+1));
						var redrawSelAllProdButtonHTMLStart = productAreaHTML.substr(0,redrawSelAllProdButtonTagStart);
						var redrawSelAllProdButtonHTMLEnd = productAreaHTML.substr((redrawSelAllProdButtonTagEnd+1));
						var redrawSelAllProdButtonRender = "";
						var redrawSelAllProdButtonValueStart = redrawSelAllProdButtonTagStrip.indexOf(" VALUE=");
						var redrawSelAllProdButtonValueEnd = redrawSelAllProdButtonTagStrip.indexOf("]",redrawSelAllProdButtonValueStart);
						if (redrawSelAllProdButtonValueStart != -1) {
							redrawSelAllProdButtonValueVar = redrawSelAllProdButtonTagStrip.substring((redrawSelAllProdButtonValueStart+8),(redrawSelAllProdButtonValueEnd));
						}
						else {
							redrawSelAllProdButtonValueVar = "FILTERS";
						}
						var redrawSelAllProdButtonItalicStart = redrawSelAllProdButtonTagStrip.indexOf(" FNTAW=");
						var redrawSelAllProdButtonItalicEnd = redrawSelAllProdButtonTagStrip.indexOf("]",redrawSelAllProdButtonItalicStart);
						if (redrawSelAllProdButtonItalicStart != -1) {
							redrawSelAllProdButtonItalicVar = "<i class='fa " + redrawSelAllProdButtonTagStrip.substring((redrawSelAllProdButtonItalicStart+8),(redrawSelAllProdButtonItalicEnd)) + "'><\/i>";
						}
						else {
							redrawSelAllProdButtonItalicVar = "";
						}
						redrawSelAllProdButtonRender += "<div id='panel1RedrawSelAllProdButton' class='panel_1_redraw_selallprod_button panel_1_redraw_selallprod_button_off'";
						if (hoverState==1) {
							redrawSelAllProdButtonRender += " onmouseover='panel1ButtonHover(\"panel1RedrawSelAllProdButton\",\"panel_1_redraw_selallprod_button\",1);' onfocus='panel1ButtonHover(\"panel1RedrawSelAllProdButton\",\"panel_1_redraw_selallprod_button\",1);' onmouseout='panel1ButtonHover(\"panel1RedrawSelAllProdButton\",\"panel_1_redraw_selallprod_button\",0);' onblur='panel1ButtonHover(\"panel1RedrawSelAllProdButton\",\"panel_1_redraw_selallprod_button\",0);'";
						}
						redrawSelAllProdButtonRender += " onclick='redrawSelAllProd();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){redrawSelAllProd();}'>" + redrawSelAllProdButtonItalicVar + redrawSelAllProdButtonValueVar + "<\/div>";
						productAreaHTML = redrawSelAllProdButtonHTMLStart + redrawSelAllProdButtonRender + redrawSelAllProdButtonHTMLEnd;
					}
					var redrawBrandLabelStart = baseHTML.indexOf("<!--REDRAWBRANDLABEL");
					if (redrawBrandLabelStart != -1) {
						var redrawBrandLabelEnd = baseHTML.indexOf(">",redrawBrandLabelStart);
						var redrawBrandLabelStrip = baseHTML.substring(redrawBrandLabelStart,(redrawBrandLabelEnd+1));
						var redrawBrandLabelHTMLStart = baseHTML.substr(0,redrawBrandLabelStart);
						var redrawBrandLabelHTMLEnd = baseHTML.substr((redrawBrandLabelEnd+1));
						var redrawBrandabelNoTopStart = redrawBrandLabelStrip.indexOf(" NOTOP");
						if (redrawBrandabelNoTopStart != -1) {
							p1RedrawLabelNoTop = 1;
						}
						var redrawBrandabelKeepTopStart = redrawBrandLabelStrip.indexOf(" KEEPTOP");
						if (redrawBrandabelKeepTopStart != -1) {
							p1RedrawLabelKeepTop = 1;
						}
						var redrawBrandLabelShowStart = redrawBrandLabelStrip.indexOf(" SHOW=");
						if (redrawBrandLabelShowStart != -1) {
							var redrawBrandLabelShowEnd = redrawBrandLabelStrip.indexOf("]",redrawBrandLabelShowStart);
							p1RedrawLabelShow = redrawBrandLabelStrip.substring((redrawBrandLabelShowStart+7),(redrawBrandLabelShowEnd));
						}
						var redrawBrandLabelHideStart = redrawBrandLabelStrip.indexOf(" HIDE=");
						if (redrawBrandLabelHideStart != -1) {
							var redrawBrandLabelHideEnd = redrawBrandLabelStrip.indexOf("]",redrawBrandLabelHideStart);
							p1RedrawLabelHide = redrawBrandLabelStrip.substring((redrawBrandLabelHideStart+7),(redrawBrandLabelHideEnd));
						}
						var redrawBrandLabelHideStart = redrawBrandLabelStrip.indexOf(" LABELHIDE");
						if (redrawBrandLabelHideStart != -1) {
							panel1BrandLabelHideLabels = 1;
						}
						baseHTML = redrawBrandLabelHTMLStart + "<div id='panel1RedrawBrandLabelShell' class='panel_1_redraw_brand_label_shell'><\/div>" + redrawBrandLabelHTMLEnd;
					}
					var redrawLabelStart = productAreaHTML.indexOf("<!--REDRAWLABEL");
					if (redrawLabelStart != -1) {
						var redrawLabelEnd = productAreaHTML.indexOf(">",redrawLabelStart);
						var redrawLabelStrip = productAreaHTML.substring(redrawLabelStart,(redrawLabelEnd+1));
						var redrawLabelHTMLStart = productAreaHTML.substr(0,redrawLabelStart);
						var redrawLabelHTMLEnd = productAreaHTML.substr((redrawLabelEnd+1));
						var redrawLabelCountStart = redrawLabelStrip.indexOf(" COUNT");
						if (redrawLabelCountStart != -1) {
							p1RedrawLabelCount = 1;
						}
						var redrawLabelRadioStart = redrawLabelStrip.indexOf(" RADIO");
						if (redrawLabelRadioStart != -1) {
							p1RedrawLabelRadio = 1;
						}
						var redrawLabelModalStart = redrawLabelStrip.indexOf(" MODAL");
						if (redrawLabelModalStart != -1) {
							p1RedrawLabelModal = 1;
						}
						var redrawLabelNoTopStart = redrawLabelStrip.indexOf(" NOTOP");
						if (redrawLabelNoTopStart != -1) {
							p1RedrawLabelNoTop = 1;
						}
						var redrawabelKeepTopStart = redrawLabelStrip.indexOf(" KEEPTOP");
						if (redrawabelKeepTopStart != -1) {
							p1RedrawLabelKeepTop = 1;
						}
						var redrawLabelExpandStart = redrawLabelStrip.indexOf(" EXPAND");
						if (redrawLabelExpandStart != -1) {
							p1RedrawLabelExpand = 1;
						}
						var redrawLabelFamilyStart = redrawLabelStrip.indexOf(" FAMILY=");
						if (redrawLabelFamilyStart != -1) {
							var redrawLabelFamilyEnd = redrawLabelStrip.indexOf("]",redrawLabelFamilyStart);
							redrawBrandText = redrawLabelStrip.substring((redrawLabelFamilyStart+9),(redrawLabelFamilyEnd));
							p1RedrawLabelFamily = 1;
							p1RedrawLabelClear = 0;
						}
						var redrawLabelClearStart = redrawLabelStrip.indexOf(" CLEAR=");
						if (redrawLabelClearStart != -1) {
							var redrawLabelClearEnd = redrawLabelStrip.indexOf("]",redrawLabelClearStart);
							redrawClearText = redrawLabelStrip.substring((redrawLabelClearStart+8),(redrawLabelClearEnd));
							p1RedrawLabelFamily = 0;
							p1RedrawLabelClear = 1;
						}
						var redrawLabelHeaderStart = redrawLabelStrip.indexOf(" HEADER=");
						if (redrawLabelHeaderStart != -1) {
							var redrawLabelHeaderEnd = redrawLabelStrip.indexOf("]",redrawLabelHeaderStart);
							redrawLabelText = redrawLabelStrip.substring((redrawLabelHeaderStart+9),(redrawLabelHeaderEnd));
						}
						var redrawLabelShowStart = redrawLabelStrip.indexOf(" SHOW=");
						if (redrawLabelShowStart != -1) {
							var redrawLabelShowEnd = redrawLabelStrip.indexOf("]",redrawLabelShowStart);
							p1RedrawLabelShow = redrawLabelStrip.substring((redrawLabelShowStart+7),(redrawLabelShowEnd));
						}
						var redrawLabelHideStart = redrawLabelStrip.indexOf(" HIDE=");
						if (redrawLabelHideStart != -1) {
							var redrawLabelHideEnd = redrawLabelStrip.indexOf("]",redrawLabelHideStart);
							p1RedrawLabelHide = redrawLabelStrip.substring((redrawLabelHideStart+7),(redrawLabelHideEnd));
						}
						productAreaHTML = redrawLabelHTMLStart + "<div id='panel1RedrawLabelShell' class='panel_1_redraw_label_shell'><\/div>" + redrawLabelHTMLEnd;
					}
					var dietListStart = productAreaHTML.indexOf("<!--DIETLIST");
					if (dietListStart != -1) {
						var dietListEnd = productAreaHTML.indexOf(">",dietListStart);
						var dietListStrip = productAreaHTML.substring(dietListStart,(dietListEnd+1));
						var dietListHTMLStart = productAreaHTML.substr(0,dietListStart);
						var dietListHTMLEnd = productAreaHTML.substr((dietListEnd+1));
						var dietListHeaderStart = dietListStrip.indexOf(" HEADER=");
						if (dietListHeaderStart != -1) {
							var dietListHeaderEnd = dietListStrip.indexOf("]",dietListHeaderStart);
							redrawDietText = dietListStrip.substring((dietListHeaderStart+9),(dietListHeaderEnd));
						}
						var dietListCountStart = dietListStrip.indexOf(" COUNT");
						if (dietListCountStart != -1) {
							p1DietListCount = 1;
						}
						productAreaHTML = dietListHTMLStart + "<div id='panel1DietListShell' class='panel_1_diet_list_shell'><\/div>" + dietListHTMLEnd;
					}
					var labelSearchOn = 1;
					while (labelSearchOn == 1) {
						var labelTagStart = productAreaHTML.indexOf("<!--LABEL");
						if (labelTagStart != -1) {
							var labelTagEnd = productAreaHTML.indexOf(">",labelTagStart);
							var labelTagStrip = productAreaHTML.substring(labelTagStart,(labelTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,labelTagStart);
							var baseHTMLEnd = productAreaHTML.substr((labelTagEnd+1));
							var labelID = 0;
							var labelHTML = "";
							var labelIDStart = labelTagStrip.indexOf(" ID=");
							if (labelIDStart != -1) {
								var labelIDEnd = labelTagStrip.indexOf("]");
								labelID = labelTagStrip.substring((labelIDStart+5),(labelIDEnd));
							}
							var p1AddBadge = 0;
							var labelBadgeStart = labelTagStrip.indexOf(" BADGE");
							if (labelBadgeStart != -1) {
								p1AddBadge = 1;
							}
							var addCount = 0;
							var labelCountStart = labelTagStrip.indexOf(" COUNT");
							if (labelCountStart != -1) {
								addCount = 1;
							}
							var childOn = 0;
							var labelChildStart = labelTagStrip.indexOf(" CHILD");
							if (labelChildStart != -1) {
								childOn = 1;
							}
							var addCatCount = 0;
							var labelCatCountStart = labelTagStrip.indexOf(" CATCOUNT");
							if (labelCatCountStart != -1) {
								addCatCount = 1;
							}
							if(gLog==1){console.log("LABEL addCount/addCatCount " ,addCount,addCatCount);}
							var labelIDStart = labelTagStrip.indexOf(" RADIO");
							if (labelIDStart != -1) {
								panel1LabelRadioCheck = 1;
							}
							var labelNoAllStart = labelTagStrip.indexOf(" NORESET");
							if (labelNoAllStart != -1) {
								panel1LabelNoShowAll = 1;
							}
							var labelClearStart = labelTagStrip.indexOf(" CLEAR");
							var labelClearIt = "";
							if (labelClearStart != -1) {
								labelClearIt = "panel1FamLabelReset();";
							}
							var labelBackStart = labelTagStrip.indexOf(" BACK=");
							if (labelBackStart != -1) {
								var labelBackEnd = labelTagStrip.indexOf("]",labelBackStart);
								var labelBackToFamText = labelTagStrip.substring((labelBackStart+7),(labelBackEnd));
								panel1LabelBackToFam = 1;
							}
							var labelLoaderStart = labelTagStrip.indexOf(" LOADER");
							var labelLoaderS = "";
							var labelLoaderE = "";
							if (labelLoaderStart != -1) {
								labelLoaderS = "setTimeout(function(){";
								labelLoaderE = "},500);";
							}
							var labelItalicStart = labelTagStrip.indexOf(" FNTAW=");
							if (labelItalicStart != -1) {
								var labelItalicEnd = labelTagStrip.indexOf("]",labelItalicStart);
								labelItalicVar = "<i class='fa " + labelTagStrip.substring((labelItalicStart+8),(labelItalicEnd)) + "'><\/i>";
							}
							else {
								labelItalicVar = "";
							}
							var labelShow = "";
							var labelShowStart = labelTagStrip.indexOf(" SHOW=");
							if (labelShowStart != -1) {
								labelShowArr.length = 0;
								var labelShowEnd = labelTagStrip.indexOf("]",labelShowStart);
								labelShow = labelTagStrip.substring((labelShowStart+7),(labelShowEnd));
								labelShowArr = labelShow.split(",",labelShowStart);
							}
							var labelHide = "";
							var labelHideStart = labelTagStrip.indexOf(" HIDE=");
							if (labelHideStart != -1) {
								labelHideArr.length = 0;
								var labelHideEnd = labelTagStrip.indexOf("]",labelHideStart);
								labelHide = labelTagStrip.substring((labelHideStart+7),(labelHideEnd));
								labelHideArr = labelHide.split(",");
							}
							if (labelID != 0) {
								var foundLabelID = 0;
								for (l=0;l<labelArray.length;l++) {
									if (labelArray[l][0] == labelID) {
										var labelValueStart = labelTagStrip.indexOf(" VALUE=");
										var labelValueEnd = labelTagStrip.indexOf("]");
										if (labelValueStart != -1) {
											var labelValueVal = labelTagStrip.substring((labelValueStart+8),(labelValueEnd));
										}
										else {
											var labelValueVal = labelArray[l][1];
										}
										if (LABEL == labelArray[l][0]) {
											var labelClass = "panel_1_product_label_on";
											panel1LabelPreselect = l;
										}
										else {
											var labelClass = "panel_1_product_label_off";
										}
										var p1BadgeWrite = "";
										if (p1AddBadge == 1) {
											p1BadgeWrite = "<span id='panel1LabelBadge" + labelArray[l][0] + "' class='counter_badge panel_1_label_badge' style='display:none;'>0<\/span>";
										}
										var countWrite = "";
										var qCt = 0;
										if (addCount == 1) {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
											countWrite = " (" + qCt + ")";
										}
										else if (addCatCount == 1) {
											catCountFoundArr.length = 0;
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													catCountFoundArr.push(prodLabelArray[q][1]);
												}
											}
											for (n=0; n<catCountFoundArr.length; n++) {
												for (m=0; m<prodDisplayArray.length; m++) {
													if (prodDisplayArray[m][0] == catCountFoundArr[n]) {
														catCountFoundArr[n] = prodDisplayArray[m][8];
														break;
													}
												}
											}
											catCountFoundArr.sort();
											var	qCtArr = [];
											var qCtX = 0;
											for (r=0; r<catCountFoundArr.length; r++) {
												if(qCtArr.length) {
													if (qCtArr[qCtX] != catCountFoundArr[r]) {
														qCtX++;
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
												else {
													qCtArr[qCtX] = catCountFoundArr[r];
												}
											}
											qCt = qCtArr.length;
											countWrite = " (" + qCt + ")";
										}
										else {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
										}
										if (qCt != 0) {
											labelHTML += "<div class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
											if (hoverState==1) {
												labelHTML += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
											}
											labelHTML += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}'>" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<\/div>";
										}
										foundLabelID = 1;
										break;
									}
								}
								if (foundLabelID == 0) {
									if(gLog==1){console.log("ERROR: Unknown Label ID="+labelID);}
									p1ErrorArray.push("ERROR: Unknown Label ID="+labelID);
									labelHTML = "";
								}
							}
							else {
								if (childOn == 1) {
									for (l=0;l<labelArray.length;l++) {
										if (labelArray[l][9] == 0) {
											var thisDisp = "";
											var thisXF = "panel1CAChild("+l+","+labelArray[l][0]+");";
											var thisXC = " panel_1_product_label panel_1_product_label_" + labelArray[l][0];
										}
										else {
											var thisDisp = " style='display:none;'";
											var thisXF = "";
											var thisXC = " panel_1_product_label_sub panel_1_product_label_sub_" + labelArray[l][0];
										}
										var labelValueVal = labelArray[l][1];
										if (LABEL == labelArray[l][0]) {
											var labelClass = "panel_1_product_label_on";
											panel1LabelPreselect = l;
										}
										else {
											var labelClass = "panel_1_product_label_off";
										}
										var p1BadgeWrite = "";
										if (p1AddBadge == 1) {
											p1BadgeWrite = "<span id='panel1LabelBadge" + labelArray[l][0] + "' class='counter_badge panel_1_label_badge' style='display:none;'>0<\/span>";
										}
										var countWrite = "";
										var qCt = 0;
										if (addCount == 1) {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
											countWrite = " (" + qCt + ")";
										}
										else if (addCatCount == 1) {
											catCountFoundArr.length = 0;
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													catCountFoundArr.push(prodLabelArray[q][1]);
												}
											}
											for (n=0; n<catCountFoundArr.length; n++) {
												var checkPLisIn = 0;
												for (m=0; m<prodDisplayArray.length; m++) {
													if (prodDisplayArray[m][0] == catCountFoundArr[n]) {
														catCountFoundArr[n] = prodDisplayArray[m][8];
														checkPLisIn = 1;
														break;
													}
												}
												if (checkPLisIn == 0) {
													catCountFoundArr[n] = 0;
												}
											}
											catCountFoundArr.sort();
											var	qCtArr = [];
											var qCtX = 0;
											for (r=0; r<catCountFoundArr.length; r++) {
												if(qCtArr.length) {
													if (qCtArr[qCtX] != catCountFoundArr[r] && catCountFoundArr[r] != 0) {
														qCtX++;
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
												else {
													if (catCountFoundArr[r] != 0) {
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
											}
											qCt = qCtArr.length;
											if(gLog==1){console.log("qCtArr - ",qCtArr);}
											countWrite = " (" + qCt + ")";
										}
										else {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
										}
										if (qCt != 0) {
											labelHTML += "<div class='" + labelClass + thisXC + "'";
											if (hoverState==1) {
												labelHTML += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
											}
											labelHTML += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + thisXF + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + thisXF + labelLoaderE + "}'" + thisDisp + ">" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<\/div>";
										}
									}
								}
								else {
									for (l=0;l<labelArray.length;l++) {
										var labelValueVal = labelArray[l][1];
										if (LABEL == labelArray[l][0]) {
											var labelClass = "panel_1_product_label_on";
											panel1LabelPreselect = l;
										}
										else {
											var labelClass = "panel_1_product_label_off";
										}
										var p1BadgeWrite = "";
										if (p1AddBadge == 1) {
											p1BadgeWrite = "<span id='panel1LabelBadge" + labelArray[l][0] + "' class='counter_badge panel_1_label_badge' style='display:none;'>0<\/span>";
										}
										var countWrite = "";
										var qCt = 0;
										if (addCount == 1) {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
											countWrite = " (" + qCt + ")";
										}
										else if (addCatCount == 1) {
											catCountFoundArr.length = 0;
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													catCountFoundArr.push(prodLabelArray[q][1]);
												}
											}
											for (n=0; n<catCountFoundArr.length; n++) {
												var checkPLisIn = 0;
												for (m=0; m<prodDisplayArray.length; m++) {
													if (prodDisplayArray[m][0] == catCountFoundArr[n]) {
														catCountFoundArr[n] = prodDisplayArray[m][8];
														checkPLisIn = 1;
														break;
													}
												}
												if (checkPLisIn == 0) {
													catCountFoundArr[n] = 0;
												}
											}
											catCountFoundArr.sort();
											var	qCtArr = [];
											var qCtX = 0;
											for (r=0; r<catCountFoundArr.length; r++) {
												if(qCtArr.length) {
													if (qCtArr[qCtX] != catCountFoundArr[r] && catCountFoundArr[r] != 0) {
														qCtX++;
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
												else {
													if (catCountFoundArr[r] != 0) {
														qCtArr[qCtX] = catCountFoundArr[r];
													}
												}
											}
											qCt = qCtArr.length;
											if(gLog==1){console.log("qCtArr - ",qCtArr);}
											countWrite = " (" + qCt + ")";
										}
										else {
											for (q=0; q<prodLabelArray.length; q++) {
												if (prodLabelArray[q][2] == labelArray[l][0]) {
													qCt++;
												}
											}
										}
										if (qCt != 0) {
											labelHTML += "<div class='panel_1_product_label panel_1_product_label_" + labelArray[l][0] + " " + labelClass + "'";
											if (hoverState==1) {
												labelHTML += " onmouseover='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+l+","+labelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+l+","+labelArray[l][0]+");'";
											}
											labelHTML += " onclick='" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + labelLoaderS + labelClearIt + "panel1ProductLabelSelect("+l+","+labelArray[l][0]+");" + labelLoaderE + "}'>" + labelItalicVar + labelValueVal + countWrite + p1BadgeWrite + "<\/div>";
										}
									}
								}
							}
							var labelAllHTML = "";
							if (panel1LabelBackToFam != -1) {
								labelAllHTML += "<div class='panel_1_product_label_back panel_1_product_label_back_off'";
								if (hoverState==1) {
									labelAllHTML += " onmouseover='genericButtonOver(\"panel_1_product_label_back\",\"panel_1_product_label_back\");' onfocus='genericButtonOver(\"panel_1_product_label_back\",\"panel_1_product_label_back\");' onmouseout='genericButtonOut(\"panel_1_product_label_back\",\"panel_1_product_label_back\");' onblur='genericButtonOut(\"panel_1_product_label_back\",\"panel_1_product_label_back\");'";
								}
								labelAllHTML += " onclick='panel1LabelBack(\""+labelShow+"\",\""+labelHide+"\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabelBack(\""+labelShow+"\",\""+labelHide+"\");}' style='display:none;'>" + labelBackToFamText + "<\/div>";
							}
							productAreaHTML = baseHTMLStart + labelAllHTML + labelHTML + baseHTMLEnd;
						}
						else {
							labelSearchOn = 0;
						}
					}
					var famlabelresetButtonTagStart = productAreaHTML.indexOf("<!--FAMLABELRESETBUTTON");
					if (famlabelresetButtonTagStart != -1) {
						var famlabelresetButtonTagEnd = productAreaHTML.indexOf(">",famlabelresetButtonTagStart);
						var famlabelresetButtonTagStrip = productAreaHTML.substring(famlabelresetButtonTagStart,(famlabelresetButtonTagEnd+1));
						var famlabelresetButtonHTMLStart = productAreaHTML.substr(0,famlabelresetButtonTagStart);
						var famlabelresetButtonHTMLEnd = productAreaHTML.substr((famlabelresetButtonTagEnd+1));
						var famlabelresetButtonRender = "";
						var famlabelresetButtonValueStart = famlabelresetButtonTagStrip.indexOf(" VALUE=");
						if (famlabelresetButtonValueStart != -1) {
							var famlabelresetButtonValueEnd = famlabelresetButtonTagStrip.indexOf("]",famlabelresetButtonValueStart);
							var famlabelresetButtonValueVar = famlabelresetButtonTagStrip.substring((famlabelresetButtonValueStart+8),(famlabelresetButtonValueEnd));
						}
						else {
							var famlabelresetButtonValueVar = "RESET FAMILIES";
						}
						var famlabelresetButtonItalicStart = famlabelresetButtonTagStrip.indexOf(" FNTAW=");
						if (famlabelresetButtonItalicStart != -1) {
							var famlabelresetButtonItalicEnd = famlabelresetButtonTagStrip.indexOf("]",famlabelresetButtonItalicStart);
							var famlabelresetButtonItalicVar = "<i class='fa " + famlabelresetButtonTagStrip.substring((famlabelresetButtonItalicStart+8),(famlabelresetButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var famlabelresetButtonItalicVar = "";
						}
						famlabelresetButtonRender += "<div id='panel1FamLabelResetButton' class='panel_1_famlabelreset_button panel_1_famlabelreset_button_off'";
						if (hoverState==1) {
							famlabelresetButtonRender += " onmouseover='panel1ButtonHover(\"panel1FamLabelResetButton\",\"panel_1_famlabelreset_button\",1);' onfocus='panel1ButtonHover(\"panel1FamLabelResetButton\",\"panel_1_famlabelreset_button\",1);' onmouseout='panel1ButtonHover(\"panel1FamLabelResetButton\",\"panel_1_famlabelreset_button\",0);' onblur='panel1ButtonHover(\"panel1FamLabelResetButton\",\"panel_1_famlabelreset_button\",0);'";
						}
						famlabelresetButtonRender += " onclick='panel1FamLabelReset();"+p1filterType+"' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FamLabelReset();"+p1filterType+"}'>" + famlabelresetButtonItalicVar + famlabelresetButtonValueVar + "<\/div>";
						productAreaHTML = famlabelresetButtonHTMLStart + famlabelresetButtonRender + famlabelresetButtonHTMLEnd;
					}
					var famlabelSearchOn = 1;
					while (famlabelSearchOn == 1) {
						var famlabelTagStart = productAreaHTML.indexOf("<!--FAMLABEL");
						if (famlabelTagStart != -1) {
							panel1FamLabelOn = 1;
							var famlabelTagEnd = productAreaHTML.indexOf(">",famlabelTagStart);
							var famlabelTagStrip = productAreaHTML.substring(famlabelTagStart,(famlabelTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,famlabelTagStart);
							var baseHTMLEnd = productAreaHTML.substr((famlabelTagEnd+1));
							var famlabelID = 0;
							var famlabelHTML = "";
							var famlabelIDStart = famlabelTagStrip.indexOf(" ID=");
							if (famlabelIDStart != -1) {
								var famlabelIDEnd = famlabelTagStrip.indexOf("]");
								famlabelID = famlabelTagStrip.substring((famlabelIDStart+5),(famlabelIDEnd));
							}
							var p1AddBadge = 0;
							var famlabelIDStart = famlabelTagStrip.indexOf(" BADGE");
							if (famlabelIDStart != -1) {
								p1AddBadge = 1;
							}
							var famlabelIDStart = famlabelTagStrip.indexOf(" RADIO");
							if (famlabelIDStart != -1) {
								panel1FamLabelRadioCheck = 1;
							}
							var famlabelNoAllStart = famlabelTagStrip.indexOf(" NORESET");
							if (famlabelNoAllStart != -1) {
								panel1FamLabelNoShowAll = 1;
							}
							var famlabelCatStart = famlabelTagStrip.indexOf(" CATLINK");
							if (famlabelCatStart != -1) {
								panel1FamLabelCatLink = 1;
							}
							var famlabelHideLabelStart = famlabelTagStrip.indexOf(" LABELHIDE");
							if (famlabelHideLabelStart != -1) {
								panel1FamLabelHideLabels = 1;
							}
							var famlabelAutoOpenStart = famlabelTagStrip.indexOf(" AUTOOPEN");
							if (famlabelAutoOpenStart != -1) {
								panel1FamLabelAutoOpen = 1;
							}
							var famlabelLoaderStart = famlabelTagStrip.indexOf(" LOADER");
							var famlabelLoaderS = "";
							var famlabelLoaderE = "";
							if (famlabelLoaderStart != -1) {
								famlabelLoaderS = "setTimeout(function(){";
								famlabelLoaderE = "},500);";
							}
							var famlabelItalicStart = famlabelTagStrip.indexOf(" FNTAW=");
							if (famlabelItalicStart != -1) {
								var famlabelItalicEnd = famlabelTagStrip.indexOf("]",famlabelItalicStart);
								famlabelItalicVar = "<i class='fa " + famlabelTagStrip.substring((famlabelItalicStart+8),(famlabelItalicEnd)) + "'><\/i>";
							}
							else {
								famlabelItalicVar = "";
							}
							var famlabelShowStart = famlabelTagStrip.indexOf(" SHOW=");
							if (famlabelShowStart != -1) {
								famlabelShowArr.length = 0;
								var famlabelShowEnd = famlabelTagStrip.indexOf("]",famlabelShowStart);
								famlabelShow = famlabelTagStrip.substring((famlabelShowStart+7),(famlabelShowEnd));
								famlabelShowArr = famlabelShow.split(",");
							}
							var famlabelHideStart = famlabelTagStrip.indexOf(" HIDE=");
							if (famlabelHideStart != -1) {
								famlabelHideArr.length = 0;
								var famlabelHideEnd = famlabelTagStrip.indexOf("]",famlabelHideStart);
								famlabelHide = famlabelTagStrip.substring((famlabelHideStart+7),(famlabelHideEnd));
								famlabelHideArr = famlabelHide.split(",");
							}
							if (famlabelID != 0) {
								var foundFamLabelID = 0;
								for (l=0;l<famArray.length;l++) {
									if (famArray[l][0] == famlabelID) {
										var famlabelValueStart = famlabelTagStrip.indexOf(" VALUE=");
										var famlabelValueEnd = famlabelTagStrip.indexOf("]");
										if (famlabelValueStart != -1) {
											var famlabelValueVal = famlabelTagStrip.substring((famlabelValueStart+8),(famlabelValueEnd));
										}
										else {
											var famlabelValueVal = famArray[l][1];
										}
										if (FAMLABEL == famArray[l][0]) {
											var famlabelClass = "panel_1_product_famlabel_on";
											panel1FamLabelPreselect = l;
										}
										else {
											var famlabelClass = "panel_1_product_famlabel_off";
										}
										var p1BadgeWrite = "";
										if (p1AddBadge == 1) {
											p1BadgeWrite = "<span id='panel1FamLabelBadge" + famArray[l][0] + "' class='counter_badge panel_1_famlabel_badge' style='display:none;'>0<\/span>";
										}
										famlabelHTML += "<div class='panel_1_product_famlabel panel_1_product_famlabel_" + famArray[l][0] + " " + famlabelClass + "'";
										if (hoverState==1) {
											famlabelHTML += " onmouseover='panel1ProductFamLabelMouseover("+l+","+famArray[l][0]+");' onfocus='panel1ProductFamLabelMouseover("+l+","+famArray[l][0]+");' onmouseout='panel1ProductFamLabelMouseout("+l+","+famArray[l][0]+");' onblur='panel1ProductFamLabelMouseout("+l+","+famArray[l][0]+");'";
										}
										famlabelHTML += " onclick='" + famlabelLoaderS + "panel1ProductFamLabelSelect("+l+","+famArray[l][0]+");" + famlabelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + famlabelLoaderS + "panel1ProductFamLabelSelect("+l+","+famArray[l][0]+");" + famlabelLoaderE + "}'>" + famlabelItalicVar + famlabelValueVal + p1BadgeWrite + "<\/div>";
										foundFamLabelID = 1;
										break;
									}
								}
								if (foundFamLabelID == 0) {
									if(gLog==1){console.log("ERROR: Unknown FamLabel ID="+famlabelID);}
									p1ErrorArray.push("ERROR: Unknown FamLabel ID="+famlabelID);
									famlabelHTML = "";
								}
							}
							else {
								for (x=0; x<famArray.length; x++) {
									var familyHTMLTest = autotextIt(p1TemplateSet.panel1FamilyDiv,"panel1Family");
									var famNameTagStart = familyHTMLTest.indexOf("<!--FAMNAME");
									if (famNameTagStart != -1) {
										var famNameTagEnd = familyHTMLTest.indexOf(">",famNameTagStart);
										var famNameTagStrip = familyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
										var baseFamNameHTMLStart = familyHTMLTest.substr(0,famNameTagStart);
										var baseFamNameHTMLEnd = familyHTMLTest.substr((famNameTagEnd+1));
										var famNameValueStart = famNameTagStrip.indexOf(" VALUE=");
										if (famNameValueStart != -1) {
											var famNameValueEnd = famNameTagStrip.indexOf("]", famNameValueStart);
											var famNameValueVal = famNameTagStrip.substring((famNameValueStart+8),(famNameValueEnd));
										}
										else {
											var famNameValueVal = famArray[x][1];
										}
										var replaceImgTest = famNameTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famNameTagLink = "";
										if (famNameTagLinkTest != -1) {
											famNameTagLink += " style='cursor:pointer;' onclick='" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "}'";
											if (hoverState==1) {
												famNameTagLink += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
											}
										}
										familyHTMLTest = baseFamNameHTMLStart + "<div id='panel1FamilyName" + famArray[x][0] + "' class='panel_1_family_name panel_1_family_name_off" + replaceImgMouseClass + "'" + famNameTagLink + ">" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
									}
									var famBigImgTagStart = familyHTMLTest.indexOf("<!--FAMBIGIMG");
									if (famBigImgTagStart != -1) {
										var famBigImgTagEnd = familyHTMLTest.indexOf(">",famBigImgTagStart);
										var famBigImgTagStrip = familyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
										var baseFamBigImgHTMLStart = familyHTMLTest.substr(0,famBigImgTagStart);
										var baseFamBigImgHTMLEnd = familyHTMLTest.substr((famBigImgTagEnd+1));
										var replaceImgTest = famBigImgTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famBigImgTagLinkTest = famBigImgTagStrip.indexOf(" LINK");
										var famBigImgTagLinkStart = "";
										var famBigImgTagLinkEnd = "";
										if (famBigImgTagLinkTest != -1) {
											famBigImgTagLinkStart += "<a href='' onclick='" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "return false;}'";
											if (hoverState==1) {
												famBigImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
											}
											famBigImgTagLinkStart += ">";
											famBigImgTagLinkEnd = "<\/a>";
										}
										if (famArray[x][2].substring(0,4) == "http") {
											var famBigImgLead = "";
										}
										else {
											var famBigImgLead = clientImgBase;
										}
										familyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + famArray[x][1] + "\" alt=\"" + famArray[x][1] + "\" id='panel1FamilyBigImg" + famArray[x][0] + "' class='panel_1_family_big_img" + replaceImgMouseClass + "' src='" + famBigImgLead + famArray[x][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
									}
									var famSmImgTagStart = familyHTMLTest.indexOf("<!--FAMSMIMG");
									if (famSmImgTagStart != -1) {
										var famSmImgTagEnd = familyHTMLTest.indexOf(">",famSmImgTagStart);
										var famSmImgTagStrip = familyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
										var baseFamSmImgHTMLStart = familyHTMLTest.substr(0,famSmImgTagStart);
										var baseFamSmImgHTMLEnd = familyHTMLTest.substr((famSmImgTagEnd+1));
										var replaceImgTest = famSmImgTagStrip.indexOf(" REPLACE");
										if (replaceImgTest != -1) {
											var replaceImgMouseOver = "panel1FamImgReplace(1," + famArray[x][0] + ");";
											var replaceImgMouseOut = "panel1FamImgReplace(2," + famArray[x][0] + ");";
											var replaceImgMouseClass = " img_replace_active";
										}
										else {
											var replaceImgMouseOver = "";
											var replaceImgMouseOut = "";
											var replaceImgMouseClass = "";
										}
										var famSmImgTagLinkTest = famSmImgTagStrip.indexOf(" LINK");
										var famSmImgTagLinkStart = "";
										var famSmImgTagLinkEnd = "";
										if (famSmImgTagLinkTest != -1) {
											famSmImgTagLinkStart += "<a href='' onclick='" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + famlabelLoaderS + "panel1ProductFamLabelSelect("+x+","+famArray[x][0]+");" + famlabelLoaderE + "return false;}'";
											if (hoverState==1) {
												famSmImgTagLinkStart += " onmouseover='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onfocus='panel1FamMouseOver(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "' onblur='panel1FamMouseOut(\"panel1FamilyName" + famArray[x][0] + "\", \"panel_1_family_name\", panel1FamilyNameVar" + famArray[x][0] + ");" + replaceImgMouseOut + "'";
											}
											famSmImgTagLinkStart += ">";
											famSmImgTagLinkEnd = "<\/a>";
										}
										if (famArray[x][3].substring(0,4) == "http") {
											var famSmImgLead = "";
										}
										else {
											var famSmImgLead = clientImgBase;
										}
										familyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + famArray[x][1] + "\" alt=\"" + famArray[x][1] + "\" id='panel1FamilySmImg" + famArray[x][0] + "' class='panel_1_family_sm_img" + replaceImgMouseClass + "' src='" + famSmImgLead + famArray[x][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
									}
									famlabelHTML += familyHTMLTest;
								}
							}
							productAreaHTML = baseHTMLStart + famlabelHTML + baseHTMLEnd;
						}
						else {
							famlabelSearchOn = 0;
						}
					}
					var filterNumTagStart = productAreaHTML.indexOf("<!--FILTERNUM");
					if (filterNumTagStart != -1) {
						var filterNumTagEnd = productAreaHTML.indexOf(">",filterNumTagStart);
						var filterNumTagStrip = productAreaHTML.substring(filterNumTagStart,(filterNumTagEnd+1));
						var filterNumHTMLStart = productAreaHTML.substr(0,filterNumTagStart);
						var filterNumHTMLEnd = productAreaHTML.substr((filterNumTagEnd+1));
						var filterNumRender = "";
						var filterNumValueStart = filterNumTagStrip.indexOf(" VALUE=");
						if (filterNumValueStart != -1) {
							var filterNumValueEnd = filterNumTagStrip.indexOf("]",filterNumValueStart);
							var filterNumValueVar = filterNumTagStrip.substring((filterNumValueStart+8),(filterNumValueEnd));
						}
						else {
							var filterNumValueVar = "";
						}
						filterNumRender += "<div id='panel1FilterNum' class='panel_1_filter_num' style='display:none;'><span id='panel1FilterNumNum' class='panel_1_filter_num_num'><\/span><span id='panel1FilterNumNum' class='panel_1_filter_num_text'>" + filterNumValueVar + "<\/span><\/div>";
						productAreaHTML = filterNumHTMLStart + filterNumRender + filterNumHTMLEnd;
					}
					var filterClearTagStart = productAreaHTML.indexOf("<!--FILTERCLEAR");
					if (filterClearTagStart != -1) {
						var filterClearTagEnd = productAreaHTML.indexOf(">",filterClearTagStart);
						var filterClearTagStrip = productAreaHTML.substring(filterClearTagStart,(filterClearTagEnd+1));
						var filterClearHTMLStart = productAreaHTML.substr(0,filterClearTagStart);
						var filterClearHTMLEnd = productAreaHTML.substr((filterClearTagEnd+1));
						var filterClearRender = "";
						var filterClearValueStart = filterClearTagStrip.indexOf(" VALUE=");
						if (filterClearValueStart != -1) {
							var filterClearValueEnd = filterClearTagStrip.indexOf("]",filterClearValueStart);
							var filterClearValueVar = filterClearTagStrip.substring((filterClearValueStart+8),(filterClearValueEnd));
						}
						else {
							var filterClearValueVar = "";
						}
						var filterClearItalicStart = filterClearTagStrip.indexOf(" FNTAW=");
						if (filterClearItalicStart != -1) {
							var filterClearItalicEnd = filterClearTagStrip.indexOf("]",filterClearItalicStart);
							var filterClearItalicVar = "<i class='fa " + filterClearTagStrip.substring((filterClearItalicStart+8),(filterClearItalicEnd)) + "'><\/i>";
						}
						else {
							var filterClearItalicVar = "";
						}
						var filterClearWaitStart = filterClearTagStrip.indexOf(" CLEARWAIT");
						if (filterClearWaitStart != -1) {
							caClearWait = 1;
						}
						filterClearRender += "<div id='panel1FilterClear' class='panel_1_filter_clear panel_1_filter_clear_off'";
						if (hoverState==1) {
							filterClearRender += " onmouseover='panel1ButtonHover(\"panel1FilterClear\",\"panel_1_filter_clear\",1);' onfocus='panel1ButtonHover(\"panel1FilterClear\",\"panel_1_filter_clear\",1);' onmouseout='panel1ButtonHover(\"panel1FilterClear\",\"panel_1_filter_clear\",0);' onblur='panel1ButtonHover(\"panel1FilterClear\",\"panel_1_filter_clear\",0);'";
						}
						filterClearRender += " onclick='panel1FilterClear();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FilterClear();}'>" + filterClearItalicVar + filterClearValueVar + "<\/div>";
						productAreaHTML = filterClearHTMLStart + filterClearRender + filterClearHTMLEnd;
					}
					var filterTextClearTagStart = baseHTML.indexOf("<!--FILTERTEXTCLEAR");
					if (filterTextClearTagStart != -1) {
						var filterTextClearTagEnd = baseHTML.indexOf(">",filterTextClearTagStart);
						var filterTextClearTagStrip = baseHTML.substring(filterTextClearTagStart,(filterTextClearTagEnd+1));
						var filterTextClearHTMLStart = baseHTML.substr(0,filterTextClearTagStart);
						var filterTextClearHTMLEnd = baseHTML.substr((filterTextClearTagEnd+1));
						var filterTextClearRender = "";
						var filterTextClearValueStart = filterTextClearTagStrip.indexOf(" VALUE=");
						if (filterTextClearValueStart != -1) {
							var filterTextClearValueEnd = filterTextClearTagStrip.indexOf("]",filterTextClearValueStart);
							var filterTextClearValueVar = filterTextClearTagStrip.substring((filterTextClearValueStart+8),(filterTextClearValueEnd));
						}
						else {
							var filterTextClearValueVar = "";
						}
						var filterTextClearItalicStart = filterTextClearTagStrip.indexOf(" FNTAW=");
						if (filterTextClearItalicStart != -1) {
							var filterTextClearItalicEnd = filterTextClearTagStrip.indexOf("]",filterTextClearItalicStart);
							var filterTextClearItalicVar = "<i class='fa " + filterTextClearTagStrip.substring((filterTextClearItalicStart+8),(filterTextClearItalicEnd)) + "'><\/i>";
						}
						else {
							var filterTextClearItalicVar = "";
						}
						filterTextClearRender += "<div id='panel1FilterTextClearButton' class='panel_1_filter_text_clear_button panel_1_filter_text_clear_button_off'";
						if (hoverState==1) {
							filterTextClearRender += " onmouseover='panel1ButtonHover(\"panel1FilterTextClearButton\",\"panel_1_filter_text_clear_button\",1);' onfocus='panel1ButtonHover(\"panel1FilterTextClearButton\",\"panel_1_filter_text_clear_button\",1);' onmouseout='panel1ButtonHover(\"panel1FilterTextClearButton\",\"panel_1_filter_text_clear_button\",0);' onblur='panel1ButtonHover(\"panel1FilterTextClearButton\",\"panel_1_filter_text_clear_button\",0);'";
						}
						filterTextClearRender += " onclick='panel1FilterTextClear(-1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FilterTextClear(-1);}'>" + filterTextClearItalicVar + filterTextClearValueVar + "<\/div>";
						baseHTML = filterTextClearHTMLStart + filterTextClearRender + filterTextClearHTMLEnd;
					}
					var filterSearchTagStart = productAreaHTML.indexOf("<!--FILTERSEARCH");
					if (filterSearchTagStart != -1) {
						var filterSearchTagEnd = productAreaHTML.indexOf(">",filterSearchTagStart);
						var filterSearchTagStrip = productAreaHTML.substring(filterSearchTagStart,(filterSearchTagEnd+1));
						var filterSearchHTMLStart = productAreaHTML.substr(0,filterSearchTagStart);
						var filterSearchHTMLEnd = productAreaHTML.substr((filterSearchTagEnd+1));
						var filterSearchRender = "";
						var filterSearchValueStart = filterSearchTagStrip.indexOf(" VALUE=");
						if (filterSearchValueStart != -1) {
							var filterSearchValueEnd = filterSearchTagStrip.indexOf("]",filterSearchValueStart);
							var filterSearchValueVar = filterSearchTagStrip.substring((filterSearchValueStart+8),(filterSearchValueEnd));
						}
						else {
							var filterSearchValueVar = "";
						}
						var filterLoaderStart = filterSearchTagStrip.indexOf(" LOADER");
						var filterLoader = 1;
						if (filterLoaderStart != -1) {
							filterLoader = 2;
						}
						var filterSearchItalicStart = filterSearchTagStrip.indexOf(" FNTAW=");
						if (filterSearchItalicStart != -1) {
							var filterSearchItalicEnd = filterSearchTagStrip.indexOf("]",filterSearchItalicStart);
							var filterSearchItalicVar = "<i class='fa " + filterSearchTagStrip.substring((filterSearchItalicStart+8),(filterSearchItalicEnd)) + "'><\/i>";
						}
						else {
							var filterSearchItalicVar = "";
						}
						filterSearchRender += "<div id='panel1FilterSearch' class='panel_1_filter_search panel_1_filter_search_off'";
						if (hoverState==1) {
							filterSearchRender += " onmouseover='panel1ButtonHover(\"panel1FilterSearch\",\"panel_1_filter_search\",1);' onfocus='panel1ButtonHover(\"panel1FilterSearch\",\"panel_1_filter_search\",1);' onmouseout='panel1ButtonHover(\"panel1FilterSearch\",\"panel_1_filter_search\",0);' onblur='panel1ButtonHover(\"panel1FilterSearch\",\"panel_1_filter_search\",0);'";
						}
						filterSearchRender += " onclick='panel1FilterSearch(" + filterLoader + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FilterSearch(" + filterLoader + ");}'>" + filterSearchItalicVar + filterSearchValueVar + "<\/div>";
						productAreaHTML = filterSearchHTMLStart + filterSearchRender + filterSearchHTMLEnd;
					}
					var filterFieldTagStart = productAreaHTML.indexOf("<!--FILTERFIELD");
					if (filterFieldTagStart != -1) {
						var filterFieldTagEnd = productAreaHTML.indexOf(">",filterFieldTagStart);
						var filterFieldTagStrip = productAreaHTML.substring(filterFieldTagStart,(filterFieldTagEnd+1));
						var filterFieldHTMLStart = productAreaHTML.substr(0,filterFieldTagStart);
						var filterFieldHTMLEnd = productAreaHTML.substr((filterFieldTagEnd+1));
						var filterFieldRender = "";
						var filterClickStart = filterFieldTagStrip.indexOf(" CLICK");
						if (filterClickStart != -1) {
							panel1LabelClick = 1;
						}
						var filterFilterStart = filterFieldTagStrip.indexOf(" FILTER");
						if (filterFilterStart != -1) {
							panel1LabelFilter = 1;
						}
						var filterClearFocus = "";
						var filterClearStart = filterFieldTagStrip.indexOf(" CLEAR");
						if (filterClearStart != -1) {
							filterClearFocus = " onfocus='panel1FilterClear(1);'";
							caFilterEmpty = 1;
						}
						var filterKeyStart = filterFieldTagStrip.indexOf(" AUTOKEY");
						if (filterKeyStart != -1) {
							p1FilterEveryKey = 1;
						}
						var filterMultiStart = filterFieldTagStrip.indexOf(" MULTI");
						if (filterMultiStart != -1) {
							caFilterMulti = 1;
						}
						var filterClearWaitStart = filterFieldTagStrip.indexOf(" CLEARWAIT");
						if (filterClearWaitStart != -1) {
							caClearWait = 1;
						}
						var filterShowStart = productAreaHTML.indexOf(" SHOW=");
						if (filterShowStart != -1) {
							filterShowArr.length = 0;
							var filterShowEnd = productAreaHTML.indexOf("]",filterShowStart);
							var filterShow = productAreaHTML.substring((filterShowStart+7),(filterShowEnd));
							filterShowArr = filterShow.split(",",filterShowStart);
						}
						var filterHideStart = productAreaHTML.indexOf(" HIDE=");
						if (filterHideStart != -1) {
							filterHideArr.length = 0;
							var filterHideEnd = productAreaHTML.indexOf("]",filterHideStart);
							var filterHide = productAreaHTML.substring((filterHideStart+7),(filterHideEnd));
							filterHideArr = filterHide.split(",");
						}
						var filterLoaderStart = filterFieldTagStrip.indexOf(" LOADER");
						var filterLoader = 1;
						if (filterLoaderStart != -1) {
							filterLoader = 2;
						}
						var filterFieldValueStart = filterFieldTagStrip.indexOf(" VALUE=");
						var filterFieldValueEnd = filterFieldTagStrip.indexOf("]");
						if (filterFieldValueStart != -1) {
							var filterFieldValueVal = filterFieldTagStrip.substring((filterFieldValueStart+8),(filterFieldValueEnd));
							var filterFieldValueVar = filterFieldValueVal;
							var panel1FilterFieldDefault = filterFieldValueVal;
							if (panel1FilterFieldCurrent == "") {
								var filterFieldValueRender = " placeholder='"+filterFieldValueVal+"'";
							}
							else {
								var filterFieldValueRender = " placeholder='"+panel1FilterFieldCurrent+"'";
							}
							var filterFieldFocusRender = "";
							var filterFieldBlurRender = "";
						}
						else {
							var filterFieldValueVar = "";
							var panel1FilterFieldDefault = "";
							if (panel1FilterFieldCurrent == "") {
								var filterFieldValueRender = "";
							}
							else {
								var filterFieldValueRender = " placeholder='"+panel1FilterFieldCurrent+"'";
							}
							var filterFieldFocusRender = "";
							var filterFieldBlurRender = "";
						}
						filterFieldRender += "<input type='text' name='panel1FilterField' id='panel1FilterField'" + filterFieldValueRender + " class='panel_1_filter_field panel_1_filter_field_base'" + filterFieldFocusRender + " onkeyup='panel1ClassFilterType(event," + filterLoader + ");'" + filterClearFocus + " onblur='clickOff();" + filterFieldBlurRender + "' title=\"" + filterFieldValueVar + "\"><div class='autocomp_shadow' id='autocompShadow'><div class='autocomp_output' id='autocompOutput'><\/div><\/div>";
						productAreaHTML = filterFieldHTMLStart + filterFieldRender + filterFieldHTMLEnd;
					}
					else {
						panel1LabelFilter = 1;
						panel1LabelClick = 0;
						baseHTML += "<input type='hidden' name='panel1FilterField' id='panel1FilterField' value='' title=\"Filter\">";
					}
					if (panel1RedrawVar == 1) {
						if(gLog==1){console.log("PRODUCT panel1RedrawVar == 1");}
						var prodAllVar = 0;
						var prodAllText = "";
						var prodTagStart = productAreaHTML.indexOf("<!--PRODUCT");
						if (prodTagStart != -1) {
							var prodTagEnd = productAreaHTML.indexOf(">",prodTagStart);
							var prodTagStrip = productAreaHTML.substring(prodTagStart,(prodTagEnd+1));
							var prodTagHTMLStart = productAreaHTML.substr(0,prodTagStart);
							var prodTagHTMLEnd = productAreaHTML.substr((prodTagEnd+1));
							var productPostload = prodTagStrip.indexOf(" POSTLOAD");
							if (productPostload != -1) {
								panel1PostLoad = 1;
							}
							productAreaHTML = prodTagHTMLStart + "<div id='caProdRedrawArea'><\/div>" + prodTagHTMLEnd;
						}
						var groupTagStart = productAreaHTML.indexOf("<!--GROUP");
						if (groupTagStart != -1) {
							var groupTagEnd = productAreaHTML.indexOf(">",groupTagStart);
							var groupTagStrip = productAreaHTML.substring(groupTagStart,(groupTagEnd+1));
							var groupTagHTMLStart = productAreaHTML.substr(0,groupTagStart);
							var groupTagHTMLEnd = productAreaHTML.substr((groupTagEnd+1));
							var groupuctPostload = groupTagStrip.indexOf(" POSTLOAD");
							if (groupuctPostload != -1) {
								panel1PostLoad = 1;
							}
							productAreaHTML = groupTagHTMLStart + "<div id='caGroupRedrawArea'><\/div>" + groupTagHTMLEnd;
						}
						var filterPageStart = productAreaHTML.indexOf("<!--FILTERPAGINATION");
						if (filterPageStart != -1) {
							var filterPageEnd = productAreaHTML.indexOf(">",filterPageStart);
							var filterPageStrip = productAreaHTML.substring(filterPageStart,(filterPageEnd+1));
							var filterPageHTMLStart = productAreaHTML.substr(0,filterPageStart);
							var filterPageHTMLEnd = productAreaHTML.substr((filterPageEnd+1));
							productAreaHTML = filterPageHTMLStart + "<div id='caPaginationArea'><\/div>" + filterPageHTMLEnd;
						}
					}
					else {
						if(gLog==1){console.log("PRODUCT panel1RedrawVar != 1");}
						var prodSearchOn = 1;
						while (prodSearchOn == 1) {
							var prodTagStart = productAreaHTML.indexOf("<!--PRODUCT");
							var prodAllVar = 0;
							var prodAllText = "";
							if (prodTagStart != -1) {
								var prodTagEnd = productAreaHTML.indexOf(">",prodTagStart);
								var prodTagStrip = productAreaHTML.substring(prodTagStart,(prodTagEnd+1));
								var baseHTMLStart = productAreaHTML.substr(0,prodTagStart);
								var baseHTMLEnd = productAreaHTML.substr((prodTagEnd+1));
								var productHTML = "";
								var productID = -1;
								var productCatID = -1;
								var productIDStart = prodTagStrip.indexOf(" ID=");
								var productCatIDStart = prodTagStrip.indexOf(" CATID=");
								var productScatStart = prodTagStrip.indexOf(" SCAT=");
								var productCartStart = prodTagStrip.indexOf(" CART");
								var productPostload = prodTagStrip.indexOf(" POSTLOAD");
								if (productIDStart != -1) {
									var productIDEnd = prodTagStrip.indexOf("]",productIDStart);
									productID = prodTagStrip.substring((productIDStart+5),(productIDEnd));
								}
								else if (productCatIDStart != -1) {
									var productCatIDEnd = prodTagStrip.indexOf("]",productCatIDStart);
									productCatID = prodTagStrip.substring((productCatIDStart+8),(productCatIDEnd));
								}
								if (productScatStart != -1) {
									var productScatEnd = prodTagStrip.indexOf("]",productScatStart);
									var productScatBase = prodTagStrip.substring((productScatStart+7),(productScatEnd));
									var productScatClick = "panel1ProdScat(\"" + productScatBase + "\");";
								}
								else {
									var productScatClick = "";
								}
								if (productPostload != -1) {
									panel1PostLoad = 1;
								}
								if (productID != -1) {
									for (y=0; y<prodDisplayArray.length; y++) {
										if (prodDisplayArray[y][0] == productID) {
											if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
												var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
											}
											else {
												var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
											}
											var prodCloseThings = "";
											var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
											if (prodCloseTagStart != -1) {
												var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
												var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
												var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
												prodCloseThings = "genericCloseMe();";
												productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
											}
											if (productCartStart != -1) {
												var productCartEnable = "panel1ProdCart("+prodDisplayArray[y][0]+");";
											}
											else {
												var productCartEnable = "";
											}
											var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
											if (prodIterTagStart != -1) {
												var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
												var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
												var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
												var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
												productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
											}
											var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
											if (famNameTagStart != -1) {
												var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
												var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
												var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
												var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
												var famNameValueVal = "FAMILY NAME ERROR";
												var famProdCatNum = -1;
												for (cn=0; cn<catArray.length; cn++) {
													if (catArray[cn][0] == prodDisplayArray[y][8]) {
														famProdCatNum = cn;
														break;
													}
												}
												if (famProdCatNum != -1) {
													for (fn=0; fn<famArray.length; fn++) {
														if (famArray[fn][0] == catArray[famProdCatNum][2]) {
															famNameValueVal = famArray[fn][1];
															break;
														}
													}
												}
												productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
											}
											var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
											if (catNameTagStart != -1) {
												var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
												var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
												var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
												var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
												var catNameValueVal = "CATEGORY NAME ERROR";
												for (cn=0; cn<catArray.length; cn++) {
													if (catArray[cn][0] == prodDisplayArray[y][8]) {
														catNameValueVal = catArray[cn][1];
														break;
													}
												}
												productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
											}
											var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
											if (prodDiscTagStart != -1) {
												var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
												var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
												var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
												var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
												var prodDiscWrite = "";
												var discVal = prodDisplayArray[y][6];
												if (discVal != 1) {
													prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
												}
												productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
											}
											var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
											if (prodNameTagStart != -1) {
												var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
												var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
												var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
												var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
												var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
												if (replaceImgTest != -1) {
													var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
													var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
													var replaceImgMouseClass = " img_replace_active";
												}
												else {
													var replaceImgMouseOver = "";
													var replaceImgMouseOut = "";
													var replaceImgMouseClass = "";
												}
												var descTest = prodNameTagStrip.indexOf(" DESC");
												if (descTest != -1) {
													var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
												}
												else {
													var descVal = "";
												}
												var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
												var prodPopupMO = "";
												var prodPopupDIV = "";
												if (prodPopupTestStart != -1) {
													var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
													var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
													prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
													prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
												}
												var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
												var prodNameTagLink = "";
												if (prodNameTagLinkTest != -1) {
													prodNameTagLink += " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + productScatClick + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + productScatClick + "}'";
													if (hoverState==1) {
														prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
													}
												}
												var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
												if (prodNameItalicStart != -1) {
													var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
													var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
												}
												else {
													var prodNameItalicVar = "";
												}
												var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
												if (prodNameSizeStart != -1) {
													var prodNameDispVal = prodDisplayArray[y][21];
												}
												else {
													var prodNameDispVal = prodDisplayArray[y][2];
												}
												if (FPC==1) {
													var isProductChecked = 1;
													window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
													var baseProductStyle = " panel_1_product_name_on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var isProductChecked = 1;
														window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
														var baseProductStyle = " panel_1_product_name_on";
													}
													else {
														var isProductChecked = 0;
														var baseProductStyle = " panel_1_product_name_off";
													}
												}
												productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + ">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
											}
											var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
											if (prodDescTagStart != -1) {
												var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
												var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
												var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
												var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
												productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
											}
											var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
											if (prodCatTagStart != -1) {
												var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
												var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
												var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
												var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
												productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
											}
											var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
											if (prodBigImgTagStart != -1) {
												var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
												var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
												var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
												var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
												var replaceBigImgRender = "";
												var replaceBigImgMouseOver = "";
												var replaceBigImgMouseOut = "";
												var replaceBigImgMouseClass = "";
												var replaceBigImgPreset = prodDisplayArray[y][4];
												var replaceBigImgHidden = " style='display:none;'";
												var replaceBigImgBackClass = "off";
												var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
												if (replaceBigImgTest != -1) {
													replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
													replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
													replaceBigImgMouseClass = " img_replace_active";
													var replaceBigImgLength = prodDisplayArray[y][4].length;
													if (FPC==1) {
														var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
														var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
														replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
														replaceBigImgHidden = "";
														replaceBigImgBackClass = "on";
													}
													else {
														if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
															var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
															var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
															replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
															replaceBigImgHidden = "";
															replaceBigImgBackClass = "on";
														}
													}
												}
												var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
												var prodBigImgTagLinkStart = "";
												var prodBigImgTagLinkEnd = "";
												if (prodBigImgTagLinkTest != -1) {
													prodBigImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
													if (hoverState==1) {
														prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
													}
													prodBigImgTagLinkStart += ">";
													prodBigImgTagLinkEnd = "<\/a>";
												}
												var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
												if (prodBigImgTagDivTest != -1) {
													var postImgBig = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'";
													if (panel1PostLoad == 1) {
														postImgBig = "";
													};
													if (panel1PostLoad == 1) {plPostProd = 1;}
													p1PHWon = 1;
													replaceBigImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
													if (hoverState==1) {
														replaceBigImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
													}
													replaceBigImgRender += "><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
													if (hoverState==1) {
														replaceBigImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
													}
													replaceBigImgRender += ">&nbsp;<\/div><\/div>";
													productHTMLTest = baseProdBigImgHTMLStart + replaceBigImgRender + baseProdBigImgHTMLEnd;
												}
												else {
													productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
												}
											}
											var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
											if (prodSmImgTagStart != -1) {
												var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
												var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
												var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
												var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
												var replaceSmImgRender = "";
												var replaceSmImgMouseOver = "";
												var replaceSmImgMouseOut = "";
												var replaceSmImgMouseClass = "";
												var replaceSmImgPreset = prodDisplayArray[y][5];
												var replaceSmImgHidden = " style='display:none;'";
												var replaceSmImgBackClass = "off";
												var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
												if (replaceSmImgTest != -1) {
													replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
													replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
													replaceSmImgMouseClass = " img_replace_active";
													var replaceSmImgLength = prodDisplayArray[y][5].length;
													if (FPC==1) {
														var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
														var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
														replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
														replaceSmImgHidden = "";
														replaceSmImgBackClass = "on";
													}
													else {
														if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
															var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
															var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
															replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
															replaceSmImgHidden = "";
															replaceSmImgBackClass = "on";
														}
													}
												}
												var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
												var prodSmImgTagLinkStart = "";
												var prodSmImgTagLinkEnd = "";
												if (prodSmImgTagLinkTest != -1) {
													prodSmImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);return false;}'";
													if (hoverState==1) {
														prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
													}
													prodSmImgTagLinkStart += ">";
													prodSmImgTagLinkEnd = "<\/a>";
												}
												var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
												if (prodSmImgTagDivTest != -1) {
													var postImgSm = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'";
													if (panel1PostLoad == 1) {
														postImgSm = "";
													};
													if (panel1PostLoad == 1) {plPostProd = 1;}
													p1PHWon = 1;
													replaceSmImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);return false;}'";
													if (hoverState==1) {
														replaceSmImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
													}
													replaceSmImgRender += "><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"'" + postImgSm + "><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
													if (hoverState==1) {
														replaceSmImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
													}
													replaceSmImgRender += ">&nbsp;<\/div><\/div>";
													productHTMLTest = baseProdSmImgHTMLStart + replaceSmImgRender + baseProdSmImgHTMLEnd;
												}
												else {
													productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
												}
											}
											var cartButtonTagStart = productHTMLTest.indexOf("<!--ADDTOCART");
											if (cartButtonTagStart != -1) {
												panel1ProdCartOn = 1;
												var cartButtonTagEnd = productHTMLTest.indexOf(">",cartButtonTagStart);
												var cartButtonTagStrip = productHTMLTest.substring(cartButtonTagStart,(cartButtonTagEnd+1));
												var cartButtonHTMLStart = productHTMLTest.substr(0,cartButtonTagStart);
												var cartButtonHTMLEnd = productHTMLTest.substr((cartButtonTagEnd+1));
												var cartButtonRender = "";
												var cartButtonValueStart = cartButtonTagStrip.indexOf(" VALUE=");
												if (cartButtonValueStart != -1) {
													var cartButtonValueEnd = cartButtonTagStrip.indexOf("]",cartButtonValueStart);
													var cartButtonValueVar = cartButtonTagStrip.substring((cartButtonValueStart+8),(cartButtonValueEnd));
												}
												else {
													var cartButtonValueVar = prodDisplayArray[y][2];
												}
												var cartButtonClickStart = cartButtonTagStrip.indexOf(" CLICK");
												if (cartButtonClickStart != -1) {
													var cartButtonClickVar = "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);";
												}
												else {
													var cartButtonClickVar = "";
												}
												var cartButtonItalicStart = cartButtonTagStrip.indexOf(" FNTAW=");
												if (cartButtonItalicStart != -1) {
													var cartButtonItalicEnd = cartButtonTagStrip.indexOf("]",cartButtonItalicStart);
													var cartButtonItalicVar = "<i class='fa " + cartButtonTagStrip.substring((cartButtonItalicStart+8),(cartButtonItalicEnd)) + "'><\/i>";
												}
												else {
													var cartButtonItalicVar = "";
												}
												cartButtonRender += "<div id='panel1CartButton" + prodDisplayArray[y][0] + "' class='panel_1_cart_button panel_1_cart_button_off'";
												if (hoverState==1) {
													cartButtonRender += " onmouseover='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onfocus='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onmouseout='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);' onblur='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);'";
												}
												cartButtonRender += " onclick='" + prodCloseThings + "" + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "" + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");}'>" + cartButtonItalicVar + cartButtonValueVar + "<\/div>";
												productHTMLTest = cartButtonHTMLStart + cartButtonRender + cartButtonHTMLEnd;
											}
											productHTML += productHTMLTest;
											break;
										}
									}
									productAreaHTML = baseHTMLStart + productHTML + baseHTMLEnd;
								}
								else if (productCatID != -1) {
									var whatCatProdIndex = -1;
									for (x=0; x<catArray.length; x++) {
										if (catArray[x][0] == productCatID) {
											whatCatProdIndex = catArray[x][0];
											break;
										}
									}
									if (whatCatProdIndex != -1) {
										for (y=0; y<prodDisplayArray.length; y++) {
											if (prodDisplayArray[y][8] == whatCatProdIndex) {
												if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
													var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
												}
												else {
													var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
												}
												if (productCartStart != -1) {
													var productCartEnable = "panel1ProdCart("+prodDisplayArray[y][0]+");";
												}
												else {
													var productCartEnable = "";
												}
												var prodCloseThings = "";
												var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
												if (prodCloseTagStart != -1) {
													var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
													var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
													var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
													prodCloseThings = "genericCloseMe();";
													productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
												}
												var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
												if (prodIterTagStart != -1) {
													var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
													var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
													var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
													var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
													productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
												}
												var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
												if (famNameTagStart != -1) {
													var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
													var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
													var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
													var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
													var famNameValueVal = "FAMILY NAME ERROR";
													var famProdCatNum = -1;
													for (cn=0; cn<catArray.length; cn++) {
														if (catArray[cn][0] == prodDisplayArray[y][8]) {
															famProdCatNum = cn;
															break;
														}
													}
													if (famProdCatNum != -1) {
														for (fn=0; fn<famArray.length; fn++) {
															if (famArray[fn][0] == catArray[famProdCatNum][2]) {
																famNameValueVal = famArray[fn][1];
																break;
															}
														}
													}
													productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
												}
												var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
												if (catNameTagStart != -1) {
													var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
													var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
													var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
													var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
													var catNameValueVal = "CATEGORY NAME ERROR";
													for (cn=0; cn<catArray.length; cn++) {
														if (catArray[cn][0] == prodDisplayArray[y][8]) {
															catNameValueVal = catArray[cn][1];
															break;
														}
													}
													productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
												}
												var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
												if (prodDiscTagStart != -1) {
													var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
													var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
													var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
													var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
													var prodDiscWrite = "";
													var discVal = prodDisplayArray[y][6];
													if (discVal != 1) {
														prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
													}
													productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
												}
												var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
												if (prodNameTagStart != -1) {
													var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
													var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
													var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
													var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
													var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
													if (replaceImgTest != -1) {
														var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														var replaceImgMouseClass = " img_replace_active";
													}
													else {
														var replaceImgMouseOver = "";
														var replaceImgMouseOut = "";
														var replaceImgMouseClass = "";
													}
													var descTest = prodNameTagStrip.indexOf(" DESC");
													if (descTest != -1) {
														var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
													}
													else {
														var descVal = "";
													}
													var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
													var prodPopupMO = "";
													var prodPopupDIV = "";
													if (prodPopupTestStart != -1) {
														var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
														var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
														prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
														prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
													}
													var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
													var prodNameTagLink = "";
													if (prodNameTagLinkTest != -1) {
														prodNameTagLink += " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + "}'";
														if (hoverState==1) {
															prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver + prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
														}
													}
													var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
													if (prodNameItalicStart != -1) {
														var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
														var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
													}
													else {
														var prodNameItalicVar = "";
													}
													var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
													if (prodNameSizeStart != -1) {
														var prodNameDispVal = prodDisplayArray[y][21];
													}
													else {
														var prodNameDispVal = prodDisplayArray[y][2];
													}
													if (FPC==1) {
														var isProductChecked = 1;
														window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
														var baseProductStyle = " panel_1_product_name_on";
													}
													else {
														if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
															var isProductChecked = 1;
															window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
															var baseProductStyle = " panel_1_product_name_on";
														}
														else {
															var isProductChecked = 0;
															var baseProductStyle = " panel_1_product_name_off";
														}
													}
													productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + ">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
												}
												var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
												if (prodDescTagStart != -1) {
													var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
													var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
													var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
													var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
													productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
												}
												var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
												if (prodCatTagStart != -1) {
													var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
													var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
													var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
													var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
													productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
												}
												var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
												if (prodBigImgTagStart != -1) {
													var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
													var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
													var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
													var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
													var replaceBigImgRender = "";
													var replaceBigImgMouseOver = "";
													var replaceBigImgMouseOut = "";
													var replaceBigImgMouseClass = "";
													var replaceBigImgPreset = prodDisplayArray[y][4];
													var replaceBigImgHidden = " style='display:none;'";
													var replaceBigImgBackClass = "off";
													var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
													if (replaceBigImgTest != -1) {
														replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														replaceBigImgMouseClass = " img_replace_active";
														var replaceBigImgLength = prodDisplayArray[y][4].length;
														if (FPC==1) {
															var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
															var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
															replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
															replaceBigImgHidden = "";
															replaceBigImgBackClass = "on";
														}
														else {
															if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
																var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
																replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
																replaceBigImgHidden = "";
																replaceBigImgBackClass = "on";
															}
														}
													}
													var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
													var prodBigImgTagLinkStart = "";
													var prodBigImgTagLinkEnd = "";
													if (prodBigImgTagLinkTest != -1) {
														prodBigImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
														if (hoverState==1) {
															prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
														}
														prodBigImgTagLinkStart += ">";
														prodBigImgTagLinkEnd = "<\/a>";
													}
													var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
													if (prodBigImgTagDivTest != -1) {
														var postImgBig = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'";
														if (panel1PostLoad == 1) {
															postImgBig = "";
														};
														if (panel1PostLoad == 1) {plPostProd = 1;}
														p1PHWon = 1;
														replaceBigImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
														if (hoverState==1) {
															prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
														}
														prodBigImgTagLinkStart += "><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
														if (hoverState==1) {
															prodBigImgTagLinkStart += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
														}
														prodBigImgTagLinkStart += ">&nbsp;<\/div><\/div>";
														productHTMLTest = baseProdBigImgHTMLStart + replaceBigImgRender + baseProdBigImgHTMLEnd;
													}
													else {
														productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
													}
												}
												var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
												if (prodSmImgTagStart != -1) {
													var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
													var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
													var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
													var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
													var replaceSmImgRender = "";
													var replaceSmImgMouseOver = "";
													var replaceSmImgMouseOut = "";
													var replaceSmImgMouseClass = "";
													var replaceSmImgPreset = prodDisplayArray[y][5];
													var replaceSmImgHidden = " style='display:none;'";
													var replaceSmImgBackClass = "off";
													var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
													if (replaceSmImgTest != -1) {
														replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
														replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
														replaceSmImgMouseClass = " img_replace_active";
														var replaceSmImgLength = prodDisplayArray[y][5].length;
														if (FPC==1) {
															var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
															var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
															replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
															replaceSmImgHidden = "";
															replaceSmImgBackClass = "on";
														}
														else {
															if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
																var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
																var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
																replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
																replaceSmImgHidden = "";
																replaceSmImgBackClass = "on";
															}
														}
													}
													var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
													var prodSmImgTagLinkStart = "";
													var prodSmImgTagLinkEnd = "";
													if (prodSmImgTagLinkTest != -1) {
														prodSmImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
														if (hoverState==1) {
															prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
														}
														prodSmImgTagLinkStart += ">";
														prodSmImgTagLinkEnd = "<\/a>";
													}
													var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
													if (prodSmImgTagDivTest != -1) {
														var postImgSm = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'";
														if (panel1PostLoad == 1) {
															postImgSm = "";
														};
														if (panel1PostLoad == 1) {plPostProd = 1;}
														p1PHWon = 1;
														replaceSmImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
														if (hoverState==1) {
															replaceSmImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
														}
														replaceSmImgRender += "><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"'" + postImgSm + "><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
														if (hoverState==1) {
															replaceSmImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
														}
														replaceSmImgRender += ">&nbsp;<\/div><\/div>";
														productHTMLTest = baseProdSmImgHTMLStart + replaceSmImgRender + baseProdSmImgHTMLEnd;
													}
													else {
														productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
													}
												}
												var cartButtonTagStart = productHTMLTest.indexOf("<!--ADDTOCART");
												if (cartButtonTagStart != -1) {
													panel1ProdCartOn = 1;
													var cartButtonTagEnd = productHTMLTest.indexOf(">",cartButtonTagStart);
													var cartButtonTagStrip = productHTMLTest.substring(cartButtonTagStart,(cartButtonTagEnd+1));
													var cartButtonHTMLStart = productHTMLTest.substr(0,cartButtonTagStart);
													var cartButtonHTMLEnd = productHTMLTest.substr((cartButtonTagEnd+1));
													var cartButtonRender = "";
													var cartButtonValueStart = cartButtonTagStrip.indexOf(" VALUE=");
													if (cartButtonValueStart != -1) {
														var cartButtonValueEnd = cartButtonTagStrip.indexOf("]",cartButtonValueStart);
														var cartButtonValueVar = cartButtonTagStrip.substring((cartButtonValueStart+8),(cartButtonValueEnd));
													}
													else {
														var cartButtonValueVar = prodDisplayArray[y][2];
													}
													var cartButtonClickStart = cartButtonTagStrip.indexOf(" CLICK");
													if (cartButtonClickStart != -1) {
														var cartButtonClickVar = "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);";
													}
													else {
														var cartButtonClickVar = "";
													}
													var cartButtonItalicStart = cartButtonTagStrip.indexOf(" FNTAW=");
													if (cartButtonItalicStart != -1) {
														var cartButtonItalicEnd = cartButtonTagStrip.indexOf("]",cartButtonItalicStart);
														var cartButtonItalicVar = "<i class='fa " + cartButtonTagStrip.substring((cartButtonItalicStart+8),(cartButtonItalicEnd)) + "'><\/i>";
													}
													else {
														var cartButtonItalicVar = "";
													}
													cartButtonRender += "<div id='panel1CartButton" + prodDisplayArray[y][0] + "' class='panel_1_cart_button panel_1_cart_button_off'";
													if (hoverState==1) {
														cartButtonRender += " onmouseover='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onfocus='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onmouseout='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);' onblur='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);'";
													}
													cartButtonRender += " onclick='" + prodCloseThings + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");}'>" + cartButtonItalicVar + cartButtonValueVar + "<\/div>";
													productHTMLTest = cartButtonHTMLStart + cartButtonRender + cartButtonHTMLEnd;
												}
												productHTML += productHTMLTest;
											}
										}
										productAreaHTML = baseHTMLStart + productHTML + baseHTMLEnd;
									}
								}
								else {
									for (y=0; y<prodDisplayArray.length; y++) {
										if (window["catActiveTrack"+prodDisplayArray[y][8]] == 1) {
											var productHTMLTest = autotextIt(p1TemplateSet.panel1CatProductDiv,"panel1CatProduct");
										}
										else {
											var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
										}
										if (productCartStart != -1) {
											var productCartEnable = "panel1ProdCart("+prodDisplayArray[y][0]+");";
										}
										else {
											var productCartEnable = "";
										}
										var prodCloseThings = "";
										var prodCloseTagStart = productHTMLTest.indexOf("<!--PRODCLOSE");
										if (prodCloseTagStart != -1) {
											var prodCloseTagEnd = productHTMLTest.indexOf(">",prodCloseTagStart);
											var baseProdCloseHTMLStart = productHTMLTest.substr(0,prodCloseTagStart);
											var baseProdCloseHTMLEnd = productHTMLTest.substr((prodCloseTagEnd+1));
											prodCloseThings = "genericCloseMe();";
											productHTMLTest = baseProdCloseHTMLStart + baseProdCloseHTMLEnd;
										}
										var prodIterTagStart = productHTMLTest.indexOf("|!--PRODITER");
										if (prodIterTagStart != -1) {
											var prodIterTagEnd = productHTMLTest.indexOf("|",prodIterTagStart+1);
											var prodIterTagStrip = productHTMLTest.substring(prodIterTagStart,(prodIterTagEnd+1));
											var baseProdIterHTMLStart = productHTMLTest.substr(0,prodIterTagStart);
											var baseProdIterHTMLEnd = productHTMLTest.substr((prodIterTagEnd+1));
											productHTMLTest = baseProdIterHTMLStart + prodDisplayArray[y][0] + baseProdIterHTMLEnd;
										}
										var famNameTagStart = productHTMLTest.indexOf("<!--FAMNAME");
										if (famNameTagStart != -1) {
											var famNameTagEnd = productHTMLTest.indexOf(">",famNameTagStart);
											var famNameTagStrip = productHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
											var baseFamNameHTMLStart = productHTMLTest.substr(0,famNameTagStart);
											var baseFamNameHTMLEnd = productHTMLTest.substr((famNameTagEnd+1));
											var famNameValueVal = "FAMILY NAME ERROR";
											var famProdCatNum = -1;
											for (cn=0; cn<catArray.length; cn++) {
												if (catArray[cn][0] == prodDisplayArray[y][8]) {
													famProdCatNum = cn;
													break;
												}
											}
											if (famProdCatNum != -1) {
												for (fn=0; fn<famArray.length; fn++) {
													if (famArray[fn][0] == catArray[famProdCatNum][2]) {
														famNameValueVal = famArray[fn][1];
														break;
													}
												}
											}
											productHTMLTest = baseFamNameHTMLStart + "<div id='panel1ProductFamilyName" + prodDisplayArray[y][0] + "' class='panel_1_product_family_name_" + prodDisplayArray[y][0] + " panel_1_product_family_name'>" + famNameValueVal + "<\/div>" + baseFamNameHTMLEnd;
										}
										var catNameTagStart = productHTMLTest.indexOf("<!--CATNAME");
										if (catNameTagStart != -1) {
											var catNameTagEnd = productHTMLTest.indexOf(">",catNameTagStart);
											var catNameTagStrip = productHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
											var baseCatNameHTMLStart = productHTMLTest.substr(0,catNameTagStart);
											var baseCatNameHTMLEnd = productHTMLTest.substr((catNameTagEnd+1));
											var catNameValueVal = "CATEGORY NAME ERROR";
											for (cn=0; cn<catArray.length; cn++) {
												if (catArray[cn][0] == prodDisplayArray[y][8]) {
													catNameValueVal = catArray[cn][1];
													break;
												}
											}
											productHTMLTest = baseCatNameHTMLStart + "<div id='panel1ProductCategoryName" + prodDisplayArray[y][0] + "' class='panel_1_product_category_name" + prodDisplayArray[y][0] + " panel_1_product_category_name'>" + catNameValueVal + "<\/div>" + baseCatNameHTMLEnd;
										}
										var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
										if (prodDiscTagStart != -1) {
											var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
											var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
											var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
											var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
											var prodDiscWrite = "";
											var discVal = prodDisplayArray[y][6];
											if (discVal != 1) {
												prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
											}
											productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
										}
										var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
										if (prodNameTagStart != -1) {
											var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
											var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
											var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
											var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
											var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
											if (replaceImgTest != -1) {
												var replaceImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												var replaceImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												var replaceImgMouseClass = " img_replace_active";
											}
											else {
												var replaceImgMouseOver = "";
												var replaceImgMouseOut = "";
												var replaceImgMouseClass = "";
											}
											var descTest = prodNameTagStrip.indexOf(" DESC");
											if (descTest != -1) {
												var descVal = "<span class='panel_1_product_name_desc'>" + prodDisplayArray[y][3] + "<\/span>";
											}
											else {
												var descVal = "";
											}
											var prodPopupTestStart = prodNameTagStrip.indexOf(" POPUP=");
											var prodPopupMO = "";
											var prodPopupDIV = "";
											if (prodPopupTestStart != -1) {
												var prodPopupTestEnd = prodNameTagStrip.indexOf("]",prodPopupTestStart);
												var prodPopupTimeout = prodNameTagStrip.substring((prodPopupTestStart+8),(prodPopupTestEnd));
												prodPopupMO = "panel1ProdPopup(\"" + prodDisplayArray[y][0] + "\"," + prodPopupTimeout + ");";
												prodPopupDIV = "<div id='panel1ProductPopup" + prodDisplayArray[y][0] + "' class='panel_1_product_popup' style='display:none;'><\/div>";
											}
											var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
											var prodNameTagLink = "";
											if (prodNameTagLinkTest != -1) {
												prodNameTagLink += " style='cursor:pointer;' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);" + productCartEnable + "}'";
												if (hoverState==1) {
													prodNameTagLink += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver +  prodPopupMO + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOver +  prodPopupMO + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceImgMouseOut + "'";
												}
											}
											var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
											if (prodNameItalicStart != -1) {
												var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
												var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
											}
											else {
												var prodNameItalicVar = "";
											}
											var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
											if (prodNameSizeStart != -1) {
												var prodNameDispVal = prodDisplayArray[y][21];
											}
											else {
												var prodNameDispVal = prodDisplayArray[y][2];
											}
											if (FPC==1) {
												var isProductChecked = 1;
												window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
												var baseProductStyle = " panel_1_product_name_on";
											}
											else {
												if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
													var isProductChecked = 1;
													window["panel1ProductNameVar"+prodDisplayArray[y][0]] = 1;
													var baseProductStyle = " panel_1_product_name_on";
												}
												else {
													var isProductChecked = 0;
													var baseProductStyle = " panel_1_product_name_off";
												}
											}
											productHTMLTest = baseProdNameHTMLStart + "<a name='panel1ProductAnchor" + prodDisplayArray[y][0] + "' id='panel1ProductAnchor" + prodDisplayArray[y][0] + "'><\/a><div id='panel1ProductName" + prodDisplayArray[y][0] + "' class='panel_1_product_name" + replaceImgMouseClass + baseProductStyle + "'" + prodNameTagLink + ">" + prodNameItalicVar + "<span class='panel_1_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodPopupDIV + baseProdNameHTMLEnd;
										}
										var prodDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
										if (prodDescTagStart != -1) {
											var prodDescTagEnd = productHTMLTest.indexOf(">",prodDescTagStart);
											var prodDescTagStrip = productHTMLTest.substring(prodDescTagStart,(prodDescTagEnd+1));
											var baseProdDescHTMLStart = productHTMLTest.substr(0,prodDescTagStart);
											var baseProdDescHTMLEnd = productHTMLTest.substr((prodDescTagEnd+1));
											productHTMLTest = baseProdDescHTMLStart + "<div id='panel1ProductDesc" + prodDisplayArray[y][0] + "' class='panel_1_product_desc'>" + prodDisplayArray[y][3] + "<\/div>" + baseProdDescHTMLEnd;
										}
										var prodCatTagStart = productHTMLTest.indexOf("<!--PRODCAT");
										if (prodCatTagStart != -1) {
											var prodCatTagEnd = productHTMLTest.indexOf(">",prodCatTagStart);
											var prodCatTagStrip = productHTMLTest.substring(prodCatTagStart,(prodCatTagEnd+1));
											var baseProdCatHTMLStart = productHTMLTest.substr(0,prodCatTagStart);
											var baseProdCatHTMLEnd = productHTMLTest.substr((prodCatTagEnd+1));
											productHTMLTest = baseProdCatHTMLStart + "<div id='panel1ProductCat" + prodDisplayArray[y][0] + "' class='panel_1_product_cat'>" + prodDisplayArray[y][16] + "<\/div>" + baseProdCatHTMLEnd;
										}
										var prodBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
										if (prodBigImgTagStart != -1) {
											var prodBigImgTagEnd = productHTMLTest.indexOf(">",prodBigImgTagStart);
											var prodBigImgTagStrip = productHTMLTest.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
											var baseProdBigImgHTMLStart = productHTMLTest.substr(0,prodBigImgTagStart);
											var baseProdBigImgHTMLEnd = productHTMLTest.substr((prodBigImgTagEnd+1));
											var replaceBigImgRender = "";
											var replaceBigImgMouseOver = "";
											var replaceBigImgMouseOut = "";
											var replaceBigImgMouseClass = "";
											var replaceBigImgPreset = prodDisplayArray[y][4];
											var replaceBigImgHidden = " style='display:none;'";
											var replaceBigImgBackClass = "off";
											var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
											if (replaceBigImgTest != -1) {
												replaceBigImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												replaceBigImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												replaceBigImgMouseClass = " img_replace_active";
												var replaceBigImgLength = prodDisplayArray[y][4].length;
												if (FPC==1) {
													var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
													var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
													replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
													replaceBigImgHidden = "";
													replaceBigImgBackClass = "on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var replaceBigImgPresetStart = prodDisplayArray[y][4].substr(0,(replaceBigImgLength-4));
														var replaceBigImgPresetEnd = prodDisplayArray[y][4].substr((replaceBigImgLength-4),replaceBigImgLength);
														replaceBigImgPreset = replaceBigImgPresetStart + "_2" + replaceBigImgPresetEnd;
														replaceBigImgHidden = "";
														replaceBigImgBackClass = "on";
													}
												}
											}
											var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
											var prodBigImgTagLinkStart = "";
											var prodBigImgTagLinkEnd = "";
											if (prodBigImgTagLinkTest != -1) {
												prodBigImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
												if (hoverState==1) {
													prodBigImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
												}
												prodBigImgTagLinkStart += ">";
												prodBigImgTagLinkEnd = "<\/a>";
											}
											var prodBigImgTagDivTest = prodBigImgTagStrip.indexOf(" DIV");
											if (prodBigImgTagDivTest != -1) {
												var postImgBig = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][4] + "\");'";
												if (panel1PostLoad == 1) {
													postImgBig = "";
												};
												if (panel1PostLoad == 1) {plPostProd = 1;}
												p1PHWon = 1;
												replaceBigImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_shell panel_1_product_big_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													replaceBigImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOver + "'";
												}
												replaceBigImgRender += "><div id='panel1ProductBigImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_back panel_1_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[y][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1ProductBigImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img_div_over panel_1_product_big_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceBigImgHidden;
												if (hoverState==1) {
													replaceBigImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceBigImgMouseOut + "'";
												}
												replaceBigImgRender += ">&nbsp;<\/div><\/div>";
												productHTMLTest = baseProdBigImgHTMLStart + replaceBigImgRender + baseProdBigImgHTMLEnd;
											}
											else {
												productHTMLTest = baseProdBigImgHTMLStart + prodBigImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductBigImg" + prodDisplayArray[y][0] + "' class='panel_1_product_big_img" + replaceBigImgMouseClass + "' src='" + clientImgBase + replaceBigImgPreset + "'>" + prodBigImgTagLinkEnd + baseProdBigImgHTMLEnd;
											}
										}
										var prodSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
										if (prodSmImgTagStart != -1) {
											var prodSmImgTagEnd = productHTMLTest.indexOf(">",prodSmImgTagStart);
											var prodSmImgTagStrip = productHTMLTest.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
											var baseProdSmImgHTMLStart = productHTMLTest.substr(0,prodSmImgTagStart);
											var baseProdSmImgHTMLEnd = productHTMLTest.substr((prodSmImgTagEnd+1));
											var replaceSmImgRender = "";
											var replaceSmImgMouseOver = "";
											var replaceSmImgMouseOut = "";
											var replaceSmImgMouseClass = "";
											var replaceSmImgPreset = prodDisplayArray[y][5];
											var replaceSmImgHidden = " style='display:none;'";
											var replaceSmImgBackClass = "off";
											var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
											if (replaceSmImgTest != -1) {
												replaceSmImgMouseOver = "panel1ProdImgReplace(1," + prodDisplayArray[y][0] + ");";
												replaceSmImgMouseOut = "panel1ProdImgReplace(2," + prodDisplayArray[y][0] + ");";
												replaceSmImgMouseClass = " img_replace_active";
												var replaceSmImgLength = prodDisplayArray[y][5].length;
												if (FPC==1) {
													var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
													var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
													replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
													replaceSmImgHidden = "";
													replaceSmImgBackClass = "on";
												}
												else {
													if (prodDisplayArray[y][7] == "1" || prodDisplayArray[y][9] == "1") {
														var replaceSmImgPresetStart = prodDisplayArray[y][5].substr(0,(replaceSmImgLength-4));
														var replaceSmImgPresetEnd = prodDisplayArray[y][5].substr((replaceSmImgLength-4),replaceSmImgLength);
														replaceSmImgPreset = replaceSmImgPresetStart + "_2" + replaceSmImgPresetEnd;
														replaceSmImgHidden = "";
														replaceSmImgBackClass = "on";
													}
												}
											}
											var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
											var prodSmImgTagLinkStart = "";
											var prodSmImgTagLinkEnd = "";
											if (prodSmImgTagLinkTest != -1) {
												prodSmImgTagLinkStart += "<a href='' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");return false;}'";
												if (hoverState==1) {
													prodSmImgTagLinkStart += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
												}
												prodSmImgTagLinkStart += ">";
												prodSmImgTagLinkEnd = "<\/a>";
											}
											var prodSmImgTagDivTest = prodSmImgTagStrip.indexOf(" DIV");
											if (prodSmImgTagDivTest != -1) {
												var postImgSm = " style='background-image:url(\"" + clientImgBase + prodDisplayArray[y][5] + "\");'";
												if (panel1PostLoad == 1) {
													postImgSm = "";
												};
												if (panel1PostLoad == 1) {plPostProd = 1;}
												p1PHWon = 1;
												replaceSmImgRender += "<div title=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImgDivShell" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_shell panel_1_product_sm_img_div_shell_" + prodDisplayArray[y][0] + "' onclick='" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);panel1ProdCart("+prodDisplayArray[y][0]+");}'";
												if (hoverState==1) {
													replaceSmImgRender += " onmouseover='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "' onfocus='panel1ProdMouseOver(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOver + "'";
												}
												replaceSmImgRender += "><div id='panel1ProductSmImgDivBack" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_back panel_1_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_product_sm_img_div_back_" + prodDisplayArray[y][0] + replaceSmImgMouseClass +"'" + postImgSm + "><\/div><div id='panel1ProductSmImgDivOver" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img_div_over panel_1_product_sm_img_div_over_" + prodDisplayArray[y][0] +"'" + replaceSmImgHidden;
												if (hoverState==1) {
													replaceSmImgRender += " onmouseout='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "' onblur='panel1ProdMouseOut(\"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + "," + y + ");" + replaceSmImgMouseOut + "'";
												}
												replaceSmImgRender += ">&nbsp;<\/div><\/div>";
												productHTMLTest = baseProdSmImgHTMLStart + replaceSmImgRender + baseProdSmImgHTMLEnd;
											}
											else {
												productHTMLTest = baseProdSmImgHTMLStart + prodSmImgTagLinkStart + "<img title=\"" + prodDisplayArray[y][2] + "\" alt=\"" + prodDisplayArray[y][2] + "\" id='panel1ProductSmImg" + prodDisplayArray[y][0] + "' class='panel_1_product_sm_img" + replaceSmImgMouseClass + "' src='" + clientImgBase + replaceSmImgPreset + "'>" + prodSmImgTagLinkEnd + baseProdSmImgHTMLEnd;
											}
										}
										var cartButtonTagStart = productHTMLTest.indexOf("<!--ADDTOCART");
										if (cartButtonTagStart != -1) {
											panel1ProdCartOn = 1;
											var cartButtonTagEnd = productHTMLTest.indexOf(">",cartButtonTagStart);
											var cartButtonTagStrip = productHTMLTest.substring(cartButtonTagStart,(cartButtonTagEnd+1));
											var cartButtonHTMLStart = productHTMLTest.substr(0,cartButtonTagStart);
											var cartButtonHTMLEnd = productHTMLTest.substr((cartButtonTagEnd+1));
											var cartButtonRender = "";
											var cartButtonValueStart = cartButtonTagStrip.indexOf(" VALUE=");
											if (cartButtonValueStart != -1) {
												var cartButtonValueEnd = cartButtonTagStrip.indexOf("]",cartButtonValueStart);
												var cartButtonValueVar = cartButtonTagStrip.substring((cartButtonValueStart+8),(cartButtonValueEnd));
											}
											else {
												var cartButtonValueVar = prodDisplayArray[y][2];
											}
											var cartButtonClickStart = cartButtonTagStrip.indexOf(" CLICK");
											if (cartButtonClickStart != -1) {
												var cartButtonClickVar = "panel1ProdSelect(" + prodDisplayArray[y][0] + ", \"" + prodDisplayArray[y][1] + "\", \"panel1ProductName" + prodDisplayArray[y][0] + "\", \"panel_1_product_name\", panel1ProductNameVar" + prodDisplayArray[y][0] + ", \"panel1ProductNameVar" + prodDisplayArray[y][0] + "\", 1);";
											}
											else {
												var cartButtonClickVar = "";
											}
											var cartButtonItalicStart = cartButtonTagStrip.indexOf(" FNTAW=");
											if (cartButtonItalicStart != -1) {
												var cartButtonItalicEnd = cartButtonTagStrip.indexOf("]",cartButtonItalicStart);
												var cartButtonItalicVar = "<i class='fa " + cartButtonTagStrip.substring((cartButtonItalicStart+8),(cartButtonItalicEnd)) + "'><\/i>";
											}
											else {
												var cartButtonItalicVar = "";
											}
											cartButtonRender += "<div id='panel1CartButton" + prodDisplayArray[y][0] + "' class='panel_1_cart_button panel_1_cart_button_off'";
											if (hoverState==1) {
												cartButtonRender += " onmouseover='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onfocus='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",1);' onmouseout='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);' onblur='panel1ButtonHover(\"panel1CartButton" + prodDisplayArray[y][0] + "\",\"panel_1_cart_button\",0);'";
											}
											cartButtonRender += " onclick='" + prodCloseThings + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + prodCloseThings + cartButtonClickVar + "panel1ProdCart("+prodDisplayArray[y][0]+");}'>" + cartButtonItalicVar + cartButtonValueVar + "<\/div>";
											productHTMLTest = cartButtonHTMLStart + cartButtonRender + cartButtonHTMLEnd;
										}
										productHTML += productHTMLTest;
									}
									productAreaHTML = baseHTMLStart + productHTML + baseHTMLEnd;
								}
							}
							else {
								prodSearchOn = 0;
							}
						}
					}
					var storeFamSearchOn = 1;
					while (storeFamSearchOn == 1) {
						var famTagStart = productAreaHTML.indexOf("<!--STOREFAMILY");
						if (famTagStart != -1) {
							var famTagEnd = productAreaHTML.indexOf(">",famTagStart);
							var famTagStrip = productAreaHTML.substring(famTagStart,(famTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,famTagStart);
							var baseHTMLEnd = productAreaHTML.substr((famTagEnd+1));
							var storeFamilyID = 0;
							var storeFamilyHTML = "";
							var storeFamilyIDStart = famTagStrip.indexOf(" ID=");
							if (storeFamilyIDStart != -1) {
								var storeFamilyIDEnd = famTagStrip.indexOf("]",storeFamilyIDStart);
								storeFamilyID = famTagStrip.substring((storeFamilyIDStart+5),(storeFamilyIDEnd));
							}
							if (storeFamilyID != 0) {
								var storeFamilyHTMLTest = autotextIt(p1TemplateSet.panel1StoreFamilyDiv,"panel1StoreFamily");
								var whatFamIndex = -1;
								for (x=0; x<storeFamArray.length; x++) {
									if (storeFamArray[x][0] == storeFamilyID) {
										whatFamIndex = x;
										break;
									}
								}
								if (whatFamIndex != -1) {
									var famNameTagStart = storeFamilyHTMLTest.indexOf("<!--FAMNAME");
									if (famNameTagStart != -1) {
										var famNameTagEnd = storeFamilyHTMLTest.indexOf(">",famNameTagStart);
										var famNameTagStrip = storeFamilyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
										var baseFamNameHTMLStart = storeFamilyHTMLTest.substr(0,famNameTagStart);
										var baseFamNameHTMLEnd = storeFamilyHTMLTest.substr((famNameTagEnd+1));
										var famNameTagOnTest = famNameTagStrip.indexOf(" ON");
										if (famNameTagOnTest != -1) {
											var famNameTagOnOff = "panel_1_store_family_name_on";
											window["panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0]] = 1;
											storeFamArray[whatFamIndex][4] = 1;
										}
										else {
											var famNameTagOnOff = "panel_1_store_family_name_off";
										}
										var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famNameTagLink = "";
										if (famNameTagLinkTest != -1) {
											famNameTagLink += " style='cursor:pointer;' onclick='panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\");}'";
											if (hoverState==1) {
												famNameTagLink += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");'";
											}
										}
										storeFamilyHTMLTest = baseFamNameHTMLStart + "<div id='panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "' class='panel_1_store_family_name " + famNameTagOnOff + "'" + famNameTagLink + ">" + storeFamArray[whatFamIndex][1] + "<\/div>" + baseFamNameHTMLEnd;
									}
									var famBigImgTagStart = storeFamilyHTMLTest.indexOf("<!--FAMBIGIMG");
									if (famBigImgTagStart != -1) {
										var famBigImgTagEnd = storeFamilyHTMLTest.indexOf(">",famBigImgTagStart);
										var famBigImgTagStrip = storeFamilyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
										var baseFamBigImgHTMLStart = storeFamilyHTMLTest.substr(0,famBigImgTagStart);
										var baseFamBigImgHTMLEnd = storeFamilyHTMLTest.substr((famBigImgTagEnd+1));
										var famBigImgTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famBigImgTagLinkStart = "";
										var famBigImgTagLinkEnd = "";
										if (famBigImgTagLinkTest != -1) {
											famBigImgTagLinkStart += "<a href='' onclick='panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\"); return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\"); return false;}'";
											if (hoverState==1) {
												famBigImgTagLinkStart += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");'";
											}
											famBigImgTagLinkStart += ">";
											famBigImgTagLinkEnd = "<\/a>";
										}
										storeFamilyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + storeFamArray[whatFamIndex][1] + "\" alt=\"" + storeFamArray[whatFamIndex][1] + "\" id='panel1StoreFamilyBigImg" + storeFamArray[whatFamIndex][0] + "' class='panel_1_store_family_big_img' src='" + clientImgBase + storeFamArray[whatFamIndex][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
									}
									var famSmImgTagStart = storeFamilyHTMLTest.indexOf("<!--FAMSMIMG");
									if (famSmImgTagStart != -1) {
										var famSmImgTagEnd = storeFamilyHTMLTest.indexOf(">",famSmImgTagStart);
										var famSmImgTagStrip = storeFamilyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
										var baseFamSmImgHTMLStart = storeFamilyHTMLTest.substr(0,famSmImgTagStart);
										var baseFamSmImgHTMLEnd = storeFamilyHTMLTest.substr((famSmImgTagEnd+1));
										var famSmImgTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famSmImgTagLinkStart = "";
										var famSmImgTagLinkEnd = "";
										if (famSmImgTagLinkTest != -1) {
											famSmImgTagLinkStart += "<a href='' onclick='panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\"); return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + "\"); return false;}'";
											if (hoverState==1) {
												famSmImgTagLinkStart += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[whatFamIndex][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[whatFamIndex][0] + ");'";
											}
											famSmImgTagLinkStart += ">";
											famSmImgTagLinkEnd = "<\/a>";
										}
										storeFamilyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + storeFamArray[whatFamIndex][1] + "\" alt=\"" + storeFamArray[whatFamIndex][1] + "\" id='panel1StoreFamilySmImg" + storeFamArray[whatFamIndex][0] + "' class='panel_1_store_family_sm_img' src='" + clientImgBase + storeFamArray[whatFamIndex][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
									}
									storeFamilyHTML += storeFamilyHTMLTest;
								}
							}
							else {
								for (x=0; x<storeFamArray.length; x++) {
									var storeFamilyHTMLTest = autotextIt(p1TemplateSet.panel1StoreFamilyDiv,"panel1StoreFamily");
									var famNameTagStart = storeFamilyHTMLTest.indexOf("<!--FAMNAME");
									if (famNameTagStart != -1) {
										var famNameTagEnd = storeFamilyHTMLTest.indexOf(">",famNameTagStart);
										var famNameTagStrip = storeFamilyHTMLTest.substring(famNameTagStart,(famNameTagEnd+1));
										var baseFamNameHTMLStart = storeFamilyHTMLTest.substr(0,famNameTagStart);
										var baseFamNameHTMLEnd = storeFamilyHTMLTest.substr((famNameTagEnd+1));
										var famNameTagOnTest = famNameTagStrip.indexOf(" ON");
										if (famNameTagOnTest != -1) {
											var famNameTagOnOff = "panel_1_store_family_name_on";
											window["panel1StoreFamilyNameVar" + storeFamArray[x][0]] = 1;
											storeFamArray[x][4] = 1;
										}
										else {
											var famNameTagOnOff = "panel_1_store_family_name_off";
										}
										var famNameTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famNameTagLink = "";
										if (famNameTagLinkTest != -1) {
											famNameTagLink += " style='cursor:pointer;' onclick='panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");}'";
											if (hoverState==1) {
												famNameTagLink += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");'";
											}
										}
										storeFamilyHTMLTest = baseFamNameHTMLStart + "<div id='panel1StoreFamilyName" + storeFamArray[x][0] + "' class='panel_1_store_family_name " + famNameTagOnOff + "'" + famNameTagLink + ">" + storeFamArray[x][1] + "<\/div>" + baseFamNameHTMLEnd;
									}
									var famBigImgTagStart = storeFamilyHTMLTest.indexOf("<!--FAMBIGIMG");
									if (famBigImgTagStart != -1) {
										var famBigImgTagEnd = storeFamilyHTMLTest.indexOf(">",famBigImgTagStart);
										var famBigImgTagStrip = storeFamilyHTMLTest.substring(famBigImgTagStart,(famBigImgTagEnd+1));
										var baseFamBigImgHTMLStart = storeFamilyHTMLTest.substr(0,famBigImgTagStart);
										var baseFamBigImgHTMLEnd = storeFamilyHTMLTest.substr((famBigImgTagEnd+1));
										var famBigImgTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famBigImgTagLinkStart = "";
										var famBigImgTagLinkEnd = "";
										if (famBigImgTagLinkTest != -1) {
											famBigImgTagLinkStart += "<a href='' onclick='panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");return false;}'";
											if (hoverState==1) {
												famBigImgTagLinkStart += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");'";
											}
											famBigImgTagLinkStart += ">";
											famBigImgTagLinkEnd = "<\/a>";
										}
										storeFamilyHTMLTest = baseFamBigImgHTMLStart + famBigImgTagLinkStart + "<img title=\"" + storeFamArray[x][1] + "\" alt=\"" + storeFamArray[x][1] + "\" id='panel1StoreFamilyBigImg" + storeFamArray[x][0] + "' class='panel_1_store_family_big_img' src='" + clientImgBase + storeFamArray[x][2] + "'>" + famBigImgTagLinkEnd + baseFamBigImgHTMLEnd;
									}
									var famSmImgTagStart = storeFamilyHTMLTest.indexOf("<!--FAMSMIMG");
									if (famSmImgTagStart != -1) {
										var famSmImgTagEnd = storeFamilyHTMLTest.indexOf(">",famSmImgTagStart);
										var famSmImgTagStrip = storeFamilyHTMLTest.substring(famSmImgTagStart,(famSmImgTagEnd+1));
										var baseFamSmImgHTMLStart = storeFamilyHTMLTest.substr(0,famSmImgTagStart);
										var baseFamSmImgHTMLEnd = storeFamilyHTMLTest.substr((famSmImgTagEnd+1));
										var famSmImgTagLinkTest = famNameTagStrip.indexOf(" LINK");
										var famSmImgTagLinkStart = "";
										var famSmImgTagLinkEnd = "";
										if (famSmImgTagLinkTest != -1) {
											famSmImgTagLinkStart += "<a href='' onclick='panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreFamSelectCat(" + storeFamArray[x][0] + ", \"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ", \"panel1StoreFamilyNameVar" + storeFamArray[x][0] + "\");return false;}'";
											if (hoverState==1) {
												famSmImgTagLinkStart += " onmouseover='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onfocus='panel1StoreFamMouseOver(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onmouseout='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");' onblur='panel1StoreFamMouseOut(\"panel1StoreFamilyName" + storeFamArray[x][0] + "\", \"panel_1_store_family_name\", panel1StoreFamilyNameVar" + storeFamArray[x][0] + ");'";
											}
											famSmImgTagLinkStart += ">";
											famSmImgTagLinkEnd = "<\/a>";
										}
										storeFamilyHTMLTest = baseFamSmImgHTMLStart + famSmImgTagLinkStart + "<img title=\"" + storeFamArray[x][1] + "\" alt=\"" + storeFamArray[x][1] + "\" id='panel1StoreFamilySmImg" + storeFamArray[x][0] + "' class='panel_1_store_family_sm_img' src='" + clientImgBase + storeFamArray[x][3] + "'>" + famSmImgTagLinkEnd + baseFamSmImgHTMLEnd;
									}
									storeFamilyHTML += storeFamilyHTMLTest;
								}
							}
							productAreaHTML = baseHTMLStart + storeFamilyHTML + baseHTMLEnd;
						}
						else {
							storeFamSearchOn = 0;
						}
					}
					var panel1StoreCatSearchOn = 1;
					while (panel1StoreCatSearchOn == 1) {
						var catTagStart = productAreaHTML.indexOf("<!--STORECATEGORY");
						if (catTagStart != -1) {
							panel1StoreCatOn = 1;
							var catTagEnd = productAreaHTML.indexOf(">",catTagStart);
							var catTagStrip = productAreaHTML.substring(catTagStart,(catTagEnd+1));
							var baseHTMLStart = productAreaHTML.substr(0,catTagStart);
							var baseHTMLEnd = productAreaHTML.substr((catTagEnd+1));
							var categoryID = 0;
							var categoryHTML = "";
							var categoryIDStart = catTagStrip.indexOf(" ID=");
							if (categoryIDStart != -1) {
								var categoryIDEnd = catTagStrip.indexOf("]",categoryIDStart);
								categoryID = catTagStrip.substring((categoryIDStart+5),(categoryIDEnd));
							}
							if (categoryID != 0) {
								var categoryHTMLTest = autotextIt(p1TemplateSet.panel1StoreCategoryDiv,"panel1StoreCategory");
								var whatCatIndex = -1;
								for (x=0; x<storeCatArray.length; x++) {
									if (storeCatArray[x][0] == categoryID) {
										whatCatIndex = x;
										break;
									}
								}
								if (whatCatIndex != -1) {
									var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
									if (catNameTagStart != -1) {
										var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
										var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
										var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
										var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
										var catNameTagOnTest = catNameTagStrip.indexOf(" ON");
										var catNameDefaultOnTest = 0;
										var catNameSCatSet = coreSCat;
										if (catNameSCatSet != "") {
											if (catNameSCatSet.indexOf(",") != -1) {
												var catNameDefaultArray = catNameSCatSet.split(",");
											}
											else {
												var catNameDefaultArray = new Array(catNameSCatSet);
											}
											for (q=0;q<catNameDefaultArray.length;q++) {
												if (storeCatArray[whatCatIndex][0] == catNameDefaultArray[q]) {
													catNameDefaultOnTest = 1;
													break;
												}
											}
										}
										if (catNameTagOnTest != -1 || catNameDefaultOnTest == 1) {
											var catNameTagOnOff = "panel_1_store_category_name_on";
											window["panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0]] = 1;
											storeCatArray[whatCatIndex][8] = 1;
										}
										else {
											var catNameTagOnOff = "panel_1_store_category_name_off";
										}
										var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
										var catNameTagLink = "";
										if (catNameTagLinkTest != -1) {
											catNameTagLink += " style='cursor:pointer;' onclick='panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\");}'";
											if (hoverState==1) {
												catNameTagLink += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ");'";
											}
										}
										categoryHTMLTest = baseCatNameHTMLStart + "<div id='panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "' class='panel_1_store_category_name_" + storeCatArray[whatCatIndex][0] + " panel_1_store_category_name " + catNameTagOnOff + "'" + catNameTagLink + ">" + storeCatArray[whatCatIndex][1] + "<\/div>" + baseCatNameHTMLEnd;
									}
									var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
									if (catBigImgTagStart != -1) {
										var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
										var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
										var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
										var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
										var catBigImgReplaceTest = catBigImgTagStrip.indexOf(" REPLACE");
										if (catBigImgReplaceTest != -1) {
											var catBigImgReplace = 1;
										}
										else {
											var catBigImgReplace = 0;
										}
										var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
										var catBigImgTagLinkStart = "";
										var catBigImgTagLinkEnd = "";
										if (catBigImgTagLinkTest != -1) {
											catBigImgTagLinkStart += "<a href='' onclick='panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\"); return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\"); return false;}'";
											if (hoverState==1) {
												catBigImgTagLinkStart += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catBigImgReplace + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catBigImgReplace + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catBigImgReplace + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catBigImgReplace + ");'";
											}
											catBigImgTagLinkStart += ">";
											catBigImgTagLinkEnd = "<\/a>";
										}
										categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + storeCatArray[whatCatIndex][1] + "\" alt=\"" + storeCatArray[whatCatIndex][1] + "\" id='panel1StoreCategoryBigImg" + storeCatArray[whatCatIndex][0] + "' class='panel_1_store_category_big_img' src='" + clientImgBase + storeCatArray[whatCatIndex][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
									}
									var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
									if (catSmImgTagStart != -1) {
										var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
										var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
										var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
										var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
										var catSmImgReplaceTest = catSmImgTagStrip.indexOf(" REPLACE");
										if (catSmImgReplaceTest != -1) {
											var catSmImgReplace = 1;
										}
										else {
											var catSmImgReplace = 0;
										}
										var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
										var catSmImgTagLinkStart = "";
										var catSmImgTagLinkEnd = "";
										if (catSmImgTagLinkTest != -1) {
											catSmImgTagLinkStart += "<a href='' onclick='panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\"); return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "\"); return false;}'";
											if (hoverState==1) {
												catSmImgTagLinkStart += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catSmImgReplace + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catSmImgReplace + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catSmImgReplace + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[whatCatIndex][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[whatCatIndex][0] + "," + catSmImgReplace + ");'";
											}
											catSmImgTagLinkStart += ">";
											catSmImgTagLinkEnd = "<\/a>";
										}
										categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + storeCatArray[whatCatIndex][1] + "\" alt=\"" + storeCatArray[whatCatIndex][1] + "\" id='panel1StoreCategorySmImg" + storeCatArray[whatCatIndex][0] + "' class='panel_1_store_category_sm_img' src='" + clientImgBase + storeCatArray[whatCatIndex][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
									}
									categoryHTML += categoryHTMLTest;
								}
							}
							else {
								for (x=0; x<storeCatArray.length; x++) {
									var categoryHTMLTest = autotextIt(p1TemplateSet.panel1StoreCategoryDiv,"panel1StoreCategory");
									var catNameTagStart = categoryHTMLTest.indexOf("<!--CATNAME");
									if (catNameTagStart != -1) {
										var catNameTagEnd = categoryHTMLTest.indexOf(">",catNameTagStart);
										var catNameTagStrip = categoryHTMLTest.substring(catNameTagStart,(catNameTagEnd+1));
										var baseCatNameHTMLStart = categoryHTMLTest.substr(0,catNameTagStart);
										var baseCatNameHTMLEnd = categoryHTMLTest.substr((catNameTagEnd+1));
										var catNameTagOnTest = catNameTagStrip.indexOf(" ON");
										var catNameDefaultOnTest = 0;
										var catNameSCatSet = coreSCat;
										if (catNameSCatSet != "") {
											if (catNameSCatSet.indexOf(",") != -1) {
												var catNameDefaultArray = catNameSCatSet.split(",");
											}
											else {
												var catNameDefaultArray = new Array(catNameSCatSet);
											}
											for (q=0;q<catNameDefaultArray.length;q++) {
												if (storeCatArray[whatCatIndex][0] == catNameDefaultArray[q]) {
													catNameDefaultOnTest = 1;
													break;
												}
											}
										}
										var catNameTagOnTest = catNameTagStrip.indexOf(" ON");
										if (catNameTagOnTest != -1 || catNameDefaultOnTest == 1) {
											var catNameTagOnOff = "panel_1_store_category_name_on";
											window["panel1StoreCategoryNameVar" + storeCatArray[x][0]] = 1;
											storeCatArray[x][8] = 1;
										}
										else {
											var catNameTagOnOff = "panel_1_store_category_name_off";
										}
										var catNameTagLinkTest = catNameTagStrip.indexOf(" LINK");
										var catNameTagLink = "";
										if (catNameTagLinkTest != -1) {
											catNameTagLink += " style='cursor:pointer;' onclick='panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");}'";
											if (hoverState==1) {
												catNameTagLink += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ");'";
											}
										}
										categoryHTMLTest = baseCatNameHTMLStart + "<div id='panel1StoreCategoryName" + storeCatArray[x][0] + "' class='panel_1_store_category_name_" + storeCatArray[x][0] + " panel_1_store_category_name " + catNameTagOnOff + "'" + catNameTagLink + ">" + storeCatArray[x][1] + "<\/div>" + baseCatNameHTMLEnd;
									}
									var catBigImgTagStart = categoryHTMLTest.indexOf("<!--CATBIGIMG");
									if (catBigImgTagStart != -1) {
										var catBigImgTagEnd = categoryHTMLTest.indexOf(">",catBigImgTagStart);
										var catBigImgTagStrip = categoryHTMLTest.substring(catBigImgTagStart,(catBigImgTagEnd+1));
										var baseCatBigImgHTMLStart = categoryHTMLTest.substr(0,catBigImgTagStart);
										var baseCatBigImgHTMLEnd = categoryHTMLTest.substr((catBigImgTagEnd+1));
										var catBigImgReplaceTest = catBigImgTagStrip.indexOf(" REPLACE");
										if (catBigImgReplaceTest != -1) {
											var catBigImgReplace = 1;
										}
										else {
											var catBigImgReplace = 0;
										}
										var catBigImgTagLinkTest = catBigImgTagStrip.indexOf(" LINK");
										var catBigImgTagLinkStart = "";
										var catBigImgTagLinkEnd = "";
										if (catBigImgTagLinkTest != -1) {
											catBigImgTagLinkStart += "<a href='' onclick='panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");return false;}'";
											if (hoverState==1) {
												catBigImgTagLinkStart += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catBigImgReplace + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catBigImgReplace + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catBigImgReplace + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catBigImgReplace + ");'";
											}
											catBigImgTagLinkStart += ">";
											catBigImgTagLinkEnd = "<\/a>";
										}
										categoryHTMLTest = baseCatBigImgHTMLStart + catBigImgTagLinkStart + "<img title=\"" + storeCatArray[x][1] + "\" alt=\"" + storeCatArray[x][1] + "\" id='panel1StoreCategoryBigImg" + storeCatArray[x][0] + "' class='panel_1_store_category_big_img' src='" + clientImgBase + storeCatArray[x][3] + "'>" + catBigImgTagLinkEnd + baseCatBigImgHTMLEnd;
									}
									var catSmImgTagStart = categoryHTMLTest.indexOf("<!--CATSMIMG");
									if (catSmImgTagStart != -1) {
										var catSmImgTagEnd = categoryHTMLTest.indexOf(">",catSmImgTagStart);
										var catSmImgTagStrip = categoryHTMLTest.substring(catSmImgTagStart,(catSmImgTagEnd+1));
										var baseCatSmImgHTMLStart = categoryHTMLTest.substr(0,catSmImgTagStart);
										var baseCatSmImgHTMLEnd = categoryHTMLTest.substr((catSmImgTagEnd+1));
										var catSmImgReplaceTest = catSmImgTagStrip.indexOf(" REPLACE");
										if (catSmImgReplaceTest != -1) {
											var catSmImgReplace = 1;
										}
										else {
											var catSmImgReplace = 0;
										}
										var catSmImgTagLinkTest = catSmImgTagStrip.indexOf(" LINK");
										var catSmImgTagLinkStart = "";
										var catSmImgTagLinkEnd = "";
										if (catSmImgTagLinkTest != -1) {
											catSmImgTagLinkStart += "<a href='' onclick='panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1StoreSelectCat(" + storeCatArray[x][0] + ", \"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + ", \"panel1StoreCategoryNameVar" + storeCatArray[x][0] + "\");return false;}'";
											if (hoverState==1) {
												catSmImgTagLinkStart += " onmouseover='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catSmImgReplace + ");' onfocus='panel1StoreCatMouseOver(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catSmImgReplace + ");' onmouseout='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catSmImgReplace + ");' onblur='panel1StoreCatMouseOut(\"panel1StoreCategoryName" + storeCatArray[x][0] + "\", \"panel_1_store_category_name\", panel1StoreCategoryNameVar" + storeCatArray[x][0] + "," + catSmImgReplace + ");'";
											}
											catSmImgTagLinkStart += ">";
											catSmImgTagLinkEnd = "<\/a>";
										}
										categoryHTMLTest = baseCatSmImgHTMLStart + catSmImgTagLinkStart + "<img title=\"" + storeCatArray[x][1] + "\" alt=\"" + storeCatArray[x][1] + "\" id='panel1StoreCategorySmImg" + storeCatArray[x][0] + "' class='panel_1_store_category_sm_img' src='" + clientImgBase + storeCatArray[x][4] + "'>" + catSmImgTagLinkEnd + baseCatSmImgHTMLEnd;
									}
									categoryHTML += categoryHTMLTest;
								}
							}
							productAreaHTML = baseHTMLStart + categoryHTML + baseHTMLEnd;
						}
						else {
							panel1StoreCatSearchOn = 0;
						}
					}
				}
				baseHTML = productAreaHTMLStart + "<div id='panel1ProductShell' class='all_on_one_area panel_1_product_shell'>" + productAreaHTML + "<\/div>" + productAreaHTMLEnd;
			}
			var shopCartTabTagStart = baseHTML.indexOf("<!--SHOPCARTTAB");
			if (shopCartTabTagStart != -1) {
				var shopCartTabTagEnd = baseHTML.indexOf(">",shopCartTabTagStart);
				var shopCartTabTagStrip = baseHTML.substring(shopCartTabTagStart,(shopCartTabTagEnd+1));
				var shopCartTabHTMLStart = baseHTML.substr(0,shopCartTabTagStart);
				var shopCartTabHTMLEnd = baseHTML.substr((shopCartTabTagEnd+1));
				var shopCartHTML = autotextIt(p1TemplateSet.panel1ShopCartTabDiv,"panel1ShopCartTab");
				if (shopCartHTML.length != -1) {
					var prodcartCountTagStart = shopCartHTML.indexOf("<!--PRODCARTCOUNT");
					if (prodcartCountTagStart != -1) {
						var prodcartCountTagEnd = shopCartHTML.indexOf(">",prodcartCountTagStart);
						var prodcartCountTagStrip = shopCartHTML.substring(prodcartCountTagStart,(prodcartCountTagEnd+1));
						var prodcartCountHTMLStart = shopCartHTML.substr(0,prodcartCountTagStart);
						var prodcartCountHTMLEnd = shopCartHTML.substr((prodcartCountTagEnd+1));
						shopCartHTML = prodcartCountHTMLStart + "<span id='panel1ProdCartCount'>" + prodCartArray.length + "<\/span>" + prodcartCountHTMLEnd;
					}
				}
				var selectedProductsTagStart = shopCartHTML.indexOf("<!--SELPRODTEXT");
				if (selectedProductsTagStart != -1) {
					var selectedProductsTagEnd = shopCartHTML.indexOf(">",selectedProductsTagStart);
					var selectedProductsTagStrip = shopCartHTML.substring(selectedProductsTagStart,(selectedProductsTagEnd+1));
					var selectedProductsHTMLStart = shopCartHTML.substr(0,selectedProductsTagStart);
					var selectedProductsHTMLEnd = shopCartHTML.substr((selectedProductsTagEnd+1));
					var selProdSingularStart = selectedProductsTagStrip.indexOf(" SINGULAR=");
					if (selProdSingularStart != -1) {
						var selProdSingularEnd = selectedProductsTagStrip.indexOf("]",selProdSingularStart);
						p1selProdSingularVar = " " + selectedProductsTagStrip.substring((selProdSingularStart+11),(selProdSingularEnd));
					}
					var selProdPluralStart = selectedProductsTagStrip.indexOf(" PLURAL=");
					if (selProdPluralStart != -1) {
						var selProdPluralEnd = selectedProductsTagStrip.indexOf("]",selProdPluralStart);
						p1selProdPluralVar = " " + selectedProductsTagStrip.substring((selProdPluralStart+9),(selProdPluralEnd));
					}
					shopCartHTML = selectedProductsHTMLStart + "<div id='panel1SelProdText' class='panel_1_selected_products_text'>" + p1selProdPluralVar + "<\/div>" + selectedProductsHTMLEnd;
				}
				var clearButtonTagStart = shopCartHTML.indexOf("<!--CLEARBUTTON");
				if (clearButtonTagStart != -1) {
					var clearButtonTagEnd = shopCartHTML.indexOf(">",clearButtonTagStart);
					var clearButtonTagStrip = shopCartHTML.substring(clearButtonTagStart,(clearButtonTagEnd+1));
					var clearButtonHTMLStart = shopCartHTML.substr(0,clearButtonTagStart);
					var clearButtonHTMLEnd = shopCartHTML.substr((clearButtonTagEnd+1));
					var clearButtonRender = "";
					var clearButtonValueStart = clearButtonTagStrip.indexOf(" VALUE=");
					if (clearButtonValueStart != -1) {
						var clearButtonValueEnd = clearButtonTagStrip.indexOf("]",clearButtonValueStart);
						var clearButtonValueVar = clearButtonTagStrip.substring((clearButtonValueStart+8),(clearButtonValueEnd));
					}
					else {
						var clearButtonValueVar = "CLEAR";
					}
					var clearButtonItalicStart = clearButtonTagStrip.indexOf(" FNTAW=");
					if (clearButtonItalicStart != -1) {
						var clearButtonItalicEnd = clearButtonTagStrip.indexOf("]",clearButtonItalicStart);
						var clearButtonItalicVar = "<i class='fa " + clearButtonTagStrip.substring((clearButtonItalicStart+8),(clearButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var clearButtonItalicVar = "";
					}
					if (panel1ProdShopCartNoProd == 1) {
						var removeLink = "panel1CatSelectForce(0);";
					}
					else {
						var removeLink = "panel1ProdCartRemove();";
					}
					if (prodCartArray.length) {
						var clearButtonDisp = "";
					}
					else {
						var clearButtonDisp = " style='display:none;'";
					}
					clearButtonRender += "<div" + clearButtonDisp + " id='panel1ProdCartClearButton' class='panel_1_prod_cart_clear_button panel_1_prod_cart_clear_button_off'";
					if (hoverState==1) {
						clearButtonRender += " onmouseover='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 1);' onfocus='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 1);' onmouseout='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 0);' onblur='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 0);'";
					}
					clearButtonRender += " onclick='" + removeLink + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + removeLink + "}'>" + clearButtonItalicVar + clearButtonValueVar + "<\/div>";
					shopCartHTML = clearButtonHTMLStart + clearButtonRender + clearButtonHTMLEnd;
				}
				baseHTML = shopCartTabHTMLStart + "<div id='panel1ProdShopCartTab' class='all_on_one_tab all_on_one_tab_off panel_1_prod_shopcart_tab' onclick='panel1ToggleAllInOneArea(\"shopcart\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ToggleAllInOneArea(\"shopcart\");}'>" + shopCartHTML + "<\/div>" + shopCartTabHTMLEnd;
			}
			var shopCartAreaTagStart = baseHTML.indexOf("<!--SHOPCARTAREA");
			if (shopCartAreaTagStart != -1) {
				var shopCartAreaTagEnd = baseHTML.indexOf(">",shopCartAreaTagStart);
				var shopCartAreaTagStrip = baseHTML.substring(shopCartAreaTagStart,(shopCartAreaTagEnd+1));
				var shopCartAreaHTMLStart = baseHTML.substr(0,shopCartAreaTagStart);
				var shopCartAreaHTMLEnd = baseHTML.substr((shopCartAreaTagEnd+1));
				var shopCartAreaCatTest = shopCartAreaTagStrip.indexOf(" CATLIST");
				if (shopCartAreaCatTest != -1) {
					panel1ProdShopCartCat = 1;
				}
				var shopCartAreaFamTest = shopCartAreaTagStrip.indexOf(" FAMLIST");
				if (shopCartAreaFamTest != -1) {
					panel1ProdShopCartFam = 1;
				}
				var shopCartAreaNoProdTest = shopCartAreaTagStrip.indexOf(" NOPROD");
				if (shopCartAreaNoProdTest != -1) {
					panel1ProdShopCartNoProd = 1;
				}
				baseHTML = shopCartAreaHTMLStart + "<div id='panel1ProdShopCartShell' class='panel_1_prod_shopcart_shell' style='display:none;'><\/div>" + shopCartAreaHTMLEnd;
			}
			var storeTabTagStart = baseHTML.indexOf("<!--STORETAB");
			if (storeTabTagStart != -1) {
				var storeTabTagEnd = baseHTML.indexOf(">",storeTabTagStart);
				var storeTabTagStrip = baseHTML.substring(storeTabTagStart,(storeTabTagEnd+1));
				var storeTabHTMLStart = baseHTML.substr(0,storeTabTagStart);
				var storeTabHTMLEnd = baseHTML.substr((storeTabTagEnd+1));
				var storeHTML = autotextIt(p1TemplateSet.panel1StoreTabDiv,"panel1StoreTab");
				if (storeHTML.length != -1) {
				}
				baseHTML = storeTabHTMLStart + "<div id='panel1StoreTab' class='all_on_one_tab all_on_one_tab_off panel_1_store_tab' onclick='panel1ToggleAllInOneArea(\"store\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ToggleAllInOneArea(\"store\");}'>" + storeHTML + "<\/div>" + storeTabHTMLEnd;
			}
			var storeAreaTagStart = baseHTML.indexOf("<!--STOREAREA");
			if (storeAreaTagStart != -1) {
				var storeAreaTagEnd = baseHTML.indexOf(">",storeAreaTagStart);
				var storeAreaTagStrip = baseHTML.substring(storeAreaTagStart,(storeAreaTagEnd+1));
				var storeAreaHTMLStart = baseHTML.substr(0,storeAreaTagStart);
				var storeAreaHTMLEnd = baseHTML.substr((storeAreaTagEnd+1));
				var storeAreaHTML = autotextIt(p1TemplateSet.panel1StoreAreaDiv,"panel1StoreArea");
				if (storeAreaHTML.length != -1) {
					var addFieldTagStart = storeAreaHTML.indexOf("<!--ADDFIELD");
					if (addFieldTagStart != -1) {
						var addFieldTagEnd = storeAreaHTML.indexOf(">",addFieldTagStart);
						var addFieldTagStrip = storeAreaHTML.substring(addFieldTagStart,(addFieldTagEnd+1));
						var addFieldHTMLStart = storeAreaHTML.substr(0,addFieldTagStart);
						var addFieldHTMLEnd = storeAreaHTML.substr((addFieldTagEnd+1));
						var addFieldClearStart = addFieldTagStrip.indexOf(" CLEAR");
						if (addFieldClearStart != -1) {
							var addFieldClearRender = "clearAddfield(1);";
						}
						else {
							var addFieldClearRender = "";
						}
						var addFieldRender = "";
						var addFieldValueStart = addFieldTagStrip.indexOf(" VALUE=");
						if (addFieldValueStart != -1) {
							var addFieldValueEnd = addFieldTagStrip.indexOf("]");
							var addFieldValueVal = addFieldTagStrip.substring((addFieldValueStart+8),(addFieldValueEnd));
							p1AddFieldValueVar = addFieldValueVal;
							var addFieldValueRender = " placeholder='"+addFieldValueVal+"'";
							var addFieldFocusRender = " onfocus='" + addFieldClearRender + "'";
							var addFieldBlurRender = "";
						}
						else {
							p1AddFieldValueVar = "";
							var addFieldValueRender = "";
							var addFieldFocusRender = " onfocus='" + addFieldClearRender + "'";
							var addFieldBlurRender = "";
						}
						var addFieldBlankStart = addFieldTagStrip.indexOf(" BLANK");
						if (addFieldBlankStart != -1) {
							var addFieldBlankRender = " enforce_blank";
						}
						else {
							var addFieldBlankRender = "";
						}
						var addFieldReqStart = addFieldTagStrip.indexOf(" REQUIRED");
						if (addFieldReqStart != -1) {
							var addFieldReqRender = " class='panel_1_address_field panel_1_address_field_base panel_1_required" + addFieldBlankRender + "'";
						}
						else {
							var addFieldReqRender = " class='panel_1_address_field panel_1_address_field_base" + addFieldBlankRender + "'";
						}
						var addFieldCartStart = addFieldTagStrip.indexOf(" CART");
						if (addFieldCartStart != -1) {
							panel1CartReq = 1;
						}
						var addFieldSubStart = addFieldTagStrip.indexOf(" SUBMIT");
						if (addFieldSubStart != -1) {
							var addFieldSubRender = " onkeyup='panel1FieldKeypressAlt(event,\"panel1AddressField\",1);'";
						}
						else {
							var addFieldSubRender = "";
						}
						var addFieldHideStart = addFieldTagStrip.indexOf(" HIDE");
						if (addFieldHideStart != -1) {
							p1HideAddField = 1;
							var addFieldHideText = " style='display:none;'";
						}
						else {
							var addFieldHideText = "";
						}
						addFieldRender = "<input type='text' name='panel1AddressField' id='panel1AddressField'" + addFieldValueRender + addFieldFocusRender + addFieldBlurRender + addFieldReqRender + addFieldSubRender + addFieldHideText + " title=\"" + addFieldValueVal + "\" aria-label='Enter a city, state, or postal code to find stores near you'>";
						storeAreaHTML = addFieldHTMLStart + addFieldRender + addFieldHTMLEnd;
					}
					var cityFieldTagStart = storeAreaHTML.indexOf("<!--CITYFIELD");
					if (cityFieldTagStart != -1) {
						var cityFieldTagEnd = storeAreaHTML.indexOf(">",cityFieldTagStart);
						var cityFieldTagStrip = storeAreaHTML.substring(cityFieldTagStart,(cityFieldTagEnd+1));
						var cityFieldHTMLStart = storeAreaHTML.substr(0,cityFieldTagStart);
						var cityFieldHTMLEnd = storeAreaHTML.substr((cityFieldTagEnd+1));
						var cityFieldRender = "";
						var cityFieldValueStart = cityFieldTagStrip.indexOf(" VALUE=");
						if (cityFieldValueStart != -1) {
							var cityFieldValueEnd = cityFieldTagStrip.indexOf("]");
							var cityFieldValueVal = cityFieldTagStrip.substring((cityFieldValueStart+8),(cityFieldValueEnd));
							cityFieldValueVar = cityFieldValueVal;
							var cityFieldValueRender = " value='"+cityFieldValueVal+"'";
							var cityFieldFocusRender = " onfocus='fieldBlurFocus(\"panel1CityField\",\""+cityFieldValueVal+"\",1);'";
							var cityFieldBlurRender = " onblur='fieldBlurFocus(\"panel1CityField\",\""+cityFieldValueVal+"\",0);'";
						}
						else {
							cityFieldValueVar = "";
							var cityFieldValueRender = "";
							var cityFieldFocusRender = "";
							var cityFieldBlurRender = "";
						}
						var cityFieldReqStart = cityFieldTagStrip.indexOf(" REQUIRED");
						if (cityFieldReqStart != -1) {
							var cityFieldReqRender = " class='panel_1_city_field panel_1_city_field_base panel_1_required'";
						}
						else {
							var cityFieldReqRender = " class='panel_1_city_field panel_1_city_field_base'";
						}
						var cityFieldSubStart = cityFieldTagStrip.indexOf(" SUBMIT");
						if (cityFieldSubStart != -1) {
							var cityFieldSubRender = " onkeyup='panel1FieldKeypressAlt(event,\"panel1CityField\",1);'";
						}
						else {
							var cityFieldSubRender = " onkeyup='panel1FieldKeypressAlt(event,\"panel1CityField\",0);'";
						}
						cityFieldRender = "<input type='text' name='panel1CityField' id='panel1CityField'" + cityFieldValueRender + cityFieldFocusRender + cityFieldBlurRender + cityFieldReqRender + cityFieldSubRender + ">";
						storeAreaHTML = cityFieldHTMLStart + cityFieldRender + cityFieldHTMLEnd;
					}
					var stateFieldTagStart = storeAreaHTML.indexOf("<!--STATEFIELD");
					if (stateFieldTagStart != -1) {
						var stateFieldTagEnd = storeAreaHTML.indexOf(">",stateFieldTagStart);
						var stateFieldTagStrip = storeAreaHTML.substring(stateFieldTagStart,(stateFieldTagEnd+1));
						var stateFieldHTMLStart = storeAreaHTML.substr(0,stateFieldTagStart);
						var stateFieldHTMLEnd = storeAreaHTML.substr((stateFieldTagEnd+1));
						var stateFieldRender = "";
						var stateFieldValueStart = stateFieldTagStrip.indexOf(" VALUE=");
						var stateFieldValueEnd = stateFieldTagStrip.indexOf("]");
						if (stateFieldValueStart != -1 && stateBase == "") {
							var stateFieldValueVal = stateFieldTagStrip.substring((stateFieldValueStart+8),(stateFieldValueEnd));
							var stateFieldValueRender = "<option value='" + stateFieldValueVal + "' selected='selected'>" + stateFieldValueVal + "<\/option>";
						}
						else if (stateBase != "") {
							var stateFieldValueVal = stateBase;
							var stateFieldValueRender = "<option value='" + stateFieldValueVal + "' selected='selected'>" + stateFieldValueVal + "<\/option>";
						}
						else {
							var stateFieldValueRender = "";
						}
						stateFieldRender += "<input type='hidden' name='panel1StateField' id='panel1StateField' value='" + stateFieldValueVal + "'><select name='panel1StateSelect' id='panel1StateSelect' class='panel_1_state_field panel_1_state_field_base' onchange='setSelect(\"panel1StateSelect\",\"panel1StateField\");'>" + stateFieldValueRender;
						for (s=0; s<stateArray.length; s++) {
							if (stateArray[s] != stateFieldValueVal) {
								stateFieldRender += "<option value='" + stateArray[s] + "'>" + stateArray[s] + "<\/option>";
							}
						}
						stateFieldRender += "<\/select>";
						storeAreaHTML = stateFieldHTMLStart + stateFieldRender + stateFieldHTMLEnd;
					}
					var zipFieldTagStart = storeAreaHTML.indexOf("<!--ZIPFIELD");
					if (zipFieldTagStart != -1) {
						var zipFieldTagEnd = storeAreaHTML.indexOf(">",zipFieldTagStart);
						var zipFieldTagStrip = storeAreaHTML.substring(zipFieldTagStart,(zipFieldTagEnd+1));
						var zipFieldHTMLStart = storeAreaHTML.substr(0,zipFieldTagStart);
						var zipFieldHTMLEnd = storeAreaHTML.substr((zipFieldTagEnd+1));
						var zipFieldRender = "";
						var zipFieldValueStart = zipFieldTagStrip.indexOf(" VERIFY");
						if (zipFieldValueStart != -1) {
							zipFieldValueVar = 1;
						}
						else {
							zipFieldValueVar = 0;
						}
						var zipFieldReqStart = zipFieldTagStrip.indexOf(" REQUIRED");
						if (zipFieldReqStart != -1) {
							var zipFieldReqRender = " class='panel_1_zip_field panel_1_zip_field_base panel_1_required'";
						}
						else {
							var zipFieldReqRender = " class='panel_1_zip_field panel_1_zip_field_base'";
						}
						var zipFieldSubStart = zipFieldTagStrip.indexOf(" SUBMIT");
						if (zipFieldSubStart != -1) {
							var zipFieldSubRender = " onkeyup='panel1FieldKeypressAlt(event,\"panel1ZipField\",1);'";
						}
						else {
							var zipFieldSubRender = " onkeyup='panel1FieldKeypressAlt(event,\"panel1ZipField\",0);'";
						}
						zipFieldRender = "<input type='text' name='panel1ZipField' id='panel1ZipField'" + zipFieldReqRender + zipFieldSubRender + ">";
						storeAreaHTML = zipFieldHTMLStart + zipFieldRender + zipFieldHTMLEnd;
					}
					var scopeFieldTagStart = storeAreaHTML.indexOf("<!--SCOPEFIELD");
					if (scopeFieldTagStart != -1) {
						var scopeFieldTagEnd = storeAreaHTML.indexOf(">",scopeFieldTagStart);
						var scopeFieldTagStrip = storeAreaHTML.substring(scopeFieldTagStart,(scopeFieldTagEnd+1));
						var scopeFieldHTMLStart = storeAreaHTML.substr(0,scopeFieldTagStart);
						var scopeFieldHTMLEnd = storeAreaHTML.substr((scopeFieldTagEnd+1));
						var scopeFieldRender = "";
						var scopeFieldValueStart = scopeFieldTagStrip.indexOf(" VALUE=");
						if (scopeFieldValueStart != -1) {
							var scopeFieldValueEnd = scopeFieldTagStrip.indexOf("]");
							var scopeFieldValueVal = scopeFieldTagStrip.substring((scopeFieldValueStart+8),(scopeFieldValueEnd));
						}
						else {
							var scopeFieldValueVal = 0;
						}
						scopeFieldRender += "<input type='hidden' name='panel1ScopeField' id='panel1ScopeField' value='" + scopeFieldValueVal + "'><select name='panel1ScopeSelect' id='panel1ScopeSelect' class='panel_1_scope_field panel_1_scope_field_base' onchange='setSelect(\"panel1ScopeSelect\",\"panel1ScopeField\");'><option value='0'";
						if (scopeFieldValueVal == 0) {
							scopeFieldRender += " selected='selected'";
						}
						scopeFieldRender += ">Any<\/option><option value='1'";
						if (scopeFieldValueVal == 1) {
							scopeFieldRender += " selected='selected'";
						}
						scopeFieldRender += ">All<\/option><\/select>";
						storeAreaHTML = scopeFieldHTMLStart + scopeFieldRender + scopeFieldHTMLEnd;
					}
					var distanceFieldTagStart = storeAreaHTML.indexOf("<!--DISTANCEFIELD");
					if (distanceFieldTagStart != -1) {
						var distanceFieldTagEnd = storeAreaHTML.indexOf(">",distanceFieldTagStart);
						var distanceFieldTagStrip = storeAreaHTML.substring(distanceFieldTagStart,(distanceFieldTagEnd+1));
						var distanceFieldHTMLStart = storeAreaHTML.substr(0,distanceFieldTagStart);
						var distanceFieldHTMLEnd = storeAreaHTML.substr((distanceFieldTagEnd+1));
						var distanceFieldRender = "";
						var distanceFieldValueStart = distanceFieldTagStrip.indexOf(" VALUE=");
						if (distanceFieldValueStart != -1) {
							var distanceFieldValueEnd = distanceFieldTagStrip.indexOf("]",distanceFieldValueStart);
							var distanceFieldValueVal = distanceFieldTagStrip.substring((distanceFieldValueStart+8),(distanceFieldValueEnd));
						}
						else {
							var distanceFieldValueVal = 20;
						}
						var distanceDivValueStart = distanceFieldTagStrip.indexOf(" DIVRENDER");
						if (distanceDivValueStart != -1) {
							var distanceDivValueVal = 1;
						}
						else {
							var distanceDivValueVal = 0;
						}
						var distanceKMValueStart = distanceFieldTagStrip.indexOf(" KM");
						if (distanceKMValueStart != -1 || forceKM == 1) {
							panel1DistanceFlag = 1;
							var distanceText = "km";
						}
						else {
							var distanceText = "miles";
						}
						var distanceFieldOptionsStart = distanceFieldTagStrip.indexOf(" OPTIONS=");
						if (distanceFieldOptionsStart != -1) {
							var distanceFieldOptionsEnd = distanceFieldTagStrip.indexOf("]",distanceFieldOptionsStart);
							var distanceFieldOptionsVar = distanceFieldTagStrip.substring((distanceFieldOptionsStart+10),(distanceFieldOptionsEnd));
							var distanceFieldOptionsArray = distanceFieldOptionsVar.split(",");
						}
						else {
							var distanceFieldOptionsArray = new Array(5,10,20,50,75,100);
						}
						var distanceFieldItalicStart = distanceFieldTagStrip.indexOf(" FNTAW=");
						if (distanceFieldItalicStart != -1) {
							var distanceFieldItalicEnd = distanceFieldTagStrip.indexOf("]",distanceFieldItalicStart);
							distanceFieldItalicVar = "<i class='fa " + distanceFieldTagStrip.substring((distanceFieldItalicStart+8),(distanceFieldItalicEnd)) + "'><\/i>";
						}
						else {
							distanceFieldItalicVar = "";
						}
						distanceFieldRender = "<input type='hidden' name='panel1DistanceField' id='panel1DistanceField' value='" + distanceFieldValueVal + "'>";
						if (distanceDivValueVal == 0) {
							distanceFieldRender += "<select name='panel1DistanceSelect' id='panel1DistanceSelect' class='panel_1_distance_field panel_1_distance_field_base' onchange='setSelect(\"panel1DistanceSelect\",\"panel1DistanceField\");panel1DistanceUpdate();'>";
							for (w=0; w<distanceFieldOptionsArray.length; w++) {
								distanceFieldRender += "<option value='" + distanceFieldOptionsArray[w] + "'";
								if (distanceFieldValueVal == distanceFieldOptionsArray[w]) {
									distanceFieldRender += " selected='selected'";
								}
								distanceFieldRender += ">" + distanceFieldOptionsArray[w] + " " + distanceText + "<\/option>";
							}
							distanceFieldRender += "<\/select>";
						}
						else {
							distanceFieldRender += "<div id='panel1DistanceDivShell' class='panel_1_distance_div_shell'><div class='panel_1_distance_div_filter_arrow'><div class='panel_1_distance_div_filter panel_1_distance_div_filter_base panel_1_distance_div_filter_base_off'";
							if (hoverState==1) {
								distanceFieldRender += " onmouseover='genericButtonOver(\"panel_1_distance_div_filter\",\"panel_1_distance_div_filter_base\");' onfocus='genericButtonOver(\"panel_1_distance_div_filter\",\"panel_1_distance_div_filter_base\");' onmouseout='genericButtonOut(\"panel_1_distance_div_filter\",\"panel_1_distance_div_filter_base\");' onblur='genericButtonOut(\"panel_1_distance_div_filter\",\"panel_1_distance_div_filter_base\");'";
							}
							distanceFieldRender += " onclick='$(\".panel_1_distance_div_filter_slider\").toggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){$(\".panel_1_distance_div_filter_slider\").toggle();}'><div class='panel_1_distance_div_filter_text'><span id='panel1DistanceDivNum'>" + distanceFieldValueVal + "<\/span> <span class='distancefield_miles_span'>" + distanceText + "<\/span> " + distanceFieldItalicVar + "<\/div><\/div><\/div><div class='panel_1_distance_div_filter_slider panel_close_me' style='display:none;'><div class='panel_1_distance_div_filter_liner'>";
							for (w=0; w<distanceFieldOptionsArray.length; w++) {
								distanceFieldRender += "<div class='panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + " panel_1_distance_div_filter_item panel_1_distance_div_filter_item_off'";
								if (hoverState==1) {
									distanceFieldRender += " onmouseover='genericButtonOver(\"panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + "\",\"panel_1_distance_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + "\",\"panel_1_distance_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + "\",\"panel_1_distance_div_filter_item\");' onblur='genericButtonOut(\"panel_1_distance_div_filter_item_" + distanceFieldOptionsArray[w] + "\",\"panel_1_distance_div_filter_item\");'";
								}
								distanceFieldRender += " onclick='panel1DistanceUpdate(" + distanceFieldOptionsArray[w] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1DistanceUpdate(" + distanceFieldOptionsArray[w] + ");}'>" + distanceFieldOptionsArray[w] + " " + distanceText + "<\/div>";
							}
							distanceFieldRender += "<\/div><\/div><\/div>";
						}
						storeAreaHTML = distanceFieldHTMLStart + distanceFieldRender + distanceFieldHTMLEnd;
					}
					var resultsFieldTagStart = storeAreaHTML.indexOf("<!--RESULTSFIELD");
					if (resultsFieldTagStart != -1) {
						var resultsFieldTagEnd = storeAreaHTML.indexOf(">",resultsFieldTagStart);
						var resultsFieldTagStrip = storeAreaHTML.substring(resultsFieldTagStart,(resultsFieldTagEnd+1));
						var resultsFieldHTMLStart = storeAreaHTML.substr(0,resultsFieldTagStart);
						var resultsFieldHTMLEnd = storeAreaHTML.substr((resultsFieldTagEnd+1));
						var resultsFieldRender = "";
						var resultsFieldValueStart = resultsFieldTagStrip.indexOf(" VALUE=");
						var resultsFieldValueEnd = resultsFieldTagStrip.indexOf("]");
						if (resultsFieldValueStart != -1) {
							var resultsFieldValueVal = resultsFieldTagStrip.substring((resultsFieldValueStart+8),(resultsFieldValueEnd));
						}
						else {
							var resultsFieldValueVal = 50;
						}
						resultsFieldRender += "<input type='hidden' name='panel1ResultsField' id='panel1ResultsField' value='" + resultsFieldValueVal + "'><select name='panel1ResultsSelect' id='panel1ResultsSelect' class='panel_1_results_field panel_1_results_field_base' onchange='setSelect(\"panel1ResultsSelect\",\"panel1ResultsField\");'><option value='10'";
						if (resultsFieldValueVal == 10) {
							resultsFieldRender += " selected='selected'";
						}
						resultsFieldRender += ">10 results<\/option><option value='25'";
						if (resultsFieldValueVal == 25) {
							resultsFieldRender += " selected='selected'";
						}
						resultsFieldRender += ">25 results<\/option><option value='50'";
						if (resultsFieldValueVal == 50) {
							resultsFieldRender += " selected='selected'";
						}
						resultsFieldRender += ">50 results<\/option><option value='100'";
						if (resultsFieldValueVal == 100) {
							resultsFieldRender += " selected='selected'";
						}
						resultsFieldRender += ">100 results<\/option><\/select>";
						storeAreaHTML = resultsFieldHTMLStart + resultsFieldRender + resultsFieldHTMLEnd;
					}
					var sortFieldTagStart = storeAreaHTML.indexOf("<!--SORTFIELD");
					if (sortFieldTagStart != -1) {
						var sortFieldTagEnd = storeAreaHTML.indexOf(">",sortFieldTagStart);
						var sortFieldTagStrip = storeAreaHTML.substring(sortFieldTagStart,(sortFieldTagEnd+1));
						var sortFieldHTMLStart = storeAreaHTML.substr(0,sortFieldTagStart);
						var sortFieldHTMLEnd = storeAreaHTML.substr((sortFieldTagEnd+1));
						var sortFieldRender = "";
						var sortFieldValueStart = sortFieldTagStrip.indexOf(" VALUE=");
						if (sortFieldValueStart != -1) {
							var sortFieldValueEnd = sortFieldTagStrip.indexOf("]");
							var sortFieldValueVal = sortFieldTagStrip.substring((sortFieldValueStart+8),(sortFieldValueEnd));
							var sortFieldValueText = sortFieldOptionsArray[sortFieldValueVal][1];
						}
						else {
							var sortFieldValueVal = 0;
							var sortFieldValueText = sortFieldOptionsArray[0][1];
						}
						var sortDivValueStart = sortFieldTagStrip.indexOf(" DIVRENDER");
						if (sortDivValueStart != -1) {
							var sortDivValueVal = 1;
						}
						else {
							var sortDivValueVal = 0;
						}
						var sortFieldItalicStart = sortFieldTagStrip.indexOf(" FNTAW=");
						if (sortFieldItalicStart != -1) {
							var sortFieldItalicEnd = sortFieldTagStrip.indexOf("]",sortFieldItalicStart);
							var sortFieldItalicVar = "<i class='fa " + sortFieldTagStrip.substring((sortFieldItalicStart+8),(sortFieldItalicEnd)) + "'><\/i>";
						}
						else {
							var sortFieldItalicVar = "";
						}
						sortFieldRender += "<input type='hidden' name='panel1SortField' id='panel1SortField' value='" + sortFieldValueVal + "'>";
						if (sortDivValueVal == 0) {
							sortFieldRender += "<select name='panel1SortSelect' id='panel1SortSelect' class='panel_1_sort_field panel_1_sort_field_base' onchange='setSelect(\"panel1SortSelect\",\"panel1SortField\");'><option value='0'";
							if (sortFieldValueVal == 0) {
								sortFieldRender += " selected='selected'";
							}
							sortFieldRender += ">Distance<\/option><option value='1'";
							if (sortFieldValueVal == 1) {
								sortFieldRender += " selected='selected'";
							}
							sortFieldRender += ">Store Name<\/option><\/select>";
						}
						else {
							sortFieldRender += "<div id='panel1SortDivShell' class='panel_1_sort_div_shell'><div class='panel_1_sort_div_filter_arrow'><div class='panel_1_sort_div_filter panel_1_sort_div_filter_base panel_1_sort_div_filter_base_off'";
							if (hoverState==1) {
								sortFieldRender += " onmouseover='genericButtonOver(\"panel_1_sort_div_filter\",\"panel_1_sort_div_filter_base\");' onfocus='genericButtonOver(\"panel_1_sort_div_filter\",\"panel_1_sort_div_filter_base\");' onmouseout='genericButtonOut(\"panel_1_sort_div_filter\",\"panel_1_sort_div_filter_base\");' onblur='genericButtonOut(\"panel_1_sort_div_filter\",\"panel_1_sort_div_filter_base\");'";
							}
							sortFieldRender += " onclick='$(\".panel_1_sort_div_filter_slider\").toggle();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){$(\".panel_1_sort_div_filter_slider\").toggle();}'><div class='panel_1_sort_div_filter_text'><span id='panel1SortDivNum'>" + sortFieldValueText + "<\/span> " + sortFieldItalicVar + "<\/div><\/div><\/div><div class='panel_1_sort_div_filter_slider panel_close_me' style='display:none;'><div class='panel_1_sort_div_filter_liner'>";
							for (w=0; w<sortFieldOptionsArray.length; w++) {
								sortFieldRender += "<div class='panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + " panel_1_sort_div_filter_item panel_1_sort_div_filter_item_off'";
								if (hoverState==1) {
									sortFieldRender += " onmouseover='genericButtonOver(\"panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + "\",\"panel_1_sort_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + "\",\"panel_1_sort_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + "\",\"panel_1_sort_div_filter_item\");' onblur='genericButtonOut(\"panel_1_sort_div_filter_item_" + sortFieldOptionsArray[w][0] + "\",\"panel_1_sort_div_filter_item\");'";
								}
								sortFieldRender += " onclick='panel1SortAction(" + sortFieldOptionsArray[w][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1SortAction(" + sortFieldOptionsArray[w][0] + ");}'>" + sortFieldOptionsArray[w][1] + "<\/div>";
							}
							sortFieldRender += "<\/div><\/div><\/div>";
						}
						storeAreaHTML = sortFieldHTMLStart + sortFieldRender + sortFieldHTMLEnd;
					}
					var submitButtonSearchOn = 1;
					while (submitButtonSearchOn != 0) {
						var submitButtonTagStart = storeAreaHTML.indexOf("<!--SUBBUTTON");
						if (submitButtonTagStart != -1) {
							var submitButtonTagEnd = storeAreaHTML.indexOf(">",submitButtonTagStart);
							var submitButtonTagStrip = storeAreaHTML.substring(submitButtonTagStart,(submitButtonTagEnd+1));
							var submitButtonHTMLStart = storeAreaHTML.substr(0,submitButtonTagStart);
							var submitButtonHTMLEnd = storeAreaHTML.substr((submitButtonTagEnd+1));
							var submitButtonRender = "";
							var submitButtonValueStart = submitButtonTagStrip.indexOf(" VALUE=");
							if (submitButtonValueStart != -1) {
								var submitButtonValueEnd = submitButtonTagStrip.indexOf("]",submitButtonValueStart);
								submitButtonValueVar = submitButtonTagStrip.substring((submitButtonValueStart+8),(submitButtonValueEnd));
							}
							else {
								submitButtonValueVar = "SUBMIT";
							}
							var submitButtonItalicStart = submitButtonTagStrip.indexOf(" FNTAW=");
							if (submitButtonItalicStart != -1) {
								var submitButtonItalicEnd = submitButtonTagStrip.indexOf("]",submitButtonItalicStart);
								var submitButtonItalicVar = "<i class='fa " + submitButtonTagStrip.substring((submitButtonItalicStart+8),(submitButtonItalicEnd)) + "'><\/i>";
							}
							else {
								var submitButtonItalicVar = "";
							}
							submitButtonRender += "<div id='panel1SubmitButton" + submitButtonSearchOn + "' class='panel_1_submit_button panel_1_submit_button_" + submitButtonSearchOn + " panel_1_submit_button_off'";
							if (hoverState==1) {
								submitButtonRender += " onmouseover='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",1);' onfocus='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",1);' onmouseout='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",0);' onblur='panel1ButtonHover(\"panel1SubmitButton" + submitButtonSearchOn + "\",\"panel_1_submit_button\",0);'";
							}
							submitButtonRender += " onclick='panel1SubmitForm(1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1SubmitForm(1);}'>" + submitButtonItalicVar + submitButtonValueVar + "<\/div>";
							storeAreaHTML = submitButtonHTMLStart + submitButtonRender + submitButtonHTMLEnd;
							submitButtonSearchOn++;
						}
						else {
							submitButtonSearchOn = 0;
						}
					}
					var prevTenButtonTagStart = storeAreaHTML.indexOf("<!--PREVBUTTON");
					if (prevTenButtonTagStart != -1) {
						var prevTenButtonTagEnd = storeAreaHTML.indexOf(">",prevTenButtonTagStart);
						var prevTenButtonTagStrip = storeAreaHTML.substring(prevTenButtonTagStart,(prevTenButtonTagEnd+1));
						var prevTenButtonHTMLStart = storeAreaHTML.substr(0,prevTenButtonTagStart);
						var prevTenButtonHTMLEnd = storeAreaHTML.substr((prevTenButtonTagEnd+1));
						var prevTenButtonRender = "";
						var prevTenButtonValueStart = prevTenButtonTagStrip.indexOf(" VALUE=");
						if (prevTenButtonValueStart != -1) {
							var prevTenButtonValueEnd = prevTenButtonTagStrip.indexOf("]",prevTenButtonValueStart);
							var prevTenButtonValueVar = prevTenButtonTagStrip.substring((prevTenButtonValueStart+8),(prevTenButtonValueEnd));
						}
						else {
							var prevTenButtonValueVar = "PREVIOUS";
						}
						var prevTenButtonNoHideStart = prevTenButtonTagStrip.indexOf(" NOHIDE");
						if (prevTenButtonNoHideStart != -1) {
							var prevTenButtonNoHideVar = 1;
						}
						else {
							var prevTenButtonNoHideVar = 0;
						}
						var prevTenButtonItalicStart = prevTenButtonTagStrip.indexOf(" FNTAW=");
						if (prevTenButtonItalicStart != -1) {
							var prevTenButtonItalicEnd = prevTenButtonTagStrip.indexOf("]",prevTenButtonItalicStart);
							var prevTenButtonItalicVar = "<i class='fa " + prevTenButtonTagStrip.substring((prevTenButtonItalicStart+8),(prevTenButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var prevTenButtonItalicVar = "";
						}
						if (prevTenButtonNoHideVar == 0) {
							var prevTenShow = " style='display:none;'";
							var prevTenHideClass = "_off";
						}
						else {
							var prevTenShow = "";
							var prevTenHideClass = "_inactive";
						}
						prevTenButtonRender += "<div" + prevTenShow + " id='panel1PrevButton' class='panel_1_prev_button panel_1_prev_button" + prevTenHideClass + "'";
						if (hoverState==1) {
							prevTenButtonRender += " onmouseover='panel1ButtonHover(\"panel1PrevButton\",\"panel_1_prev_button\",1);' onfocus='panel1ButtonHover(\"panel1PrevButton\",\"panel_1_prev_button\",1);' onmouseout='panel1ButtonHover(\"panel1PrevButton\",\"panel_1_prev_button\",0);' onblur='panel1ButtonHover(\"panel1PrevButton\",\"panel_1_prev_button\",0);'";
						}
						prevTenButtonRender += " onclick='panel1PrevTen(" + prevTenButtonNoHideVar + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1PrevTen(" + prevTenButtonNoHideVar + ");}'>" + prevTenButtonItalicVar + prevTenButtonValueVar + "<\/div>";
						storeAreaHTML = prevTenButtonHTMLStart + prevTenButtonRender + prevTenButtonHTMLEnd;
					}
					var nextTenButtonTagStart = storeAreaHTML.indexOf("<!--NEXTBUTTON");
					if (nextTenButtonTagStart != -1) {
						var nextTenButtonTagEnd = storeAreaHTML.indexOf(">",nextTenButtonTagStart);
						var nextTenButtonTagStrip = storeAreaHTML.substring(nextTenButtonTagStart,(nextTenButtonTagEnd+1));
						var nextTenButtonHTMLStart = storeAreaHTML.substr(0,nextTenButtonTagStart);
						var nextTenButtonHTMLEnd = storeAreaHTML.substr((nextTenButtonTagEnd+1));
						var nextTenButtonRender = "";
						var nextTenButtonValueStart = nextTenButtonTagStrip.indexOf(" VALUE=");
						if (nextTenButtonValueStart != -1) {
							var nextTenButtonValueEnd = nextTenButtonTagStrip.indexOf("]",nextTenButtonValueStart);
							var nextTenButtonValueVar = nextTenButtonTagStrip.substring((nextTenButtonValueStart+8),(nextTenButtonValueEnd));
						}
						else {
							var nextTenButtonValueVar = "NEXT";
						}
						var nextTenButtonNoHideStart = nextTenButtonTagStrip.indexOf(" NOHIDE");
						if (nextTenButtonNoHideStart != -1) {
							var nextTenButtonNoHideVar = 1;
						}
						else {
							var nextTenButtonNoHideVar = 0;
						}
						var nextTenButtonItalicStart = nextTenButtonTagStrip.indexOf(" FNTAW=");
						if (nextTenButtonItalicStart != -1) {
						var nextTenButtonItalicEnd = nextTenButtonTagStrip.indexOf("]",nextTenButtonItalicStart);
							var nextTenButtonItalicVar = "<i class='fa " + nextTenButtonTagStrip.substring((nextTenButtonItalicStart+8),(nextTenButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var nextTenButtonItalicVar = "";
						}
						var nextNum = new Number(document.getElementById('results').value);
						if (nextTenButtonNoHideVar == 0) {
							if (storeDisplayArray.length <= nextNum) {
								var nextTenShow = " style='display:none;'";
							}
							else {
								var nextTenShow = "";
							}
							var nextTenHideClass = "_off";
						}
						else {
							if (storeDisplayArray.length <= nextNum) {
								var nextTenHideClass = "_inactive";
							}
							else {
								var nextTenHideClass = "_off";
							}
							var nextTenShow = "";
						}
						nextTenButtonRender += "<div id='panel1NextButton'" + nextTenShow + " class='panel_1_next_button panel_1_next_button" + nextTenHideClass + "'";
						if (hoverState==1) {
							nextTenButtonRender += " onmouseover='panel1ButtonHover(\"panel1NextButton\",\"panel_1_next_button\",1);' onfocus='panel1ButtonHover(\"panel1NextButton\",\"panel_1_next_button\",1);' onmouseout='panel1ButtonHover(\"panel1NextButton\",\"panel_1_next_button\",0);' onblur='panel1ButtonHover(\"panel1NextButton\",\"panel_1_next_button\",0);'";
						}
						nextTenButtonRender += " onclick='panel1NextTen(" + nextTenButtonNoHideVar + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1NextTen(" + nextTenButtonNoHideVar + ");}'>" + nextTenButtonItalicVar + nextTenButtonValueVar + "<\/div>";
						storeAreaHTML = nextTenButtonHTMLStart + nextTenButtonRender + nextTenButtonHTMLEnd;
					}
					var resultsStartTagStart = storeAreaHTML.indexOf("<!--RESULTSSTART");
					if (resultsStartTagStart != -1) {
						var resultsStartTagEnd = storeAreaHTML.indexOf(">",resultsStartTagStart);
						var resultsStartTagStrip = storeAreaHTML.substring(resultsStartTagStart,(resultsStartTagEnd+1));
						var resultsStartHTMLStart = storeAreaHTML.substr(0,resultsStartTagStart);
						var resultsStartHTMLEnd = storeAreaHTML.substr((resultsStartTagEnd+1));
						var resultsStartPage = resultsStartTagStrip.indexOf(" PAGE");
						if (resultsStartPage != -1) {
							panel1ResultsStartPage = 1;
						}
						storeAreaHTML = resultsStartHTMLStart + "<span id='panel1ResultsStart'><\/span>" + resultsStartHTMLEnd;
					}
					var resultsEndTagStart = storeAreaHTML.indexOf("<!--RESULTSEND");
					if (resultsEndTagStart != -1) {
						var resultsEndTagEnd = storeAreaHTML.indexOf(">",resultsEndTagStart);
						var resultsEndHTMLStart = storeAreaHTML.substr(0,resultsEndTagStart);
						var resultsEndHTMLEnd = storeAreaHTML.substr((resultsEndTagEnd+1));
						storeAreaHTML = resultsEndHTMLStart + "<span id='panel1ResultsEnd'><\/span>" + resultsEndHTMLEnd;
					}
					var resultsTotalTagStart = storeAreaHTML.indexOf("<!--RESULTSTOTAL");
					if (resultsTotalTagStart != -1) {
						var resultsTotalTagEnd = storeAreaHTML.indexOf(">",resultsTotalTagStart);
						var resultsTotalTagStrip = storeAreaHTML.substring(resultsTotalTagStart,(resultsTotalTagEnd+1));
						var resultsTotalHTMLStart = storeAreaHTML.substr(0,resultsTotalTagStart);
						var resultsTotalHTMLEnd = storeAreaHTML.substr((resultsTotalTagEnd+1));
						var resultsTotalPage = resultsTotalTagStrip.indexOf(" PAGE");
						if (resultsTotalPage != -1) {
							panel1ResultsTotalPage = 1;
						}
						storeAreaHTML = resultsTotalHTMLStart + "<span id='panel1ResultsTotal'><\/span>" + resultsTotalHTMLEnd;
					}
					var totalResultsTagStart = storeAreaHTML.indexOf("<!--TOTALRESULTS");
					if (totalResultsTagStart != -1) {
						var totalResultsTagEnd = storeAreaHTML.indexOf(">",totalResultsTagStart);
						var totalResultsTagStrip = storeAreaHTML.substring(totalResultsTagStart,(totalResultsTagEnd+1));
						var totalResultsHTMLStart = storeAreaHTML.substr(0,totalResultsTagStart);
						var totalResultsHTMLEnd = storeAreaHTML.substr((totalResultsTagEnd+1));
						var totalResultsPage = totalResultsTagStrip.indexOf(" PAGE");
						if (totalResultsPage != -1) {
							panel1TotalResultsPage = 1;
						}
						storeAreaHTML = totalResultsHTMLStart + "<span id='panel1TotalResults'><\/span>" + totalResultsHTMLEnd;
					}
					var resultsCompileTagStart = storeAreaHTML.indexOf("<!--RESULTSCOMPILE");
					if (resultsCompileTagStart != -1) {
						var resultsCompileTagEnd = storeAreaHTML.indexOf(">",resultsCompileTagStart);
						var resultsCompileHTMLStart = storeAreaHTML.substr(0,resultsCompileTagStart);
						var resultsCompileHTMLEnd = storeAreaHTML.substr((resultsCompileTagEnd+1));
						var resultsCompileVal = document.getElementById('revCodeCompile').value;
						if (resultsCompileVal == "") {
							resultsCompileVal = document.getElementById('addressCompile').value;
						}
						storeAreaHTML = resultsCompileHTMLStart + "<span id='panel1ResultsCompile'>" + resultsCompileVal + "<\/span>" + resultsCompileHTMLEnd;
					}
					var resultsStreetTagStart = storeAreaHTML.indexOf("<!--RESULTSSTREET");
					if (resultsStreetTagStart != -1) {
						var resultsStreetTagEnd = storeAreaHTML.indexOf(">",resultsStreetTagStart);
						var resultsStreetHTMLStart = storeAreaHTML.substr(0,resultsStreetTagStart);
						var resultsStreetHTMLEnd = storeAreaHTML.substr((resultsStreetTagEnd+1));
						storeAreaHTML = resultsStreetHTMLStart + "<span id='panel1ResultsStreet'>" + document.getElementById('revCodeStreet').value + "<\/span>" + resultsStreetHTMLEnd;
					}
					var resultsCityTagStart = storeAreaHTML.indexOf("<!--RESULTSCITY");
					if (resultsCityTagStart != -1) {
						var resultsCityTagEnd = storeAreaHTML.indexOf(">",resultsCityTagStart);
						var resultsCityHTMLStart = storeAreaHTML.substr(0,resultsCityTagStart);
						var resultsCityHTMLEnd = storeAreaHTML.substr((resultsCityTagEnd+1));
						storeAreaHTML = resultsCityHTMLStart + "<span id='panel1ResultsCity'>" + document.getElementById('revCodeCity').value + "<\/span>" + resultsCityHTMLEnd;
					}
					var resultsStateTagStart = storeAreaHTML.indexOf("<!--RESULTSSTATE");
					if (resultsStateTagStart != -1) {
						var resultsStateTagEnd = storeAreaHTML.indexOf(">",resultsStateTagStart);
						var resultsStateHTMLStart = storeAreaHTML.substr(0,resultsStateTagStart);
						var resultsStateHTMLEnd = storeAreaHTML.substr((resultsStateTagEnd+1));
						storeAreaHTML = resultsStateHTMLStart + "<span id='panel1ResultsState'>" + document.getElementById('revCodeState').value + "<\/span>" + resultsStateHTMLEnd;
					}
					var resultsZipTagStart = storeAreaHTML.indexOf("<!--RESULTSZIP");
					if (resultsZipTagStart != -1) {
						var resultsZipTagEnd = storeAreaHTML.indexOf(">",resultsZipTagStart);
						var resultsZipHTMLStart = storeAreaHTML.substr(0,resultsZipTagStart);
						var resultsZipHTMLEnd = storeAreaHTML.substr((resultsZipTagEnd+1));
						storeAreaHTML = resultsZipHTMLStart + "<span id='panel1ResultsZip'>" + document.getElementById('revCodeZip').value + "<\/span>" + resultsZipHTMLEnd;
					}
					var resultsCountryTagStart = storeAreaHTML.indexOf("<!--RESULTSCOUNTRY");
					if (resultsCountryTagStart != -1) {
						var resultsCountryTagEnd = storeAreaHTML.indexOf(">",resultsCountryTagStart);
						var resultsCountryHTMLStart = storeAreaHTML.substr(0,resultsCountryTagStart);
						var resultsCountryHTMLEnd = storeAreaHTML.substr((resultsCountryTagEnd+1));
						storeAreaHTML = resultsCountryHTMLStart + "<span id='panel1ResultsCountry'>" + document.getElementById('revCodeCountry').value + "<\/span>" + resultsCountryHTMLEnd;
					}
					var resultsGRawTagStart = storeAreaHTML.indexOf("<!--RESULTSGRAW");
					if (resultsGRawTagStart != -1) {
						var resultsGRawTagEnd = storeAreaHTML.indexOf(">",resultsGRawTagStart);
						var resultsGRawHTMLStart = storeAreaHTML.substr(0,resultsGRawTagStart);
						var resultsGRawHTMLEnd = storeAreaHTML.substr((resultsGRawTagEnd+1));
						storeAreaHTML = resultsGRawHTMLStart + "<span id='panel1ResultsGRaw'>" + document.getElementById('GRAW').value + "<\/span>" + resultsGRawHTMLEnd;
					}
					var resultsProdlistTagStart = storeAreaHTML.indexOf("<!--RESULTSPRODLIST");
					if (resultsProdlistTagStart != -1) {
						var resultsProdlistTagEnd = storeAreaHTML.indexOf(">",resultsProdlistTagStart);
						var resultsProdlistTagStrip = storeAreaHTML.substring(resultsProdlistTagStart,(resultsProdlistTagEnd+1));
						var resultsProdlistHTMLStart = storeAreaHTML.substr(0,resultsProdlistTagStart);
						var resultsProdlistHTMLEnd = storeAreaHTML.substr((resultsProdlistTagEnd+1));
						var resultsProdlistDefaultStart = resultsProdlistTagStrip.indexOf(" DEFAULT=");
						if (resultsProdlistDefaultStart != -1) {
							var resultsProdlistDefaultEnd = resultsProdlistTagStrip.indexOf("]",resultsProdlistDefaultStart);
							var resultsProdlistDefaultVal = resultsProdlistTagStrip.substring((resultsProdlistDefaultStart+10),(resultsProdlistDefaultEnd));
						}
						else {
							var resultsProdlistDefaultVal = "No Products Selected";
						}
						var resultsProdlistSpacerStart = resultsProdlistTagStrip.indexOf(" SPACER=");
						if (resultsProdlistSpacerStart != -1) {
							var resultsProdlistSpacerEnd = resultsProdlistTagStrip.indexOf("]",resultsProdlistSpacerStart);
							var resultsProdlistSpacerVal = resultsProdlistTagStrip.substring((resultsProdlistSpacerStart+9),(resultsProdlistSpacerEnd));
						}
						else {
							var resultsProdlistSpacerVal = ", ";
						}
						var resultsProdlistIncImageStart = resultsProdlistTagStrip.indexOf(" IMAGE");
						var resultsProdlistArr = document.getElementById('PROD').value.split(",");
						var resultsProdlistFull = document.getElementById('FULLPROD').value.split(",");
						var resultsProdlistWrite = "";
						if (resultsProdlistArr.length != resultsProdlistFull.length) {
							for (rpl=0; rpl<resultsProdlistArr.length; rpl++) {
								for (bpl=0; bpl<prodDisplayArray.length; bpl++) {
									if (resultsProdlistArr[rpl] == prodDisplayArray[bpl][1]) {
										if (rpl != 0) {
											resultsProdlistWrite += resultsProdlistSpacerVal;
										}
										if (resultsProdlistIncImageStart != -1) {
											var resultsProdlistIncImage = "<img title=\"" + prodDisplayArray[bpl][2] + "\" alt=\"" + prodDisplayArray[bpl][2] + "\" class='panel_1_results_prodlist_img' src='" + clientImgBase + prodDisplayArray[bpl][4] + "'>";
										}
										else {
											var resultsProdlistIncImage = "";
										}
										resultsProdlistWrite += resultsProdlistIncImage + "<span class='panel_1_results_prodlist_prod'>" + prodDisplayArray[bpl][2] + "<\/span>";
										break;
									}
								}
							}
						}
						else {
							resultsProdlistWrite = "<span class='panel_1_results_prodlist_prod'>" + resultsProdlistDefaultVal + "<\/span>";
						}
						storeAreaHTML = resultsProdlistHTMLStart + "<span id='panel1ResultsProdlist'>" + resultsProdlistWrite + "<\/span>" + resultsProdlistHTMLEnd;
					}
					var resultsCatlistTagStart = storeAreaHTML.indexOf("<!--RESULTSCATLIST");
					if (resultsCatlistTagStart != -1) {
						var resultsCatlistTagEnd = storeAreaHTML.indexOf(">",resultsCatlistTagStart);
						var resultsCatlistTagStrip = storeAreaHTML.substring(resultsCatlistTagStart,(resultsCatlistTagEnd+1));
						var resultsCatlistHTMLStart = storeAreaHTML.substr(0,resultsCatlistTagStart);
						var resultsCatlistHTMLEnd = storeAreaHTML.substr((resultsCatlistTagEnd+1));
						var resultsCatlistDefaultStart = resultsCatlistTagStrip.indexOf(" DEFAULT=");
						if (resultsCatlistDefaultStart != -1) {
							var resultsCatlistDefaultEnd = resultsCatlistTagStrip.indexOf("]",resultsCatlistDefaultStart);
							var resultsCatlistDefaultVal = resultsCatlistTagStrip.substring((resultsCatlistDefaultStart+10),(resultsCatlistDefaultEnd));
						}
						else {
							var resultsCatlistDefaultVal = "No Products Selected";
						}
						var resultsCatlistSpacerStart = resultsCatlistTagStrip.indexOf(" SPACER=");
						if (resultsCatlistSpacerStart != -1) {
							var resultsCatlistSpacerEnd = resultsCatlistTagStrip.indexOf("]",resultsCatlistSpacerStart);
							var resultsCatlistSpacerVal = resultsCatlistTagStrip.substring((resultsCatlistSpacerStart+9),(resultsCatlistSpacerEnd));
						}
						else {
							var resultsCatlistSpacerVal = ", ";
						}
						var resultsCatlistIncImageStart = resultsCatlistTagStrip.indexOf(" IMAGE");
						var resultsCatlistWrite = "";
						if (document.getElementById('GROUP').value != "") {
							var resultsCatlistArr = document.getElementById('GROUP').value.split(",");
							for (rcl=0; rcl<resultsCatlistArr.length; rcl++) {
								for (bcl=0; bcl<catArray.length; bcl++) {
									if (resultsCatlistArr[rcl] == catArray[bcl][5]) {
										if (rcl != 0) {
											resultsCatlistWrite += resultsCatlistSpacerVal;
										}
										if (resultsCatlistIncImageStart != -1) {
											var resultsCatlistIncImage = "<img title=\"" + catArray[bcl][1] + "\" alt=\"" + catArray[bcl][1] + "\" class='panel_1_results_catlist_img' src='" + clientImgBase + catArray[bcl][3] + "'>";
										}
										else {
											var resultsCatlistIncImage = "";
										}
										resultsCatlistWrite += resultsCatlistIncImage + "<span class='panel_1_results_catlist_prod'>" + catArray[bcl][1] + "<\/span>";
										break;
									}
								}
							}
						}
						else {
							resultsCatlistWrite = "<span class='panel_1_results_catlist_prod'>" + resultsCatlistDefaultVal + "<\/span>";
						}
						storeAreaHTML = resultsCatlistHTMLStart + "<span id='panel1ResultsCatlist'>" + resultsCatlistWrite + "<\/span>" + resultsCatlistHTMLEnd;
					}
					var prodCountNumTagStart = storeAreaHTML.indexOf("<!--PRODCOUNT");
					if (prodCountNumTagStart != -1) {
						var prodCountNumTagEnd = storeAreaHTML.indexOf(">",prodCountNumTagStart);
						var prodCountNumTagStrip = storeAreaHTML.substring(prodCountNumTagStart,(prodCountNumTagEnd+1));
						var prodCountNumHTMLStart = storeAreaHTML.substr(0,prodCountNumTagStart);
						var prodCountNumHTMLEnd = storeAreaHTML.substr((prodCountNumTagEnd+1));
						var panel2ProdCount = 0;
						var prodCountNumValueStart = prodCountNumTagStrip.indexOf(" VALUE=");
						if (prodCountNumValueStart != -1) {
							var prodCountNumValueEnd = prodCountNumTagStrip.indexOf("]",prodCountNumValueStart);
							prodCountNumValueVar = prodCountNumTagStrip.substring((prodCountNumValueStart+8),(prodCountNumValueEnd));
						}
						else {
							prodCountNumValueVar = "";
						}
						storeAreaHTML = prodCountNumHTMLStart + "<span id='panel1ProdCountNumHolder'><span id='panel1ProdCountNum'>" + prodCartArray.length + "<\/span>" +  prodCountNumValueVar + "<\/span>" + prodCountNumHTMLEnd;
					}
					var emailButtonTagStart = storeAreaHTML.indexOf("<!--EMAILBUTTON");
					if (emailButtonTagStart != -1) {
						var emailButtonTagEnd = storeAreaHTML.indexOf(">",emailButtonTagStart);
						var emailButtonTagStrip = storeAreaHTML.substring(emailButtonTagStart,(emailButtonTagEnd+1));
						var emailButtonHTMLStart = storeAreaHTML.substr(0,emailButtonTagStart);
						var emailButtonHTMLEnd = storeAreaHTML.substr((emailButtonTagEnd+1));
						var emailButtonRender = "";
						var emailButtonValueStart = emailButtonTagStrip.indexOf(" VALUE=");
						if (emailButtonValueStart != -1) {
							var emailButtonValueEnd = emailButtonTagStrip.indexOf("]",emailButtonValueStart);
							var emailButtonValueVar = emailButtonTagStrip.substring((emailButtonValueStart+8),(emailButtonValueEnd));
						}
						else {
							var emailButtonValueVar = "EMAIL";
						}
						var emailButtonItalicStart = emailButtonTagStrip.indexOf(" FNTAW=");
						if (emailButtonItalicStart != -1) {
							var emailButtonItalicEnd = emailButtonTagStrip.indexOf("]",emailButtonItalicStart);
							var emailButtonItalicVar = "<i class='fa " + emailButtonTagStrip.substring((emailButtonItalicStart+8),(emailButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var emailButtonItalicVar = "";
						}
						emailButtonRender += "<div id='panel1DetailSplitButton' class='panel_1_detail_button panel_1_detail_button_off'";
						if (hoverState==1) {
							emailButtonRender += " onmouseover='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",1);' onfocus='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",1);' onmouseout='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",0);' onblur='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",0);'";
						}
						emailButtonRender += " onclick='panel1WriteStoreListText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1WriteStoreListText();}'>" + emailButtonItalicVar + emailButtonValueVar + "<\/div>";
						storeAreaHTML = emailButtonHTMLStart + emailButtonRender + emailButtonHTMLEnd;
					}
					var copyButtonTagStart = storeAreaHTML.indexOf("<!--COPYBUTTON");
					if (copyButtonTagStart != -1) {
						var copyButtonTagEnd = storeAreaHTML.indexOf(">",copyButtonTagStart);
						var copyButtonTagStrip = storeAreaHTML.substring(copyButtonTagStart,(copyButtonTagEnd+1));
						var copyButtonHTMLStart = storeAreaHTML.substr(0,copyButtonTagStart);
						var copyButtonHTMLEnd = storeAreaHTML.substr((copyButtonTagEnd+1));
						var copyButtonRender = "";
						var copyButtonValueStart = copyButtonTagStrip.indexOf(" VALUE=");
						if (copyButtonValueStart != -1) {
							var copyButtonValueEnd = copyButtonTagStrip.indexOf("]",copyButtonValueStart);
							var copyButtonValueVar = copyButtonTagStrip.substring((copyButtonValueStart+8),(copyButtonValueEnd));
						}
						else {
							var copyButtonValueVar = "COPY";
						}
						var copyButtonClickedStart = copyButtonTagStrip.indexOf(" CLICK=");
						if (copyButtonClickedStart != -1) {
							var copyButtonClickedEnd = copyButtonTagStrip.indexOf("]",copyButtonClickedStart);
							var copyButtonClickedVar = copyButtonTagStrip.substring((copyButtonClickedStart+8),(copyButtonClickedEnd));
						}
						else {
							var copyButtonClickedVar = "copied";
						}
						var copyButtonItalicStart = copyButtonTagStrip.indexOf(" FNTAW=");
						if (copyButtonItalicStart != -1) {
							var copyButtonItalicEnd = copyButtonTagStrip.indexOf("]",copyButtonItalicStart);
							var copyButtonItalicVar = "<i class='fa " + copyButtonTagStrip.substring((copyButtonItalicStart+8),(copyButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var copyButtonItalicVar = "";
						}
						copyButtonRender += "<div id='panel1CopyButton' class='panel_1_copy_button panel_1_copy_button_off' style='display:none;'";
						if (hoverState==1) {
							copyButtonRender += " onmouseover='panel1ButtonHover(\"panel1CopyButton\",\"panel_1_copy_button\",1);' onfocus='panel1ButtonHover(\"panel1CopyButton\",\"panel_1_copy_button\",1);' onmouseout='panel1ButtonHover(\"panel1CopyButton\",\"panel_1_copy_button\",0);' onblur='panel1ButtonHover(\"panel1CopyButton\",\"panel_1_copy_button\",0);'";
						}
						copyButtonRender += " onclick='panel1CopyStoreListText(\"panel1CopyButtonText\",\"" + copyButtonValueVar + "\",\"" + copyButtonClickedVar + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CopyStoreListText(\"panel1CopyButtonText\",\"" + copyButtonValueVar + "\",\"" + copyButtonClickedVar + "\");}'>" + copyButtonItalicVar + "<span id='panel1CopyButtonText'>" + copyButtonValueVar + "<\/span><\/div>";
						storeAreaHTML = copyButtonHTMLStart + copyButtonRender + copyButtonHTMLEnd;
					}
					var multiMapSearchOn = 1;
					while (multiMapSearchOn == 1) {
						var multiMapTagStart = storeAreaHTML.indexOf("<!--MULTIMAP");
						if (multiMapTagStart != -1) {
							var multiMapTagEnd = storeAreaHTML.indexOf(">",multiMapTagStart);
							var multiMapTagStrip = storeAreaHTML.substring(multiMapTagStart,(multiMapTagEnd+1));
							var baseMultiMapHTMLStart = storeAreaHTML.substr(0,multiMapTagStart);
							var baseMultiMapHTMLEnd = storeAreaHTML.substr((multiMapTagEnd+1));
							var multiMapTagStoreCatPins = multiMapTagStrip.indexOf(" SCATPINS");
							if (multiMapTagStoreCatPins != -1) {
								panel1MapPinType = 1;
								panel1SCatPins = 1;
							}
							var multiMapTagPromoPins = multiMapTagStrip.indexOf(" PROMOPINS");
							if (multiMapTagPromoPins != -1) {
								panel1PMapPinType = 1;
							}
							storeAreaHTML = baseMultiMapHTMLStart + "<div id='panel1MultiMap' class='panel_1_multi_map'><\/div>" + baseMultiMapHTMLEnd;
						}
						else {
							multiMapSearchOn = 0;
						}
					}
					var locListSearchOn = 1;
					while (locListSearchOn == 1) {
						var locListTagStart = storeAreaHTML.indexOf("<!--LOCLIST");
						if (locListTagStart != -1) {
							var locListTagEnd = storeAreaHTML.indexOf(">",locListTagStart);
							var locListTagStrip = storeAreaHTML.substring(locListTagStart,(locListTagEnd+1));
							var baseLocListHTMLStart = storeAreaHTML.substr(0,locListTagStart);
							var baseLocListHTMLEnd = storeAreaHTML.substr((locListTagEnd+1));
							var locListTagDetailStart = locListTagStrip.indexOf(" DETAIL");
							if (locListTagDetailStart != -1) {
								panel1DetailLocList = 1;
							}
							storeAreaHTML = baseLocListHTMLStart + "<div id='panel1LocListShell' class='panel_1_loc_list_shell'><\/div>" + baseLocListHTMLEnd;
						}
						else {
							locListSearchOn = 0;
						}
					}
				}
				baseHTML = storeAreaHTMLStart + "<div id='panel1StoreShell' class='all_on_one_area panel_1_store_shell' style='display:none;'>" + storeAreaHTML + "<\/div>" + storeAreaHTMLEnd;
			}
			var onlineTabTagStart = baseHTML.indexOf("<!--ONLINETAB");
			if (onlineTabTagStart != -1) {
				var onlineTabTagEnd = baseHTML.indexOf(">",onlineTabTagStart);
				var onlineTabTagStrip = baseHTML.substring(onlineTabTagStart,(onlineTabTagEnd+1));
				var onlineTabHTMLStart = baseHTML.substr(0,onlineTabTagStart);
				var onlineTabHTMLEnd = baseHTML.substr((onlineTabTagEnd+1));
				var onlineHTML = autotextIt(p1TemplateSet.panel1OnlineTabDiv,"panel1OnlineTab");
				baseHTML = onlineTabHTMLStart + "<div id='panel1OnlineTab' class='all_on_one_tab all_on_one_tab_off panel_1_online_tab' onclick='panel1ToggleAllInOneArea(\"online\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ToggleAllInOneArea(\"online\");}'>" + onlineHTML + "<\/div>" + onlineTabHTMLEnd;
			}
			var onlineAreaTagStart = baseHTML.indexOf("<!--ONLINEAREA");
			if (onlineAreaTagStart != -1) {
				var onlineAreaTagEnd = baseHTML.indexOf(">",onlineAreaTagStart);
				var onlineAreaTagStrip = baseHTML.substring(onlineAreaTagStart,(onlineAreaTagEnd+1));
				var onlineAreaHTMLStart = baseHTML.substr(0,onlineAreaTagStart);
				var onlineAreaHTMLEnd = baseHTML.substr((onlineAreaTagEnd+1));
				var onlineAreaHTML = autotextIt(p1TemplateSet.panel1OnlineAreaDiv,"panel1OnlineArea");
				if (onlineAreaHTML.length != -1) {
					var onretTagStart = onlineAreaHTML.indexOf("<!--ONLINERETAILERRESULTS");
					if (onretTagStart != -1) {
						var onretTagEnd = onlineAreaHTML.indexOf(">",onretTagStart);
						var onretTagStrip = onlineAreaHTML.substring(onretTagStart,(onretTagEnd+1));
						var onretHTMLStart = onlineAreaHTML.substr(0,onretTagStart);
						var onretHTMLEnd = onlineAreaHTML.substr((onretTagEnd+1));
						onlineAreaHTML = onretHTMLStart + "<div id='panel1OnRetResultsShell' class='panel_2_onret_results_shell'><\/div>" + onretHTMLEnd;
					}
					var onretselTagStart = onlineAreaHTML.indexOf("<!--ONLINERETAILERSELECT");
					if (onretselTagStart != -1) {
						var onretselTagEnd = onlineAreaHTML.indexOf(">",onretselTagStart);
						var onretselTagStrip = onlineAreaHTML.substring(onretselTagStart,(onretselTagEnd+1));
						var onretselHTMLStart = onlineAreaHTML.substr(0,onretselTagStart);
						var onretselHTMLEnd = onlineAreaHTML.substr((onretselTagEnd+1));
						onlineAreaHTML = onretselHTMLStart + "<div id='panel1OnRetSelectShell' class='panel_2_onret_select_shell'><\/div>" + onretselHTMLEnd;
					}
				}
				baseHTML = onlineAreaHTMLStart + "<div id='panel1OnlineShell' class='all_on_one_area panel_1_online_shell' style='display:none;'>" + onlineAreaHTML + "<\/div>" + onlineAreaHTMLEnd;
			}
			document.getElementById('panel1templates').innerHTML = baseHTML;
		}
	}
	panel1Written = 1;
	if (cpP1 != 0 && cpWritten == 0) {
		cpWrite();
	}
	if (cpsP1 != 0 && cpsWritten == 0) {
		cpSmallWrite();
	}
	if (p1PHWon == 1) {setTimeout(function(){p1PHW = setInterval(panel1ProdHoverWait, 300);},1250);}
	if (p1CHWon == 1) {setTimeout(function(){p1CHW = setInterval(panel1CatHoverWait, 300);},1250);}
	if (p1LPHWon == 1) {setTimeout(function(){p1LPHW = setInterval(panel1LabCatProdHoverWait, 300);},1250);}
	if (p1LCHWon == 1) {setTimeout(function(){p1LCHW = setInterval(panel1LabCatHoverWait, 300);},1250);}
	if (onretOn == 1) {
		if (document.getElementById('panel1OnRetResultsShell') && document.getElementById('panel1OnRetSelectShell')) {
			panel1WriteOnlineRetailer();
		}
	}
	if (onretOn == 2 || ecommPos != 0) {
		if (onRetShow != 0 || ecommPos != 0) {
			if (ecommView == 1 && document.getElementById("PROD").value.indexOf(",") == -1) {
				panel2WriteECommList();
			}
			else {
				showOnRet();
			}
		}
		else {
			showOnlineRetailers();
		}
	}
	if(FAMID != 0 && document.getElementById('panel1MultiFilterL1Shell1')) {
		for (x=0; x<MFL1Arr.length; x++) {
			if (MFL1Arr[x][0] == FAMID) {
				panel1ChooseFilterL1("FAMILY",1,MFL1Arr[x][1].replace("'","&#39;"),"LABEL",MFL1Arr[x][0],MFL1Arr[x][2],MFL1Arr[x][3]);
				if(gLog==1){console.log("FAMILY,1,"+MFL1Arr[x][1].replace("'","&#39;")+",LABEL,"+MFL1Arr[x][0]+","+MFL1Arr[x][2]+","+MFL1Arr[x][3]);}
				break;
			}
		}
	}
	if (document.getElementById('panel1ProdShopCartShell')) {
		panel1ProdCartDraw();
	}
	if (shadowPanel) {
		if (shadowPanel == 1) {
			if (hidePanels != 1) {
				if (FAMID != 0) {
					setTimeout(function(){panelSwitch("panel1","panel2","fade",1);},1500);
				}
				else {
					panelSwitch("panel1","panel2","fade",1);
				}
			}
		}
		else if (shadowPanel == 2) {
			var disBrand = 0;
			for (q=0; q<famArray.length; q++) {
				if (famArray[q][4] == mmBrand) {
					disBrand = q;
					break;
				}
			}
			panel1ProductFamLabelSelect(disBrand,famArray[disBrand][0]);
		}
		else if (shadowPanel == 3) {
			var disLabel = 0;
			for (q=0; q<labelArray.length; q++) {
				if (labelArray[q][4] == mmLabel) {
					disLabel = q;
					break;
				}
			}
			panel1FamLabelReset();
			panel1ProductLabelSelect(disLabel,labelArray[disLabel][0]);
		}
	}
	else {
		if (FAMID != 0) {
			setTimeout(function(){panelSwitch("","panel1","fade");},1500);
		}
		else {
			panelSwitch("","panel1","fade");
		}
	}
	if (document.getElementById('panel1AddressField')) {
		if (document.getElementById('street').value != "") {
			document.getElementById('panel1AddressField').value = document.getElementById('street').value;
		}
		else if (document.getElementById('revCodeZip').value != "") {
			var nowStateM = document.getElementById('revCodeState').value;
			for (tsa=0;tsa<tblStateArray.length;tsa++) {
				if (tblStateArray[tsa][1] == nowStateM) {
					nowStateM = tblStateArray[tsa][0];
					break;
				}
			}
			document.getElementById('panel1AddressField').value = document.getElementById('revCodeCity').value + ", " + nowStateM + " " + document.getElementById('revCodeZip').value + ", " + document.getElementById('revCodeCountry').value;
		}
	}
	if (document.getElementById('panel1CityField')) {
		if (document.getElementById('city').value != "") {
			document.getElementById('panel1CityField').value = document.getElementById('city').value;
		}
	}
	if (document.getElementById('panel1StateField')) {
		if (document.getElementById('state').value != "") {
			document.getElementById('panel1StateField').value = document.getElementById('state').value;
		}
	}
	if (document.getElementById('panel1ZipField')) {
		if (document.getElementById('zip').value != "") {
			document.getElementById('panel1ZipField').value = document.getElementById('zip').value;
		}
	}
	if (document.getElementById('panel1CityField') && FPC != 0) {
		document.getElementById('FPC').value = FPC;
		document.getElementById('PROD').value = prodSelString;
	}
	if (document.getElementById('panel1CityField') && cityBase != "") {
		document.getElementById('city').value = cityBase;
		document.getElementById('panel1CityField').value = cityBase;
	}
	if (document.getElementById('panel1StateField') && stateBase != "") {
		document.getElementById('state').value = stateBase;
		document.getElementById('panel1StateField').value = stateBase;
	}
	if (document.getElementById('panel1ZipField') && zipBase != "") {
		document.getElementById('zip').value = zipBase;
		document.getElementById('panel1ZipField').value = zipBase;
	}
	if (document.getElementById('panel1FilterField')) {
		if (filterFieldTagStart != -1) {
			setTimeout(function(){
				suggestions.length = 0;
				for (j=0;j<labelArray.length;j++) {
					if (labelArray[j][5] == 1) {
						suggestions.push(labelArray[j][1]);
					}
				}
				autoCompleteInit();
			},500);
		}
	}
	if (LABEL != 0) {
		setTimeout(function() {
			for (q=0; q<labelArray.length; q++) {
				if (labelArray[q][0] == LABEL) {
					panel1ProductLabelSelect(q,labelArray[q][0]);
					break;
				}
			}
		}, 50);
	}
	if (!shadowPanel) {
		whatPanelUp = "panel1";
	}
	else {
		if (shadowPanel != 1) {
			whatPanelUp = "panel1";
		}
	}
	if (plPostProd == 1) {
		postImgLoad('prod',plPostProd);
	}
	if (plPostCat == 1) {
		postImgLoad('cat',plPostCat);
	}
	if (plPostLab == 1) {
		postImgLoad('lab',plPostLab);
	}
	if (panel1MapDefaultLoc == 1) {
		panel1DrawDefaultMap();
	}
	if (document.getElementById('panel1RedrawLabelShell')) {
		if (p1RedrawLabelModal == 1) {
			p1WriteFilterModal();
		}
		p1WriteRedrawLabels();
	}
	if (document.getElementById('panel1DietListShell')) {
		p1WriteDietList();
	}
	if (document.getElementById('panel1RedrawBrandLabelShell')) {
		p1WriteBrandLabel();
	}
	if (p1ErrorArray.length) {
		if (trackVal == 1 && allOnOne == 0) {
			setTimeout(function(){
				var errorVal = '{"errorlist":[';
				for (e=0; e<p1ErrorArray.length; e++) {
					if (e != 0) {errorVal += ',';}
					errorVal += '{"error":"'+p1ErrorArray[e]+'"}';
				}
				errorVal += ']}';
				$.post(controlURL + "tracktest.php", {
					CB: noCache,
					TLL: tlVal,
					A1: trackVal,
					UP1: "PANEL1",
					UC1: "DEAL",
					US1: "SUCCESS",
					USRC1: version,
					CLIENT: coreClient,
					ITER: iteration,
					DEVICE: deviceType,
					REF: referer,
					SESSID: daSESSID,
					ERROR: errorVal,
					TRACK: "19",
					DUTV: dutv
					}, function(data){
						if(gLog==1){console.log("panel1Load - tracktest: " , JSON.parse(data));}
					}
				);
			},1000);
		}
		else if (trackVal == 2 && allOnOne == 0) {
			setTimeout(function(){
				var sendObj = setTrackObj();
				sendObj['TRK'] = 19;
				sendObj['RQF'] = "panel1Load (error) ";
				sendObj['ERR'] = {};
				for (e=0; e<p1ErrorArray.length; e++) {
					sendObj['ERR'][e] = {};
					sendObj['ERR'][e]['VAL'] = p1ErrorArray[e];
				}
				sendTrackObj(sendObj);
			},300);
		}
	}
	if (labelSubArray.length) {
		if(gLog==1){console.log("labelSubArray.length - " + labelSubArray.length);}
		for (q=0; q<labelSubArray.length; q++) {
			if (document.getElementById("labelSubDiv" + labelSubArray[q][0])) {
				if(gLog==1){console.log("labelSubArray - Found labelSubDiv" + labelSubArray[q][0]);}
				var currInner = document.getElementById("labelSubDiv" + labelSubArray[q][0]).innerHTML;
				currInner += labelSubArray[q][1];
				document.getElementById("labelSubDiv" + labelSubArray[q][0]).innerHTML = currInner;
				$("#labelSubControl" + labelSubArray[q][0]).show();
			}
			else {
				if(gLog==1){console.log("labelSubArray["+q+"] fail - " + labelSubArray[q][0]);}
			}
		}
	}
	if (panel1FamLabelOn == 1 && BPS != "") {
		for (f=0; f<famArray.length; f++) {
			if (famArray[f][4].toUpperCase() == BPS.toUpperCase()) {
				panel1ProductFamLabelSelect(f,famArray[f][0]);
				if(gLog==1){console.log("BPS panel1FamLabelOn - " + BPS);}
				break;
			}
		}
	}
	else if (panel1RedrawVar == 1 && BPS != "") {
		for (q=0; q<labelArray.length; q++) {
			if (labelArray[q][4] == BPS) {
				panel1RedrawLabelSelect(labelArray[q][0]);
				if(gLog==1){console.log("BPS panel1RedrawVar - " + BPS);}
				break;
			}
		}
	}
	else if (labCatTrack == 1 && BPS != "") {
		for (q=0; q<labelArray.length; q++) {
			if (labelArray[q][4] == BPS) {
				panel1LabCatSelectProducts(labCatRestrict,labelArray[q][0],"Parent","parent");
				if(gLog==1){console.log("BPS labCatTrack - " + BPS);}
				break;
			}
		}
	}
	else if (preRedrawOn != "") {
		for (q=0; q<labelArray.length; q++) {
			if (labelArray[q][4] == preRedrawOn) {
				panel1RedrawLabelSelect(labelArray[q][0]);
				if(gLog==1){console.log("preRedrawOn - " + preRedrawOn);}
				break;
			}
		}
	}
	if (pmReady == 0) {
		pmReady = 1;
		if (enableResize == 2) {
			parent.postMessage("LOAD:1",refurl);
		}
	}
	setTimeout(function(){
		if (mktCalled == 0 && numPost == 1) {
			numeratorConnect();
		}
	},50);
}
function panel1Hit(p1ct) {
	if (trackVal == 1 && allOnOne == 0) {
		$.post(controlURL + "tracktest.php", {
			CB: noCache,
			TLL: tlVal,
			A1: trackVal,
			UP1: "PANEL1",
			UC1: "HIT",
			US1: "SUCCESS",
			USRC1: version,
			CLIENT: coreClient,
			ITER: iteration,
			DEVICE: deviceType,
			REF: referer,
			SESSID: daSESSID,
			PCT: p1ct,
			TRACK: "1",
			DUTV: dutv
			}, function(data){
				if(gLog==1){console.log("panel1Hit - tracktest: " , JSON.parse(data));}
			}
		);
	}
	else if (trackVal == 2 && allOnOne == 0) {
		setTimeout(function(){
			var sendObj = setTrackObj();
			sendObj['TRK'] = 1;
			sendObj['RQF'] = "panel1Hit";
			sendObj['PCT'] = p1ct;
			sendTrackObj(sendObj);
		},300);
	}
	if (gtm != 0) {
		GTMit("LOAD", "response", "panel1",true);
	}
}
var p1Seconds = 0;
var p1Minutes = 0;
var p1Hours = 0;
var sessionVar;
function timerAdd() {
    p1Seconds++;
    if (p1Seconds >= 60) {
        p1Seconds = 0;
        p1Minutes++;
        if (p1Minutes >= 60) {
            p1Minutes = 0;
            p1Hours++;
        }
    }
    if (document.getElementById('panel1Timer')) {
    	$("#panel1Timer").removeClass("all_on_one_timer_off");
    	$("#panel1Timer").addClass("all_on_one_timer_on");
    	document.getElementById('panel1Timer').innerHTML = (p1Hours ? (p1Hours > 9 ? p1Hours : "0" + p1Hours) : "00") + ":" + (p1Minutes ? (p1Minutes > 9 ? p1Minutes : "0" + p1Minutes) : "00") + ":" + (p1Seconds > 9 ? p1Seconds : "0" + p1Seconds);
	}
    p1SessionTimer();
}
function p1SessionTimer() {
    sessionVar = setTimeout(timerAdd, 1000);
}
function p1SessionStart() {
	caSearchArr.length = 0;
	caProdArr.length = 0;
	caDirEmailArr.length = 0;
	caEcommEmailArr.length = 0;
	caListEmailArr.length = 0;
	sessionIsOn = 1;
	var d = new Date();
	p1StartTime = d.valueOf();
	if (document.getElementById('modalDivFront')) {
		var baseHTML = autotextIt(p1TemplateSet.panel1EmailModalNewDiv,"panel1EmailModalNew");
		var emailSSFieldTagStart = baseHTML.indexOf("<!--EMAILFIELD");
		if (emailSSFieldTagStart != -1) {
			var emailSSFieldTagEnd = baseHTML.indexOf(">",emailSSFieldTagStart);
			var emailSSFieldTagStrip = baseHTML.substring(emailSSFieldTagStart,(emailSSFieldTagEnd+1));
			var emailSSFieldHTMLStart = baseHTML.substr(0,emailSSFieldTagStart);
			var emailSSFieldHTMLEnd = baseHTML.substr((emailSSFieldTagEnd+1));
			var emailSSFieldValueStart = emailSSFieldTagStrip.indexOf(" VALUE=");
			if (emailSSFieldValueStart != -1) {
				var emailSSFieldValueEnd = emailSSFieldTagStrip.indexOf("]",emailSSFieldValueStart);
				var emailSSFieldValueVar = emailSSFieldTagStrip.substring((emailSSFieldValueStart+8),(emailSSFieldValueEnd));
			}
			else {
				var emailSSFieldValueVar = "EMAIL ADDRESS";
			}
			var emailSSFieldPreset = "";
			if (panel1AIOEmail != "") {
				emailSSFieldPreset = " value='" + panel1AIOEmail + "'";
			}
			baseHTML = emailSSFieldHTMLStart + "<input type='email' name='panel1EmailSSField' id='panel1EmailSSField' class='panel_1_emailSS_field panel_1_emailSS_field_base' placeholder='" + emailSSFieldValueVar + "'" + emailSSFieldPreset + " title=\"" + emailSSFieldValueVar + "\">" + emailSSFieldHTMLEnd;
		}
		var nameSSFieldTagStart = baseHTML.indexOf("<!--NAMEFIELD");
		if (nameSSFieldTagStart != -1) {
			var nameSSFieldTagEnd = baseHTML.indexOf(">",nameSSFieldTagStart);
			var nameSSFieldTagStrip = baseHTML.substring(nameSSFieldTagStart,(nameSSFieldTagEnd+1));
			var nameSSFieldHTMLStart = baseHTML.substr(0,nameSSFieldTagStart);
			var nameSSFieldHTMLEnd = baseHTML.substr((nameSSFieldTagEnd+1));
			var nameSSFieldValueStart = nameSSFieldTagStrip.indexOf(" VALUE=");
			if (nameSSFieldValueStart != -1) {
				var nameSSFieldValueEnd = nameSSFieldTagStrip.indexOf("]",nameSSFieldValueStart);
				var nameSSFieldValueVar = nameSSFieldTagStrip.substring((nameSSFieldValueStart+8),(nameSSFieldValueEnd));
			}
			else {
				var nameSSFieldValueVar = "CUSTOMER NAME";
			}
			var nameSSFieldPreset = "";
			if (panel1AIOName != "") {
				nameSSFieldPreset = " value='" + panel1AIOName + "'";
			}
			baseHTML = nameSSFieldHTMLStart + "<input type='text' name='panel1NameSSField' id='panel1NameSSField' class='panel_1_nameSS_field panel_1_nameSS_field_base' placeholder='" + nameSSFieldValueVar + "'" + nameSSFieldPreset + " title=\"" + nameSSFieldValueVar + "\">" + nameSSFieldHTMLEnd;
		}
		var saveSSButtonTagStart = baseHTML.indexOf("<!--SAVEBUTTON");
		if (saveSSButtonTagStart != -1) {
			var saveSSButtonTagEnd = baseHTML.indexOf(">",saveSSButtonTagStart);
			var saveSSButtonTagStrip = baseHTML.substring(saveSSButtonTagStart,(saveSSButtonTagEnd+1));
			var saveSSButtonHTMLStart = baseHTML.substr(0,saveSSButtonTagStart);
			var saveSSButtonHTMLEnd = baseHTML.substr((saveSSButtonTagEnd+1));
			var saveSSButtonRender = "";
			var saveSSButtonValueStart = saveSSButtonTagStrip.indexOf(" VALUE=");
			if (saveSSButtonValueStart != -1) {
				var saveSSButtonValueEnd = saveSSButtonTagStrip.indexOf("]",saveSSButtonValueStart);
				var saveSSButtonValueVar = saveSSButtonTagStrip.substring((saveSSButtonValueStart+8),(saveSSButtonValueEnd));
			}
			else {
				var saveSSButtonValueVar = "SEND";
			}
			var saveSSButtonItalicStart = saveSSButtonTagStrip.indexOf(" FNTAW=");
			if (saveSSButtonItalicStart != -1) {
				var saveSSButtonItalicEnd = saveSSButtonTagStrip.indexOf("]",saveSSButtonItalicStart);
				var saveSSButtonItalicVar = "<i class='fa " + saveSSButtonTagStrip.substring((saveSSButtonItalicStart+8),(saveSSButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var saveSSButtonItalicVar = "";
			}
			saveSSButtonRender += "<div id='panel1SaveSSButton' class='panel_1_saveSS_button panel_1_saveSS_button_off'";
			if (hoverState==1) {
				saveSSButtonRender += " onmouseover='panel1ButtonHover(\"panel1SaveSSButton\",\"panel_1_saveSS_button\",1);' onfocus='panel1ButtonHover(\"panel1SaveSSButton\",\"panel_1_saveSS_button\",1);' onmouseout='panel1ButtonHover(\"panel1SaveSSButton\",\"panel_1_saveSS_button\",0);' onblur='panel1ButtonHover(\"panel1SaveSSButton\",\"panel_1_saveSS_button\",0);'";
			}
			saveSSButtonRender += " onclick='panel1SaveSS();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1SaveSS();}' tabindex='0' title=\"" + saveSSButtonValueVar + "\">" + saveSSButtonItalicVar + saveSSButtonValueVar + "<\/div>";
			baseHTML = saveSSButtonHTMLStart + saveSSButtonRender + saveSSButtonHTMLEnd;
		}
		var cancelSSButtonTagStart = baseHTML.indexOf("<!--CANCELBUTTON");
		if (cancelSSButtonTagStart != -1) {
			var cancelSSButtonTagEnd = baseHTML.indexOf(">",cancelSSButtonTagStart);
			var cancelSSButtonTagStrip = baseHTML.substring(cancelSSButtonTagStart,(cancelSSButtonTagEnd+1));
			var cancelSSButtonHTMLStart = baseHTML.substr(0,cancelSSButtonTagStart);
			var cancelSSButtonHTMLEnd = baseHTML.substr((cancelSSButtonTagEnd+1));
			var cancelSSButtonRender = "";
			var cancelSSButtonValueStart = cancelSSButtonTagStrip.indexOf(" VALUE=");
			if (cancelSSButtonValueStart != -1) {
				var cancelSSButtonValueEnd = cancelSSButtonTagStrip.indexOf("]",cancelSSButtonValueStart);
				var cancelSSButtonValueVar = cancelSSButtonTagStrip.substring((cancelSSButtonValueStart+8),(cancelSSButtonValueEnd));
			}
			else {
				var cancelSSButtonValueVar = "SEND";
			}
			var cancelSSButtonItalicStart = cancelSSButtonTagStrip.indexOf(" FNTAW=");
			if (cancelSSButtonItalicStart != -1) {
				var cancelSSButtonItalicEnd = cancelSSButtonTagStrip.indexOf("]",cancelSSButtonItalicStart);
				var cancelSSButtonItalicVar = "<i class='fa " + cancelSSButtonTagStrip.substring((cancelSSButtonItalicStart+8),(cancelSSButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var cancelSSButtonItalicVar = "";
			}
			cancelSSButtonRender += "<div id='panel1CancelSSButton' class='panel_1_cancelSS_button panel_1_cancelSS_button_off'";
			if (hoverState==1) {
				cancelSSButtonRender += " onmouseover='panel1ButtonHover(\"panel1CancelSSButton\",\"panel_1_cancelSS_button\",1);' onfocus='panel1ButtonHover(\"panel1CancelSSButton\",\"panel_1_cancelSS_button\",1);' onmouseout='panel1ButtonHover(\"panel1CancelSSButton\",\"panel_1_cancelSS_button\",0);' onblur='panel1ButtonHover(\"panel1CancelSSButton\",\"panel_1_cancelSS_button\",0);'";
			}
			cancelSSButtonRender += " onclick='modalClose();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){modalClose();}' tabindex='0' title=\"Close\">" + cancelSSButtonItalicVar + cancelSSButtonValueVar + "<\/div>";
			baseHTML = cancelSSButtonHTMLStart + cancelSSButtonRender + cancelSSButtonHTMLEnd;
		}
		document.getElementById('modalDivFront').innerHTML = baseHTML;
		$("#loaderDivFront").fadeOut(100);
		$("#loaderDivBack").fadeOut(100);
		document.getElementById('modalDivFront').style.display = "none";
		document.getElementById('modalDivFront').style.left = "0px";
		document.getElementById('modalDivFront').style.top = "0px";
		$("#modalDivBack").fadeIn(100);
		$("#modalDivFront").fadeIn(100);
	}
	$("#panel1SessionStartButton").hide();
	$("#panel1SessionEndButton").show();
	p1SessionTimer();
}
function p1SessionEnd() {
	p1TriggerRefresh = 1;
	var d = new Date();
	p1EndTime = d.valueOf();
	p1DurationTime = p1EndTime - p1StartTime;
    var hours = Math.floor(p1DurationTime / 3600000);
    var minutes = Math.floor((p1DurationTime % 3600000) / 60000);
    var seconds = Math.floor(((p1DurationTime % 360000) % 60000) / 1000);
    clearTimeout(sessionVar);
    p1Seconds = 0;
    p1Minutes = 0;
    p1Hours = 0;
	var baseHTML = autotextIt(p1TemplateSet.panel1EmailModalFinalDiv,"panel1EmailModalFinal");
	var startSETimeTagStart = baseHTML.indexOf("<!--STARTTIME");
	if (startSETimeTagStart != -1) {
		var startSETimeTagEnd = baseHTML.indexOf(">",startSETimeTagStart);
		var startSETimeTagStrip = baseHTML.substring(startSETimeTagStart,(startSETimeTagEnd+1));
		var startSETimeHTMLStart = baseHTML.substr(0,startSETimeTagStart);
		var startSETimeHTMLEnd = baseHTML.substr((startSETimeTagEnd+1));
		var thisStart = new Date(p1StartTime);
		baseHTML = startSETimeHTMLStart + thisStart.toDateString() + " " + thisStart.toTimeString() + startSETimeHTMLEnd;
	}
	var endSETimeTagStart = baseHTML.indexOf("<!--ENDTIME");
	if (endSETimeTagStart != -1) {
		var endSETimeTagEnd = baseHTML.indexOf(">",endSETimeTagStart);
		var endSETimeTagStrip = baseHTML.substring(endSETimeTagStart,(endSETimeTagEnd+1));
		var endSETimeHTMLStart = baseHTML.substr(0,endSETimeTagStart);
		var endSETimeHTMLEnd = baseHTML.substr((endSETimeTagEnd+1));
		var thisEnd = new Date(p1EndTime);
		baseHTML = endSETimeHTMLStart + thisEnd.toDateString() + " " + thisEnd.toTimeString() + endSETimeHTMLEnd;
	}
	var durSETimeTagStart = baseHTML.indexOf("<!--DURATION");
	if (durSETimeTagStart != -1) {
		var durSETimeTagEnd = baseHTML.indexOf(">",durSETimeTagStart);
		var durSETimeTagStrip = baseHTML.substring(durSETimeTagStart,(durSETimeTagEnd+1));
		var durSETimeHTMLStart = baseHTML.substr(0,durSETimeTagStart);
		var durSETimeHTMLEnd = baseHTML.substr((durSETimeTagEnd+1));
		var thisEnd = new Date(p1EndTime);
		baseHTML = durSETimeHTMLStart + hours + ":" + minutes + ":" + seconds + durSETimeHTMLEnd;
	}
	var commentsSEFieldTagStart = baseHTML.indexOf("<!--COMMENTS");
	if (commentsSEFieldTagStart != -1) {
		var commentsSEFieldTagEnd = baseHTML.indexOf(">",commentsSEFieldTagStart);
		var commentsSEFieldTagStrip = baseHTML.substring(commentsSEFieldTagStart,(commentsSEFieldTagEnd+1));
		var commentsSEFieldHTMLStart = baseHTML.substr(0,commentsSEFieldTagStart);
		var commentsSEFieldHTMLEnd = baseHTML.substr((commentsSEFieldTagEnd+1));
		baseHTML = commentsSEFieldHTMLStart + "<textarea name='panel1CommentsSETextArea' id='panel1CommentsSETextArea' class='panel_1_commentsSE_textarea'><\/textarea>" + commentsSEFieldHTMLEnd;
	}
	var saveSEButtonTagStart = baseHTML.indexOf("<!--SAVEBUTTON");
	if (saveSEButtonTagStart != -1) {
		var saveSEButtonTagEnd = baseHTML.indexOf(">",saveSEButtonTagStart);
		var saveSEButtonTagStrip = baseHTML.substring(saveSEButtonTagStart,(saveSEButtonTagEnd+1));
		var saveSEButtonHTMLStart = baseHTML.substr(0,saveSEButtonTagStart);
		var saveSEButtonHTMLEnd = baseHTML.substr((saveSEButtonTagEnd+1));
		var saveSEButtonRender = "";
		var saveSEButtonValueStart = saveSEButtonTagStrip.indexOf(" VALUE=");
		if (saveSEButtonValueStart != -1) {
			var saveSEButtonValueEnd = saveSEButtonTagStrip.indexOf("]",saveSEButtonValueStart);
			var saveSEButtonValueVar = saveSEButtonTagStrip.substring((saveSEButtonValueStart+8),(saveSEButtonValueEnd));
		}
		else {
			var saveSEButtonValueVar = "SEND";
		}
		var saveSEButtonItalicStart = saveSEButtonTagStrip.indexOf(" FNTAW=");
		if (saveSEButtonItalicStart != -1) {
			var saveSEButtonItalicEnd = saveSEButtonTagStrip.indexOf("]",saveSEButtonItalicStart);
			var saveSEButtonItalicVar = "<i class='fa " + saveSEButtonTagStrip.substring((saveSEButtonItalicStart+8),(saveSEButtonItalicEnd)) + "'><\/i>";
		}
		else {
			var saveSEButtonItalicVar = "";
		}
		saveSEButtonRender += "<div id='panel1SaveSEButton' class='panel_1_saveSE_button panel_1_saveSE_button_off'";
		if (hoverState==1) {
			saveSEButtonRender += " onmouseover='panel1ButtonHover(\"panel1SaveSEButton\",\"panel_1_saveSE_button\",1);' onfocus='panel1ButtonHover(\"panel1SaveSEButton\",\"panel_1_saveSE_button\",1);' onmouseout='panel1ButtonHover(\"panel1SaveSEButton\",\"panel_1_saveSE_button\",0);' onblur='panel1ButtonHover(\"panel1SaveSEButton\",\"panel_1_saveSE_button\",0);'";
		}
		saveSEButtonRender += " onclick='modalClose();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){modalClose();}' tabindex='0' title=\"Close\">" + saveSEButtonItalicVar + saveSEButtonValueVar + "<\/div>";
		baseHTML = saveSEButtonHTMLStart + saveSEButtonRender + saveSEButtonHTMLEnd;
	}
	document.getElementById('modalDivFront').innerHTML = baseHTML;
	$("#loaderDivFront").fadeOut(100);
	$("#loaderDivBack").fadeOut(100);
	document.getElementById('modalDivFront').style.display = "none";
	document.getElementById('modalDivFront').style.left = "0px";
	document.getElementById('modalDivFront').style.top = "0px";
	$("#modalDivBack").fadeIn(100);
	$("#modalDivFront").fadeIn(100);
}
function p1SessionClear() {
	var thisStart = new Date(p1StartTime);
	var thisEnd = new Date(p1EndTime);
    var hours = Math.floor(p1DurationTime / 3600000);
    var minutes = Math.floor((p1DurationTime % 3600000) / 60000);
    var seconds = Math.floor(((p1DurationTime % 360000) % 60000) / 1000);
	var compCA = '{"search_results":"'+caSearchArr.length+'","ecomm_results":"'+caEcommEmailArr.length+'","start_time":"' + thisStart.toDateString() + '","end_time":"' + thisStart.toDateString() + '","duration":"' + hours + ":" + minutes + ":" + seconds + '","comments":"';
	if (document.getElementById('panel1CommentsSETextArea')){
		var commentsTest = document.getElementById('panel1CommentsSETextArea').value;
		compCA += commentsTest.replace(/"/g, '');
	}
	compCA += '","locations":[';
	if (caSearchArr.length) {
		for (q=0; q<caSearchArr.length; q++) {
			if (q != 0) {compCA += ',';}
			compCA += caSearchArr[q];
		}
	}
	compCA += '],"products":[';
	if (caProdArr.length) {
		for (q=0; q<caProdArr.length; q++) {
			if (q != 0) {compCA += ',';}
			compCA += '{"product_list":"' + caProdArr[q] + '"}';
		}
	}
	compCA += '],"email":[';
	if (caDirEmailArr.length) {
		for (q=0; q<caDirEmailArr.length; q++) {
			if (q != 0) {compCA += ',';}
			compCA += '{"directions_email":' + caDirEmailArr[q] + '}';
		}
	}
	if (caListEmailArr.length) {
		for (q=0; q<caListEmailArr.length; q++) {
			if (q != 0 || caDirEmailArr.length > 0) {compCA += ',';}
			compCA += '{"storelist_email":' + caListEmailArr[q] + '}';
		}
	}
	compCA += '],"ecomm":[';
	if (caEcommEmailArr.length) {
		for (q=0; q<caEcommEmailArr.length; q++) {
			if (q != 0) {compCA += ',';}
			compCA += caEcommEmailArr[q];
		}
	}
	compCA += ']}';
	prodCartArray.length = 0;
	$(".counter_badge").hide();
	$(".img_replace_active_static").addClass("img_replace_active");
	$(".img_replace_active_static").removeClass("img_replace_active_static");
	$(".panel_1_category_name_all_on").addClass("panel_1_category_name_all_off");
	$(".panel_1_category_name_all_on").removeClass("panel_1_category_name_all_on");
	$(".panel_1_category_big_img_div_back").removeClass("panel_1_category_big_img_div_back_on");
	$(".panel_1_category_big_img_div_back").addClass("panel_1_category_big_img_div_back_off");
	$(".panel_1_category_sm_img_div_back").removeClass("panel_1_category_sm_img_div_back_on");
	$(".panel_1_category_sm_img_div_back").addClass("panel_1_category_sm_img_div_back_off");
	$(".panel_1_category_big_img_div_over").hide();
	$(".panel_1_product_big_img_div_back").removeClass("panel_1_product_big_img_div_back_on");
	$(".panel_1_product_big_img_div_back").addClass("panel_1_product_big_img_div_back_off");
	$(".panel_1_product_sm_img_div_back").removeClass("panel_1_product_sm_img_div_back_on");
	$(".panel_1_product_sm_img_div_back").addClass("panel_1_product_sm_img_div_back_off");
	$(".panel_1_product_big_img_div_over").hide();
	$('.panel_1_multiFilter_l3_prodname_ion').hide();
	$('.panel_1_multiFilter_l3_prodname_ioff').show();
	$('.panel_1_multiFilter_l3_prodname').removeClass('panel_1_multiFilter_l3_prodname_hover');
	$('.panel_1_multiFilter_l3_prodname').removeClass('panel_1_multiFilter_l3_prodname_on');
	$('.panel_1_multiFilter_l3_prodname').addClass('panel_1_multiFilter_l3_prodname_off');
	document.getElementById('PROD').value = "";
	whatStoreUp = 0;
	panel2PinIncr = 0;
	panel2ListIncr = 0;
	for (z=0;z<famArray.length;z++) {
		famArray[z][5] = 0;
		window["panel1FamilyNameVar"+famArray[z][0]] = 0;
		if (document.getElementById("panel1FamilyName"+famArray[z][0])) {
			if ($("#panel1FamilyName"+famArray[z][0]).hasClass("panel_1_family_name_on")) {
				$("#panel1FamilyName"+famArray[z][0]).removeClass("panel_1_family_name_on");
				$("#panel1FamilyName"+famArray[z][0]).addClass("panel_1_family_name_off");
			}
		}
		if (document.getElementById("panel1FamilyBigImg"+famArray[z][0])) {
			document.getElementById("panel1FamilyBigImg"+famArray[z][0]).src = clientImgBase + famArray[z][2];
		}
		if (document.getElementById("panel1FamilySmImg"+famArray[z][0])) {
			document.getElementById("panel1FamilySmImg"+famArray[z][0]).src = clientImgBase + famArray[z][3];
		}
	}
	for (j=0;j<catArray.length;j++) {
		catArray[j][6] = 0;
		window["panel1CategoryNameVar"+catArray[j][0]] = 0;
		if (document.getElementById("panel1CategoryName"+catArray[j][0])) {
			if ($("#panel1CategoryName"+catArray[j][0]).hasClass("panel_1_category_name_on")) {
				$("#panel1CategoryName"+catArray[j][0]).removeClass("panel_1_category_name_on");
				$("#panel1CategoryName"+catArray[j][0]).addClass("panel_1_category_name_off");
			}
		}
		if (document.getElementById("panel1CategoryBigImg"+catArray[j][0])) {
			document.getElementById("panel1CategoryBigImg"+catArray[j][0]).src = clientImgBase + catArray[j][3];
		}
		if (document.getElementById("panel1CategorySmImg"+catArray[j][0])) {
			document.getElementById("panel1CategorySmImg"+catArray[j][0]).src = clientImgBase + catArray[j][4];
		}
	}
	for (q=0;q<prodDisplayArray.length;q++) {
		prodDisplayArray[q][9] = 0;
		window["panel1ProductNameVar"+prodDisplayArray[q][0]] = 0;
		if (document.getElementById("panel1ProductName"+prodDisplayArray[q][0])) {
			if ($("#panel1ProductName"+prodDisplayArray[q][0]).hasClass("panel_1_product_name_on")) {
				$("#panel1ProductName"+prodDisplayArray[q][0]).removeClass("panel_1_product_name_on");
				$("#panel1ProductName"+prodDisplayArray[q][0]).addClass("panel_1_product_name_off");
			}
		}
		if (document.getElementById("panel1ProductBigImg"+prodDisplayArray[q][0])) {
			document.getElementById("panel1ProductBigImg"+prodDisplayArray[q][0]).src = clientImgBase + prodDisplayArray[q][4];
		}
		if (document.getElementById("panel1ProductSmImg"+prodDisplayArray[q][0])) {
			document.getElementById("panel1ProductSmImg"+prodDisplayArray[q][0]).src = clientImgBase + prodDisplayArray[q][5];
		}
	}
	$(".panel_1_cart_button").removeClass("panel_1_cart_button_on");
	$(".panel_1_cart_button").addClass("panel_1_cart_button_off");
	if (document.getElementById("panel1ProdCartCount")) {
		document.getElementById("panel1ProdCartCount").innerHTML = "0";
	}
	if (document.getElementById("panel1SelProdText")) {
		document.getElementById("panel1SelProdText").innerHTML = p1selProdPluralVar;
	}
	if (document.getElementById("panel1ProdShopCartShell")) {
		document.getElementById("panel1ProdShopCartShell").innerHTML = "";
	}
	if (document.getElementById('panel1OnRetSelectShell') && onretOn == 1) {
		panel1WriteOnlineRetailer();
	}
	if (document.getElementById('panel1AddressField')) {
		document.getElementById("panel1AddressField").value = "";
	}
	if (document.getElementById('panel1CommentsSETextArea')) {
		document.getElementById("panel1CommentsSETextArea").value = "";
	}
	panel1AIOEmail = "";
	panel1AIOName = "";
	p1StartTime = 0;
	p1EndTime = 0;
    if (document.getElementById('panel1Timer')) {
    	$("#panel1Timer").removeClass("all_on_one_timer_on");
    	$("#panel1Timer").addClass("all_on_one_timer_off");
    	document.getElementById('panel1Timer').innerHTML = "00:00:00";
	}
	$("#panel1SessionEndButton").hide();
	$("#panel1SessionStartButton").show();
	document.getElementById('panel1MultiMap').innerHTML = "";
	document.getElementById('panel1LocListShell').innerHTML = "";
	p1MapDrawn = 0;
	if (document.getElementById('panel1TotalResults')) {
		document.getElementById('panel1TotalResults').innerHTML = 0;
	}
	if (panel1RedrawVar == 1) {
		panel1FamLabelReset();
		panel1LabelReset();
		panel1RedrawFilter();
	}
	else if (panel1SimpleVar == 1) {
		panel1FamLabelReset();
		panel1LabelReset();
		panel1SimpleFilter();
	}
	$('.product_holder_area').hide();
	$('.discontinued_holder_area').hide();
	$('.brand_holder_area').show();
	panel1ToggleAllInOneArea("product");
	sessionIsOn = 0;
	if (trackVal == 1) {
		setTimeout(function(){
			$.post(controlURL + "tracktest.php", {
				CB: noCache,
				TLL: tlVal,
				A1: trackVal,
				UP1: "PANEL1",
				UC1: "CONSUMER",
				UCS1: "AFFAIRS",
				US1: "SUCCESS",
				USRC1: version,
				CLIENT: coreClient,
				ITER: iteration,
				DEVICE: deviceType,
				REF: referer,
				CA: compCA,
				TRACK: "20",
				DUTV: dutv
				}, function(data){
					if(gLog==1){console.log("p1SessionClear - tracktest: " , JSON.parse(data));}
				}
			);
		},200);
	}
}
function panel1SaveSS() {
	var emailResult = checkIsEmail('panel1EmailSSField');
	if (emailResult == false) {
		errorText("You appear to have entered an invalid email address. Please try again.",6);
	}
	else {
		panel1AIOEmail = document.getElementById('panel1EmailSSField').value;
		panel1AIOName = document.getElementById('panel1NameSSField').value;
		modalClose();
	}
}
function panel1ToggleAllInOneArea(areaName) {
	if (areaName == "shopcart") {
		$("#panel1ProdShopCartShell").toggle();
	}
	else {
		$("#panel1ProdShopCartShell").hide();
		$(".all_on_one_tab").removeClass("all_on_one_tab_on");
		$(".all_on_one_tab").addClass("all_on_one_tab_off");
		$(".panel_1_"+areaName+"_tab").removeClass("all_on_one_tab_off");
		$(".panel_1_"+areaName+"_tab").addClass("all_on_one_tab_on");
		$(".all_on_one_area").hide();
		$(".panel_1_"+areaName+"_shell").show();
	}
	if (p1MapDrawn == 1 && areaName == "store") {
		panel1DrawMultiMap();
	}
	if (areaName == "online" && onretOn == 2) {
		p1CAGetEcommList();
	}
}
function panel1ListMouseOver (listID, listString, listVar, mapVar) {
	if (document.getElementById(listID)) {
		if (listVar == 0) {
			$('#'+listID).removeClass(listString+'_off');
			$('#'+listID).addClass(listString+'_hover');
			if (document.getElementById('panel1MultiMap')) {
				if (locServe == 0) {
					google.maps.event.trigger(panel1MarkersArray[mapVar], "click");
				}
				else if (locServe == 1) {
					p1ShowInfowindow(mapVar);
				}
			}
		}
		else {
			$('#'+listID).removeClass(listString+'_on');
			$('#'+listID).addClass(listString+'_hover');
			if (document.getElementById('panel1MultiMap')) {
				if (locServe == 0) {
					google.maps.event.trigger(panel1MarkersArray[mapVar], "click");
				}
				else if (locServe == 1) {
					p1ShowInfowindow(mapVar);
				}
			}
		}
	}
}
function panel1ListMouseOut (listID, listString, listVar) {
	if (document.getElementById(listID)) {
		if (listVar == 0) {
			$('#'+listID).removeClass(listString+'_hover');
			$('#'+listID).addClass(listString+'_off');
		}
		else {
			$('#'+listID).removeClass(listString+'_hover');
			$('#'+listID).addClass(listString+'_on');
		}
	}
}
function panel1LocNameMouseOver (listID, listString, listVar) {
	if (document.getElementById(listID)) {
		if (listVar == 0) {
			$('#'+listID).removeClass(listString+'_off');
			$('#'+listID).addClass(listString+'_hover');
		}
		else {
			$('#'+listID).removeClass(listString+'_on');
			$('#'+listID).addClass(listString+'_hover');
		}
	}
}
function panel1LocNameMouseOut (listID, listString, listVar) {
	if (document.getElementById(listID)) {
		if (listVar == 0) {
			$('#'+listID).removeClass(listString+'_hover');
			$('#'+listID).addClass(listString+'_off');
		}
		else {
			$('#'+listID).removeClass(listString+'_hover');
			$('#'+listID).addClass(listString+'_on');
		}
	}
}
function panel1LocPromoMouseOver (promoID, promoString, promoVar) {
	if (document.getElementById(promoID)) {
		if (promoVar == 0) {
			$('#'+promoID).removeClass(promoString+'_off');
			$('#'+promoID).addClass(promoString+'_hover');
		}
		else {
			$('#'+promoID).removeClass(promoString+'_on');
			$('#'+promoID).addClass(promoString+'_hover');
		}
	}
}
function panel1LocPromoMouseOut (promoID, promoString, promoVar) {
	if (document.getElementById(promoID)) {
		if (promoVar == 0) {
			$('#'+promoID).removeClass(promoString+'_hover');
			$('#'+promoID).addClass(promoString+'_off');
		}
		else {
			$('#'+promoID).removeClass(promoString+'_hover');
			$('#'+promoID).addClass(promoString+'_on');
		}
	}
}
function panel1InfoWindowPromoMouseOver (promoID, promoString, promoVar) {
	if (document.getElementById(promoID)) {
		if (promoVar == 0) {
			$('#'+promoID).removeClass(promoString+'_off');
			$('#'+promoID).addClass(promoString+'_hover');
		}
		else {
			$('#'+promoID).removeClass(promoString+'_on');
			$('#'+promoID).addClass(promoString+'_hover');
		}
	}
}
function panel1InfoWindoPromoMouseOut (promoID, promoString, promoVar) {
	if (document.getElementById(promoID)) {
		if (promoVar == 0) {
			$('#'+promoID).removeClass(promoString+'_hover');
			$('#'+promoID).addClass(promoString+'_off');
		}
		else {
			$('#'+promoID).removeClass(promoString+'_hover');
			$('#'+promoID).addClass(promoString+'_on');
		}
	}
}
function panel1InfoWindowNameMouseOver (listID, listString, listVar) {
	if (document.getElementById(listID)) {
		if (listVar == 0) {
			$('#'+listID).removeClass(listString+'_off');
			$('#'+listID).addClass(listString+'_hover');
		}
		else {
			$('#'+listID).removeClass(listString+'_on');
			$('#'+listID).addClass(listString+'_hover');
		}
	}
}
function panel1InfoWindowNameMouseOut (listID, listString, listVar) {
	if (document.getElementById(listID)) {
		if (listVar == 0) {
			$('#'+listID).removeClass(listString+'_hover');
			$('#'+listID).addClass(listString+'_off');
		}
		else {
			$('#'+listID).removeClass(listString+'_hover');
			$('#'+listID).addClass(listString+'_on');
		}
	}
}
function panel1StoreFamMouseOver (storeFamID, storeFamString, storeFamVar) {
	if (document.getElementById(storeFamID)) {
		if (storeFamVar == 0) {
			$('#'+storeFamID).removeClass(storeFamString+'_off');
			$('#'+storeFamID).addClass(storeFamString+'_hover');
		}
		else {
			$('#'+storeFamID).removeClass(storeFamString+'_on');
			$('#'+storeFamID).addClass(storeFamString+'_hover');
		}
	}
}
function panel1StoreFamMouseOut (storeFamID, storeFamString, storeFamVar) {
	if (document.getElementById(storeFamID)) {
		if (storeFamVar == 0) {
			$('#'+storeFamID).removeClass(storeFamString+'_hover');
			$('#'+storeFamID).addClass(storeFamString+'_off');
		}
		else {
			$('#'+storeFamID).removeClass(storeFamString+'_hover');
			$('#'+storeFamID).addClass(storeFamString+'_on');
		}
	}
}
function panel1CompileMultiMap() {
	if(gLog==1){console.log("panel1CompileMultiMap");}
	panel1MarkerPrep = [];
	panel1MarkersArray = [];
	var whatPinNow = 0;
	panel1ListIncr = 0;
	panel1PinIncr = 0;
	panel1storeNow = 0;
	panel1OnRetState = onretStyle;
	var thisDealOBJ = dealOBJ;
	if(gLog==1){console.log("panel1CompileMultiMap dealOBJ - " , thisDealOBJ);}
	storeDisplayArray.length = 0;
	storeProdHoldArray.length = 0;
	panel1SliderArray.length = 0;
	distanceNum = eval(document.getElementById('distance').value);
	if (panel1DistanceFlag == 1) {
		distanceNum =  Math.round((parseInt(distanceNum)*0.621371)*100)/100;
	}
	scopeNum = eval(document.getElementById('scope').value);
	sortNum = eval(document.getElementById('sort').value);
	resultsNum = eval(document.getElementById('results').value);
	whatStoreUp = 0;
	if (document.getElementById('SCFILTER').value != "") {
		var scFilterBase = document.getElementById('SCFILTER').value;
		var scFilterArray = scFilterBase.split(",");
	}
	else {
		var scFilterArray = new Array("0");
	}
	var tempProdSplit = document.getElementById('PROD').value.split(",");
	for (p=0;p<prodDisplayArray.length;p++) {
		for (s=0;s<tempProdSplit.length;s++) {
			if (tempProdSplit[s] == prodDisplayArray[p][1]) {
				prodDisplayArray[p][9] = 1;
				break;
			}
		}
	}
	if (allProductCall == 1) {
		if (allProd == 1) {
			prodString = prodSelString;
		}
		else {
			prodString = document.getElementById('PROD').value;
		}
	}
	else {
		prodString = document.getElementById('PROD').value;
	}
	var hasProd = 0;
	var newIncr = 0;
	if(storeArray.length) {
		if (sortNum == 1) {
			sortCol(storeArray,0);
		}
		else {
			sortCol(storeArray,10);
		}
		if (storeArray.length < maxStoreNum) {
			var maxStoreNum = storeArray.length;
		}
		else {
			var maxStoreNum = maxStoreNum;
		}
		for (s=0;s<storeArray.length;s++) {
			hasProd = 0;
			if (storeArray[s][16] == 0 || storeArray[s][16] == "0") {
				if (storeArray[s][9].indexOf(",") != -1) {
					var storeProd = storeArray[s][9].split(",");
					var storeProdType = 1;
				}
				else {
					var storeProd = storeArray[s][9];
					var storeProdType = 0;
				}
				if (scopeNum == 1) {
					var excludeProd = 0;
					if (storeProdType == 1) {
						for (p=0;p<storeProd.length;p++) {
							if (prodString.indexOf(storeProd[p]) == -1) {
								excludeProd = 1;
								break;
							}
						}
					}
					else {
						if (prodString.indexOf(storeProd) == -1) {
							excludeProd = 1;
						}
					}
					if (excludeProd == 0) {
						hasProd = 1;
					}
				}
				else {
					if (storeProdType == 1) {
						for (p=0;p<storeProd.length;p++) {
							if (prodString.indexOf(storeProd[p]) != -1) {
								hasProd = 1;
								break;
							}
						}
					}
					else {
						if (prodString.indexOf(storeProd) != -1) {
							hasProd = 1;
						}
					}
				}
				if ((eval(storeArray[s][8]) <= distanceNum) && (hasProd == 1)) {
					if(gLog==1){console.log("panel1CompileMultiMap (eval(storeArray[s][8]) <= distanceNum) && (hasProd == 1)");}
					if (document.getElementById('SCFILTER').value != "") {
						if(gLog==1){console.log("panel1CompileMultiMap SCFILTER - " + document.getElementById('SCFILTER').value + " / " + panel1SCatPins);}
						var foundAFilteredStore = 0;
						if (storeArray[s][14].indexOf(",") != -1) {
							var storeCatArrBase = storeArray[s][14].split(",");
						}
						else {
							var storeCatArrBase = new Array(storeArray[s][14]);
						}
						for (sc=0;sc<scFilterArray.length;sc++) {
							var breakIt = 0;
							for (sb=0;sb<storeCatArrBase.length;sb++) {
								if (scFilterArray[sc] == storeCatArrBase[sb]) {
									storeDisplayArray[newIncr] = storeArray[s];
									foundAFilteredStore = 1;
									newIncr++;
									breakIt = 1;
									break;
								}
							}
							if (breakIt == 1) {
								break;
							}
						}
						if (foundAFilteredStore == 0) {
							storeProdHoldArray.push(storeArray[s][13]);
						}
					}
					else {
						if(gLog==1){console.log("panel1CompileMultiMap distanceNum INCLUDE - " + storeArray[s][8] + " / " + distanceNum);}
						storeDisplayArray[newIncr] = storeArray[s];
						newIncr++;
					}
				}
			}
			else {
				if(gLog==1){console.log("panel1CompileMultiMap NOT (eval(storeArray[s][8]) <= distanceNum) && (hasProd == 1)");}
				if (document.getElementById('SCFILTER').value != "") {
					if(gLog==1){console.log("panel1CompileMultiMap SCFILTER - " + document.getElementById('SCFILTER').value + " / " + panel1SCatPins);}
					var foundAFilteredStore = 0;
					if (storeArray[s][14].indexOf(",") != -1) {
						var storeCatArrBase = storeArray[s][14].split(",");
					}
					else {
						var storeCatArrBase = new Array(storeArray[s][14]);
					}
					for (sc=0;sc<scFilterArray.length;sc++) {
						var breakIt = 0;
						for (sb=0;sb<storeCatArrBase.length;sb++) {
							if (scFilterArray[sc] == storeCatArrBase[sb] && eval(storeArray[s][8]) <= distanceNum) {
								storeDisplayArray[newIncr] = storeArray[s];
								foundAFilteredStore = 1;
								newIncr++;
								breakIt = 1;
								break;
							}
						}
						if (breakIt == 1) {
							break;
						}
					}
					if (foundAFilteredStore == 0) {
						storeProdHoldArray.push(storeArray[s][13]);
					}
				}
				else {
					if (eval(storeArray[s][8]) <= distanceNum) {
						if(gLog==1){console.log("panel1CompileMultiMap distanceNum INCLUDE - " + storeArray[s][8] + " / " + distanceNum);}
						storeDisplayArray[newIncr] = storeArray[s];
						newIncr++;
					}
					else {
						if(gLog==1){console.log("panel1CompileMultiMap distanceNum EXCLUDE - " + storeArray[s][8] + " / " + distanceNum);}
					}
				}
			}
			if (newIncr == (maxStoreNum-1)) {
				break;
			}
		}
	}
	if ((whatStoreUp+resultsNum) > storeDisplayArray.length) {
		var whatStoreEnd = storeDisplayArray.length;
	}
	else {
		var whatStoreEnd = whatStoreUp+resultsNum;
	}
	for (x=0; x<storeDisplayArray.length; x++) {
		if (x>=whatStoreUp && x<whatStoreEnd) {
			panel1PinIncr++;
		}
		if (stateNames == 1) {
			var gottaState = 0;
			for (tsa=0;tsa<tblStateArray.length;tsa++) {
				if (tblStateArray[tsa][0] == storeDisplayArray[x][4]) {
					var stateOut = tblStateArray[tsa][1];
					gottaState = 1;
					break;
				}
			}
			if (gottaState == 0) {
				var stateOut = storeDisplayArray[x][4];
			}
		}
		else {
			var stateOut = storeDisplayArray[x][4];
		}
		var multiMapHTMLTest = autotextIt(p1TemplateSet.panel1InfoWindowDiv,"panel1InfoWindow");
		var storeTitle = storeDisplayArray[x][0];
		var storeLat = storeDisplayArray[x][6];
		var storeLon = storeDisplayArray[x][7];
		var storeChain = storeDisplayArray[x][12];
		var storeProdCountArray = storeDisplayArray[x][9].split(",");
		var storeProdTrackArray = [];
		for (w=0;w<storeProdCountArray.length;w++) {
			for (k=0;k<prodDisplayArray.length;k++) {
				if (storeProdCountArray[w] == prodDisplayArray[k][1] || storeProdCountArray[w] == prodDisplayArray[k][12] || storeProdCountArray[w] == prodDisplayArray[k][13] || storeProdCountArray[w] == prodDisplayArray[k][14] || storeProdCountArray[w] == prodDisplayArray[k][15] || storeProdCountArray[w] == prodDisplayArray[k][18]) {
					storeProdCountArray[w] = prodDisplayArray[k][0];
					storeProdTrackArray.push(prodDisplayArray[k][0]);
					break;
				}
			}
		}
		var multiMapCountTempNum = storeProdCountArray.length;
		var multiMapCartCountTempNum = 0;
		var junkArray = document.getElementById('FULLPROD').value.split(',');
		if (junkArray.length != prodCartArray.length) {
			for (w=0;w<storeProdCountArray.length;w++) {
				for (k=0;k<prodCartArray.length;k++) {
					if (storeProdCountArray[w] == prodCartArray[k]) {
						multiMapCartCountTempNum++;
						break;
					}
				}
			}
		}
		if (panel1MapPinType == 1) {
			if (storeDisplayArray[x][14].indexOf(",") != -1) {
				var daPinNum = storeDisplayArray[x][14].substring(0,storeDisplayArray[x][14].indexOf(","));
			}
			else {
				var daPinNum = storeDisplayArray[x][14];
			}
			for (mp=0;mp<storeCatArray.length;mp++) {
				if (storeCatArray[mp][0] == daPinNum) {
					if (pinIncr == 0) {
						var iconLetter = pinSource + "pins/" + storeCatArray[mp][5] + "_" + panel0Alphabet[whatPinNow] + "." + pinSuffix;
						var iconLetter3 = pinSource + "pins/" + storeCatArray[mp][5] + "_" + panel0Alphabet[x] + "." + pinSuffix;
					}
					else {
						var iconLetter = pinSource + "pins/" + storeCatArray[mp][5] + "_" + panel1PinIncr + "." + pinSuffix;
						var iconLetter3 = pinSource + "pins/" + storeCatArray[mp][5] + "_" + (x) + "." + pinSuffix;
					}
					break;
				}
			}
		}
		else {
			if (pinIncr == 0) {
				var iconLetter = pinSource + "pins/" + panel2PinChoice + "_" + panel0Alphabet[whatPinNow] + "." + pinSuffix;
				var iconLetter3 = pinSource + "pins/" + panel2PinChoice + "_" + panel0Alphabet[x] + "." + pinSuffix;
			}
			else {
				var iconLetter = pinSource + "pins/" + panel2PinChoice + "_" + panel1PinIncr + "." + pinSuffix;
				var iconLetter3 = pinSource + "pins/" + panel2PinChoice + "_" + (x) + "." + pinSuffix;
			}
		}
		if(gLog==1){console.log("iconLetter - " + iconLetter);}
		var multiMapChainNameTagStart = multiMapHTMLTest.indexOf("<!--LOCCHAINNAME");
		if (multiMapChainNameTagStart != -1) {
			if (storeDisplayArray[x][17] != "") {
				var multiMapChainNameVal = storeDisplayArray[x][0];
			}
			else {
				var multiMapChainNameVal = storeDisplayArray[x][0];
			}
			var multiMapChainNameTagEnd = multiMapHTMLTest.indexOf(">",multiMapChainNameTagStart);
			var multiMapChainNameTagStrip = multiMapHTMLTest.substring(multiMapChainNameTagStart,(multiMapChainNameTagEnd+1));
			var baseMultiMapChainNameHTMLStart = multiMapHTMLTest.substr(0,multiMapChainNameTagStart);
			var baseMultiMapChainNameHTMLEnd = multiMapHTMLTest.substr((multiMapChainNameTagEnd+1));
			var multiMapChainNameTagLinkTest = multiMapChainNameTagStrip.indexOf(" LINK");
			var multiMapChainNameTagLink = "";
			if (multiMapChainNameTagLinkTest != -1) {
				multiMapChainNameTagLink += " style='cursor:pointer;' onclick='panel1GetLocation(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1GetLocation(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");}'";
				if (hoverState==1) {
					multiMapChainNameTagLink += " onmouseover='panel1InfoWindowNameMouseOver(\"panel1InfoWindowChainName" + storeDisplayArray[x][13] + "\", \"panel_1_info_window_chain_name\",0);' onfocus='panel1InfoWindowNameMouseOver(\"panel1InfoWindowChainName" + storeDisplayArray[x][13] + "\", \"panel_1_info_window_chain_name\",0);' onmouseout='panel1InfoWindowNameMouseOut(\"panel1InfoWindowChainName" + storeDisplayArray[x][13] + "\", \"panel_1_info_window_chain_name\",0);' onblur='panel1InfoWindowNameMouseOut(\"panel1InfoWindowChainName" + storeDisplayArray[x][13] + "\", \"panel_1_info_window_chain_name\",0);'";
				}
			}
			multiMapHTMLTest = baseMultiMapChainNameHTMLStart + "<div id='panel1InfoWindowChainName" + storeDisplayArray[x][13] + "' class='panel_1_info_window_chain_name panel_1_info_window_chain_name_off'" + multiMapChainNameTagLink + " tabindex='0' title=\"" + multiMapChainNameVal + "\">" + multiMapChainNameVal + "<\/div>" + baseMultiMapChainNameHTMLEnd;
		}
		var multiMapChainBigImgTagStart = multiMapHTMLTest.indexOf("<!--LOCCHAINBIGIMG");
		if (multiMapChainBigImgTagStart != -1) {
			var multiMapChainBigImgTagEnd = multiMapHTMLTest.indexOf(">",multiMapChainBigImgTagStart);
			var multiMapChainBigImgTagStrip = multiMapHTMLTest.substring(multiMapChainBigImgTagStart,(multiMapChainBigImgTagEnd+1));
			var baseMultiMapChainBigImgHTMLStart = multiMapHTMLTest.substr(0,multiMapChainBigImgTagStart);
			var baseMultiMapChainBigImgHTMLEnd = multiMapHTMLTest.substr((multiMapChainBigImgTagEnd+1));
			if (storeDisplayArray[x][18] != "") {
				multiMapHTMLTest = baseMultiMapChainBigImgHTMLStart + "<img title=\"" + storeDisplayArray[x][0] + "\" alt=\"" + storeDisplayArray[x][0] + "\" id='panel1InfoWindowChainBigImg" + storeDisplayArray[x][13] + "' class='panel_1_info_window_chain_big_img' src='//" + endpointCDN + "/cms/images/" + storeDisplayArray[x][18] + "'>" + baseMultiMapChainBigImgHTMLEnd;
			}
		}
		var multiMapChainSmImgTagStart = multiMapHTMLTest.indexOf("<!--LOCCHAINSMIMG");
		if (multiMapChainSmImgTagStart != -1) {
			var multiMapChainSmImgTagEnd = multiMapHTMLTest.indexOf(">",multiMapChainSmImgTagStart);
			var multiMapChainSmImgTagStrip = multiMapHTMLTest.substring(multiMapChainSmImgTagStart,(multiMapChainSmImgTagEnd+1));
			var baseMultiMapChainSmImgHTMLStart = multiMapHTMLTest.substr(0,multiMapChainSmImgTagStart);
			var baseMultiMapChainSmImgHTMLEnd = multiMapHTMLTest.substr((multiMapChainSmImgTagEnd+1));
			if (storeDisplayArray[x][19] != "") {
				multiMapHTMLTest = baseMultiMapChainSmImgHTMLStart + "<img title=\"" + storeDisplayArray[x][0] + "\" alt=\"" + storeDisplayArray[x][0] + "\" id='panel1InfoWindowChainSmImg" + storeDisplayArray[x][13] + "' class='panel_1_info_window_chain_sm_img' src='//" + endpointCDN + "/cms/images/" + storeDisplayArray[x][19] + "'>" + baseMultiMapChainSmImgHTMLEnd;
			}
		}
		var multiMapNameTagStart = multiMapHTMLTest.indexOf("<!--LOCNAME");
		if (multiMapNameTagStart != -1) {
			var multiMapNameTagEnd = multiMapHTMLTest.indexOf(">",multiMapNameTagStart);
			var multiMapNameTagStrip = multiMapHTMLTest.substring(multiMapNameTagStart,(multiMapNameTagEnd+1));
			var baseMultiMapNameHTMLStart = multiMapHTMLTest.substr(0,multiMapNameTagStart);
			var baseMultiMapNameHTMLEnd = multiMapHTMLTest.substr((multiMapNameTagEnd+1));
			var multiMapNameTagLinkTest = multiMapNameTagStrip.indexOf(" LINK");
			var multiMapNameTagLink = "";
			if (multiMapNameTagLinkTest != -1) {
				multiMapNameTagLink += " style='cursor:pointer;' onclick='panel1GetLocation(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1GetLocation(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");}'";
				if (hoverState==1) {
					multiMapNameTagLink += " onmouseover='panel1InfoWindowNameMouseOver(\"panel1InfoWindowName" + storeDisplayArray[x][13] + "\", \"panel_1_info_window_name\",0);' onfocus='panel1InfoWindowNameMouseOver(\"panel1InfoWindowName" + storeDisplayArray[x][13] + "\", \"panel_1_info_window_name\",0);' onmouseout='panel1InfoWindowNameMouseOut(\"panel1InfoWindowName" + storeDisplayArray[x][13] + "\", \"panel_1_info_window_name\",0);' onblur='panel1InfoWindowNameMouseOut(\"panel1InfoWindowName" + storeDisplayArray[x][13] + "\", \"panel_1_info_window_name\",0);'";
				}
			}
			multiMapHTMLTest = baseMultiMapNameHTMLStart + "<div id='panel1InfoWindowName" + storeDisplayArray[x][13] + "' class='panel_1_info_window_name panel_1_info_window_name_off'" + multiMapNameTagLink + " tabindex='0' title=\"" + storeDisplayArray[x][0] + "\">" + storeDisplayArray[x][0] + "<\/div>" + baseMultiMapNameHTMLEnd;
		}
		var multiMapAddressTagStart = multiMapHTMLTest.indexOf("<!--LOCADDRESS");
		if (multiMapAddressTagStart != -1) {
			var multiMapAddressTagEnd = multiMapHTMLTest.indexOf(">",multiMapAddressTagStart);
			var multiMapAddressTagStrip = multiMapHTMLTest.substring(multiMapAddressTagStart,(multiMapAddressTagEnd+1));
			var baseMultiMapAddressHTMLStart = multiMapHTMLTest.substr(0,multiMapAddressTagStart);
			var baseMultiMapAddressHTMLEnd = multiMapHTMLTest.substr((multiMapAddressTagEnd+1));
			multiMapHTMLTest = baseMultiMapAddressHTMLStart + "<div id='panel1InfoWindowAddress" + storeDisplayArray[x][13] + "' class='panel_1_info_window_address'>" + storeDisplayArray[x][1] + ", " + storeDisplayArray[x][3] + ", " + storeDisplayArray[x][4] + " " + storeDisplayArray[x][5] + "<\/div>" + baseMultiMapAddressHTMLEnd;
		}
		var multiMapStreetTagStart = multiMapHTMLTest.indexOf("<!--LOCSTREET");
		if (multiMapStreetTagStart != -1) {
			var multiMapStreetTagEnd = multiMapHTMLTest.indexOf(">",multiMapStreetTagStart);
			var multiMapStreetTagStrip = multiMapHTMLTest.substring(multiMapStreetTagStart,(multiMapStreetTagEnd+1));
			var baseMultiMapStreetHTMLStart = multiMapHTMLTest.substr(0,multiMapStreetTagStart);
			var baseMultiMapStreetHTMLEnd = multiMapHTMLTest.substr((multiMapStreetTagEnd+1));
			if (storeDisplayArray[x][1] != "") {
				multiMapHTMLTest = baseMultiMapStreetHTMLStart + "<div id='panel1InfoWindowStreet" + storeDisplayArray[x][13] + "' class='panel_1_info_window_street'>" + storeDisplayArray[x][1] + "<\/div>" + baseMultiMapStreetHTMLEnd;
			}
			else {
				multiMapHTMLTest = baseMultiMapStreetHTMLStart + baseMultiMapStreetHTMLEnd;
			}
		}
		var multiMapCityTagStart = multiMapHTMLTest.indexOf("<!--LOCCITY");
		if (multiMapCityTagStart != -1) {
			var multiMapCityTagEnd = multiMapHTMLTest.indexOf(">",multiMapCityTagStart);
			var multiMapCityTagStrip = multiMapHTMLTest.substring(multiMapCityTagStart,(multiMapCityTagEnd+1));
			var baseMultiMapCityHTMLStart = multiMapHTMLTest.substr(0,multiMapCityTagStart);
			var baseMultiMapCityHTMLEnd = multiMapHTMLTest.substr((multiMapCityTagEnd+1));
			if (storeDisplayArray[x][3] != "") {
				multiMapHTMLTest = baseMultiMapCityHTMLStart + "<div id='panel1InfoWindowCity" + storeDisplayArray[x][13] + "' class='panel_1_info_window_city'>" + storeDisplayArray[x][3] + "<\/div>" + baseMultiMapCityHTMLEnd;
			}
			else {
				multiMapHTMLTest = baseMultiMapCityHTMLStart + baseMultiMapCityHTMLEnd;
			}
		}
		var multiMapStateTagStart = multiMapHTMLTest.indexOf("<!--LOCSTATE");
		if (multiMapStateTagStart != -1) {
			var multiMapStateTagEnd = multiMapHTMLTest.indexOf(">",multiMapStateTagStart);
			var multiMapStateTagStrip = multiMapHTMLTest.substring(multiMapStateTagStart,(multiMapStateTagEnd+1));
			var baseMultiMapStateHTMLStart = multiMapHTMLTest.substr(0,multiMapStateTagStart);
			var baseMultiMapStateHTMLEnd = multiMapHTMLTest.substr((multiMapStateTagEnd+1));
			if (stateOut != "") {
				multiMapHTMLTest = baseMultiMapStateHTMLStart + "<div id='panel1InfoWindowState" + storeDisplayArray[x][13] + "' class='panel_1_info_window_state'>" + stateOut + "<\/div>" + baseMultiMapStateHTMLEnd;
			}
			else {
				multiMapHTMLTest = baseMultiMapStateHTMLStart + baseMultiMapStateHTMLEnd;
			}
		}
		var multiMapZipTagStart = multiMapHTMLTest.indexOf("<!--LOCZIP");
		if (multiMapZipTagStart != -1) {
			var multiMapZipTagEnd = multiMapHTMLTest.indexOf(">",multiMapZipTagStart);
			var multiMapZipTagStrip = multiMapHTMLTest.substring(multiMapZipTagStart,(multiMapZipTagEnd+1));
			var baseMultiMapZipHTMLStart = multiMapHTMLTest.substr(0,multiMapZipTagStart);
			var baseMultiMapZipHTMLEnd = multiMapHTMLTest.substr((multiMapZipTagEnd+1));
			if (storeDisplayArray[x][5] != "") {
				multiMapHTMLTest = baseMultiMapZipHTMLStart + "<div id='panel1InfoWindowZip" + storeDisplayArray[x][13] + "' class='panel_1_info_window_zip'>" + storeDisplayArray[x][5] + "<\/div>" + baseMultiMapZipHTMLEnd;
			}
			else {
				multiMapHTMLTest = baseMultiMapZipHTMLStart + baseMultiMapZipHTMLEnd;
			}
		}
		var multiMapCountryTagStart = multiMapHTMLTest.indexOf("<!--LOCCOUNTRY");
		if (multiMapCountryTagStart != -1) {
			var multiMapCountryTagEnd = multiMapHTMLTest.indexOf(">",multiMapCountryTagStart);
			var multiMapCountryTagStrip = multiMapHTMLTest.substring(multiMapCountryTagStart,(multiMapCountryTagEnd+1));
			var baseMultiMapCountryHTMLStart = multiMapHTMLTest.substr(0,multiMapCountryTagStart);
			var baseMultiMapCountryHTMLEnd = multiMapHTMLTest.substr((multiMapCountryTagEnd+1));
			if (storeDisplayArray[x][27] != "") {
				multiMapHTMLTest = baseMultiMapCountryHTMLStart + "<div id='panel1InfoWindowCountry" + storeDisplayArray[x][13] + "' class='panel_1_info_window_country'>" + storeDisplayArray[x][27] + "<\/div>" + baseMultiMapCountryHTMLEnd;
			}
			else {
				multiMapHTMLTest = baseMultiMapCountryHTMLStart + baseMultiMapCountryHTMLEnd;
			}
		}
		var multiMapCSZTagStart = multiMapHTMLTest.indexOf("<!--LOCCSZ");
		if (multiMapCSZTagStart != -1) {
			var multiMapCSZTagEnd = multiMapHTMLTest.indexOf(">",multiMapCSZTagStart);
			var multiMapCSZTagStrip = multiMapHTMLTest.substring(multiMapCSZTagStart,(multiMapCSZTagEnd+1));
			var baseMultiMapCSZHTMLStart = multiMapHTMLTest.substr(0,multiMapCSZTagStart);
			var baseMultiMapCSZHTMLEnd = multiMapHTMLTest.substr((multiMapCSZTagEnd+1));
			multiMapHTMLTest = baseMultiMapCSZHTMLStart + "<div id='panel1InfoWindowCSZ" + storeDisplayArray[x][13] + "' class='panel_1_info_window_csz'>" + storeDisplayArray[x][3] + ", " + stateOut + " " + storeDisplayArray[x][5] + "<\/div>" + baseMultiMapCSZHTMLEnd;
		}
		var multiMapWebTagStart = multiMapHTMLTest.indexOf("<!--LOCWEB");
		if (multiMapWebTagStart != -1 && storeDisplayArray[x][22] !="") {
			var multiMapWebTagEnd = multiMapHTMLTest.indexOf(">",multiMapWebTagStart);
			var multiMapWebTagStrip = multiMapHTMLTest.substring(multiMapWebTagStart,(multiMapWebTagEnd+1));
			var baseMultiMapWebHTMLStart = multiMapHTMLTest.substr(0,multiMapWebTagStart);
			var baseMultiMapWebHTMLEnd = multiMapHTMLTest.substr((multiMapWebTagEnd+1));
			var baseMultiMapWebValueStart = multiMapWebTagStrip.indexOf(" VALUE=");
			if (baseMultiMapWebValueStart != -1) {
				var baseMultiMapWebValueEnd = multiMapWebTagStrip.indexOf("]");
				var baseMultiMapWebValueVar = multiMapWebTagStrip.substring((baseMultiMapWebValueStart+8),(baseMultiMapWebValueEnd));
			}
			else {
				var baseMultiMapWebValueVar = storeDisplayArray[x][22];
			}
			multiMapHTMLTest = baseMultiMapWebHTMLStart + "<div id='panel1LocWeb" + storeDisplayArray[x][13] + "' class='panel_1_info_window_web' onclick='storeWeb("+x+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){storeWeb("+x+");}' tabindex='0' title=\"Visit Web Site\">" + baseMultiMapWebValueVar + "<\/div>" + baseMultiMapWebHTMLEnd;
		}
		var multiMapPhoneTagStart = multiMapHTMLTest.indexOf("<!--LOCPHONE");
		if (multiMapPhoneTagStart != -1 && storeDisplayArray[x][15]!="") {
			var multiMapPhoneTagEnd = multiMapHTMLTest.indexOf(">",multiMapPhoneTagStart);
			var multiMapPhoneTagStrip = multiMapHTMLTest.substring(multiMapPhoneTagStart,(multiMapPhoneTagEnd+1));
			var multiMapPhoneHTMLStart = multiMapHTMLTest.substr(0,multiMapPhoneTagStart);
			var multiMapPhoneHTMLEnd = multiMapHTMLTest.substr((multiMapPhoneTagEnd+1));
			var multiMapPhoneRender = "";
			var multiMapPhoneValueStart = multiMapPhoneTagStrip.indexOf(" FORMAT=");
			if (multiMapPhoneValueStart != -1) {
				var multiMapPhoneValueEnd = multiMapPhoneTagStrip.indexOf("]");
				var multiMapPhoneValueVarTest = multiMapPhoneTagStrip.substring((multiMapPhoneValueStart+9),(multiMapPhoneValueEnd));
				var phoneSplit=storeDisplayArray[x][15].split("");
				for (p=0;p<phoneSplit.length;p++) {
					var thisHash = multiMapPhoneValueVarTest.indexOf("#");
					if (thisHash != -1) {
						multiMapPhoneValueVarTest = multiMapPhoneValueVarTest.substring(0,(thisHash))+phoneSplit[p]+multiMapPhoneValueVarTest.substring((thisHash+1));
					}
				}
				var multiMapPhoneValueVar = multiMapPhoneValueVarTest;
			}
			else {
				var multiMapPhoneValueVar = storeDisplayArray[x][15];
			}
			var multiMapPhoneRawStart = multiMapPhoneTagStrip.indexOf(" RAW");
			if (multiMapPhoneRawStart != -1) {
				var multiMapPhoneValueVar = storeDisplayArray[x][26];
			}
			multiMapPhoneRender += "<div id='panel1InfoWindowPhone" + storeDisplayArray[x][13] + "' class='panel_1_info_window_phone'>";
			if (version=='WAP' || winWidth <= globalRespWidth) {
				multiMapPhoneRender += "<a href='tel:"+multiMapPhoneValueVar+"'>";
			}
			multiMapPhoneRender += multiMapPhoneValueVar;
			if (version=='WAP' || winWidth <= globalRespWidth) {
				multiMapPhoneRender += "<\/a>";
			}
			multiMapPhoneRender += "<\/div>";
			multiMapHTMLTest = multiMapPhoneHTMLStart + multiMapPhoneRender + multiMapPhoneHTMLEnd;
		}
		var multiMapDistanceTagStart = multiMapHTMLTest.indexOf("<!--LOCDISTANCE");
		if (multiMapDistanceTagStart != -1) {
			var multiMapDistanceTagEnd = multiMapHTMLTest.indexOf(">",multiMapDistanceTagStart);
			var multiMapDistanceTagStrip = multiMapHTMLTest.substring(multiMapDistanceTagStart,(multiMapDistanceTagEnd+1));
			var baseMultiMapDistanceHTMLStart = multiMapHTMLTest.substr(0,multiMapDistanceTagStart);
			var baseMultiMapDistanceHTMLEnd = multiMapHTMLTest.substr((multiMapDistanceTagEnd+1));
			var multiMapDistanceKMRender = "";
			var multiMapDistanceKMTest = multiMapDistanceTagStrip.indexOf(" KM");
			if (multiMapDistanceKMTest != -1 || forceKM == 1) {
				var baseMiles = parseFloat(storeDisplayArray[x][8]);
				var finalMiles = Math.round((baseMiles*1.60934)*100)/100;
				var finalFormat = "km";
			}
			else {
				var finalMiles = storeDisplayArray[x][8];
				var finalFormat = "miles";
			}
			multiMapDistanceKMRender += "<div id='panel1InfoWindowDistance" + storeDisplayArray[x][13] + "' class='panel_1_info_window_distance'>" + finalMiles;
			if (autoShell==1) {
				multiMapDistanceKMRender += "<div class='miles'>" + finalFormat + "<\/div>";
			}
			multiMapDistanceKMRender += "<\/div>";
			multiMapHTMLTest = baseMultiMapDistanceHTMLStart + multiMapDistanceKMRender + baseMultiMapDistanceHTMLEnd;
		}
		var multiMapCountStart = multiMapHTMLTest.indexOf("<!--LOCCOUNT");
		if (multiMapCountStart != -1) {
			var multiMapCountEnd = multiMapHTMLTest.indexOf(">",multiMapCountStart);
			var multiMapCountStrip = multiMapHTMLTest.substring(multiMapCountStart,(multiMapCountEnd+1));
			var multiMapCountHTMLStart = multiMapHTMLTest.substr(0,multiMapCountStart);
			var multiMapCountHTMLEnd = multiMapHTMLTest.substr((multiMapCountEnd+1));
			var multiMapCountExcludeStart = multiMapCountStrip.indexOf(" EXCLUDE");
			if (multiMapCountExcludeStart != -1) {
				var multiMapCountNum = multiMapCountTempNum - multiMapCartCountTempNum;
			}
			else {
				var multiMapCountNum = multiMapCountTempNum;
			}
			multiMapHTMLTest = multiMapCountHTMLStart + multiMapCountNum + multiMapCountHTMLEnd;
		}
		var multiMapCartCountStart = multiMapHTMLTest.indexOf("<!--LOCCARTCOUNT");
		if (multiMapCartCountStart != -1 && multiMapCartCountTempNum != 0) {
			var multiMapCartCountEnd = multiMapHTMLTest.indexOf(">",multiMapCartCountStart);
			var multiMapCartCountStrip = multiMapHTMLTest.substring(multiMapCartCountStart,(multiMapCartCountEnd+1));
			var multiMapCartCountHTMLStart = multiMapHTMLTest.substr(0,multiMapCartCountStart);
			var multiMapCartCountHTMLEnd = multiMapHTMLTest.substr((multiMapCartCountEnd+1));
			var multiMapCartCountValueStart = multiMapCartCountStrip.indexOf(" VALUE=");
			if (multiMapCartCountValueStart != -1) {
				var multiMapCartCountValueEnd = multiMapCartCountStrip.indexOf("]",multiMapCartCountValueStart);
				var multiMapCartCountValueVar = multiMapCartCountStrip.substring((multiMapCartCountValueStart+8),(multiMapCartCountValueEnd));
			}
			else {
				var multiMapCartCountValueVar = "";
			}
			multiMapHTMLTest = multiMapCartCountHTMLStart + multiMapCartCountTempNum + multiMapCartCountValueVar + multiMapCartCountHTMLEnd;
		}
		var avProdButtonTagStart = multiMapHTMLTest.indexOf("<!--BUTTONAVPROD");
		if (avProdButtonTagStart != -1) {
			var avProdButtonTagEnd = multiMapHTMLTest.indexOf(">",avProdButtonTagStart);
			var avProdButtonTagStrip = multiMapHTMLTest.substring(avProdButtonTagStart,(avProdButtonTagEnd+1));
			var avProdButtonHTMLStart = multiMapHTMLTest.substr(0,avProdButtonTagStart);
			var avProdButtonHTMLEnd = multiMapHTMLTest.substr((avProdButtonTagEnd+1));
			var avProdButtonRender = "";
			var avProdButtonValueStart = avProdButtonTagStrip.indexOf(" VALUE=");
			if (avProdButtonValueStart != -1) {
				var avProdButtonValueEnd = avProdButtonTagStrip.indexOf("]",avProdButtonValueStart);
				var avProdButtonValueVar = avProdButtonTagStrip.substring((avProdButtonValueStart+8),(avProdButtonValueEnd));
			}
			else {
				var avProdButtonValueVar = "SUBMIT";
			}
			var avProdButtonItalicStart = avProdButtonTagStrip.indexOf(" FNTAW=");
			if (avProdButtonItalicStart != -1) {
				var avProdButtonItalicEnd = avProdButtonTagStrip.indexOf("]",avProdButtonItalicStart);
				var avProdButtonItalicVar = "<i class='fa " + avProdButtonTagStrip.substring((avProdButtonItalicStart+8),(avProdButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var avProdButtonItalicVar = "";
			}
			avProdButtonRender += "<div id='panel1AvProdButton' class='panel_1_avprod_button panel_1_avprod_button_off'";
			if (hoverState==1) {
				avProdButtonRender += " onmouseover='panel1ButtonHover(\"panel1AvProdButton\",\"panel_1_avprod_button\",1);' onfocus='panel1ButtonHover(\"panel1AvProdButton\",\"panel_1_avprod_button\",1);' onmouseout='panel1ButtonHover(\"panel1AvProdButton\",\"panel_1_avprod_button\",0);' onblur='panel1ButtonHover(\"panel1AvProdButton\",\"panel_1_avprod_button\",0);'";
			}
			avProdButtonRender += " onclick='panel1AvProd(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1AvProd(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");}' tabindex='0' title=\"" + avProdButtonValueVar + "\">" + avProdButtonItalicVar + avProdButtonValueVar + "<\/div>";
			multiMapHTMLTest = avProdButtonHTMLStart + avProdButtonRender + avProdButtonHTMLEnd;
		}
		var getDirectButtonTagStart = multiMapHTMLTest.indexOf("<!--BUTTONGETDIRECT");
		if (getDirectButtonTagStart != -1) {
			var getDirectButtonTagEnd = multiMapHTMLTest.indexOf(">",getDirectButtonTagStart);
			var getDirectButtonTagStrip = multiMapHTMLTest.substring(getDirectButtonTagStart,(getDirectButtonTagEnd+1));
			var getDirectButtonHTMLStart = multiMapHTMLTest.substr(0,getDirectButtonTagStart);
			var getDirectButtonHTMLEnd = multiMapHTMLTest.substr((getDirectButtonTagEnd+1));
			var getDirectButtonRender = "";
			var getDirectButtonValueStart = getDirectButtonTagStrip.indexOf(" VALUE=");
			if (getDirectButtonValueStart != -1) {
				var getDirectButtonValueEnd = getDirectButtonTagStrip.indexOf("]",getDirectButtonValueStart);
				var getDirectButtonValueVar = getDirectButtonTagStrip.substring((getDirectButtonValueStart+8),(getDirectButtonValueEnd));
			}
			else {
				var getDirectButtonValueVar = "SUBMIT";
			}
			var getDirectButtonItalicStart = getDirectButtonTagStrip.indexOf(" FNTAW=");
			if (getDirectButtonItalicStart != -1) {
				var getDirectButtonItalicEnd = getDirectButtonTagStrip.indexOf("]",getDirectButtonItalicStart);
				var getDirectButtonItalicVar = "<i class='fa " + getDirectButtonTagStrip.substring((getDirectButtonItalicStart+8),(getDirectButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var getDirectButtonItalicVar = "";
			}
			getDirectButtonRender += "<div id='panel1GetDirectButton' class='panel_1_getdirect_button panel_1_getdirect_button_off'";
			if (hoverState==1) {
				getDirectButtonRender += " onmouseover='panel1ButtonHover(\"panel1GetDirectButton\",\"panel_1_getdirect_button\",1);' onfocus='panel1ButtonHover(\"panel1GetDirectButton\",\"panel_1_getdirect_button\",1);' onmouseout='panel1ButtonHover(\"panel1GetDirectButton\",\"panel_1_getdirect_button\",0);' onblur='panel1ButtonHover(\"panel1GetDirectButton\",\"panel_1_getdirect_button\",0);'";
			}
			getDirectButtonRender += " onclick='panel1GetDirect(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1GetDirect(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");}' tabindex='0' title=\"" + getDirectButtonValueVar + "\">" + getDirectButtonItalicVar + getDirectButtonValueVar + "<\/div>";
			multiMapHTMLTest = getDirectButtonHTMLStart + getDirectButtonRender + getDirectButtonHTMLEnd;
		}
		var goEmailButtonTagStart = multiMapHTMLTest.indexOf("<!--BUTTONGOEMAIL");
		if (goEmailButtonTagStart != -1) {
			var goEmailButtonTagEnd = multiMapHTMLTest.indexOf(">",goEmailButtonTagStart);
			var goEmailButtonTagStrip = multiMapHTMLTest.substring(goEmailButtonTagStart,(goEmailButtonTagEnd+1));
			var goEmailButtonHTMLStart = multiMapHTMLTest.substr(0,goEmailButtonTagStart);
			var goEmailButtonHTMLEnd = multiMapHTMLTest.substr((goEmailButtonTagEnd+1));
			var goEmailButtonRender = "";
			var goEmailButtonValueStart = goEmailButtonTagStrip.indexOf(" VALUE=");
			if (goEmailButtonValueStart != -1) {
				var goEmailButtonValueEnd = goEmailButtonTagStrip.indexOf("]",goEmailButtonValueStart);
				var goEmailButtonValueVar = goEmailButtonTagStrip.substring((goEmailButtonValueStart+8),(goEmailButtonValueEnd));
			}
			else {
				var goEmailButtonValueVar = "SUBMIT";
			}
			var goEmailButtonItalicStart = goEmailButtonTagStrip.indexOf(" FNTAW=");
			if (goEmailButtonItalicStart != -1) {
				var goEmailButtonItalicEnd = goEmailButtonTagStrip.indexOf("]",goEmailButtonItalicStart);
				var goEmailButtonItalicVar = "<i class='fa " + goEmailButtonTagStrip.substring((goEmailButtonItalicStart+8),(goEmailButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var goEmailButtonItalicVar = "";
			}
			goEmailButtonRender += "<div id='panel1GoEmailButton' class='panel_1_goemail_button panel_1_goemail_button_off'";
			if (hoverState==1) {
				goEmailButtonRender += " onmouseover='panel1ButtonHover(\"panel1GoEmailButton\",\"panel_1_goemail_button\",1);' onfocus='panel1ButtonHover(\"panel1GoEmailButton\",\"panel_1_goemail_button\",1);' onmouseout='panel1ButtonHover(\"panel1GoEmailButton\",\"panel_1_goemail_button\",0);' onblur='panel1ButtonHover(\"panel1GoEmailButton\",\"panel_1_goemail_button\",0);'";
			}
			goEmailButtonRender += " onclick='panel1GoEmail(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1GoEmail(" + x + "," + storeDisplayArray[x][6] + "," + storeDisplayArray[x][7] + "," + storeDisplayArray[x][16] + ",\"" + storeDisplayArray[x][13] + "\");}' tabindex='0' title=\"" + goEmailButtonValueVar + "\">" + goEmailButtonItalicVar + goEmailButtonValueVar + "<\/div>";
			multiMapHTMLTest = goEmailButtonHTMLStart + goEmailButtonRender + goEmailButtonHTMLEnd;
		}
		var infoString = multiMapHTMLTest;
		if (x>=whatStoreUp && x<whatStoreEnd) {
			panel1MarkerPrep[whatPinNow]=[storeLat,storeLon,storeTitle,iconLetter,infoString];
			whatPinNow++;
		}
	}
	if(gLog==1){console.log("panel1MarkerPrep - " + panel1MarkerPrep.length);}
	panel1WriteLocList();
}
function panel1WriteLocList() {
	if(gLog==1){console.log("panel1WriteLocList START - " + storeDisplayArray.length);}
	var locListHTMLStart = autotextIt(p1TemplateSet.panel1LocListStartDiv,"panel1LocListStart");
	if (storeDisplayArray.length) {
		if (document.getElementById("panel1CopyButton")) {
			document.getElementById("panel1CopyButton").style.display = "block";
		}
		var locListHTML = "";
		var whatPinMatch = 0;
		var hasADamnSCat = 0;
		var whatTheSCatIs = "";
		for (hdsc=0; hdsc<storeDisplayArray.length; hdsc++) {
			if (storeDisplayArray[hdsc][14] != whatTheSCatIs) {
				whatTheSCatIs = storeDisplayArray[hdsc][14]
				hasADamnSCat++;
			}
		}
		if ((whatStoreUp+resultsNum) > storeDisplayArray.length) {
			var whatStoreEnd = storeDisplayArray.length;
		}
		else {
			var whatStoreEnd = whatStoreUp+resultsNum;
		}
		var locListRowAlt = "panel_1_loc_list_row_even";
		var storeTrackJSON = "";
		var storeTrackIncr = 0;
		for (x=whatStoreUp; x<whatStoreEnd; x++) {
			panel1ListIncr++;
			if (locListRowAlt == "panel_1_loc_list_row_even") {
				locListRowAlt = "panel_1_loc_list_row_odd";
			}
			else {
				locListRowAlt = "panel_1_loc_list_row_even";
			}
			if (stateNames == 1) {
				var gottaState = 0;
				for (tsa=0;tsa<tblStateArray.length;tsa++) {
					if (tblStateArray[tsa][0] == storeDisplayArray[x][4]) {
						var stateOut = tblStateArray[tsa][1];
						gottaState = 1;
						break;
					}
				}
				if (gottaState == 0) {
					var stateOut = storeDisplayArray[x][4];
				}
			}
			else {
				var stateOut = storeDisplayArray[x][4];
			}
			var locListHTMLTest = autotextIt(p1TemplateSet.panel1LocListDiv,"panel1LocList");
			var storeProdCountArray = storeDisplayArray[x][9].split(",");
			var storeProdTrackArray = [];
			for (w=0;w<storeProdCountArray.length;w++) {
				for (k=0;k<prodDisplayArray.length;k++) {
					if (storeProdCountArray[w] == prodDisplayArray[k][1] || storeProdCountArray[w] == prodDisplayArray[k][12] || storeProdCountArray[w] == prodDisplayArray[k][13] || storeProdCountArray[w] == prodDisplayArray[k][14] || storeProdCountArray[w] == prodDisplayArray[k][15] || storeProdCountArray[w] == prodDisplayArray[k][18]) {
						storeProdCountArray[w] = prodDisplayArray[k][0];
						storeProdTrackArray.push(prodDisplayArray[k][0]);
						break;
					}
				}
			}
			var locCountTempNum = storeProdCountArray.length;
			var locCartCountTempNum = 0;
			var junkArray = document.getElementById('FULLPROD').value.split(',');
			if (junkArray.length != prodCartArray.length) {
				for (w=0;w<storeProdCountArray.length;w++) {
					for (k=0;k<prodCartArray.length;k++) {
						if (storeProdCountArray[w] == prodCartArray[k]) {
							locCartCountTempNum++;
							break;
						}
					}
				}
			}
			var storeChain = storeDisplayArray[x][12];
			if (panel1MapPinType == 1) {
				if (storeDisplayArray[x][14].indexOf(",") != -1) {
					var daPinNum = storeDisplayArray[x][14].substring(0,storeDisplayArray[x][14].indexOf(","));
				}
				else {
					var daPinNum = storeDisplayArray[x][14];
				}
				for (mp=0;mp<storeCatArray.length;mp++) {
					if (storeCatArray[mp][0] == daPinNum) {
						if (pinIncr == 0) {
							var iconLetter = pinSource + "pins/" + storeCatArray[mp][6] + "_" + panel0Alphabet[whatPinMatch] + "." + pinSuffix;
							var locLetter = panel0Alphabet[whatPinMatch];
						}
						else {
							var iconLetter = pinSource + "pins/" + storeCatArray[mp][6] + "_" + panel1ListIncr + "." + pinSuffix;
							var locLetter = panel1ListIncr;
						}
						break;
					}
				}
			}
			else {
				if (pinIncr == 0) {
					var iconLetter = pinSource + "pins/" + panel2ListChoice + "_" + panel0Alphabet[whatPinMatch] + "." + pinSuffix;
					var locLetter = panel0Alphabet[whatPinMatch];
				}
				else {
					var iconLetter = pinSource + "pins/" + panel2ListChoice + "_" + panel1ListIncr + "." + pinSuffix;
					var locLetter = panel1ListIncr;
				}
			}
			var resultsTotalTagStart = locListHTMLTest.indexOf("<!--RESULTSTOTAL");
			if (resultsTotalTagStart != -1) {
				var resultsTotalTagEnd = locListHTMLTest.indexOf(">",resultsTotalTagStart);
				var resultsTotalTagStrip = locListHTMLTest.substring(resultsTotalTagStart,(resultsTotalTagEnd+1));
				var resultsTotalHTMLStart = locListHTMLTest.substr(0,resultsTotalTagStart);
				var resultsTotalHTMLEnd = locListHTMLTest.substr((resultsTotalTagEnd+1));
				var resultsTotalPage = resultsTotalTagStrip.indexOf(" PAGE");
				if (resultsTotalPage != -1) {
					panel1ResultsTotalPage = 1;
				}
				locListHTMLTest = resultsTotalHTMLStart + "<span id='panel1ResultsTotal'><\/span>" + resultsTotalHTMLEnd;
			}
			var totalResultsTagStart = locListHTMLTest.indexOf("<!--TOTALRESULTS");
			if (totalResultsTagStart != -1) {
				var totalResultsTagEnd = locListHTMLTest.indexOf(">",totalResultsTagStart);
				var totalResultsTagStrip = locListHTMLTest.substring(totalResultsTagStart,(totalResultsTagEnd+1));
				var totalResultsHTMLStart = locListHTMLTest.substr(0,totalResultsTagStart);
				var totalResultsHTMLEnd = locListHTMLTest.substr((totalResultsTagEnd+1));
				var totalResultsPage = totalResultsTagStrip.indexOf(" PAGE");
				if (totalResultsPage != -1) {
					panel1TotalResultsPage = 1;
				}
				locListHTMLTest = totalResultsHTMLStart + "<span id='panel1TotalResults'><\/span>" + totalResultsHTMLEnd;
			}
			var toggleButtonTagStart = locListHTMLTest.indexOf("<!--TOGGLEBUTTON");
			if (toggleButtonTagStart != -1) {
				var toggleButtonTagEnd = locListHTMLTest.indexOf(">",toggleButtonTagStart);
				var toggleButtonTagStrip = locListHTMLTest.substring(toggleButtonTagStart,(toggleButtonTagEnd+1));
				var toggleButtonHTMLStart = locListHTMLTest.substr(0,toggleButtonTagStart);
				var toggleButtonHTMLEnd = locListHTMLTest.substr((toggleButtonTagEnd+1));
				var toggleButtonRender = "";
				var toggleButtonValueOnStart = toggleButtonTagStrip.indexOf(" VALUEON=");
				if (toggleButtonValueOnStart != -1) {
					var toggleButtonValueOnEnd = toggleButtonTagStrip.indexOf("]",toggleButtonValueOnStart);
					var toggleButtonValueVarOn = toggleButtonTagStrip.substring((toggleButtonValueOnStart+10),(toggleButtonValueOnEnd));
				}
				else {
					var toggleButtonValueVarOn = "Show Less";
				}
				var toggleButtonItalicOnStart = toggleButtonTagStrip.indexOf(" FNTAWON=");
				if (toggleButtonItalicOnStart != -1) {
					var toggleButtonItalicOnEnd = toggleButtonTagStrip.indexOf("]",toggleButtonItalicOnStart);
					var toggleButtonItalicVarOn = "<i class='fa " + toggleButtonTagStrip.substring((toggleButtonItalicOnStart+10),(toggleButtonItalicOnEnd)) + "'><\/i>";
				}
				else {
					var toggleButtonItalicVarOn = "";
				}
				var toggleButtonValueOffStart = toggleButtonTagStrip.indexOf(" VALUEOFF=");
				if (toggleButtonValueOffStart != -1) {
					var toggleButtonValueOffEnd = toggleButtonTagStrip.indexOf("]",toggleButtonValueOffStart);
					var toggleButtonValueVarOff = toggleButtonTagStrip.substring((toggleButtonValueOffStart+11),(toggleButtonValueOffEnd));
				}
				else {
					var toggleButtonValueVarOff = "Show Less";
				}
				var toggleButtonItalicOffStart = toggleButtonTagStrip.indexOf(" FNTAWOFF=");
				if (toggleButtonItalicOffStart != -1) {
					var toggleButtonItalicOffEnd = toggleButtonTagStrip.indexOf("]",toggleButtonItalicOffStart);
					var toggleButtonItalicVarOff = "<i class='fa " + toggleButtonTagStrip.substring((toggleButtonItalicOffStart+11),(toggleButtonItalicOffEnd)) + "'><\/i>";
				}
				else {
					var toggleButtonItalicVarOff = "";
				}
				locListHTMLTest = toggleButtonHTMLStart + "<span id='panel1ToggleButtonOn" + storeDisplayArray[x][13] + "' class='panel_1_toggle_button panel_1_toggle_button_on' style='display:none;'>" + toggleButtonValueVarOn + toggleButtonItalicVarOn + "<\/span><span id='panel1ToggleButtonOff" + storeDisplayArray[x][13] + "' class='panel_1_toggle_button panel_1_toggle_button_off'>" + toggleButtonValueVarOff + toggleButtonItalicVarOff + "<\/span>" + toggleButtonHTMLEnd;
			}
			var locChainNameTagStart = locListHTMLTest.indexOf("<!--LOCCHAINNAME");
			if (locChainNameTagStart != -1) {
				if (storeDisplayArray[x][17] != "") {
					var locChainNameVal = storeDisplayArray[x][0];
				}
				else {
					var locChainNameVal = storeDisplayArray[x][0];
				}
				var locChainNameTagEnd = locListHTMLTest.indexOf(">",locChainNameTagStart);
				var locChainNameTagStrip = locListHTMLTest.substring(locChainNameTagStart,(locChainNameTagEnd+1));
				var baseLocChainNameHTMLStart = locListHTMLTest.substr(0,locChainNameTagStart);
				var baseLocChainNameHTMLEnd = locListHTMLTest.substr((locChainNameTagEnd+1));
				locListHTMLTest = baseLocChainNameHTMLStart + locChainNameVal + baseLocChainNameHTMLEnd;
			}
			var locChainBigImgTagStart = locListHTMLTest.indexOf("<!--LOCCHAINBIGIMG");
			if (locChainBigImgTagStart != -1) {
				var locChainBigImgTagEnd = locListHTMLTest.indexOf(">",locChainBigImgTagStart);
				var locChainBigImgTagStrip = locListHTMLTest.substring(locChainBigImgTagStart,(locChainBigImgTagEnd+1));
				var baseLocChainBigImgHTMLStart = locListHTMLTest.substr(0,locChainBigImgTagStart);
				var baseLocChainBigImgHTMLEnd = locListHTMLTest.substr((locChainBigImgTagEnd+1));
				if (storeDisplayArray[x][18] != "") {
					locListHTMLTest = baseLocChainBigImgHTMLStart + "<img title=\"" + storeDisplayArray[x][0] + "\" alt=\"" + storeDisplayArray[x][0] + "\" id='panel1LocChainBigImg" + storeDisplayArray[x][13] + "' class='panel_1_loc_chain_big_img' src='//" + endpointCDN + "/cms/images/" + storeDisplayArray[x][18] + "'>" + baseLocChainBigImgHTMLEnd;
				}
			}
			var locChainSmImgTagStart = locListHTMLTest.indexOf("<!--LOCCHAINSMIMG");
			if (locChainSmImgTagStart != -1) {
				var locChainSmImgTagEnd = locListHTMLTest.indexOf(">",locChainSmImgTagStart);
				var locChainSmImgTagStrip = locListHTMLTest.substring(locChainSmImgTagStart,(locChainSmImgTagEnd+1));
				var baseLocChainSmImgHTMLStart = locListHTMLTest.substr(0,locChainSmImgTagStart);
				var baseLocChainSmImgHTMLEnd = locListHTMLTest.substr((locChainSmImgTagEnd+1));
				if (storeDisplayArray[x][19] != "") {
					locListHTMLTest = baseLocChainSmImgHTMLStart + "<img title=\"" + storeDisplayArray[x][0] + "\" alt=\"" + storeDisplayArray[x][0] + "\" id='panel1LocChainSmImg" + storeDisplayArray[x][13] + "' class='panel_1_loc_chain_sm_img' src='//" + endpointCDN + "/cms/images/" + storeDisplayArray[x][19] + "'>" + baseLocChainSmImgHTMLEnd;
				}
			}
			var locListNameTagStart = locListHTMLTest.indexOf("<!--LOCNAME");
			if (locListNameTagStart != -1) {
				var locListNameTagEnd = locListHTMLTest.indexOf(">",locListNameTagStart);
				var locListNameTagStrip = locListHTMLTest.substring(locListNameTagStart,(locListNameTagEnd+1));
				var baseLocListNameHTMLStart = locListHTMLTest.substr(0,locListNameTagStart);
				var baseLocListNameHTMLEnd = locListHTMLTest.substr((locListNameTagEnd+1));
				locListHTMLTest = baseLocListNameHTMLStart + storeDisplayArray[x][0] + baseLocListNameHTMLEnd;
			}
			var locListAddressTagStart = locListHTMLTest.indexOf("<!--LOCADDRESS");
			if (locListAddressTagStart != -1) {
				var locListAddressTagEnd = locListHTMLTest.indexOf(">",locListAddressTagStart);
				var locListAddressTagStrip = locListHTMLTest.substring(locListAddressTagStart,(locListAddressTagEnd+1));
				var baseLocListAddressHTMLStart = locListHTMLTest.substr(0,locListAddressTagStart);
				var baseLocListAddressHTMLEnd = locListHTMLTest.substr((locListAddressTagEnd+1));
				locListHTMLTest = baseLocListAddressHTMLStart + storeDisplayArray[x][1] + ", " + storeDisplayArray[x][3] + ", " + storeDisplayArray[x][4] + " " + storeDisplayArray[x][5] + baseLocListAddressHTMLEnd;
			}
			var locListStreetTagStart = locListHTMLTest.indexOf("<!--LOCSTREET");
			if (locListStreetTagStart != -1) {
				var locListStreetTagEnd = locListHTMLTest.indexOf(">",locListStreetTagStart);
				var locListStreetTagStrip = locListHTMLTest.substring(locListStreetTagStart,(locListStreetTagEnd+1));
				var baseLocListStreetHTMLStart = locListHTMLTest.substr(0,locListStreetTagStart);
				var baseLocListStreetHTMLEnd = locListHTMLTest.substr((locListStreetTagEnd+1));
				if (storeDisplayArray[x][1] != "") {
					locListHTMLTest = baseLocListStreetHTMLStart + storeDisplayArray[x][1] + baseLocListStreetHTMLEnd;
				}
				else {
					locListHTMLTest = baseLocListStreetHTMLStart + baseLocListStreetHTMLEnd;
				}
			}
			var locListTwoStreetTagStart = locListHTMLTest.indexOf("<!--LOCTWOSTREET");
			if (locListTwoStreetTagStart != -1) {
				var locListTwoStreetTagEnd = locListHTMLTest.indexOf(">",locListTwoStreetTagStart);
				var locListTwoStreetTagStrip = locListHTMLTest.substring(locListTwoStreetTagStart,(locListTwoStreetTagEnd+1));
				var baseLocListTwoStreetHTMLStart = locListHTMLTest.substr(0,locListTwoStreetTagStart);
				var baseLocListTwoStreetHTMLEnd = locListHTMLTest.substr((locListTwoStreetTagEnd+1));
				if (storeDisplayArray[x][2] != "") {
					locListHTMLTest = baseLocListTwoStreetHTMLStart + storeDisplayArray[x][2] + baseLocListTwoStreetHTMLEnd;
				}
				else {
					locListHTMLTest = baseLocListTwoStreetHTMLStart + baseLocListTwoStreetHTMLEnd;
				}
			}
			var locListCityTagStart = locListHTMLTest.indexOf("<!--LOCCITY");
			if (locListCityTagStart != -1) {
				var locListCityTagEnd = locListHTMLTest.indexOf(">",locListCityTagStart);
				var locListCityTagStrip = locListHTMLTest.substring(locListCityTagStart,(locListCityTagEnd+1));
				var baseLocListCityHTMLStart = locListHTMLTest.substr(0,locListCityTagStart);
				var baseLocListCityHTMLEnd = locListHTMLTest.substr((locListCityTagEnd+1));
				if (storeDisplayArray[x][3] != "") {
					locListHTMLTest = baseLocListCityHTMLStart + storeDisplayArray[x][3] + baseLocListCityHTMLEnd;
				}
				else {
					locListHTMLTest = baseLocListCityHTMLStart + baseLocListCityHTMLEnd;
				}
			}
			var locListStateTagStart = locListHTMLTest.indexOf("<!--LOCSTATE");
			if (locListStateTagStart != -1) {
				var locListStateTagEnd = locListHTMLTest.indexOf(">",locListStateTagStart);
				var locListStateTagStrip = locListHTMLTest.substring(locListStateTagStart,(locListStateTagEnd+1));
				var baseLocListStateHTMLStart = locListHTMLTest.substr(0,locListStateTagStart);
				var baseLocListStateHTMLEnd = locListHTMLTest.substr((locListStateTagEnd+1));
				if (stateOut != "") {
					locListHTMLTest = baseLocListStateHTMLStart + stateOut + baseLocListStateHTMLEnd;
				}
				else {
					locListHTMLTest = baseLocListStateHTMLStart + baseLocListStateHTMLEnd;
				}
			}
			var locListZipTagStart = locListHTMLTest.indexOf("<!--LOCZIP");
			if (locListZipTagStart != -1) {
				var locListZipTagEnd = locListHTMLTest.indexOf(">",locListZipTagStart);
				var locListZipTagStrip = locListHTMLTest.substring(locListZipTagStart,(locListZipTagEnd+1));
				var baseLocListZipHTMLStart = locListHTMLTest.substr(0,locListZipTagStart);
				var baseLocListZipHTMLEnd = locListHTMLTest.substr((locListZipTagEnd+1));
				if (storeDisplayArray[x][5] != "") {
					locListHTMLTest = baseLocListZipHTMLStart + storeDisplayArray[x][5] + baseLocListZipHTMLEnd;
				}
				else {
					locListHTMLTest = baseLocListZipHTMLStart + baseLocListZipHTMLEnd;
				}
			}
			var locListCountryTagStart = locListHTMLTest.indexOf("<!--LOCCOUNTRY");
			if (locListCountryTagStart != -1) {
				var locListCountryTagEnd = locListHTMLTest.indexOf(">",locListCountryTagStart);
				var locListCountryTagStrip = locListHTMLTest.substring(locListCountryTagStart,(locListCountryTagEnd+1));
				var baseLocListCountryHTMLStart = locListHTMLTest.substr(0,locListCountryTagStart);
				var baseLocListCountryHTMLEnd = locListHTMLTest.substr((locListCountryTagEnd+1));
				if (storeDisplayArray[x][27] != "") {
					locListHTMLTest = baseLocListCountryHTMLStart + storeDisplayArray[x][27] + baseLocListCountryHTMLEnd;
				}
				else {
					locListHTMLTest = baseLocListCountryHTMLStart + baseLocListCountryHTMLEnd;
				}
			}
			var locListCSZTagStart = locListHTMLTest.indexOf("<!--LOCCSZ");
			if (locListCSZTagStart != -1) {
				var locListCSZTagEnd = locListHTMLTest.indexOf(">",locListCSZTagStart);
				var locListCSZTagStrip = locListHTMLTest.substring(locListCSZTagStart,(locListCSZTagEnd+1));
				var baseLocListCSZHTMLStart = locListHTMLTest.substr(0,locListCSZTagStart);
				var baseLocListCSZHTMLEnd = locListHTMLTest.substr((locListCSZTagEnd+1));
				locListHTMLTest = baseLocListCSZHTMLStart + storeDisplayArray[x][3] + ", " + stateOut + " " + storeDisplayArray[x][5] + baseLocListCSZHTMLEnd;
			}
			var locListWebTagStart = locListHTMLTest.indexOf("<!--LOCWEB");
			if (locListWebTagStart != -1 && storeDisplayArray[x][22] !="") {
				var locListWebTagEnd = locListHTMLTest.indexOf(">",locListWebTagStart);
				var locListWebTagStrip = locListHTMLTest.substring(locListWebTagStart,(locListWebTagEnd+1));
				var baseLocListWebHTMLStart = locListHTMLTest.substr(0,locListWebTagStart);
				var baseLocListWebHTMLEnd = locListHTMLTest.substr((locListWebTagEnd+1));
				var baseLocListWebValueStart = locListWebTagStrip.indexOf(" VALUE=");
				if (baseLocListWebValueStart != -1) {
					var baseLocListWebValueEnd = locListWebTagStrip.indexOf("]");
					var baseLocListWebValueVar = locListWebTagStrip.substring((baseLocListWebValueStart+8),(baseLocListWebValueEnd));
				}
				else {
					var baseLocListWebValueVar = storeDisplayArray[x][22];
				}
				locListHTMLTest = baseLocListWebHTMLStart + baseLocListWebValueVar + baseLocListWebHTMLEnd;
			}
			var locListHoursTagStart = locListHTMLTest.indexOf("<!--LOCHOURS");
			if (locListHoursTagStart != -1 && storeDisplayArray[x][23] != "") {
				var locListHoursTagEnd = locListHTMLTest.indexOf(">",locListHoursTagStart);
				var locListHoursTagStrip = locListHTMLTest.substring(locListHoursTagStart,(locListHoursTagEnd+1));
				var baseLocListHoursHTMLStart = locListHTMLTest.substr(0,locListHoursTagStart);
				var baseLocListHoursHTMLEnd = locListHTMLTest.substr((locListHoursTagEnd+1));
				var baseLocListHoursTypeVar = 3;
				var baseLocListHoursTypeStart = locListHoursTagStrip.indexOf(" DTYPE=");
				if (baseLocListHoursTypeStart != -1) {
					var baseLocListHoursTypeEnd = locListHoursTagStrip.indexOf("]",baseLocListHoursTypeStart);
					var baseLocListHoursTypeCheck = locListHoursTagStrip.substring((baseLocListHoursTypeStart+8),(baseLocListHoursTypeEnd));
					if (baseLocListHoursTypeCheck == "SHORT") {baseLocListHoursTypeVar = 1;}
					if (baseLocListHoursTypeCheck == "MED") {baseLocListHoursTypeVar = 2;}
					if (baseLocListHoursTypeCheck == "LONG") {baseLocListHoursTypeVar = 3;}
				}
				var baseLocListHoursValueVar = "LIST";
				var baseLocListHoursValueStart = locListHoursTagStrip.indexOf(" STYLE=");
				if (baseLocListHoursValueStart != -1) {
					var baseLocListHoursValueEnd = locListHoursTagStrip.indexOf("]",baseLocListHoursValueStart);
					baseLocListHoursValueVar = locListHoursTagStrip.substring((baseLocListHoursValueStart+8),(baseLocListHoursValueEnd));
				}
				var hoursBaseArray = storeDisplayArray[x][23].split("|");
				var hoursDayArray = [];
				for (h=0; h<hoursBaseArray.length; h++) {
					var hoursDayRaw = hoursBaseArray[h].substring(0,1);
					var hoursDayVal = "";
					for (hdr=0; hdr<daDayArray.length; hdr++) {
						if (hoursDayRaw.toUpperCase() == daDayArray[hdr][0]) {
							hoursDayVal = daDayArray[hdr][baseLocListHoursTypeVar];
							break;
						}
					}
					var hoursStartRaw = parseInt(hoursBaseArray[h].substring(1,5));
					var hoursStartVal = "";
					if (hoursStartRaw == 1200) {
						hoursStartVal = "Noon";
					}
					else if (hoursStartRaw == 0) {
						hoursStartVal = "Midnight";
					}
					else {
						var ampm = " am";
						if (hoursStartRaw > 1200) {
							hoursStartRaw -= 1200;
							ampm = " pm";
						}
						if (hoursStartRaw < 100) {
							hoursStartVal = "12:" + hoursStartRaw + ampm;
						}
						else {
							hoursStartText = hoursStartRaw + ampm;
							hoursStartMath = Math.floor(hoursStartRaw/100);
							hoursStartVal = hoursStartMath + ":" + hoursStartText.substr(-5);
						}
					}
					var hoursEndRaw = parseInt(hoursBaseArray[h].substring(5,9));
					var hoursEndVal = "";
					if (hoursEndRaw == 1200) {
						hoursEndVal = "Noon";
					}
					else if (hoursEndRaw == 0) {
						hoursEndVal = "Midnight";
					}
					else {
						var ampm = " am";
						if (hoursEndRaw > 1200) {
							hoursEndRaw -= 1200;
							ampm = " pm";
						}
						if (hoursEndRaw < 100) {
							hoursEndVal = "12:" + hoursEndRaw + ampm;
						}
						else {
							hoursEndText = hoursEndRaw + ampm;
							hoursEndMath = Math.floor(hoursEndRaw/100);
							hoursEndVal = hoursEndMath + ":" + hoursEndText.substr(-5);
						}
					}
					hoursDayArray[h] = [hoursDayVal, hoursStartVal, hoursEndVal];
				}
				var hoursWriteText = "";
				if (baseLocListHoursValueVar == "LIST") {
					var dayHolder = "";
					for (wth=0; wth<hoursDayArray.length; wth++) {
						if (dayHolder != hoursDayArray[wth][0]) {
							dayHolder = hoursDayArray[wth][0];
							var dayHolderDay = hoursDayArray[wth][0] + ":";
							if (wth != 0) {
								dayHolderDay = "<br>" + dayHolderDay;
							}
						}
						else {
							var dayHolderDay = ",";
						}
						hoursWriteText += dayHolderDay + " " + hoursDayArray[wth][1] + " - " + hoursDayArray[wth][2];
					}
				}
				locListHTMLTest = baseLocListHoursHTMLStart + "<div class='panel_1_loc_hours_shell'>" + hoursWriteText + "<\/div>" + baseLocListHoursHTMLEnd;
			}
			var locListPhoneTagStart = locListHTMLTest.indexOf("<!--LOCPHONE");
			if (locListPhoneTagStart != -1 && storeDisplayArray[x][15]!="") {
				var locListPhoneTagEnd = locListHTMLTest.indexOf(">",locListPhoneTagStart);
				var locListPhoneTagStrip = locListHTMLTest.substring(locListPhoneTagStart,(locListPhoneTagEnd+1));
				var locListPhoneHTMLStart = locListHTMLTest.substr(0,locListPhoneTagStart);
				var locListPhoneHTMLEnd = locListHTMLTest.substr((locListPhoneTagEnd+1));
				var locListPhoneRender = "";
				var locListPhoneValueStart = locListPhoneTagStrip.indexOf(" FORMAT=");
				var locListPhoneValueEnd = locListPhoneTagStrip.indexOf("]");
				if (locListPhoneValueStart != -1) {
					var locListPhoneValueVarTest = locListPhoneTagStrip.substring((locListPhoneValueStart+9),(locListPhoneValueEnd));
					var phoneSplit=storeDisplayArray[x][15].split("");
					for (p=0;p<phoneSplit.length;p++) {
						var thisHash = locListPhoneValueVarTest.indexOf("#");
						if (thisHash != -1) {
							locListPhoneValueVarTest = locListPhoneValueVarTest.substring(0,(thisHash))+phoneSplit[p]+locListPhoneValueVarTest.substring((thisHash+1));
						}
					}
					var locListPhoneValueVar = locListPhoneValueVarTest;
				}
				else {
					var locListPhoneValueVar = storeDisplayArray[x][15];
				}
				var locListPhoneRawStart = locListPhoneTagStrip.indexOf(" RAW");
				if (locListPhoneRawStart != -1) {
					var locListPhoneValueVar = storeDisplayArray[x][26];
				}
				if (version=='WAP' || winWidth <= globalRespWidth) {
					locListPhoneRender = "<a href='tel:"+locListPhoneValueVar+"'>" + locListPhoneValueVar + "<\/a>";
				}
				else {
					locListPhoneRender = locListPhoneValueVar;
				}
				locListHTMLTest = locListPhoneHTMLStart + locListPhoneRender + locListPhoneHTMLEnd;
			}
			var locListDistanceTagStart = locListHTMLTest.indexOf("<!--LOCDISTANCE");
			if (locListDistanceTagStart != -1) {
				var locListDistanceTagEnd = locListHTMLTest.indexOf(">",locListDistanceTagStart);
				var locListDistanceTagStrip = locListHTMLTest.substring(locListDistanceTagStart,(locListDistanceTagEnd+1));
				var baseLocListDistanceHTMLStart = locListHTMLTest.substr(0,locListDistanceTagStart);
				var baseLocListDistanceHTMLEnd = locListHTMLTest.substr((locListDistanceTagEnd+1));
				var baseLocListDistanceKMTest = locListDistanceTagStrip.indexOf(" KM");
				if (baseLocListDistanceKMTest != -1 || forceKM == 1) {
					var baseMiles = parseFloat(storeDisplayArray[x][8]);
					var finalMiles = Math.round((baseMiles*1.60934)*100)/100;
					var finalFormat = "km";
				}
				else {
					var finalMiles = storeDisplayArray[x][8];
					var finalFormat = "mi";
				}
				var baseLocListDistanceBlankTest = locListDistanceTagStrip.indexOf(" BLANK");
				if (baseLocListDistanceBlankTest != -1) {
					var finalFormat = "";
				}
				locListHTMLTest = baseLocListDistanceHTMLStart + finalMiles + " " + finalFormat + baseLocListDistanceHTMLEnd;
			}
			var locCountStart = locListHTMLTest.indexOf("<!--LOCCOUNT");
			if (locCountStart != -1) {
				var locCountEnd = locListHTMLTest.indexOf(">",locCountStart);
				var locCountStrip = locListHTMLTest.substring(locCountStart,(locCountEnd+1));
				var locCountHTMLStart = locListHTMLTest.substr(0,locCountStart);
				var locCountHTMLEnd = locListHTMLTest.substr((locCountEnd+1));
				var locCountExcludeStart = locCountStrip.indexOf(" EXCLUDE");
				if (locCountExcludeStart != -1) {
					var locCountNum = locCountTempNum - locCartCountTempNum;
				}
				else {
					var locCountNum = locCountTempNum;
				}
				locListHTMLTest = locCountHTMLStart + locCountNum + locCountHTMLEnd;
			}
			var locCartCountStart = locListHTMLTest.indexOf("<!--LOCCARTCOUNT");
			if (locCartCountStart != -1 && locCartCountTempNum != 0) {
				var locCartCountEnd = locListHTMLTest.indexOf(">",locCartCountStart);
				var locCartCountStrip = locListHTMLTest.substring(locCartCountStart,(locCartCountEnd+1));
				var locCartCountHTMLStart = locListHTMLTest.substr(0,locCartCountStart);
				var locCartCountHTMLEnd = locListHTMLTest.substr((locCartCountEnd+1));
				var locCartCountValueStart = locCartCountStrip.indexOf(" VALUE=");
				if (locCartCountValueStart != -1) {
					var locCartCountValueEnd = locCartCountStrip.indexOf("]",locCartCountValueStart);
					var locCartCountValueVar = locCartCountStrip.substring((locCartCountValueStart+8),(locCartCountValueEnd));
				}
				else {
					var locCartCountValueVar = "";
				}
				locListHTMLTest = locCartCountHTMLStart + locCartCountTempNum + locCartCountValueVar + locCartCountHTMLEnd;
			}
			var locListPinTagStart = locListHTMLTest.indexOf("<!--LOCPIN");
			if (locListPinTagStart != -1) {
				var locListPinTagEnd = locListHTMLTest.indexOf(">",locListPinTagStart);
				var locListPinTagStrip = locListHTMLTest.substring(locListPinTagStart,(locListPinTagEnd+1));
				var baseLocListPinHTMLStart = locListHTMLTest.substr(0,locListPinTagStart);
				var baseLocListPinHTMLEnd = locListHTMLTest.substr((locListPinTagEnd+1));
				locListHTMLTest = baseLocListPinHTMLStart + "<img title=\"" + iconLetter + "\" alt=\"" + iconLetter + "\" id='panel1LocPin" + storeDisplayArray[x][13] + "' class='panel_1_location_pin' src='" + iconLetter + "'>" + baseLocListPinHTMLEnd;
			}
			var locListLetterTagStart = locListHTMLTest.indexOf("<!--LOCLETTER");
			if (locListLetterTagStart != -1) {
				var locListLetterTagEnd = locListHTMLTest.indexOf(">",locListLetterTagStart);
				var locListLetterTagStrip = locListHTMLTest.substring(locListLetterTagStart,(locListLetterTagEnd+1));
				var baseLocListLetterHTMLStart = locListHTMLTest.substr(0,locListLetterTagStart);
				var baseLocListLetterHTMLEnd = locListHTMLTest.substr((locListLetterTagEnd+1));
				locListHTMLTest = baseLocListLetterHTMLStart + locLetter + baseLocListLetterHTMLEnd;
			}
			var locListCatTextTagStart = locListHTMLTest.indexOf("<!--LOCCATTEXT");
			if (locListCatTextTagStart != -1 && storeDisplayArray[x][14] != 0 && hasADamnSCat > 1) {
				var locListCatTextTagEnd = locListHTMLTest.indexOf(">",locListCatTextTagStart);
				var locListCatTextTagStrip = locListHTMLTest.substring(locListCatTextTagStart,(locListCatTextTagEnd+1));
				var baseLocListCatTextHTMLStart = locListHTMLTest.substr(0,locListCatTextTagStart);
				var baseLocListCatTextHTMLEnd = locListHTMLTest.substr((locListCatTextTagEnd+1));
				if (storeDisplayArray[x][14].indexOf(",") != -1) {
					var daCatNum = storeDisplayArray[x][14].split(",");
				}
				else {
					var daCatNum = new Array(storeDisplayArray[x][14]);
				}
				var locListCatTextAllTest = locListCatTextTagStrip.indexOf(" ALL");
				var locListCatTextWriteString = "";
				if (locListCatTextAllTest != -1) {
					for (ss=0;ss<daCatNum.length;ss++) {
						for (sc=0;sc<storeCatArray.length;sc++) {
							if (storeCatArray[sc][0] == daCatNum[ss]) {
								locListCatTextWriteString += "<div id='panel1LocCatText" + storeCatArray[sc][0] + storeDisplayArray[x][13] + "' class='panel_1_loc_cattext'>" + storeCatArray[sc][1] + "<\/div>";
								break;
							}
						}
					}
				}
				else {
					for (sc=0;sc<storeCatArray.length;sc++) {
						if (storeCatArray[sc][0] == daCatNum[0]) {
							locListCatTextWriteString = "<div id='panel1LocCatText" + storeCatArray[sc][0] + storeDisplayArray[x][13] + "' class='panel_1_loc_cattext'>" + storeCatArray[sc][1] + "<\/div>";
							break;
						}
					}
				}
				locListHTMLTest = baseLocListCatTextHTMLStart + locListCatTextWriteString + baseLocListCatTextHTMLEnd;
			}
			var locListCatBigImgTagStart = locListHTMLTest.indexOf("<!--LOCCATBIGIMG");
			if (locListCatBigImgTagStart != -1 && storeDisplayArray[x][14] != 0 && hasADamnSCat > 1) {
				var locListCatBigImgTagEnd = locListHTMLTest.indexOf(">",locListCatBigImgTagStart);
				var locListCatBigImgTagStrip = locListHTMLTest.substring(locListCatBigImgTagStart,(locListCatBigImgTagEnd+1));
				var baseLocListCatBigImgHTMLStart = locListHTMLTest.substr(0,locListCatBigImgTagStart);
				var baseLocListCatBigImgHTMLEnd = locListHTMLTest.substr((locListCatBigImgTagEnd+1));
				if (storeDisplayArray[x][14].indexOf(",") != -1) {
					var daCatNum = storeDisplayArray[x][14].split(",");
				}
				else {
					var daCatNum = new Array(storeDisplayArray[x][14]);
				}
				var locListCatBigImgAllTest = locListCatBigImgTagStrip.indexOf(" ALL");
				var locListCatBigImgWriteString = "";
				if (locListCatBigImgAllTest != -1) {
					for (ss=0;ss<daCatNum.length;ss++) {
						for (sc=0;sc<storeCatArray.length;sc++) {
							if (storeCatArray[sc][0] == daCatNum[ss]) {
								locListCatBigImgWriteString += "<img title=\"" + storeCatArray[sc][1] + "\" alt=\"" + storeCatArray[sc][1] + "\" id='panel1LocCatBigImg" + storeCatArray[sc][0] + storeDisplayArray[x][13] + "' class='panel_1_loc_catbigimg' src='" + coreURL + "images/" + storeCatArray[sc][3] + "'>";
								break;
							}
						}
					}
				}
				else {
					for (sc=0;sc<storeCatArray.length;sc++) {
						if (storeCatArray[sc][0] == daCatNum[0]) {
							locListCatBigImgWriteString = "<img title=\"" + storeCatArray[sc][1] + "\" alt=\"" + storeCatArray[sc][1] + "\" id='panel1LocCatBigImg" + storeCatArray[sc][0] + storeDisplayArray[x][13] + "' class='panel_1_loc_catbigimg' src='" + coreURL + "images/" + storeCatArray[sc][3] + "'>";
							break;
						}
					}
				}
				locListHTMLTest = baseLocListCatBigImgHTMLStart + locListCatBigImgWriteString + baseLocListCatBigImgHTMLEnd;
			}
			var locListCatSmImgTagStart = locListHTMLTest.indexOf("<!--LOCCATSMIMG");
			if (locListCatSmImgTagStart != -1 && storeDisplayArray[x][14] != 0 && hasADamnSCat > 1) {
				var locListCatSmImgTagEnd = locListHTMLTest.indexOf(">",locListCatSmImgTagStart);
				var locListCatSmImgTagStrip = locListHTMLTest.substring(locListCatSmImgTagStart,(locListCatSmImgTagEnd+1));
				var baseLocListCatSmImgHTMLStart = locListHTMLTest.substr(0,locListCatSmImgTagStart);
				var baseLocListCatSmImgHTMLEnd = locListHTMLTest.substr((locListCatSmImgTagEnd+1));
				if (storeDisplayArray[x][14].indexOf(",") != -1) {
					var daCatNum = storeDisplayArray[x][14].split(",");
				}
				else {
					var daCatNum = new Array(storeDisplayArray[x][14]);
				}
				var locListCatSmImgAllTest = locListCatSmImgTagStrip.indexOf(" ALL");
				var locListCatSmImgWriteString = "";
				if (locListCatSmImgAllTest != -1) {
					for (ss=0;ss<daCatNum.length;ss++) {
						for (sc=0;sc<storeCatArray.length;sc++) {
							if (storeCatArray[sc][0] == daCatNum[ss]) {
								locListCatSmImgWriteString += "<img title=\"" + storeCatArray[sc][1] + "\" alt=\"" + storeCatArray[sc][1] + "\" id='panel1LocCatSmImg" + storeCatArray[sc][0] + storeDisplayArray[x][13] + "' class='panel_1_loc_catsmimg' src='" + coreURL + "images/" + storeCatArray[sc][3] + "'>";
								break;
							}
						}
					}
				}
				else {
					for (sc=0;sc<storeCatArray.length;sc++) {
						if (storeCatArray[sc][0] == daCatNum[0]) {
							locListCatSmImgWriteString = "<img title=\"" + storeCatArray[sc][1] + "\" alt=\"" + storeCatArray[sc][1] + "\" id='panel1LocCatSmImg" + storeCatArray[sc][0] + storeDisplayArray[x][13] + "' class='panel_1_loc_catsmimg' src='" + coreURL + "images/" + storeCatArray[sc][4] + "'>";
							break;
						}
					}
				}
				locListHTMLTest = baseLocListCatSmImgHTMLStart + locListCatSmImgWriteString + baseLocListCatSmImgHTMLEnd;
			}
			var locListSourceTagStart = locListHTMLTest.indexOf("<!--LOCSOURCE");
			if (locListSourceTagStart != -1) {
				var locListSourceTagEnd = locListHTMLTest.indexOf(">",locListSourceTagStart);
				var locListSourceTagStrip = locListHTMLTest.substring(locListSourceTagStart,(locListSourceTagEnd+1));
				var baseLocListSourceHTMLStart = locListHTMLTest.substr(0,locListSourceTagStart);
				var baseLocListSourceHTMLEnd = locListHTMLTest.substr((locListSourceTagEnd+1));
				if (storeDisplayArray[x][16] == 0) {
					var theDataSource = "Local";
				}
				else if (storeDisplayArray[x][16] == 1) {
					var theDataSource = "IRI";
				}
				else if (storeDisplayArray[x][16] == 2) {
					var theDataSource = "SPINS";
				}
				else if (storeDisplayArray[x][16] == 3) {
					var theDataSource = "LocalNull";
				}
				else {
					var theDataSource = "Unknown";
				}
				locListHTMLTest = baseLocListSourceHTMLStart + theDataSource + baseLocListSourceHTMLEnd;
			}
			var locListDetailWrite = "";
			if (panel1DetailLocList == 1) {
				var locDetailHTMLTest = autotextIt(p1TemplateSet.panel1LocListDetailDiv,"panel1LocListDetail");
				var detailProdlistTagStart = locDetailHTMLTest.indexOf("<!--PRODLIST");
				if (detailProdlistTagStart != -1) {
					var detailProdlistTagEnd = locDetailHTMLTest.indexOf(">",detailProdlistTagStart);
					var detailProdlistTagStrip = locDetailHTMLTest.substring(detailProdlistTagStart,(detailProdlistTagEnd+1));
					var detailProdlistHTMLStart = locDetailHTMLTest.substr(0,detailProdlistTagStart);
					var detailProdlistHTMLEnd = locDetailHTMLTest.substr((detailProdlistTagEnd+1));
					var wPAI = 1;
					if (storeDisplayArray[x][16] == 1) {
						wPAI = 13;
					}
					else if (storeDisplayArray[x][16] == 2) {
						wPAI = 12;
					}
					else if (storeDisplayArray[x][16] == 5) {
						wPAI = 14;
					}
					else if (storeDisplayArray[x][16] == 6) {
						wPAI = 15;
					}
					else if (storeDisplayArray[x][16] == 7) {
						wPAI = 18;
					}
					var resultsProdlistArr = document.getElementById('PROD').value.split(",");
					var resultsProdlistFull = document.getElementById('FULLPROD').value.split(",");
					if (resultsProdlistArr.length != resultsProdlistFull.length) {
						var prodListHTMLTest = "";
						for (rpl=0; rpl<storeProdCountArray.length; rpl++) {
							for (bpl=0; bpl<prodDisplayArray.length; bpl++) {
								if (storeProdCountArray[rpl] == prodDisplayArray[bpl][0]) {
									var isInStoreCart = 0;
									for (gq=0; gq<prodCartArray.length; gq++) {
										if (prodCartArray[gq] == storeProdCountArray[rpl]) {
											isInStoreCart = 1;
											break;
										}
									}
									if (isInStoreCart == 1) {
										var detailProdlistWrite = autotextIt(p1TemplateSet.panel1LocListProductsDiv,"panel1LocListProducts");
										var prodDiscTagStart = detailProdlistWrite.indexOf("<!--HIGHPROD");
										if (prodDiscTagStart != -1) {
											var prodDiscTagEnd = detailProdlistWrite.indexOf(">",prodDiscTagStart);
											var prodDiscTagStrip = detailProdlistWrite.substring(prodDiscTagStart,(prodDiscTagEnd+1));
											var prodDiscHTMLStart = detailProdlistWrite.substr(0,prodDiscTagStart);
											var prodDiscHTMLEnd = detailProdlistWrite.substr((prodDiscTagEnd+1));
											var prodDiscWrite = "";
											var discVal = prodDisplayArray[bpl][6];
											if (discVal != 1) {
												prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1LocListProducts_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
											}
											detailProdlistWrite = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
										}
										var prodNameTagStart = detailProdlistWrite.indexOf("<!--PRODNAME");
										if (prodNameTagStart != -1) {
											var prodNameTagEnd = detailProdlistWrite.indexOf(">",prodNameTagStart);
											var prodNameTagStrip = detailProdlistWrite.substring(prodNameTagStart,(prodNameTagEnd+1));
											var baseProdNameHTMLStart = detailProdlistWrite.substr(0,prodNameTagStart);
											var baseProdNameHTMLEnd = detailProdlistWrite.substr((prodNameTagEnd+1));
											detailProdlistWrite = baseProdNameHTMLStart + prodDisplayArray[bpl][2] + baseProdNameHTMLEnd;
										}
										var prodDescTagStart = detailProdlistWrite.indexOf("<!--PRODDESC");
										if (prodDescTagStart != -1) {
											var prodDescTagEnd = detailProdlistWrite.indexOf(">",prodDescTagStart);
											var prodDescTagStrip = detailProdlistWrite.substring(prodDescTagStart,(prodDescTagEnd+1));
											var baseProdDescHTMLStart = detailProdlistWrite.substr(0,prodDescTagStart);
											var baseProdDescHTMLEnd = detailProdlistWrite.substr((prodDescTagEnd+1));
											detailProdlistWrite = baseProdDescHTMLStart + prodDisplayArray[bpl][3] + baseProdDescHTMLEnd;
										}
										var prodCatTagStart = detailProdlistWrite.indexOf("<!--PRODCAT");
										if (prodCatTagStart != -1) {
											var prodCatTagEnd = detailProdlistWrite.indexOf(">",prodCatTagStart);
											var prodCatTagStrip = detailProdlistWrite.substring(prodCatTagStart,(prodCatTagEnd+1));
											var baseProdCatHTMLStart = detailProdlistWrite.substr(0,prodCatTagStart);
											var baseProdCatHTMLEnd = detailProdlistWrite.substr((prodCatTagEnd+1));
											detailProdlistWrite = baseProdCatHTMLStart + prodDisplayArray[bpl][16] + baseProdCatHTMLEnd;
										}
										var prodBigImgTagStart = detailProdlistWrite.indexOf("<!--PRODBIGIMG");
										if (prodBigImgTagStart != -1) {
											var prodBigImgTagEnd = detailProdlistWrite.indexOf(">",prodBigImgTagStart);
											var prodBigImgTagStrip = detailProdlistWrite.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
											var baseProdBigImgHTMLStart = detailProdlistWrite.substr(0,prodBigImgTagStart);
											var baseProdBigImgHTMLEnd = detailProdlistWrite.substr((prodBigImgTagEnd+1));
											detailProdlistWrite = baseProdBigImgHTMLStart + "<img title=\"" + prodDisplayArray[bpl][2] + "\" alt=\"" + prodDisplayArray[bpl][2] + "\" id='panel1StoreProdBigImg" + prodDisplayArray[bpl][0] + "' class='panel_1_store_prod_big_img' src='" + clientImgBase + prodDisplayArray[bpl][4] + "'>" + baseProdBigImgHTMLEnd;
										}
										var prodSmImgTagStart = detailProdlistWrite.indexOf("<!--PRODSMIMG");
										if (prodSmImgTagStart != -1) {
											var prodSmImgTagEnd = detailProdlistWrite.indexOf(">",prodSmImgTagStart);
											var prodSmImgTagStrip = detailProdlistWrite.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
											var baseProdSmImgHTMLStart = detailProdlistWrite.substr(0,prodSmImgTagStart);
											var baseProdSmImgHTMLEnd = detailProdlistWrite.substr((prodSmImgTagEnd+1));
											detailProdlistWrite = baseProdSmImgHTMLStart + "<img title=\"" + prodDisplayArray[bpl][2] + "\" alt=\"" + prodDisplayArray[bpl][2] + "\" id='panel1StoreProdSmImg" + prodDisplayArray[bpl][0] + "' class='panel_1_store_prod_sm_img' src='" + clientImgBase + prodDisplayArray[bpl][5] + "'>" + baseProdSmImgHTMLEnd;
										}
										prodListHTMLTest += detailProdlistWrite;
										break;
									}
								}
							}
						}
					}
					else {
						var prodListHTMLTest = "<span class='panel_1_results_prodlist_none'>There is no product information associated with this store<\/span>";
					}
					locDetailHTMLTest = detailProdlistHTMLStart + prodListHTMLTest + detailProdlistHTMLEnd;
				}
				var emailButtonTagStart = locDetailHTMLTest.indexOf("<!--EMAILBUTTON");
				if (emailButtonTagStart != -1) {
					var emailButtonTagEnd = locDetailHTMLTest.indexOf(">",emailButtonTagStart);
					var emailButtonTagStrip = locDetailHTMLTest.substring(emailButtonTagStart,(emailButtonTagEnd+1));
					var emailButtonHTMLStart = locDetailHTMLTest.substr(0,emailButtonTagStart);
					var emailButtonHTMLEnd = locDetailHTMLTest.substr((emailButtonTagEnd+1));
					var emailButtonRender = "";
					var emailButtonValueStart = emailButtonTagStrip.indexOf(" VALUE=");
					if (emailButtonValueStart != -1) {
						var emailButtonValueEnd = emailButtonTagStrip.indexOf("]",emailButtonValueStart);
						var emailButtonValueVar = emailButtonTagStrip.substring((emailButtonValueStart+8),(emailButtonValueEnd));
					}
					else {
						var emailButtonValueVar = "EMAIL";
					}
					var emailButtonItalicStart = emailButtonTagStrip.indexOf(" FNTAW=");
					if (emailButtonItalicStart != -1) {
						var emailButtonItalicEnd = emailButtonTagStrip.indexOf("]",emailButtonItalicStart);
						var emailButtonItalicVar = "<i class='fa " + emailButtonTagStrip.substring((emailButtonItalicStart+8),(emailButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var emailButtonItalicVar = "";
					}
					emailButtonRender += "<div id='panel1DetailSplitButton' class='panel_1_detail_button panel_1_detail_button_off'";
					if (hoverState==1) {
						emailButtonRender += " onmouseover='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",1);' onfocus='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",1);' onmouseout='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",0);' onblur='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",0);'";
					}
					emailButtonRender += " onclick='panel1EmailStoreDetails(" + storeDisplayArray[x][13] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1EmailStoreDetails(" + storeDisplayArray[x][13] + ");}' tabindex='0' title=\"" + emailButtonValueVar + "\">" + emailButtonItalicVar + emailButtonValueVar + "<\/div>";
					locDetailHTMLTest = emailButtonHTMLStart + emailButtonRender + emailButtonHTMLEnd;
				}
				var directionsFieldTagStart = locDetailHTMLTest.indexOf("<!--DIRECTIONSFIELD");
				if (directionsFieldTagStart != -1) {
					var directionsFieldTagEnd = locDetailHTMLTest.indexOf(">",directionsFieldTagStart);
					var directionsFieldTagStrip = locDetailHTMLTest.substring(directionsFieldTagStart,(directionsFieldTagEnd+1));
					var directionsFieldHTMLStart = locDetailHTMLTest.substr(0,directionsFieldTagStart);
					var directionsFieldHTMLEnd = locDetailHTMLTest.substr((directionsFieldTagEnd+1));
					var directionsFieldRender = "";
					var directionsFieldValueStart = directionsFieldTagStrip.indexOf(" VALUE=");
					if (directionsFieldValueStart != -1) {
						var directionsFieldValueEnd = directionsFieldTagStrip.indexOf("]");
						var directionsFieldValueVal = directionsFieldTagStrip.substring((directionsFieldValueStart+8),(directionsFieldValueEnd));
						var directionsFieldValueVar = directionsFieldValueVal;
						var directionsFieldValueRender = " value='"+directionsFieldValueVal+"'";
						var directionsFieldFocusRender = " onfocus='fieldBlurFocus(\"panel1DirectionsField" + storeDisplayArray[x][13] + "\",\""+directionsFieldValueVal+"\",1);'";
						var directionsFieldBlurRender = " onblur='fieldBlurFocus(\"panel1DirectionsField" + storeDisplayArray[x][13] + "\",\""+directionsFieldValueVal+"\",0);'";
					}
					else {
						var directionsFieldValueVar = "";
						var directionsFieldValueRender = "";
						var directionsFieldFocusRender = "";
						var directionsFieldBlurRender = "";
					}
					var directionsFieldSubStart = directionsFieldTagStrip.indexOf(" SUBMIT");
					if (directionsFieldSubStart != -1) {
						var directionsFieldSubRender = " onkeyup='panel1DirectionsKeypress(event,\"panel1DirectionsField" + storeDisplayArray[x][13] + "\",\"" + storeDisplayArray[x][13] + "\");'";
					}
					else {
						var directionsFieldSubRender = " onkeyup='panel1DirectionsKeypress(event,\"panel1DirectionsField" + storeDisplayArray[x][13] + "\",\"" + storeDisplayArray[x][13] + "\");'";
					}
					directionsFieldRender = "<input type='text' name='panel1DirectionsField" + storeDisplayArray[x][13] + "' id='panel1DirectionsField" + storeDisplayArray[x][13] + "' class='panel_2_directions_field panel_2_directions_field_base'" + directionsFieldValueRender + directionsFieldFocusRender + directionsFieldBlurRender + directionsFieldSubRender + " title=\"" + directionsFieldValueVal + "\">";
					locDetailHTMLTest = directionsFieldHTMLStart + directionsFieldRender + directionsFieldHTMLEnd;
				}
				var directionsButtonTagStart = locDetailHTMLTest.indexOf("<!--DIRECTIONSBUTTON");
				if (directionsButtonTagStart != -1) {
					var directionsButtonTagEnd = locDetailHTMLTest.indexOf(">",directionsButtonTagStart);
					var directionsButtonTagStrip = locDetailHTMLTest.substring(directionsButtonTagStart,(directionsButtonTagEnd+1));
					var directionsButtonHTMLStart = locDetailHTMLTest.substr(0,directionsButtonTagStart);
					var directionsButtonHTMLEnd = locDetailHTMLTest.substr((directionsButtonTagEnd+1));
					var directionsButtonRender = "";
					var directionsButtonValueStart = directionsButtonTagStrip.indexOf(" VALUE=");
					if (directionsButtonValueStart != -1) {
						var directionsButtonValueEnd = directionsButtonTagStrip.indexOf("]",directionsButtonValueStart);
						var directionsButtonValueVar = directionsButtonTagStrip.substring((directionsButtonValueStart+8),(directionsButtonValueEnd));
					}
					else {
						var directionsButtonValueVar = "SEND";
					}
					var directionsButtonItalicStart = directionsButtonTagStrip.indexOf(" FNTAW=");
					if (directionsButtonItalicStart != -1) {
						var directionsButtonItalicEnd = directionsButtonTagStrip.indexOf("]",directionsButtonItalicStart);
						var directionsButtonItalicVar = "<i class='fa " + directionsButtonTagStrip.substring((directionsButtonItalicStart+8),(directionsButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var directionsButtonItalicVar = "";
					}
					directionsButtonRender += "<div id='panel1DirectionsButton" + storeDisplayArray[x][13] + "' class='panel_2_directions_button panel_2_directions_button_off'";
					if (hoverState==1) {
						directionsButtonRender += " onmouseover='panel1ButtonHover(\"panel1DirectionsButton" + storeDisplayArray[x][13] + "\",\"panel_2_directions_button\",1);' onfocus='panel1ButtonHover(\"panel1DirectionsButton" + storeDisplayArray[x][13] + "\",\"panel_2_directions_button\",1);' onmouseout='panel1ButtonHover(\"panel1DirectionsButton" + storeDisplayArray[x][13] + "\",\"panel_2_directions_button\",0);' onblur='panel1ButtonHover(\"panel1DirectionsButton" + storeDisplayArray[x][13] + "\",\"panel_2_directions_button\",0);'";
					}
					directionsButtonRender += " onclick='panel1CodeDirectAddress(\"" + storeDisplayArray[x][13] + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CodeDirectAddress(\"" + storeDisplayArray[x][13] + "\");}' tabindex='0' title=\"" + directionsButtonValueVar + "\">" + directionsButtonItalicVar + directionsButtonValueVar + "<\/div>";
					locDetailHTMLTest = directionsButtonHTMLStart + directionsButtonRender + directionsButtonHTMLEnd;
				}
				var copyDirButtonTagStart = locDetailHTMLTest.indexOf("<!--COPYBUTTON");
				if (copyDirButtonTagStart != -1) {
					var copyDirButtonTagEnd = locDetailHTMLTest.indexOf(">",copyDirButtonTagStart);
					var copyDirButtonTagStrip = locDetailHTMLTest.substring(copyDirButtonTagStart,(copyDirButtonTagEnd+1));
					var copyDirButtonHTMLStart = locDetailHTMLTest.substr(0,copyDirButtonTagStart);
					var copyDirButtonHTMLEnd = locDetailHTMLTest.substr((copyDirButtonTagEnd+1));
					var copyDirButtonRender = "";
					var copyDirButtonValueStart = copyDirButtonTagStrip.indexOf(" VALUE=");
					if (copyDirButtonValueStart != -1) {
						var copyDirButtonValueEnd = copyDirButtonTagStrip.indexOf("]",copyDirButtonValueStart);
						var copyDirButtonValueVar = copyDirButtonTagStrip.substring((copyDirButtonValueStart+8),(copyDirButtonValueEnd));
					}
					else {
						var copyDirButtonValueVar = "COPY";
					}
					var copyButtonClickedStart = copyDirButtonTagStrip.indexOf(" CLICK=");
					if (copyButtonClickedStart != -1) {
						var copyButtonClickedEnd = copyDirButtonTagStrip.indexOf("]",copyButtonClickedStart);
						var copyButtonClickedVar = copyDirButtonTagStrip.substring((copyButtonClickedStart+8),(copyButtonClickedEnd));
					}
					else {
						var copyButtonClickedVar = "copied";
					}
					var copyDirButtonItalicStart = copyDirButtonTagStrip.indexOf(" FNTAW=");
					if (copyDirButtonItalicStart != -1) {
						var copyDirButtonItalicEnd = copyDirButtonTagStrip.indexOf("]",copyDirButtonItalicStart);
						var copyDirButtonItalicVar = "<i class='fa " + copyDirButtonTagStrip.substring((copyDirButtonItalicStart+8),(copyDirButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var copyDirButtonItalicVar = "";
					}
					copyDirButtonRender += "<div id='panel1CopyDirButton" + storeDisplayArray[x][13] + "' class='panel_2_copydir_button panel_2_copydir_button_off'";
					if (hoverState==1) {
						copyDirButtonRender += " onmouseover='panel1ButtonHover(\"panel1CopyDirButton" + storeDisplayArray[x][13] + "\",\"panel_2_copydir_button\",1);' onfocus='panel1ButtonHover(\"panel1CopyDirButton" + storeDisplayArray[x][13] + "\",\"panel_2_copydir_button\",1);' onmouseout='panel1ButtonHover(\"panel1CopyDirButton" + storeDisplayArray[x][13] + "\",\"panel_2_copydir_button\",0);' onblur='panel1ButtonHover(\"panel1CopyDirButton" + storeDisplayArray[x][13] + "\",\"panel_2_copydir_button\",0);'";
					}
					copyDirButtonRender += " onclick='panel1CopyDirectAddress(\"" + storeDisplayArray[x][13] + "\",\"panel1CopyDirButtonText" + storeDisplayArray[x][13] + "\",\"" + copyDirButtonValueVar + "\",\"" + copyButtonClickedVar + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CopyDirectAddress(\"" + storeDisplayArray[x][13] + "\",\"panel1CopyDirButtonText" + storeDisplayArray[x][13] + "\",\"" + copyDirButtonValueVar + "\",\"" + copyButtonClickedVar + "\");}' tabindex='0' title=\"" + copyDirButtonValueVar + "\">" + copyDirButtonItalicVar + "<span id='panel1CopyDirButtonText" + storeDisplayArray[x][13] + "'>" + copyDirButtonValueVar + "<\/span><\/div>";
					locDetailHTMLTest = copyDirButtonHTMLStart + copyDirButtonRender + copyDirButtonHTMLEnd;
				}
				var detailChainNameTagStart = locDetailHTMLTest.indexOf("<!--LOCCHAINNAME");
				if (detailChainNameTagStart != -1) {
					if (storeDisplayArray[x][17] != "") {
						var detailChainNameVal = storeDisplayArray[x][0];
					}
					else {
						var detailChainNameVal = storeDisplayArray[x][0];
					}
					var detailChainNameTagEnd = locDetailHTMLTest.indexOf(">",detailChainNameTagStart);
					var detailChainNameTagStrip = locDetailHTMLTest.substring(detailChainNameTagStart,(detailChainNameTagEnd+1));
					var baseDetailChainNameHTMLStart = locDetailHTMLTest.substr(0,detailChainNameTagStart);
					var baseDetailChainNameHTMLEnd = locDetailHTMLTest.substr((detailChainNameTagEnd+1));
					locDetailHTMLTest = baseDetailChainNameHTMLStart + detailChainNameVal + baseDetailChainNameHTMLEnd;
				}
				var detailChainBigImgTagStart = locDetailHTMLTest.indexOf("<!--LOCCHAINBIGIMG");
				if (detailChainBigImgTagStart != -1) {
					var detailChainBigImgTagEnd = locDetailHTMLTest.indexOf(">",detailChainBigImgTagStart);
					var detailChainBigImgTagStrip = locDetailHTMLTest.substring(detailChainBigImgTagStart,(detailChainBigImgTagEnd+1));
					var baseDetailChainBigImgHTMLStart = locDetailHTMLTest.substr(0,detailChainBigImgTagStart);
					var baseDetailChainBigImgHTMLEnd = locDetailHTMLTest.substr((detailChainBigImgTagEnd+1));
					if (storeDisplayArray[x][18] != "") {
						locDetailHTMLTest = baseDetailChainBigImgHTMLStart + "<img title=\"" + storeDisplayArray[x][0] + "\" alt=\"" + storeDisplayArray[x][0] + "\" id='panel1DetailChainBigImg" + storeDisplayArray[x][13] + "' class='panel_1_detail_chain_big_img' src='//" + endpointCDN + "/cms/images/" + storeDisplayArray[x][18] + "'>" + baseDetailChainBigImgHTMLEnd;
					}
					else {
						locDetailHTMLTest = baseDetailChainBigImgHTMLStart + baseDetailChainBigImgHTMLEnd;
					}
				}
				var detailChainSmImgTagStart = locDetailHTMLTest.indexOf("<!--LOCCHAINSMIMG");
				if (detailChainSmImgTagStart != -1) {
					var detailChainSmImgTagEnd = locDetailHTMLTest.indexOf(">",detailChainSmImgTagStart);
					var detailChainSmImgTagStrip = locDetailHTMLTest.substring(detailChainSmImgTagStart,(detailChainSmImgTagEnd+1));
					var baseDetailChainSmImgHTMLStart = locDetailHTMLTest.substr(0,detailChainSmImgTagStart);
					var baseDetailChainSmImgHTMLEnd = locDetailHTMLTest.substr((detailChainSmImgTagEnd+1));
					if (storeDisplayArray[x][19] != "") {
						locDetailHTMLTest = baseDetailChainSmImgHTMLStart + "<img title=\"" + storeDisplayArray[x][0] + "\" alt=\"" + storeDisplayArray[x][0] + "\" id='panel1DetailChainSmImg" + storeDisplayArray[x][13] + "' class='panel_1_detail_chain_sm_img' src='//" + endpointCDN + "/cms/images/" + storeDisplayArray[x][19] + "' alt=\"" + storeDisplayArray[x][0] + "\">" + baseDetailChainSmImgHTMLEnd;
					}
					else {
						locDetailHTMLTest = baseDetailChainSmImgHTMLStart + baseDetailChainSmImgHTMLEnd;
					}
				}
				var locDetailNameTagStart = locDetailHTMLTest.indexOf("<!--LOCNAME");
				if (locDetailNameTagStart != -1) {
					var locDetailNameTagEnd = locDetailHTMLTest.indexOf(">",locDetailNameTagStart);
					var locDetailNameTagStrip = locDetailHTMLTest.substring(locDetailNameTagStart,(locDetailNameTagEnd+1));
					var baseLocDetailNameHTMLStart = locDetailHTMLTest.substr(0,locDetailNameTagStart);
					var baseLocDetailNameHTMLEnd = locDetailHTMLTest.substr((locDetailNameTagEnd+1));
					locDetailHTMLTest = baseLocDetailNameHTMLStart + storeDisplayArray[x][0] + baseLocDetailNameHTMLEnd;
				}
				var locDetailAddressTagStart = locDetailHTMLTest.indexOf("<!--LOCADDRESS");
				if (locDetailAddressTagStart != -1) {
					var locDetailAddressTagEnd = locDetailHTMLTest.indexOf(">",locDetailAddressTagStart);
					var locDetailAddressTagStrip = locDetailHTMLTest.substring(locDetailAddressTagStart,(locDetailAddressTagEnd+1));
					var baseLocDetailAddressHTMLStart = locDetailHTMLTest.substr(0,locDetailAddressTagStart);
					var baseLocDetailAddressHTMLEnd = locDetailHTMLTest.substr((locDetailAddressTagEnd+1));
					locDetailHTMLTest = baseLocDetailAddressHTMLStart + storeDisplayArray[x][1] + ", " + storeDisplayArray[x][3] + ", " + storeDisplayArray[x][4] + " " + storeDisplayArray[x][5] + baseLocDetailAddressHTMLEnd;
				}
				var locDetailStreetTagStart = locDetailHTMLTest.indexOf("<!--LOCSTREET");
				if (locDetailStreetTagStart != -1) {
					var locDetailStreetTagEnd = locDetailHTMLTest.indexOf(">",locDetailStreetTagStart);
					var locDetailStreetTagStrip = locDetailHTMLTest.substring(locDetailStreetTagStart,(locDetailStreetTagEnd+1));
					var baseLocDetailStreetHTMLStart = locDetailHTMLTest.substr(0,locDetailStreetTagStart);
					var baseLocDetailStreetHTMLEnd = locDetailHTMLTest.substr((locDetailStreetTagEnd+1));
					if (storeDisplayArray[x][1] != "") {
						locDetailHTMLTest = baseLocDetailStreetHTMLStart + storeDisplayArray[x][1] + baseLocDetailStreetHTMLEnd;
					}
					else {
						locDetailHTMLTest = baseLocDetailStreetHTMLStart + baseLocDetailStreetHTMLEnd;
					}
				}
				var locDetailTwoStreetTagStart = locDetailHTMLTest.indexOf("<!--LOCTWOSTREET");
				if (locDetailTwoStreetTagStart != -1) {
					var locDetailTwoStreetTagEnd = locDetailHTMLTest.indexOf(">",locDetailTwoStreetTagStart);
					var locDetailTwoStreetTagStrip = locDetailHTMLTest.substring(locDetailTwoStreetTagStart,(locDetailTwoStreetTagEnd+1));
					var baseLocDetailTwoStreetHTMLStart = locDetailHTMLTest.substr(0,locDetailTwoStreetTagStart);
					var baseLocDetailTwoStreetHTMLEnd = locDetailHTMLTest.substr((locDetailTwoStreetTagEnd+1));
					if (storeDisplayArray[x][2] != "") {
						locDetailHTMLTest = baseLocDetailTwoStreetHTMLStart + storeDisplayArray[x][2] + baseLocDetailTwoStreetHTMLEnd;
					}
					else {
						locDetailHTMLTest = baseLocDetailTwoStreetHTMLStart + baseLocDetailTwoStreetHTMLEnd;
					}
				}
				var locDetailCityTagStart = locDetailHTMLTest.indexOf("<!--LOCCITY");
				if (locDetailCityTagStart != -1) {
					var locDetailCityTagEnd = locDetailHTMLTest.indexOf(">",locDetailCityTagStart);
					var locDetailCityTagStrip = locDetailHTMLTest.substring(locDetailCityTagStart,(locDetailCityTagEnd+1));
					var baseLocDetailCityHTMLStart = locDetailHTMLTest.substr(0,locDetailCityTagStart);
					var baseLocDetailCityHTMLEnd = locDetailHTMLTest.substr((locDetailCityTagEnd+1));
					if (storeDisplayArray[x][3] != "") {
						locDetailHTMLTest = baseLocDetailCityHTMLStart + storeDisplayArray[x][3] + baseLocDetailCityHTMLEnd;
					}
					else {
						locDetailHTMLTest = baseLocDetailCityHTMLStart + baseLocDetailCityHTMLEnd;
					}
				}
				var locDetailStateTagStart = locDetailHTMLTest.indexOf("<!--LOCSTATE");
				if (locDetailStateTagStart != -1) {
					var locDetailStateTagEnd = locDetailHTMLTest.indexOf(">",locDetailStateTagStart);
					var locDetailStateTagStrip = locDetailHTMLTest.substring(locDetailStateTagStart,(locDetailStateTagEnd+1));
					var baseLocDetailStateHTMLStart = locDetailHTMLTest.substr(0,locDetailStateTagStart);
					var baseLocDetailStateHTMLEnd = locDetailHTMLTest.substr((locDetailStateTagEnd+1));
					if (stateOut != "") {
						locDetailHTMLTest = baseLocDetailStateHTMLStart + stateOut + baseLocDetailStateHTMLEnd;
					}
					else {
						locDetailHTMLTest = baseLocDetailStateHTMLStart + baseLocDetailStateHTMLEnd;
					}
				}
				var locDetailZipTagStart = locDetailHTMLTest.indexOf("<!--LOCZIP");
				if (locDetailZipTagStart != -1) {
					var locDetailZipTagEnd = locDetailHTMLTest.indexOf(">",locDetailZipTagStart);
					var locDetailZipTagStrip = locDetailHTMLTest.substring(locDetailZipTagStart,(locDetailZipTagEnd+1));
					var baseLocDetailZipHTMLStart = locDetailHTMLTest.substr(0,locDetailZipTagStart);
					var baseLocDetailZipHTMLEnd = locDetailHTMLTest.substr((locDetailZipTagEnd+1));
					if (storeDisplayArray[x][5] != "") {
						locDetailHTMLTest = baseLocDetailZipHTMLStart + storeDisplayArray[x][5] + baseLocDetailZipHTMLEnd;
					}
					else {
						locDetailHTMLTest = baseLocDetailZipHTMLStart + baseLocDetailZipHTMLEnd;
					}
				}
				var locDetailCountryTagStart = locDetailHTMLTest.indexOf("<!--LOCCOUNTRY");
				if (locDetailCountryTagStart != -1) {
					var locDetailCountryTagEnd = locDetailHTMLTest.indexOf(">",locDetailCountryTagStart);
					var locDetailCountryTagStrip = locDetailHTMLTest.substring(locDetailCountryTagStart,(locDetailCountryTagEnd+1));
					var baseLocDetailCountryHTMLStart = locDetailHTMLTest.substr(0,locDetailCountryTagStart);
					var baseLocDetailCountryHTMLEnd = locDetailHTMLTest.substr((locDetailCountryTagEnd+1));
					if (storeDisplayArray[x][27] != "") {
						locDetailHTMLTest = baseLocDetailCountryHTMLStart + storeDisplayArray[x][27] + baseLocDetailCountryHTMLEnd;
					}
					else {
						locDetailHTMLTest = baseLocDetailCountryHTMLStart + baseLocDetailCountryHTMLEnd;
					}
				}
				var locDetailCSZTagStart = locDetailHTMLTest.indexOf("<!--LOCCSZ");
				if (locDetailCSZTagStart != -1) {
					var locDetailCSZTagEnd = locDetailHTMLTest.indexOf(">",locDetailCSZTagStart);
					var locDetailCSZTagStrip = locDetailHTMLTest.substring(locDetailCSZTagStart,(locDetailCSZTagEnd+1));
					var baseLocDetailCSZHTMLStart = locDetailHTMLTest.substr(0,locDetailCSZTagStart);
					var baseLocDetailCSZHTMLEnd = locDetailHTMLTest.substr((locDetailCSZTagEnd+1));
					locDetailHTMLTest = baseLocDetailCSZHTMLStart + storeDisplayArray[x][3] + ", " + stateOut + " " + storeDisplayArray[x][5] + baseLocDetailCSZHTMLEnd;
				}
				var locDetailWebTagStart = locDetailHTMLTest.indexOf("<!--LOCWEB");
				if (locDetailWebTagStart != -1 && storeDisplayArray[x][22] !="") {
					var locDetailWebTagEnd = locDetailHTMLTest.indexOf(">",locDetailWebTagStart);
					var locDetailWebTagStrip = locDetailHTMLTest.substring(locDetailWebTagStart,(locDetailWebTagEnd+1));
					var baseLocDetailWebHTMLStart = locDetailHTMLTest.substr(0,locDetailWebTagStart);
					var baseLocDetailWebHTMLEnd = locDetailHTMLTest.substr((locDetailWebTagEnd+1));
					var baseLocDetailWebValueStart = locDetailWebTagStrip.indexOf(" VALUE=");
					if (baseLocDetailWebValueStart != -1) {
						var baseLocDetailWebValueEnd = locDetailWebTagStrip.indexOf("]");
						var baseLocDetailWebValueVar = locDetailWebTagStrip.substring((baseLocDetailWebValueStart+8),(baseLocDetailWebValueEnd));
					}
					else {
						var baseLocDetailWebValueVar = storeDisplayArray[x][22];
					}
					locDetailHTMLTest = baseLocDetailWebHTMLStart + "<span onclick='storeWeb("+x+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){storeWeb("+x+");}' tabindex='0' title=\"Visit Web Site\">" + baseLocDetailWebValueVar + "<\/span>" + baseLocDetailWebHTMLEnd;
				}
				var locDetailHoursTagStart = locDetailHTMLTest.indexOf("<!--LOCHOURS");
				if (locDetailHoursTagStart != -1 && storeDisplayArray[x][23] != "") {
					var locDetailHoursTagEnd = locDetailHTMLTest.indexOf(">",locDetailHoursTagStart);
					var locDetailHoursTagStrip = locDetailHTMLTest.substring(locDetailHoursTagStart,(locDetailHoursTagEnd+1));
					var baseLocDetailHoursHTMLStart = locDetailHTMLTest.substr(0,locDetailHoursTagStart);
					var baseLocDetailHoursHTMLEnd = locDetailHTMLTest.substr((locDetailHoursTagEnd+1));
					var baseLocDetailHoursTypeVar = 3;
					var baseLocDetailHoursTypeStart = locDetailHoursTagStrip.indexOf(" DTYPE=");
					if (baseLocDetailHoursTypeStart != -1) {
						var baseLocDetailHoursTypeEnd = locDetailHoursTagStrip.indexOf("]",baseLocDetailHoursTypeStart);
						var baseLocDetailHoursTypeCheck = locDetailHoursTagStrip.substring((baseLocDetailHoursTypeStart+8),(baseLocDetailHoursTypeEnd));
						if (baseLocDetailHoursTypeCheck == "SHORT") {baseLocDetailHoursTypeVar = 1;}
						if (baseLocDetailHoursTypeCheck == "MED") {baseLocDetailHoursTypeVar = 2;}
						if (baseLocDetailHoursTypeCheck == "LONG") {baseLocDetailHoursTypeVar = 3;}
					}
					var baseLocDetailHoursValueVar = "LIST";
					var baseLocDetailHoursValueStart = locDetailHoursTagStrip.indexOf(" STYLE=");
					if (baseLocDetailHoursValueStart != -1) {
						var baseLocDetailHoursValueEnd = locDetailHoursTagStrip.indexOf("]",baseLocDetailHoursValueStart);
						baseLocDetailHoursValueVar = locDetailHoursTagStrip.substring((baseLocDetailHoursValueStart+8),(baseLocDetailHoursValueEnd));
					}
					var hoursBaseArray = storeDisplayArray[x][23].split("|");
					var hoursDayArray = [];
					for (h=0; h<hoursBaseArray.length; h++) {
						var hoursDayRaw = hoursBaseArray[h].substring(0,1);
						var hoursDayVal = "";
						for (hdr=0; hdr<daDayArray.length; hdr++) {
							if (hoursDayRaw.toUpperCase() == daDayArray[hdr][0]) {
								hoursDayVal = daDayArray[hdr][baseLocDetailHoursTypeVar];
								break;
							}
						}
						var hoursStartRaw = parseInt(hoursBaseArray[h].substring(1,5));
						var hoursStartVal = "";
						if (hoursStartRaw == 1200) {
							hoursStartVal = "Noon";
						}
						else if (hoursStartRaw == 0) {
							hoursStartVal = "Midnight";
						}
						else {
							var ampm = " am";
							if (hoursStartRaw > 1200) {
								hoursStartRaw -= 1200;
								ampm = " pm";
							}
							if (hoursStartRaw < 100) {
								hoursStartVal = "12:" + hoursStartRaw + ampm;
							}
							else {
								hoursStartText = hoursStartRaw + ampm;
								hoursStartMath = Math.floor(hoursStartRaw/100);
								hoursStartVal = hoursStartMath + ":" + hoursStartText.substr(-5);
							}
						}
						var hoursEndRaw = parseInt(hoursBaseArray[h].substring(5,9));
						var hoursEndVal = "";
						if (hoursEndRaw == 1200) {
							hoursEndVal = "Noon";
						}
						else if (hoursEndRaw == 0) {
							hoursEndVal = "Midnight";
						}
						else {
							var ampm = " am";
							if (hoursEndRaw > 1200) {
								hoursEndRaw -= 1200;
								ampm = " pm";
							}
							if (hoursEndRaw < 100) {
								hoursEndVal = "12:" + hoursEndRaw + ampm;
							}
							else {
								hoursEndText = hoursEndRaw + ampm;
								hoursEndMath = Math.floor(hoursEndRaw/100);
								hoursEndVal = hoursEndMath + ":" + hoursEndText.substr(-5);
							}
						}
						hoursDayArray[h] = [hoursDayVal, hoursStartVal, hoursEndVal];
					}
					var hoursWriteText = "";
					if (baseLocDetailHoursValueVar == "LIST") {
						var dayHolder = "";
						for (wth=0; wth<hoursDayArray.length; wth++) {
							if (dayHolder != hoursDayArray[wth][0]) {
								dayHolder = hoursDayArray[wth][0];
								var dayHolderDay = hoursDayArray[wth][0] + ":";
								if (wth != 0) {
									dayHolderDay = "<br>" + dayHolderDay;
								}
							}
							else {
								var dayHolderDay = ",";
							}
							hoursWriteText += dayHolderDay + " " + hoursDayArray[wth][1] + " - " + hoursDayArray[wth][2];
						}
					}
					locDetailHTMLTest = baseLocDetailHoursHTMLStart + hoursWriteText + baseLocDetailHoursHTMLEnd;
				}
				var locDetailPhoneTagStart = locDetailHTMLTest.indexOf("<!--LOCPHONE");
				if (locDetailPhoneTagStart != -1 && storeDisplayArray[x][15]!="") {
					var locDetailPhoneTagEnd = locDetailHTMLTest.indexOf(">",locDetailPhoneTagStart);
					var locDetailPhoneTagStrip = locDetailHTMLTest.substring(locDetailPhoneTagStart,(locDetailPhoneTagEnd+1));
					var locDetailPhoneHTMLStart = locDetailHTMLTest.substr(0,locDetailPhoneTagStart);
					var locDetailPhoneHTMLEnd = locDetailHTMLTest.substr((locDetailPhoneTagEnd+1));
					var locDetailPhoneRender = "";
					var locDetailPhoneValueStart = locDetailPhoneTagStrip.indexOf(" FORMAT=");
					var locDetailPhoneValueEnd = locDetailPhoneTagStrip.indexOf("]");
					if (locDetailPhoneValueStart != -1) {
						var locDetailPhoneValueVarTest = locDetailPhoneTagStrip.substring((locDetailPhoneValueStart+9),(locDetailPhoneValueEnd));
						var phoneSplit=storeDisplayArray[x][15].split("");
						for (p=0;p<phoneSplit.length;p++) {
							var thisHash = locDetailPhoneValueVarTest.indexOf("#");
							if (thisHash != -1) {
								locDetailPhoneValueVarTest = locDetailPhoneValueVarTest.substring(0,(thisHash))+phoneSplit[p]+locDetailPhoneValueVarTest.substring((thisHash+1));
							}
						}
						var locDetailPhoneValueVar = locDetailPhoneValueVarTest;
					}
					else {
						var locDetailPhoneValueVar = storeDisplayArray[x][15];
					}
					var locDetailPhoneRawStart = locDetailPhoneTagStrip.indexOf(" RAW");
					if (locDetailPhoneRawStart != -1) {
						var locDetailPhoneValueVar = storeDisplayArray[x][26];
					}
					if (version == "WAP" || winWidth <= globalRespWidth) {
						locDetailHTMLTest = locDetailPhoneHTMLStart + "<a href='tel:"+locDetailPhoneValueVar+"'>" + locDetailPhoneValueVar + "<\/a>" + locDetailPhoneHTMLEnd;
					}
					else {
						locDetailHTMLTest = locDetailPhoneHTMLStart + locDetailPhoneValueVar + locDetailPhoneHTMLEnd;
					}
				}
				var locDetailDistanceTagStart = locDetailHTMLTest.indexOf("<!--LOCDISTANCE");
				if (locDetailDistanceTagStart != -1) {
					var locDetailDistanceTagEnd = locDetailHTMLTest.indexOf(">",locDetailDistanceTagStart);
					var locDetailDistanceTagStrip = locDetailHTMLTest.substring(locDetailDistanceTagStart,(locDetailDistanceTagEnd+1));
					var baseLocDetailDistanceHTMLStart = locDetailHTMLTest.substr(0,locDetailDistanceTagStart);
					var baseLocDetailDistanceHTMLEnd = locDetailHTMLTest.substr((locDetailDistanceTagEnd+1));
					var baseLocDetailDistanceKMTest = locDetailDistanceTagStrip.indexOf(" KM");
					if (baseLocDetailDistanceKMTest != -1 || forceKM == 1) {
						var baseMiles = parseFloat(storeDisplayArray[x][8]);
						var finalMiles = Math.round((baseMiles*1.60934)*100)/100;
						var finalFormat = "km";
					}
					else {
						var finalMiles = storeDisplayArray[x][8];
						var finalFormat = "mi";
					}
					var baseLocDetailDistanceBlankTest = locDetailDistanceTagStrip.indexOf(" BLANK");
					if (baseLocDetailDistanceBlankTest != -1) {
						var finalFormat = "";
					}
					locDetailHTMLTest = baseLocDetailDistanceHTMLStart + finalMiles + " " + finalFormat + baseLocDetailDistanceHTMLEnd;
				}
				var closeButtonTagStart = locDetailHTMLTest.indexOf("<!--CLOSEBUTTON");
				if (closeButtonTagStart != -1) {
					var closeButtonTagEnd = locDetailHTMLTest.indexOf(">",closeButtonTagStart);
					var closeButtonTagStrip = locDetailHTMLTest.substring(closeButtonTagStart,(closeButtonTagEnd+1));
					var closeButtonHTMLStart = locDetailHTMLTest.substr(0,closeButtonTagStart);
					var closeButtonHTMLEnd = locDetailHTMLTest.substr((closeButtonTagEnd+1));
					var closeButtonRender = "";
					var closeButtonValueStart = closeButtonTagStrip.indexOf(" VALUE=");
					if (closeButtonValueStart != -1) {
						var closeButtonValueEnd = closeButtonTagStrip.indexOf("]",closeButtonValueStart);
						var closeButtonValueVar = closeButtonTagStrip.substring((closeButtonValueStart+8),(closeButtonValueEnd));
					}
					else {
						var closeButtonValueVar = "CLOSE";
					}
					var closeButtonItalicStart = closeButtonTagStrip.indexOf(" FNTAW=");
					if (closeButtonItalicStart != -1) {
						var closeButtonItalicEnd = closeButtonTagStrip.indexOf("]",closeButtonItalicStart);
						var closeButtonItalicVar = "<i class='fa " + closeButtonTagStrip.substring((closeButtonItalicStart+8),(closeButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var closeButtonItalicVar = "";
					}
					closeButtonRender += "<div id='panel1DetailSplitButton' class='panel_1_detail_button panel_1_detail_button_off'";
					if (hoverState==1) {
						closeButtonRender += " onmouseover='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",1);' onfocus='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",1);' onmouseout='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",0);' onblur='panel1ButtonHover(\"panel1DetailSplitButton\",\"panel_1_detail_button\",0);'";
					}
					closeButtonRender += " onclick='panel3ForceProd=0;panel3ForceDir=0;panel3ForceDetail=0;panel1DetailSlider(" + storeDisplayArray[x][13] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel3ForceProd=0;panel3ForceDir=0;panel3ForceDetail=0;panel1DetailSlider(" + storeDisplayArray[x][13] + ");}' tabindex='0' title=\"Close\">" + closeButtonItalicVar + closeButtonValueVar + "<\/div>";
					locDetailHTMLTest = closeButtonHTMLStart + closeButtonRender + closeButtonHTMLEnd;
				}
				locListDetailWrite = "<div id='panel1DetailRow" + storeDisplayArray[x][13] + "' class='panel_1_detail_row panel_1_detail_row_" + storeDisplayArray[x][13] + " panel_close_me' style='display:none;'>" + locDetailHTMLTest + "<\/div>";
			}
			var clickGoThree = "";
			locListHTML += "<div id='panel1LocListRow" + storeDisplayArray[x][13] + "' class='panel_1_loc_list_row " + locListRowAlt + "'><div id='panel1LocList" + storeDisplayArray[x][13] + "' class='panel_1_loc_list panel_1_loc_list_off'";
			if (hoverState==1) {
				locListHTML += " onmouseover='panel1ListMouseOver(\"panel1LocList" + storeDisplayArray[x][13] + "\",\"panel_1_loc_list\",0," + whatPinMatch + ");' onfocus='panel1ListMouseOver(\"panel1LocList" + storeDisplayArray[x][13] + "\",\"panel_1_loc_list\",0," + whatPinMatch + ");' onmouseout='panel1ListMouseOut(\"panel1LocList" + storeDisplayArray[x][13] + "\",\"panel_1_loc_list\",0);' onblur='panel1ListMouseOut(\"panel1LocList" + storeDisplayArray[x][13] + "\",\"panel_1_loc_list\",0);'";
			}
			locListHTML += " onclick='panel1ShowDetailRow(" + storeDisplayArray[x][13] + ")' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ShowDetailRow(" + storeDisplayArray[x][13] + ")}' tabindex='0' title=\"View Store\">" + locListHTMLTest + "<\/div>" + locListDetailWrite + "<\/div>";
			whatPinMatch++;
			storeTrackIncr++;
			if (storeTrackJSON != ""){storeTrackJSON += "||";}
			storeTrackJSON += storeTrackIncr + ';;' + storeDisplayArray[x][16] + ';;' + storeDisplayArray[x][6] + ';;' + storeDisplayArray[x][7] + ';;' + storeDisplayArray[x][0].replace(/"/g, '') + ';;' + storeDisplayArray[x][1].replace(/"/g, '') + ';;' + storeDisplayArray[x][2].replace(/"/g, '') + ';;' + storeDisplayArray[x][3] + ';;' + storeDisplayArray[x][4] + ';;' + storeDisplayArray[x][5] + ';;' + storeDisplayArray[x][27] + ';;' + storeProdTrackArray.toString(",");
		}
		if (document.getElementById('panel1LocListShell')){
			document.getElementById('panel1LocListShell').innerHTML = locListHTMLStart + locListHTML;
		}
		if (document.getElementById('panel1ResultsStart')) {
			if (panel1ResultsStartPage == 1) {
				document.getElementById('panel1ResultsStart').innerHTML = (Math.floor((whatStoreUp + 1)/resultsNum)+1);
			}
			else {
				document.getElementById('panel1ResultsStart').innerHTML = (whatStoreUp + 1);
			}
		}
		if (document.getElementById('panel1ResultsEnd')) {
			document.getElementById('panel1ResultsEnd').innerHTML = (whatStoreEnd);
		}
		if (document.getElementById('panel1ResultsTotal')) {
			if (panel1ResultsTotalPage == 1) {
				document.getElementById('panel1ResultsTotal').innerHTML = (Math.ceil(storeDisplayArray.length/resultsNum));
			}
			else {
				document.getElementById('panel1ResultsTotal').innerHTML = (storeDisplayArray.length);
			}
		}
		if (document.getElementById('panel1TotalResults')) {
			if (panel1TotalResultsPage == 1) {
				document.getElementById('panel1TotalResults').innerHTML = (Math.ceil(storeDisplayArray.length/resultsNum));
			}
			else {
				document.getElementById('panel1TotalResults').innerHTML = (storeDisplayArray.length);
			}
		}
	}
	else {
		$("#prodSelectImgSpan").hide();
		$("#prodSelectText").hide();
		$("#prodSelectUPC").hide();
		$("#panel1ResultsTotal").hide();
		if (document.getElementById("panel1CopyButton")) {
			document.getElementById("panel1CopyButton").style.display = "none";
		}
		document.getElementById('panel1LocListShell').innerHTML = autotextIt(p1TemplateSet.panel1LocNoResDiv,"panel1LocNoRes");
	}
	if (document.getElementById('panel1ProdCountNum')) {
		document.getElementById('panel1ProdCountNum').innerHTML = prodCartArray.length;
	}
	caSearchArr.push('{"compiled_location":"' + document.getElementById('addressCompile').value.replace(/"/g, '') + '","latitude":"' + parseFloat(document.getElementById('LA').value).toFixed(5) + '","longitude":"' + parseFloat(document.getElementById('LO').value).toFixed(5) + '","city":"' + document.getElementById('revCodeCity').value.replace(/"/g, '') + '","state":"' + document.getElementById('revCodeState').value + '","zip":"' + document.getElementById('revCodeZip').value + '","country":"' + document.getElementById('revCodeCountry').value + '","us_code":"' + document.getElementById('revCodeUS').value + '"}');
	if (document.getElementById('PROD').value.indexOf(",")) {
		var testProdArr = document.getElementById('PROD').value.split(",");
	}
	else {
		var testProdArr = new Array(document.getElementById('PROD').value);
	}
	var fullProdArr = document.getElementById('FULLPROD').value.split(",");
	var prodSetVal = "SOME";
	if (testProdArr.length == fullProdArr.length) {
		prodSetVal =  "ALL";
	}
	var compProdVal = testProdArr.toString(",");
	caProdArr.push(compProdVal);
	panel1DrawMultiMap();
}
function panel1EmailStoreDetails(theID) {
}
function panel1WriteDirectionsText(result) {
	if(gLog==1){console.log("panel1WriteDirectionsText - Begin ", p1DirSequence);}
	var baseHTML = autotextIt(p1TemplateSet.panel1EmailModalDirectionsDiv,"panel1EmailModalDirections");
	var currSID = document.getElementById('storeID').value;
	if (baseHTML.length != -1) {
		if (stateNames == 1) {
			var gottaState = 0;
			for (tsa=0;tsa<tblStateArray.length;tsa++) {
				if (tblStateArray[tsa][0] == storeDisplayArray[currSID][4]) {
					var stateOut = tblStateArray[tsa][1];
					gottaState = 1;
					break;
				}
			}
			if (gottaState == 0) {
				var stateOut = storeDisplayArray[currSID][4];
			}
		}
		else {
			var stateOut = storeDisplayArray[currSID][4];
		}
		var emailDMFieldTagStart = baseHTML.indexOf("<!--EMAILFIELD");
		if (emailDMFieldTagStart != -1) {
			var emailDMFieldTagEnd = baseHTML.indexOf(">",emailDMFieldTagStart);
			var emailDMFieldTagStrip = baseHTML.substring(emailDMFieldTagStart,(emailDMFieldTagEnd+1));
			var emailDMFieldHTMLStart = baseHTML.substr(0,emailDMFieldTagStart);
			var emailDMFieldHTMLEnd = baseHTML.substr((emailDMFieldTagEnd+1));
			var emailDMFieldValueStart = emailDMFieldTagStrip.indexOf(" VALUE=");
			if (emailDMFieldValueStart != -1) {
				var emailDMFieldValueEnd = emailDMFieldTagStrip.indexOf("]",emailDMFieldValueStart);
				var emailDMFieldValueVar = emailDMFieldTagStrip.substring((emailDMFieldValueStart+8),(emailDMFieldValueEnd));
			}
			else {
				var emailDMFieldValueVar = "EMAIL ADDRESS";
			}
			var emailSSFieldPreset = "";
			if (panel1AIOEmail != "") {
				emailSSFieldPreset = " value='" + panel1AIOEmail + "'";
			}
			baseHTML = emailDMFieldHTMLStart + "<input type='email' name='panel1EmailDMField' id='panel1EmailDMField' class='panel_1_emailDM_field panel_1_emailDM_field_base' placeholder='" + emailDMFieldValueVar + "'" + emailSSFieldPreset + " title=\"" + emailDMFieldValueVar + "\">" + emailDMFieldHTMLEnd;
		}
		var nameDMFieldTagStart = baseHTML.indexOf("<!--NAMEFIELD");
		if (nameDMFieldTagStart != -1) {
			var nameDMFieldTagEnd = baseHTML.indexOf(">",nameDMFieldTagStart);
			var nameDMFieldTagStrip = baseHTML.substring(nameDMFieldTagStart,(nameDMFieldTagEnd+1));
			var nameDMFieldHTMLStart = baseHTML.substr(0,nameDMFieldTagStart);
			var nameDMFieldHTMLEnd = baseHTML.substr((nameDMFieldTagEnd+1));
			var nameDMFieldValueStart = nameDMFieldTagStrip.indexOf(" VALUE=");
			if (nameDMFieldValueStart != -1) {
				var nameDMFieldValueEnd = nameDMFieldTagStrip.indexOf("]",nameDMFieldValueStart);
				var nameDMFieldValueVar = nameDMFieldTagStrip.substring((nameDMFieldValueStart+8),(nameDMFieldValueEnd));
			}
			else {
				var nameDMFieldValueVar = "CUSTOMER NAME";
			}
			var nameSSFieldPreset = "";
			if (panel1AIOName != "") {
				nameSSFieldPreset = " value='" + panel1AIOName + "'";
			}
			baseHTML = nameDMFieldHTMLStart + "<input type='text' name='panel1NameDMField' id='panel1NameDMField' class='panel_1_nameDM_field panel_1_nameDM_field_base' placeholder='" + nameDMFieldValueVar + "'" + nameSSFieldPreset + " title=\"" + nameDMFieldValueVar + "\">" + nameDMFieldHTMLEnd;
		}
		var bodyDMFieldTagStart = baseHTML.indexOf("<!--BODYFIELD");
		if (bodyDMFieldTagStart != -1) {
			var bodyDMFieldTagEnd = baseHTML.indexOf(">",bodyDMFieldTagStart);
			var bodyDMFieldTagStrip = baseHTML.substring(bodyDMFieldTagStart,(bodyDMFieldTagEnd+1));
			var bodyDMFieldHTMLStart = baseHTML.substr(0,bodyDMFieldTagStart);
			var bodyDMFieldHTMLEnd = baseHTML.substr((bodyDMFieldTagEnd+1));
			var bodyDMFieldValueStart = bodyDMFieldTagStrip.indexOf(" VALUE=");
			if (bodyDMFieldValueStart != -1) {
				var bodyDMFieldValueEnd = bodyDMFieldTagStrip.indexOf("]",bodyDMFieldValueStart);
				var bodyDMFieldValueVar = bodyDMFieldTagStrip.substring((bodyDMFieldValueStart+8),(bodyDMFieldValueEnd));
			}
			else {
				var bodyDMFieldValueVar = "Thank you for your interest in our products. Your results are included below.";
			}
			var bodyDMFieldControlStart = bodyDMFieldTagStrip.indexOf(" CONTROL=");
			if (bodyDMFieldControlStart != -1) {
				var bodyDMFieldControlEnd = bodyDMFieldTagStrip.indexOf("]",bodyDMFieldControlStart);
				var bodyDMFieldControlVar = bodyDMFieldTagStrip.substring((bodyDMFieldControlStart+10),(bodyDMFieldControlEnd));
			}
			else {
				var bodyDMFieldControlVar = "MODIFY";
			}
			baseHTML = bodyDMFieldHTMLStart + "<span class='panel_1_bodyDM_text_shell'><span id='panel1BodyDMText' class='panel_1_bodyDM_text'>" + bodyDMFieldValueVar + "<\/span><\/span><span id='panel1BodyDMControl' class='panel_1_bodyDM_control' onclick='changeBodyDMText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){changeBodyDMText();}' tabindex='0' title=\"" + bodyDMFieldControlVar + "\">" + bodyDMFieldControlVar + "<\/span><textarea name='panel1BodyDMTextArea' id='panel1BodyDMTextArea' class='panel_1_bodyDM_textarea' style='display:none;'>" + bodyDMFieldValueVar + "<\/textarea><span id='panel1BodyDMSave' class='panel_1_bodyDM_save' onclick='saveBodyDMText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){saveBodyDMText();}' style='display:none;'' tabindex='0' title=\"Save\">SAVE<\/span><span id='panel1BodyDMCancel' class='panel_1_bodyDM_cancel' onclick='cancelBodyDMText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){cancelBodyDMText();}' style='display:none;' tabindex='0' title=\"Cancel\">CANCEL<\/span>" + bodyDMFieldHTMLEnd;
		}
		var emailDMButtonTagStart = baseHTML.indexOf("<!--EMAILBUTTON");
		if (emailDMButtonTagStart != -1) {
			var emailDMButtonTagEnd = baseHTML.indexOf(">",emailDMButtonTagStart);
			var emailDMButtonTagStrip = baseHTML.substring(emailDMButtonTagStart,(emailDMButtonTagEnd+1));
			var emailDMButtonHTMLStart = baseHTML.substr(0,emailDMButtonTagStart);
			var emailDMButtonHTMLEnd = baseHTML.substr((emailDMButtonTagEnd+1));
			var emailDMButtonRender = "";
			var emailDMButtonValueStart = emailDMButtonTagStrip.indexOf(" VALUE=");
			if (emailDMButtonValueStart != -1) {
				var emailDMButtonValueEnd = emailDMButtonTagStrip.indexOf("]",emailDMButtonValueStart);
				var emailDMButtonValueVar = emailDMButtonTagStrip.substring((emailDMButtonValueStart+8),(emailDMButtonValueEnd));
			}
			else {
				var emailDMButtonValueVar = "SEND";
			}
			var emailDMButtonItalicStart = emailDMButtonTagStrip.indexOf(" FNTAW=");
			if (emailDMButtonItalicStart != -1) {
				var emailDMButtonItalicEnd = emailDMButtonTagStrip.indexOf("]",emailDMButtonItalicStart);
				var emailDMButtonItalicVar = "<i class='fa " + emailDMButtonTagStrip.substring((emailDMButtonItalicStart+8),(emailDMButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var emailDMButtonItalicVar = "";
			}
			emailDMButtonRender += "<div id='panel1EmailDMButton' class='panel_1_emailDM_button panel_1_emailDM_button_off'";
			if (hoverState==1) {
				emailDMButtonRender += " onmouseover='panel1ButtonHover(\"panel1EmailDMButton\",\"panel_1_emailDM_button\",1);' onfocus='panel1ButtonHover(\"panel1EmailDMButton\",\"panel_1_emailDM_button\",1);' onmouseout='panel1ButtonHover(\"panel1EmailDMButton\",\"panel_1_emailDM_button\",0);' onblur='panel1ButtonHover(\"panel1EmailDMButton\",\"panel_1_emailDM_button\",0);'";
			}
			emailDMButtonRender += " onclick='panel1EmailDM("+currSID+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1EmailDM("+currSID+");}' tabindex='0' title=\"" + emailDMButtonValueVar + "\">" + emailDMButtonItalicVar + emailDMButtonValueVar + "<\/div>";
			baseHTML = emailDMButtonHTMLStart + emailDMButtonRender + emailDMButtonHTMLEnd;
		}
		var incProdDMCheckTagStart = baseHTML.indexOf("<!--PRODUCTCHECKBOX");
		if (incProdDMCheckTagStart != -1) {
			var incProdDMCheckTagEnd = baseHTML.indexOf(">",incProdDMCheckTagStart);
			var incProdDMCheckTagStrip = baseHTML.substring(incProdDMCheckTagStart,(incProdDMCheckTagEnd+1));
			var incProdDMCheckHTMLStart = baseHTML.substr(0,incProdDMCheckTagStart);
			var incProdDMCheckHTMLEnd = baseHTML.substr((incProdDMCheckTagEnd+1));
			var incProdDMCheckRender = "";
			var incProdDMCheckValueStart = incProdDMCheckTagStrip.indexOf(" VALUE=");
			if (incProdDMCheckValueStart != -1) {
				var incProdDMCheckValueEnd = incProdDMCheckTagStrip.indexOf("]",incProdDMCheckValueStart);
				var incProdDMCheckValueVar = incProdDMCheckTagStrip.substring((incProdDMCheckValueStart+8),(incProdDMCheckValueEnd));
			}
			else {
				var incProdDMCheckValueVar = "INCLUDE PRODUCTS";
			}
			baseHTML = incProdDMCheckHTMLStart + "<input type='checkbox' name='incProdDMCheck' id='incProdDMCheck' title=\"" + incProdDMCheckValueVar + "\"><label for='incProdDMCheck'>&nbsp;" + incProdDMCheckValueVar + "<\/label>" + incProdDMCheckHTMLEnd;
		}
		var locDetailNameTagStart = baseHTML.indexOf("<!--LOCNAME");
		if (locDetailNameTagStart != -1) {
			var locDetailNameTagEnd = baseHTML.indexOf(">",locDetailNameTagStart);
			var locDetailNameTagStrip = baseHTML.substring(locDetailNameTagStart,(locDetailNameTagEnd+1));
			var baseLocDetailNameHTMLStart = baseHTML.substr(0,locDetailNameTagStart);
			var baseLocDetailNameHTMLEnd = baseHTML.substr((locDetailNameTagEnd+1));
			baseHTML = baseLocDetailNameHTMLStart + storeDisplayArray[currSID][0] + baseLocDetailNameHTMLEnd;
		}
		var locDetailAddressTagStart = baseHTML.indexOf("<!--LOCADDRESS");
		if (locDetailAddressTagStart != -1) {
			var locDetailAddressTagEnd = baseHTML.indexOf(">",locDetailAddressTagStart);
			var locDetailAddressTagStrip = baseHTML.substring(locDetailAddressTagStart,(locDetailAddressTagEnd+1));
			var baseLocDetailAddressHTMLStart = baseHTML.substr(0,locDetailAddressTagStart);
			var baseLocDetailAddressHTMLEnd = baseHTML.substr((locDetailAddressTagEnd+1));
			baseHTML = baseLocDetailAddressHTMLStart + storeDisplayArray[currSID][1] + ", " + storeDisplayArray[currSID][3] + ", " + stateOut + " " + storeDisplayArray[currSID][5] + baseLocDetailAddressHTMLEnd;
		}
		var locDetailStreetTagStart = baseHTML.indexOf("<!--LOCSTREET");
		if (locDetailStreetTagStart != -1) {
			var locDetailStreetTagEnd = baseHTML.indexOf(">",locDetailStreetTagStart);
			var locDetailStreetTagStrip = baseHTML.substring(locDetailStreetTagStart,(locDetailStreetTagEnd+1));
			var baseLocDetailStreetHTMLStart = baseHTML.substr(0,locDetailStreetTagStart);
			var baseLocDetailStreetHTMLEnd = baseHTML.substr((locDetailStreetTagEnd+1));
			if (storeDisplayArray[currSID][1] != "") {
				baseHTML = baseLocDetailStreetHTMLStart + storeDisplayArray[currSID][1] + baseLocDetailStreetHTMLEnd;
			}
			else {
				baseHTML = baseLocDetailStreetHTMLStart + baseLocDetailStreetHTMLEnd;
			}
		}
		var locDetailCityTagStart = baseHTML.indexOf("<!--LOCCITY");
		if (locDetailCityTagStart != -1) {
			var locDetailCityTagEnd = baseHTML.indexOf(">",locDetailCityTagStart);
			var locDetailCityTagStrip = baseHTML.substring(locDetailCityTagStart,(locDetailCityTagEnd+1));
			var baseLocDetailCityHTMLStart = baseHTML.substr(0,locDetailCityTagStart);
			var baseLocDetailCityHTMLEnd = baseHTML.substr((locDetailCityTagEnd+1));
			if (storeDisplayArray[currSID][3] != "") {
				baseHTML = baseLocDetailCityHTMLStart + storeDisplayArray[currSID][3] + baseLocDetailCityHTMLEnd;
			}
			else {
				baseHTML = baseLocDetailCityHTMLStart + baseLocDetailCityHTMLEnd;
			}
		}
		var locDetailStateTagStart = baseHTML.indexOf("<!--LOCSTATE");
		if (locDetailStateTagStart != -1) {
			var locDetailStateTagEnd = baseHTML.indexOf(">",locDetailStateTagStart);
			var locDetailStateTagStrip = baseHTML.substring(locDetailStateTagStart,(locDetailStateTagEnd+1));
			var baseLocDetailStateHTMLStart = baseHTML.substr(0,locDetailStateTagStart);
			var baseLocDetailStateHTMLEnd = baseHTML.substr((locDetailStateTagEnd+1));
			if (stateOut != "") {
				baseHTML = baseLocDetailStateHTMLStart + stateOut + baseLocDetailStateHTMLEnd;
			}
			else {
				baseHTML = baseLocDetailStateHTMLStart + baseLocDetailStateHTMLEnd;
			}
		}
		var locDetailZipTagStart = baseHTML.indexOf("<!--LOCZIP");
		if (locDetailZipTagStart != -1) {
			var locDetailZipTagEnd = baseHTML.indexOf(">",locDetailZipTagStart);
			var locDetailZipTagStrip = baseHTML.substring(locDetailZipTagStart,(locDetailZipTagEnd+1));
			var baseLocDetailZipHTMLStart = baseHTML.substr(0,locDetailZipTagStart);
			var baseLocDetailZipHTMLEnd = baseHTML.substr((locDetailZipTagEnd+1));
			if (storeDisplayArray[currSID][5] != "") {
				baseHTML = baseLocDetailZipHTMLStart + storeDisplayArray[currSID][5] + baseLocDetailZipHTMLEnd;
			}
			else {
				baseHTML = baseLocDetailZipHTMLStart + baseLocDetailZipHTMLEnd;
			}
		}
		var locDetailCountryTagStart = baseHTML.indexOf("<!--LOCCOUNTRY");
		if (locDetailCountryTagStart != -1) {
			var locDetailCountryTagEnd = baseHTML.indexOf(">",locDetailCountryTagStart);
			var locDetailCountryTagStrip = baseHTML.substring(locDetailCountryTagStart,(locDetailCountryTagEnd+1));
			var baseLocDetailCountryHTMLStart = baseHTML.substr(0,locDetailCountryTagStart);
			var baseLocDetailCountryHTMLEnd = baseHTML.substr((locDetailCountryTagEnd+1));
			if (storeDisplayArray[currSID][27] != "") {
				baseHTML = baseLocDetailCountryHTMLStart + storeDisplayArray[currSID][27] + baseLocDetailCountryHTMLEnd;
			}
			else {
				baseHTML = baseLocDetailCountryHTMLStart + baseLocDetailCountryHTMLEnd;
			}
		}
		var locDetailCSZTagStart = baseHTML.indexOf("<!--LOCCSZ");
		if (locDetailCSZTagStart != -1) {
			var locDetailCSZTagEnd = baseHTML.indexOf(">",locDetailCSZTagStart);
			var locDetailCSZTagStrip = baseHTML.substring(locDetailCSZTagStart,(locDetailCSZTagEnd+1));
			var baseLocDetailCSZHTMLStart = baseHTML.substr(0,locDetailCSZTagStart);
			var baseLocDetailCSZHTMLEnd = baseHTML.substr((locDetailCSZTagEnd+1));
			baseHTML = baseLocDetailCSZHTMLStart + storeDisplayArray[currSID][3] + ", " + stateOut + " " + storeDisplayArray[currSID][5] + baseLocDetailCSZHTMLEnd;
		}
		var locDetailWebTagStart = baseHTML.indexOf("<!--LOCWEB");
		if (locDetailWebTagStart != -1&& storeDisplayArray[currSID][22] !="") {
			var locDetailWebTagEnd = baseHTML.indexOf(">",locDetailWebTagStart);
			var locDetailWebTagStrip = baseHTML.substring(locDetailWebTagStart,(locDetailWebTagEnd+1));
			var baseLocDetailWebHTMLStart = baseHTML.substr(0,locDetailWebTagStart);
			var baseLocDetailWebHTMLEnd = baseHTML.substr((locDetailWebTagEnd+1));
			var baseLocDetailWebValueStart = locDetailWebTagStrip.indexOf(" VALUE=");
			if (baseLocDetailWebValueStart != -1) {
				var baseLocDetailWebValueEnd = locDetailWebTagStrip.indexOf("]");
				var baseLocDetailWebValueVar = locDetailWebTagStrip.substring((baseLocDetailWebValueStart+8),(baseLocDetailWebValueEnd));
			}
			else {
				var baseLocDetailWebValueVar = storeDisplayArray[currSID][22];
			}
			baseHTML = baseLocDetailWebHTMLStart + baseLocDetailWebValueVar + baseLocDetailWebHTMLEnd;
		}
		var locListHoursTagStart = baseHTML.indexOf("<!--LOCHOURS");
		if (locListHoursTagStart != -1 && storeDisplayArray[currSID][23] != "") {
			var locListHoursTagEnd = baseHTML.indexOf(">",locListHoursTagStart);
			var locListHoursTagStrip = baseHTML.substring(locListHoursTagStart,(locListHoursTagEnd+1));
			var baseLocListHoursHTMLStart = baseHTML.substr(0,locListHoursTagStart);
			var baseLocListHoursHTMLEnd = baseHTML.substr((locListHoursTagEnd+1));
			var baseLocListHoursTypeVar = 3;
			var baseLocListHoursTypeStart = locListHoursTagStrip.indexOf(" DTYPE=");
			if (baseLocListHoursTypeStart != -1) {
				var baseLocListHoursTypeEnd = locListHoursTagStrip.indexOf("]",baseLocListHoursTypeStart);
				var baseLocListHoursTypeCheck = locListHoursTagStrip.substring((baseLocListHoursTypeStart+8),(baseLocListHoursTypeEnd));
				if (baseLocListHoursTypeCheck == "SHORT") {baseLocListHoursTypeVar = 1;}
				if (baseLocListHoursTypeCheck == "MED") {baseLocListHoursTypeVar = 2;}
				if (baseLocListHoursTypeCheck == "LONG") {baseLocListHoursTypeVar = 3;}
			}
			var baseLocListHoursValueVar = "LIST";
			var baseLocListHoursValueStart = locListHoursTagStrip.indexOf(" STYLE=");
			if (baseLocListHoursValueStart != -1) {
				var baseLocListHoursValueEnd = locListHoursTagStrip.indexOf("]",baseLocListHoursValueStart);
				baseLocListHoursValueVar = locListHoursTagStrip.substring((baseLocListHoursValueStart+8),(baseLocListHoursValueEnd));
			}
			var hoursBaseArray = storeDisplayArray[currSID][23].split("|");
			var hoursDayArray = [];
			for (h=0; h<hoursBaseArray.length; h++) {
				var hoursDayRaw = hoursBaseArray[h].substring(0,1);
				var hoursDayVal = "";
				for (hdr=0; hdr<daDayArray.length; hdr++) {
					if (hoursDayRaw.toUpperCase() == daDayArray[hdr][0]) {
						hoursDayVal = daDayArray[hdr][baseLocListHoursTypeVar];
						break;
					}
				}
				var hoursStartRaw = parseInt(hoursBaseArray[h].substring(1,5));
				var hoursStartVal = "";
				if (hoursStartRaw == 1200) {
					hoursStartVal = "Noon";
				}
				else if (hoursStartRaw == 0) {
					hoursStartVal = "Midnight";
				}
				else {
					var ampm = " am";
					if (hoursStartRaw > 1200) {
						hoursStartRaw -= 1200;
						ampm = " pm";
					}
					if (hoursStartRaw < 100) {
						hoursStartVal = "12:" + hoursStartRaw + ampm;
					}
					else {
						hoursStartText = hoursStartRaw + ampm;
						hoursStartMath = Math.floor(hoursStartRaw/100);
						hoursStartVal = hoursStartMath + ":" + hoursStartText.substr(-5);
					}
				}
				var hoursEndRaw = parseInt(hoursBaseArray[h].substring(5,9));
				var hoursEndVal = "";
				if (hoursEndRaw == 1200) {
					hoursEndVal = "Noon";
				}
				else if (hoursEndRaw == 0) {
					hoursEndVal = "Midnight";
				}
				else {
					var ampm = " am";
					if (hoursEndRaw > 1200) {
						hoursEndRaw -= 1200;
						ampm = " pm";
					}
					if (hoursEndRaw < 100) {
						hoursEndVal = "12:" + hoursEndRaw + ampm;
					}
					else {
						hoursEndText = hoursEndRaw + ampm;
						hoursEndMath = Math.floor(hoursEndRaw/100);
						hoursEndVal = hoursEndMath + ":" + hoursEndText.substr(-5);
					}
				}
				hoursDayArray[h] = [hoursDayVal, hoursStartVal, hoursEndVal];
			}
			var hoursWriteText = "";
			if (baseLocListHoursValueVar == "LIST") {
				var dayHolder = "";
				for (wth=0; wth<hoursDayArray.length; wth++) {
					if (dayHolder != hoursDayArray[wth][0]) {
						dayHolder = hoursDayArray[wth][0];
						var dayHolderDay = hoursDayArray[wth][0] + ":";
						if (wth != 0) {
							dayHolderDay = "<br>" + dayHolderDay;
						}
					}
					else {
						var dayHolderDay = ",";
					}
					hoursWriteText += dayHolderDay + " " + hoursDayArray[wth][1] + " - " + hoursDayArray[wth][2];
				}
			}
			baseHTML = baseLocListHoursHTMLStart + hoursWriteText + baseLocListHoursHTMLEnd;
		}
		var locDetailPhoneTagStart = baseHTML.indexOf("<!--LOCPHONE");
		if (locDetailPhoneTagStart != -1 && storeDisplayArray[currSID][15]!="") {
			var locDetailPhoneTagEnd = baseHTML.indexOf(">",locDetailPhoneTagStart);
			var locDetailPhoneTagStrip = baseHTML.substring(locDetailPhoneTagStart,(locDetailPhoneTagEnd+1));
			var locDetailPhoneHTMLStart = baseHTML.substr(0,locDetailPhoneTagStart);
			var locDetailPhoneHTMLEnd = baseHTML.substr((locDetailPhoneTagEnd+1));
			var locDetailPhoneRender = "";
			var locDetailPhoneValueStart = locDetailPhoneTagStrip.indexOf(" FORMAT=");
			var locDetailPhoneValueEnd = locDetailPhoneTagStrip.indexOf("]");
			if (locDetailPhoneValueStart != -1) {
				var locDetailPhoneValueVarTest = locDetailPhoneTagStrip.substring((locDetailPhoneValueStart+9),(locDetailPhoneValueEnd));
				var phoneSplit=storeDisplayArray[currSID][15].split("");
				for (p=0;p<phoneSplit.length;p++) {
					var thisHash = locDetailPhoneValueVarTest.indexOf("#");
					if (thisHash != -1) {
						locDetailPhoneValueVarTest = locDetailPhoneValueVarTest.substring(0,(thisHash))+phoneSplit[p]+locDetailPhoneValueVarTest.substring((thisHash+1));
					}
				}
				var locDetailPhoneValueVar = locDetailPhoneValueVarTest;
			}
			else {
				var locDetailPhoneValueVar = storeDisplayArray[currSID][15];
			}
			var locDetailPhoneRawStart = locDetailPhoneTagStrip.indexOf(" RAW");
			if (locDetailPhoneRawStart != -1) {
				var locDetailPhoneValueVar = storeDisplayArray[currSID][26];
			}
			if (version=='WAP' || winWidth <= globalRespWidth) {
				locDetailPhoneRender = "<a href='tel:"+locDetailPhoneValueVar+"'>" + locDetailPhoneValueVar + "</a>";
			}
			else {
				locDetailPhoneRender = locDetailPhoneValueVar;
			}
			baseHTML = locDetailPhoneHTMLStart + locDetailPhoneRender + locDetailPhoneHTMLEnd;
		}
		var whatDEnd = p1DirSequence.length;
		var whatDTime = 0;
		var whatDDist = 0;
		for (q=0; q<whatDEnd; q++) {
			whatDTime += parseFloat(p1DirSequence[q][2]);
			whatDDist += parseFloat(p1DirSequence[q][3]);
		}
		p1DirSequence[whatDEnd-1][2] = whatDTime.toFixed(2);
		p1DirSequence[whatDEnd-1][1] = "Finish at " + storeDisplayArray[currSID][1] + ", " + storeDisplayArray[currSID][3] + ", " + stateOut + " " + storeDisplayArray[currSID][5];
		p1DirSequence[whatDEnd-1][3] = whatDDist.toFixed(2);
		var directionsListStart = baseHTML.indexOf("<!--DIRECTIONSLIST");
		if (directionsListStart != -1) {
			var directionsListEnd = baseHTML.indexOf(">",directionsListStart);
			var directionsListStrip = baseHTML.substring(directionsListStart,(directionsListEnd+1));
			var directionsListHTMLStart = baseHTML.substr(0,directionsListStart);
			var directionsListHTMLEnd = baseHTML.substr((directionsListEnd+1));
			var thisProdRow = "";
			for (x=0; x<p1DirSequence.length; x++) {
				thisProdRow += "<div class='panel_1_emailDM_prodlist_row' style='display:table-row;'><div class='panel_1_emailDM_prodlist_cell_dist' style='display:table-cell;'>" + p1DirSequence[x][2] + "<\/div><div class='panel_1_emailDM_prodlist_cell_dir' style='display:table-cell;'>" + p1DirSequence[x][1] + "<\/div><div class='panel_1_emailDM_prodlist_cell_time' style='display:table-cell;'>" + p1DirSequence[x][3] + "<\/div><\/div>";
			}
			baseHTML = directionsListHTMLStart + thisProdRow + directionsListHTMLEnd;
		}
		document.getElementById('modalDivFront').innerHTML = baseHTML;
		$("#loaderDivFront").fadeOut(100);
		$("#loaderDivBack").fadeOut(100);
		document.getElementById('modalDivFront').style.display = "none";
		document.getElementById('modalDivFront').style.left = "0px";
		document.getElementById('modalDivFront').style.top = "0px";
		$("#modalDivBack").fadeIn(100);
		$("#modalDivFront").fadeIn(100);
	}
}
function panel1WriteStoreListText() {
	if(gLog==1){console.log("panel1WriteStoreListText - Begin");}
	var baseHTML = autotextIt(p1TemplateSet.panel1EmailModalStoreListDiv,"panel1EmailModalStoreList");
	if (baseHTML.length != -1) {
		var emailSLFieldTagStart = baseHTML.indexOf("<!--EMAILFIELD");
		if (emailSLFieldTagStart != -1) {
			var emailSLFieldTagEnd = baseHTML.indexOf(">",emailSLFieldTagStart);
			var emailSLFieldTagStrip = baseHTML.substring(emailSLFieldTagStart,(emailSLFieldTagEnd+1));
			var emailSLFieldHTMLStart = baseHTML.substr(0,emailSLFieldTagStart);
			var emailSLFieldHTMLEnd = baseHTML.substr((emailSLFieldTagEnd+1));
			var emailSLFieldValueStart = emailSLFieldTagStrip.indexOf(" VALUE=");
			if (emailSLFieldValueStart != -1) {
				var emailSLFieldValueEnd = emailSLFieldTagStrip.indexOf("]",emailSLFieldValueStart);
				var emailSLFieldValueVar = emailSLFieldTagStrip.substring((emailSLFieldValueStart+8),(emailSLFieldValueEnd));
			}
			else {
				var emailSLFieldValueVar = "EMAIL ADDRESS";
			}
			var emailSSFieldPreset = "";
			if (panel1AIOEmail != "") {
				emailSSFieldPreset = " value='" + panel1AIOEmail + "'";
			}
			baseHTML = emailSLFieldHTMLStart + "<input type='email' name='panel1EmailSLField' id='panel1EmailSLField' class='panel_1_emailSL_field panel_1_emailSL_field_base' placeholder='" + emailSLFieldValueVar + "'" + emailSSFieldPreset + " title=\"" + emailSLFieldValueVar + "\">" + emailSLFieldHTMLEnd;
		}
		var nameSLFieldTagStart = baseHTML.indexOf("<!--NAMEFIELD");
		if (nameSLFieldTagStart != -1) {
			var nameSLFieldTagEnd = baseHTML.indexOf(">",nameSLFieldTagStart);
			var nameSLFieldTagStrip = baseHTML.substring(nameSLFieldTagStart,(nameSLFieldTagEnd+1));
			var nameSLFieldHTMLStart = baseHTML.substr(0,nameSLFieldTagStart);
			var nameSLFieldHTMLEnd = baseHTML.substr((nameSLFieldTagEnd+1));
			var nameSLFieldValueStart = nameSLFieldTagStrip.indexOf(" VALUE=");
			if (nameSLFieldValueStart != -1) {
				var nameSLFieldValueEnd = nameSLFieldTagStrip.indexOf("]",nameSLFieldValueStart);
				var nameSLFieldValueVar = nameSLFieldTagStrip.substring((nameSLFieldValueStart+8),(nameSLFieldValueEnd));
			}
			else {
				var nameSLFieldValueVar = "CUSTOMER NAME";
			}
			var nameSSFieldPreset = "";
			if (panel1AIOName != "") {
				nameSSFieldPreset = " value='" + panel1AIOName + "'";
			}
			baseHTML = nameSLFieldHTMLStart + "<input type='text' name='panel1NameSLField' id='panel1NameSLField' class='panel_1_nameSL_field panel_1_nameSL_field_base' placeholder='" + nameSLFieldValueVar + "'" + nameSSFieldPreset + " title=\"" + nameSLFieldValueVar + "\">" + nameSLFieldHTMLEnd;
		}
		var bodySLFieldTagStart = baseHTML.indexOf("<!--BODYFIELD");
		if (bodySLFieldTagStart != -1) {
			var bodySLFieldTagEnd = baseHTML.indexOf(">",bodySLFieldTagStart);
			var bodySLFieldTagStrip = baseHTML.substring(bodySLFieldTagStart,(bodySLFieldTagEnd+1));
			var bodySLFieldHTMLStart = baseHTML.substr(0,bodySLFieldTagStart);
			var bodySLFieldHTMLEnd = baseHTML.substr((bodySLFieldTagEnd+1));
			var bodySLFieldValueStart = bodySLFieldTagStrip.indexOf(" VALUE=");
			if (bodySLFieldValueStart != -1) {
				var bodySLFieldValueEnd = bodySLFieldTagStrip.indexOf("]",bodySLFieldValueStart);
				var bodySLFieldValueVar = bodySLFieldTagStrip.substring((bodySLFieldValueStart+8),(bodySLFieldValueEnd));
			}
			else {
				var bodySLFieldValueVar = "Thank you for your interest in our products. Your results are included below.";
			}
			var bodySLFieldControlStart = bodySLFieldTagStrip.indexOf(" CONTROL=");
			if (bodySLFieldControlStart != -1) {
				var bodySLFieldControlEnd = bodySLFieldTagStrip.indexOf("]",bodySLFieldControlStart);
				var bodySLFieldControlVar = bodySLFieldTagStrip.substring((bodySLFieldControlStart+10),(bodySLFieldControlEnd));
			}
			else {
				var bodySLFieldControlVar = "MODIFY";
			}
			baseHTML = bodySLFieldHTMLStart + "<span class='panel_1_bodySL_text_shell'><span id='panel1BodySLText' class='panel_1_bodySL_text'>" + bodySLFieldValueVar + "<\/span><\/span><span id='panel1BodySLControl' class='panel_1_bodySL_control' onclick='changeBodySLText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){changeBodySLText();}' tabindex='0' title=\"" + bodySLFieldControlVar + "\">" + bodySLFieldControlVar + "<\/span><textarea name='panel1BodySLTextArea' id='panel1BodySLTextArea' class='panel_1_bodySL_textarea' style='display:none;'>" + bodySLFieldValueVar + "<\/textarea><span id='panel1BodySLSave' class='panel_1_bodySL_save' onclick='saveBodySLText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){saveBodySLText();}' style='display:none;' tabindex='0' title=\"Save\">SAVE<\/span><span id='panel1BodySLCancel' class='panel_1_bodySL_cancel' onclick='cancelBodySLText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){cancelBodySLText();}' style='display:none;' tabindex='0' title=\"Cancel\">CANCEL<\/span>" + bodySLFieldHTMLEnd;
		}
		var emailSLButtonTagStart = baseHTML.indexOf("<!--EMAILBUTTON");
		if (emailSLButtonTagStart != -1) {
			var emailSLButtonTagEnd = baseHTML.indexOf(">",emailSLButtonTagStart);
			var emailSLButtonTagStrip = baseHTML.substring(emailSLButtonTagStart,(emailSLButtonTagEnd+1));
			var emailSLButtonHTMLStart = baseHTML.substr(0,emailSLButtonTagStart);
			var emailSLButtonHTMLEnd = baseHTML.substr((emailSLButtonTagEnd+1));
			var emailSLButtonRender = "";
			var emailSLButtonValueStart = emailSLButtonTagStrip.indexOf(" VALUE=");
			if (emailSLButtonValueStart != -1) {
				var emailSLButtonValueEnd = emailSLButtonTagStrip.indexOf("]",emailSLButtonValueStart);
				var emailSLButtonValueVar = emailSLButtonTagStrip.substring((emailSLButtonValueStart+8),(emailSLButtonValueEnd));
			}
			else {
				var emailSLButtonValueVar = "SEND";
			}
			var emailSLButtonItalicStart = emailSLButtonTagStrip.indexOf(" FNTAW=");
			if (emailSLButtonItalicStart != -1) {
				var emailSLButtonItalicEnd = emailSLButtonTagStrip.indexOf("]",emailSLButtonItalicStart);
				var emailSLButtonItalicVar = "<i class='fa " + emailSLButtonTagStrip.substring((emailSLButtonItalicStart+8),(emailSLButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var emailSLButtonItalicVar = "";
			}
			emailSLButtonRender += "<div id='panel1EmailSLButton' class='panel_1_emailSL_button panel_1_emailSL_button_off'";
			if (hoverState==1) {
				emailSLButtonRender += " onmouseover='panel1ButtonHover(\"panel1EmailSLButton\",\"panel_1_emailSL_button\",1);' onfocus='panel1ButtonHover(\"panel1EmailSLButton\",\"panel_1_emailSL_button\",1);' onmouseout='panel1ButtonHover(\"panel1EmailSLButton\",\"panel_1_emailSL_button\",0);' onblur='panel1ButtonHover(\"panel1EmailSLButton\",\"panel_1_emailSL_button\",0);'";
			}
			emailSLButtonRender += " onclick='panel1EmailSL();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1EmailSL();}' tabindex='0' title=\"" + emailSLButtonValueVar + "\">" + emailSLButtonItalicVar + emailSLButtonValueVar + "<\/div>";
			baseHTML = emailSLButtonHTMLStart + emailSLButtonRender + emailSLButtonHTMLEnd;
		}
		var incProdSLCheckTagStart = baseHTML.indexOf("<!--PRODUCTCHECKBOX");
		if (incProdSLCheckTagStart != -1) {
			var incProdSLCheckTagEnd = baseHTML.indexOf(">",incProdSLCheckTagStart);
			var incProdSLCheckTagStrip = baseHTML.substring(incProdSLCheckTagStart,(incProdSLCheckTagEnd+1));
			var incProdSLCheckHTMLStart = baseHTML.substr(0,incProdSLCheckTagStart);
			var incProdSLCheckHTMLEnd = baseHTML.substr((incProdSLCheckTagEnd+1));
			var incProdSLCheckRender = "";
			var incProdSLCheckValueStart = incProdSLCheckTagStrip.indexOf(" VALUE=");
			if (incProdSLCheckValueStart != -1) {
				var incProdSLCheckValueEnd = incProdSLCheckTagStrip.indexOf("]",incProdSLCheckValueStart);
				var incProdSLCheckValueVar = incProdSLCheckTagStrip.substring((incProdSLCheckValueStart+8),(incProdSLCheckValueEnd));
			}
			else {
				var incProdSLCheckValueVar = "INCLUDE PRODUCTS";
			}
			baseHTML = incProdSLCheckHTMLStart + "<input type='checkbox' name='incProdSLCheck' id='incProdSLCheck' title=\"" + incProdSLCheckValueVar + "\"><label for='incProdSLCheck'>&nbsp;" + incProdSLCheckValueVar + "<\/label>" + incProdSLCheckHTMLEnd;
		}
		var storeListStart = baseHTML.indexOf("<!--STORELIST");
		if (storeListStart != -1) {
			var storeListEnd = baseHTML.indexOf(">",storeListStart);
			var storeListStrip = baseHTML.substring(storeListStart,(storeListEnd+1));
			var storeListHTMLStart = baseHTML.substr(0,storeListStart);
			var storeListHTMLEnd = baseHTML.substr((storeListEnd+1));
			var thisStoreRow = "";
			if ((whatStoreUp+resultsNum) > storeDisplayArray.length) {
				var whatStoreEnd = storeDisplayArray.length;
			}
			else {
				var whatStoreEnd = whatStoreUp+resultsNum;
			}
			for (x=whatStoreUp; x<whatStoreEnd; x++) {
				if (storeDisplayArray[x][15] != "") {
					var phoneFormat = storeDisplayArray[x][15].substring(0,3)+"."+storeDisplayArray[x][15].substring(3,6)+"."+storeDisplayArray[x][15].substring(6,10);
				}
				else {
					var phoneFormat = "";
				}
				thisStoreRow += "<div class='panel_1_emailSL_storelist_row' style='display:table-row;'><div class='panel_1_emailSL_storelist_cell_dist' style='display:table-cell;'>" + storeDisplayArray[x][8] + " mi.<\/div><div class='panel_1_emailSL_storelist_cell_name' style='display:table-cell;'>" + storeDisplayArray[x][0] + "<\/div><div class='panel_1_emailSL_storelist_cell_address' style='display:table-cell;'>" + storeDisplayArray[x][1] + "<br>" + storeDisplayArray[x][3] + ", " + storeDisplayArray[x][4] + " " + storeDisplayArray[x][5] + "<\/div><div class='panel_1_emailSL_storelist_cell_phone' style='display:table-cell;'>" + phoneFormat + "<\/div><\/div>";
			}
			baseHTML = storeListHTMLStart + thisStoreRow + storeListHTMLEnd;
		}
		document.getElementById('modalDivFront').innerHTML = baseHTML;
		$("#loaderDivFront").fadeOut(100);
		$("#loaderDivBack").fadeOut(100);
		document.getElementById('modalDivFront').style.display = "none";
		document.getElementById('modalDivFront').style.left = "0px";
		document.getElementById('modalDivFront').style.top = "0px";
		$("#modalDivBack").fadeIn(100);
		$("#modalDivFront").fadeIn(100);
	}
}
function panel1EmailDM(currSID) {
	var emailResult = checkIsEmail('panel1EmailDMField');
	if (emailResult == false) {
		alert("You appear to have entered an invalid email address. Please try again.");
	}
	else {
		var compProdVal = "";
		if (document.getElementById('incProdDMCheck')) {
			if (document.getElementById('incProdDMCheck').checked) {
				if (document.getElementById('PROD').value.indexOf(",")) {
					var testProdArr = document.getElementById('PROD').value.split(",");
				}
				else {
					var testProdArr = new Array(document.getElementById('PROD').value);
				}
				var fullProdArr = document.getElementById('FULLPROD').value.split(",");
				var prodSetVal = "SOME";
				if (testProdArr.length == fullProdArr.length) {
					prodSetVal =  "ALL";
				}
				compProdVal = testProdArr.toString(",");
			}
		}
		var thisStore = '{"store_name":"' + storeDisplayArray[currSID][0].replace(/"/g, '') + '","address_one":"' + storeDisplayArray[currSID][1].replace(/"/g, '') + '","address_two":"' + storeDisplayArray[currSID][2].replace(/"/g, '') + '","city":"' + storeDisplayArray[currSID][3].replace(/"/g, '') + '","state":"' + storeDisplayArray[currSID][4].replace(/"/g, '') + '","zip":"' + storeDisplayArray[currSID][5].replace(/"/g, '') + '","country": "' + storeDisplayArray[currSID][27].replace(/"/g, '') + '","phone": "' + storeDisplayArray[currSID][15].replace(/"/g, '') + '","web": "' + storeDisplayArray[currSID][22].replace(/"/g, '') + '"}'
		var dirList = '{"directions":[';
		for (x=0; x<p1DirSequence.length; x++) {
			if (x != 0) {dirList += ",";}
			dirList += '{"time":"' + p1DirSequence[x][2] + '","direction":"' + p1DirSequence[x][1].replace(/"/g, '') + '","distance":"' + p1DirSequence[x][3] + '"}';;
		}
		dirList += '],"num_results":"' + p1DirSequence.length + '"}';
		if(gLog==1){console.log("panel1EmailDM - PLIST: ", compProdVal);}
		if(gLog==1){console.log("panel1EmailDM - EFROM: ", emailFrom);}
		if(gLog==1){console.log("panel1EmailDM - ETO: ", document.getElementById('panel1EmailDMField').value.replace(/"/g, ''));}
		if(gLog==1){console.log("panel1EmailDM - STORE: ", thisStore);}
		if(gLog==1){console.log("panel1EmailDM - ENAME: ", document.getElementById('panel1NameDMField').value.replace(/"/g, ''));}
		if(gLog==1){console.log("panel1EmailDM - EBODY: ", document.getElementById('panel1BodyDMTextArea').value.replace(/"/g, ''));}
		if(gLog==1){console.log("panel1EmailDM - DLIST: ", dirList);}
		var dirEmI = caSearchArr.length - 1;
		caDirEmailArr.push('{"index":"' + dirEmI + '","to":"' + document.getElementById('panel1EmailDMField').value.replace(/"/g, '') + '","store":' + thisStore + '}');
		$.post(controlURL + "mailchimp.php", {
			A1: trackVal,
			TRACK: "1",
			USRC1: version,
			CLIENT: coreClient,
			CNAME: mainClientName,
			ITER: iteration,
			DEVICE: deviceType,
			REF: referer,
			SESSID: daSESSID,
			PLIST: compProdVal,
			STORE: thisStore,
			EFROM: emailFrom,
			ETO: document.getElementById('panel1EmailDMField').value,
			ENAME: document.getElementById('panel1NameDMField').value.replace(/"/g, ''),
			EBODY: document.getElementById('panel1BodyDMTextArea').value.replace(/"/g, ''),
			DLIST: dirList,
			CLOG: gLog
			}, function(data){
				$("#modalDivBack").fadeOut(100);
				$("#modalDivFront").fadeOut(100);
				var errorTagStart = data.indexOf("<!--ERROR");
				if (errorTagStart != -1) {
					var errorTagEnd = data.indexOf(">",errorTagStart);
					var errorTagStrip = data.substring(errorTagStart,(errorTagEnd+1));
					var errorHTMLStart = data.substr(0,errorTagStart);
					var errorHTMLEnd = data.substr((errorTagEnd+1));
					var errorValueStart = errorTagStrip.indexOf(" VALUE=");
					if (errorValueStart != -1) {
						var errorValueEnd = errorTagStrip.indexOf("]",errorValueStart);
						errorValueVar = errorTagStrip.substring((errorValueStart+8),(errorValueEnd));
					}
					else {
						errorValueVar = "UNDEFINED ERROR";
					}
					errorText(errorValueVar,4);
				}
				else {
					errorText("Email sent successfully.",0);
				}
				/*
				if (trackVal == 2) {
					var myWindow = window.open();
					myWindow.document.body.innerHTML = data;
				}
				*/
			}
		);
	}
}
function panel1EmailSL() {
	var emailResult = checkIsEmail('panel1EmailSLField');
	if (emailResult == false) {
		alert("You appear to have entered an invalid email address. Please try again.");
	}
	else {
		var thisStore = '{"stores":[';
		if ((whatStoreUp+resultsNum) > storeDisplayArray.length) {
			var whatStoreEnd = storeDisplayArray.length;
		}
		else {
			var whatStoreEnd = whatStoreUp+resultsNum;
		}
		var trackIt = 0;
		for (x=whatStoreUp; x<whatStoreEnd; x++) {
			if (trackIt != 0) {thisStore += ',';}
			thisStore += '{"store_name":"' + storeDisplayArray[x][0].replace(/"/g, '') + '","address_one":"' + storeDisplayArray[x][1].replace(/"/g, '') + '","address_two":"' + storeDisplayArray[x][2].replace(/"/g, '') + '","city":"' + storeDisplayArray[x][3].replace(/"/g, '') + '","state":"' + storeDisplayArray[x][4].replace(/"/g, '') + '","zip":"' + storeDisplayArray[x][5].replace(/"/g, '') + '","country": "' + storeDisplayArray[x][27].replace(/"/g, '') + '","phone": "' + storeDisplayArray[x][15].replace(/"/g, '') + '","web": "' + storeDisplayArray[x][22].replace(/"/g, '') + '"}';
			trackIt++;
		}
		thisStore += '],"num_results":"' + trackIt + '"}';
		var dirEmI = caSearchArr.length - 1;
		caListEmailArr.push('{"index":"' + dirEmI + '","to":"' + document.getElementById('panel1EmailSLField').value.replace(/"/g, '') + '","store":[' + thisStore + ']}');
		if(gLog==1){console.log("panel1EmailSL - EFROM: ", emailFrom);}
		if(gLog==1){console.log("panel1EmailSL - ETO: ", document.getElementById('panel1EmailSLField').value.replace(/"/g, ''));}
		if(gLog==1){console.log("panel1EmailSL - SLIST: ", thisStore);}
		if(gLog==1){console.log("panel1EmailSL - ENAME: ", document.getElementById('panel1NameSLField').value.replace(/"/g, ''));}
		if(gLog==1){console.log("panel1EmailSL - EBODY: ", document.getElementById('panel1BodySLTextArea').value.replace(/"/g, ''));}
		$.post(controlURL + "mailchimp.php", {
			A1: trackVal,
			TRACK: "2",
			USRC1: version,
			CLIENT: coreClient,
			CNAME: mainClientName,
			ITER: iteration,
			DEVICE: deviceType,
			REF: referer,
			SESSID: daSESSID,
			SLIST: thisStore,
			EFROM: emailFrom,
			ETO: document.getElementById('panel1EmailSLField').value,
			ENAME: document.getElementById('panel1NameSLField').value.replace(/"/g, ''),
			EBODY: document.getElementById('panel1BodySLTextArea').value.replace(/"/g, ''),
			CLOG: gLog
			}, function(data){
				$("#modalDivBack").fadeOut(100);
				$("#modalDivFront").fadeOut(100);
				var errorTagStart = data.indexOf("<!--ERROR");
				if (errorTagStart != -1) {
					var errorTagEnd = data.indexOf(">",errorTagStart);
					var errorTagStrip = data.substring(errorTagStart,(errorTagEnd+1));
					var errorHTMLStart = data.substr(0,errorTagStart);
					var errorHTMLEnd = data.substr((errorTagEnd+1));
					var errorValueStart = errorTagStrip.indexOf(" VALUE=");
					if (errorValueStart != -1) {
						var errorValueEnd = errorTagStrip.indexOf("]",errorValueStart);
						errorValueVar = errorTagStrip.substring((errorValueStart+8),(errorValueEnd));
					}
					else {
						errorValueVar = "UNDEFINED ERROR";
					}
					errorText(errorValueVar,4);
				}
				else {
					errorText("Email sent successfully.",0);
				}
				/*
				if (trackVal == 2) {
					var myWindow = window.open();
					myWindow.document.body.innerHTML = data;
				}
				*/
			}
		);
	}
}
var currBodyDMText = "";
function changeBodyDMText() {
	currBodyDMText = document.getElementById('panel1BodyDMTextArea').value;
	$("#panel1BodyDMText").hide();
	$("#panel1BodyDMControl").hide();
	$("#panel1BodyDMTextArea").show();
	$("#panel1BodyDMSave").show();
	$("#panel1BodyDMCancel").show();
}
function saveBodyDMText() {
	document.getElementById('panel1BodyDMText').innerHTML = document.getElementById('panel1BodyDMTextArea').value;
	$("#panel1BodyDMTextArea").hide();
	$("#panel1BodyDMSave").hide();
	$("#panel1BodyDMCancel").hide();
	$("#panel1BodyDMText").show();
	$("#panel1BodyDMControl").show();
}
function cancelBodyDMText() {
	document.getElementById('panel1BodyDMText').innerHTML = currBodyDMText;
	document.getElementById('panel1BodyDMTextArea').value = currBodyDMText;
	$("#panel1BodyDMTextArea").hide();
	$("#panel1BodyDMSave").hide();
	$("#panel1BodyDMCancel").hide();
	$("#panel1BodyDMText").show();
	$("#panel1BodyDMControl").show();
}
var currBodySLText = "";
function changeBodySLText() {
	currBodySLText = document.getElementById('panel1BodySLTextArea').value;
	$("#panel1BodySLText").hide();
	$("#panel1BodySLControl").hide();
	$("#panel1BodySLTextArea").show();
	$("#panel1BodySLSave").show();
	$("#panel1BodySLCancel").show();
}
function saveBodySLText() {
	document.getElementById('panel1BodySLText').innerHTML = document.getElementById('panel1BodySLTextArea').value;
	$("#panel1BodySLTextArea").hide();
	$("#panel1BodySLSave").hide();
	$("#panel1BodySLCancel").hide();
	$("#panel1BodySLText").show();
	$("#panel1BodySLControl").show();
}
function cancelBodySLText() {
	document.getElementById('panel1BodySLText').innerHTML = currBodySLText;
	document.getElementById('panel1BodySLTextArea').value = currBodySLText;
	$("#panel1BodySLTextArea").hide();
	$("#panel1BodySLSave").hide();
	$("#panel1BodySLCancel").hide();
	$("#panel1BodySLText").show();
	$("#panel1BodySLControl").show();
}
var whatDetailRowUp = 0;
function panel1ShowDetailRow(rowID) {
	$("#panel1ToggleButtonOn"+whatDetailRowUp).hide();
	$("#panel1ToggleButtonOff"+whatDetailRowUp).show();
	if (rowID == whatDetailRowUp) {
		$("#panel1DetailRow"+rowID).slideUp(250);
		whatDetailRowUp = 0;
	}
	else {
		$(".panel_1_detail_row").slideUp(250);
		$("#panel1DetailRow"+rowID).slideDown(750);
		$("#panel1ToggleButtonOn"+rowID).show();
		$("#panel1ToggleButtonOff"+rowID).hide();
		whatDetailRowUp = rowID;
	}
}
function panel1FieldKeypress(e,addField,result) {
	var key;
	if(window.event) {key = window.event.keyCode;}
	else {key = e.which;}
	if(key == 13){
		if (result == 1) {
			panel1SubmitForm();
		}
		return false;
	}
}
function panel1DirectionsKeypress(e,addField,thisID) {
	var key;
	if(window.event) {key = window.event.keyCode;}
	else {key = e.which;}
	if(key == 13){
		panel1CodeDirectAddress(thisID);
		return false;
	}
}
function panel1FieldKeypressAlt(e,addField,result) {
	var key;
	if(window.event) {key = window.event.keyCode;}
	else {key = e.which;}
	if(key == 13){
		if (result == 1) {
			panel1SubmitForm(1);
		}
		else if (result == 2) {
			prodSelectSubmit();
		}
		return false;
	}
}
function panel1ButtonHover(buttonID,buttonClass,hoverVar) {
	if (hoverVar == 0 && $('#'+buttonID).hasClass(buttonClass+'_hoveroff')) {
		$('#'+buttonID).removeClass(buttonClass+'_hoveroff');
		$('#'+buttonID).removeClass(buttonClass+'_hover');
		$('#'+buttonID).addClass(buttonClass+'_off');
	}
	else if (hoverVar == 0 && $('#'+buttonID).hasClass(buttonClass+'_hoveron')) {
		$('#'+buttonID).removeClass(buttonClass+'_hoveron');
		$('#'+buttonID).removeClass(buttonClass+'_hover');
		$('#'+buttonID).addClass(buttonClass+'_on');
	}
	else if (hoverVar == 1 && $('#'+buttonID).hasClass(buttonClass+'_off')) {
		$('#'+buttonID).removeClass(buttonClass+'_off');
		$('#'+buttonID).addClass(buttonClass+'_hover');
		$('#'+buttonID).addClass(buttonClass+'_hoveroff');
	}
	else if (hoverVar == 1 && $('#'+buttonID).hasClass(buttonClass+'_on')) {
		$('#'+buttonID).removeClass(buttonClass+'_on');
		$('#'+buttonID).addClass(buttonClass+'_hover');
		$('#'+buttonID).addClass(buttonClass+'_hoveron');
	}
}
function panel1ProductClassMouseover(arrayVal,idVal) {
	if (classArray[arrayVal][5] == 0) {
		$('.panel_1_product_class_'+idVal).removeClass('panel_1_product_class_off');
		$('.panel_1_product_class_'+idVal).addClass('panel_1_product_class_hover');
	}
	else {
		$('.panel_1_product_class_'+idVal).removeClass('panel_1_product_class_on');
		$('.panel_1_product_class_'+idVal).addClass('panel_1_product_class_hover');
	}
}
function panel1ProductClassMouseout(arrayVal,idVal) {
	if (classArray[arrayVal][5] == 0) {
		$('.panel_1_product_class_'+idVal).removeClass('panel_1_product_class_hover');
		$('.panel_1_product_class_'+idVal).removeClass('panel_1_product_class_on');
		$('.panel_1_product_class_'+idVal).addClass('panel_1_product_class_off');
	}
	else {
		$('.panel_1_product_class_'+idVal).removeClass('panel_1_product_class_hover');
		$('.panel_1_product_class_'+idVal).removeClass('panel_1_product_class_off');
		$('.panel_1_product_class_'+idVal).addClass('panel_1_product_class_on');
	}
}
function catActivate(contentID,whatID) {
	if (hoverState==0) {
		if (document.getElementById('panel1CategoryBigImg'+whatID) && $('.panel_1_category_big_img_'+whatID).hasClass('img_replace_active')) {
			var baseImg = document.getElementById('panel1CategoryBigImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck != "_2") {
				var baseStart = baseImg.substr(0,(baseLength-4));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1CategoryBigImg'+whatID).src = baseStart + "_2" + baseEnd;
			}
		}
		if (document.getElementById('panel1CategorySmImg'+whatID) && $('.panel_1_category_sm_img_'+whatID).hasClass('img_replace_active')) {
			var baseImg = document.getElementById('panel1CategorySmImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck != "_2") {
				var baseStart = baseImg.substr(0,(baseLength-4));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1CategorySmImg'+whatID).src = baseStart + "_2" + baseEnd;
			}
		}
		if (document.getElementById('panel1CategoryBigImgDivBack'+whatID) && $('.panel_1_category_big_img_div_back_'+whatID).hasClass('img_replace_active')) {
			$(".panel_1_category_big_img_div_over_"+whatID).fadeIn(50);
			$(".panel_1_category_big_img_div_back_"+whatID).removeClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+whatID).addClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+whatID) && $('.panel_1_category_sm_img_div_back_'+whatID).hasClass('img_replace_active')) {
			$(".panel_1_category_sm_img_div_over_"+whatID).fadeIn(50);
			$(".panel_1_category_sm_img_div_back_"+whatID).removeClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+whatID).addClass('panel_1_category_sm_img_div_back_on');
		}
	}
	genericCloseMe();
	if (whatID == trackActiveCatNum) {
		if (document.getElementById('panel1CategoryBigImg'+whatID) && $(".panel_1_category_big_img_"+whatID).hasClass("img_replace_active_holder")) {
			var baseImg = document.getElementById('panel1CategoryBigImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck == "_2") {
				var baseStart = baseImg.substr(0,(baseLength-6));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1CategoryBigImg'+whatID).src = baseStart + baseEnd;
			}
			$(".panel_1_category_big_img_"+whatID).removeClass("img_replace_active_holder");
			$(".panel_1_category_big_img_"+whatID).addClass("img_replace_active");
		}
		if (document.getElementById('panel1CategorySmImg'+whatID) && $(".panel_1_category_sm_img_"+whatID).hasClass("img_replace_active_holder")) {
			var baseImg = document.getElementById('panel1CategorySmImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck == "_2") {
				var baseStart = baseImg.substr(0,(baseLength-6));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1CategorySmImg'+whatID).src = baseStart + baseEnd;
			}
			$(".panel_1_category_sm_img_"+whatID).removeClass("img_replace_active_holder");
			$(".panel_1_category_sm_img_"+whatID).addClass("img_replace_active");
		}
		if (document.getElementById('panel1CategoryBigImgDivBack'+whatID) && $('.panel_1_category_big_img_div_back_'+whatID).hasClass('img_replace_active_holder')) {
			$(".panel_1_category_big_img_div_over_"+whatID).fadeOut(50);
			$(".panel_1_category_big_img_div_back_"+whatID).removeClass('panel_1_category_big_img_div_back_on');
			$(".panel_1_category_big_img_div_back_"+whatID).addClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+whatID).removeClass("img_replace_active_holder");
			$(".panel_1_category_big_img_div_back_"+whatID).addClass("img_replace_active");
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+whatID) && $('.panel_1_category_sm_img_div_back_'+whatID).hasClass('img_replace_active_holder')) {
			$(".panel_1_category_sm_img_div_over_"+whatID).fadeOut(50);
			$(".panel_1_category_sm_img_div_back_"+whatID).removeClass('panel_1_category_sm_img_div_back_on');
			$(".panel_1_category_sm_img_div_back_"+whatID).addClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+whatID).removeClass("img_replace_active_holder");
			$(".panel_1_category_sm_img_div_back_"+whatID).addClass("img_replace_active");
		}
		trackActiveCatNum = -1;
	}
	else {
		if (p1SimpFillType == 0) {
			$("."+contentID).fadeIn(50);
		}
		else if (p1SimpFillType == 1) {
			$("."+contentID+"_"+whatID).fadeIn(50);
		}
		if (document.getElementById('panel1CategoryBigImg'+trackActiveCatNum) && $(".panel_1_category_big_img_"+trackActiveCatNum).hasClass("img_replace_active_holder")) {
			if (trackActiveCatNum != -1) {
				var baseImg = document.getElementById('panel1CategoryBigImg'+trackActiveCatNum).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategoryBigImg'+trackActiveCatNum).src = baseStart + baseEnd;
				}
				$(".panel_1_category_big_img_"+trackActiveCatNum).removeClass("img_replace_active_holder");
				$(".panel_1_category_big_img_"+trackActiveCatNum).addClass("img_replace_active");
			}
		}
		if (document.getElementById('panel1CategorySmImg'+trackActiveCatNum) && $(".panel_1_category_sm_img_"+trackActiveCatNum).hasClass("img_replace_active_holder")) {
			if (trackActiveCatNum != -1) {
				var baseImg = document.getElementById('panel1CategorySmImg'+trackActiveCatNum).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategorySmImg'+trackActiveCatNum).src = baseStart + baseEnd;
				}
				$(".panel_1_category_sm_img_"+trackActiveCatNum).removeClass("img_replace_active_holder");
				$(".panel_1_category_sm_img_"+trackActiveCatNum).addClass("img_replace_active");
			}
		}
		if (document.getElementById('panel1CategoryBigImgDivBack'+trackActiveCatNum) && $('.panel_1_category_big_img_div_back_'+trackActiveCatNum).hasClass('img_replace_active_holder')) {
			$(".panel_1_category_big_img_div_over_"+trackActiveCatNum).fadeOut(50);
			$(".panel_1_category_big_img_div_back_"+trackActiveCatNum).removeClass('panel_1_category_big_img_div_back_on');
			$(".panel_1_category_big_img_div_back_"+trackActiveCatNum).addClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+trackActiveCatNum).removeClass("img_replace_active_holder");
			$(".panel_1_category_big_img_div_back_"+trackActiveCatNum).addClass("img_replace_active");
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+trackActiveCatNum) && $('.panel_1_category_sm_img_div_back_'+trackActiveCatNum).hasClass('img_replace_active_holder')) {
			$(".panel_1_category_sm_img_div_over_"+trackActiveCatNum).fadeOut(50);
			$(".panel_1_category_sm_img_div_back_"+trackActiveCatNum).removeClass('panel_1_category_sm_img_div_back_on');
			$(".panel_1_category_sm_img_div_back_"+trackActiveCatNum).addClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+trackActiveCatNum).removeClass("img_replace_active_holder");
			$(".panel_1_category_sm_img_div_back_"+trackActiveCatNum).addClass("img_replace_active");
		}
		if (document.getElementById('panel1CategoryBigImg'+whatID) && $(".panel_1_category_big_img_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_category_big_img_"+whatID).removeClass("img_replace_active");
			$(".panel_1_category_big_img_"+whatID).addClass("img_replace_active_holder");
		}
		if (document.getElementById('panel1CategorySmImg'+whatID) && $(".panel_1_category_sm_img_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_category_sm_img_"+whatID).removeClass("img_replace_active");
			$(".panel_1_category_sm_img_"+whatID).addClass("img_replace_active_holder");
		}
		if (document.getElementById('panel1CategoryBigImgDivBack'+trackActiveCatNum) && $('.panel_1_category_big_img_div_back_'+trackActiveCatNum).hasClass("img_replace_active")) {
			$(".panel_1_category_big_img_div_back_"+whatID).removeClass("img_replace_active");
			$(".panel_1_category_big_img_div_back_"+whatID).addClass("img_replace_active_holder");
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+trackActiveCatNum) && $('.panel_1_category_sm_img_div_back_'+trackActiveCatNum).hasClass("img_replace_active")) {
			$(".panel_1_category_sm_img_div_back_"+whatID).removeClass("img_replace_active");
			$(".panel_1_category_sm_img_div_back_"+whatID).addClass("img_replace_active_holder");
		}
		trackActiveCatNum = whatID;
	}
}
function panel1ProductClassSelect(arrayVal,idVal,selType) {
	if (selType == "producer") {
		if (classArray[arrayVal][5] == 0) {
			for (x=0;x<classArray.length;x++) {
				if (x==arrayVal) {
					$('.panel_1_product_class_'+classArray[x][0]).removeClass('panel_1_product_class_hover');
					$('.panel_1_product_class_'+classArray[x][0]).removeClass('panel_1_product_class_off');
					$('.panel_1_product_class_'+classArray[x][0]).addClass('panel_1_product_class_on');
					classArray[x][5] = 1;
					suggestions.length = 0;
					for (j=0;j<labelArray.length;j++) {
						if (labelArray[j][5] == classArray[x][0]) {
							suggestions.push(labelArray[j][1]);
						}
					}
				}
				else {
					$('.panel_1_product_class_'+classArray[x][0]).removeClass('panel_1_product_class_hover');
					$('.panel_1_product_class_'+classArray[x][0]).removeClass('panel_1_product_class_on');
					$('.panel_1_product_class_'+classArray[x][0]).addClass('panel_1_product_class_off');
					classArray[x][5] = 0;
				}
			}
			if (document.getElementById('panel1FilterField').value == "") {
				for (x=0;x<prodDisplayArray.length;x++) {
					if (document.getElementById('panel1ProductName'+prodDisplayArray[x][0])) {
						document.getElementById('panel1ProductName'+prodDisplayArray[x][0]).style.display = "block";
					}
					if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0])) {
						document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]).style.display = "block";
					}
					if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0])) {
						document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]).style.display = "block";
					}
					$('#panel1ProductName'+prodDisplayArray[x][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+prodDisplayArray[x][0]).removeClass('panel_1_product_name_on');
					$('#panel1ProductName'+prodDisplayArray[x][0]).addClass('panel_1_product_name_off');
					$('.prodCartFilterHide_'+prodDisplayArray[x][0]).show();
					prodDisplayArray[x][9] = 0;
					window["panel1ProductNameVar"+prodDisplayArray[x][0]] = 0;
				}
				for (y=0;y<labelArray.length;y++) {
					panel1ProductLabelSelect(y,labelArray[y][0],2);
				}
			}
			else {
				panel1ClassFilter();
			}
		}
	}
	else if (selType == "retailer") {
		if (classArray[arrayVal][5] == 0) {
			$('.panel_1_product_class_'+classArray[arrayVal][0]).removeClass('panel_1_product_class_hover');
			$('.panel_1_product_class_'+classArray[arrayVal][0]).removeClass('panel_1_product_class_off');
			$('.panel_1_product_class_'+classArray[arrayVal][0]).addClass('panel_1_product_class_on');
			classArray[arrayVal][5] = 1;
		}
		else {
			$('.panel_1_product_class_'+classArray[arrayVal][0]).removeClass('panel_1_product_class_hover');
			$('.panel_1_product_class_'+classArray[arrayVal][0]).removeClass('panel_1_product_class_on');
			$('.panel_1_product_class_'+classArray[arrayVal][0]).addClass('panel_1_product_class_off');
			classArray[arrayVal][5] = 0;
		}
	}
}
function panel1ProductLabelMouseover(arrayVal,idVal) {
	var foundParentYo = 0;
	if (panel1ParentIDHolder != 0) {
		for (x=0;x<labelArray.length;x++) {
			if (labelArray[x][3] != 0) {
				foundParentYo++;
			}
		}
	}
	if (labelArray[arrayVal][3] == 0) {
		$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_off');
		$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_hover');
	}
	else {
		if (foundParentYo > 1) {
			$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_off');
			$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_hover');
		}
		else {
			$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_on');
			$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_hover');
		}
	}
}
function panel1ProductLabelMouseout(arrayVal,idVal) {
	var foundParentYo = 0;
	if (panel1ParentIDHolder != 0) {
		for (x=0;x<labelArray.length;x++) {
			if (labelArray[x][3] != 0) {
				foundParentYo++;
			}
		}
	}
	if (labelArray[arrayVal][3] == 0) {
		$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_hover');
		$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_on');
		$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_off');
	}
	else {
		if (foundParentYo > 1) {
			$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_hover');
			$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_on');
			$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_off');
		}
		else {
			$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_hover');
			$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_off');
			$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_on');
		}
	}
}
function panel1ProductFamLabelMouseover(arrayVal,idVal) {
	if (famArray[arrayVal][3] == 0) {
		$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_off');
		$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_hover');
	}
	else {
		$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_on');
		$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_hover');
	}
}
function panel1ProductFamLabelMouseout(arrayVal,idVal) {
	if (famArray[arrayVal][3] == 0) {
		$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_hover');
		$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_on');
		$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_off');
	}
	else {
		$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_hover');
		$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_off');
		$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_on');
	}
}
function panel1ProductLabelFamMouseover(arrayVal,idVal) {
	if (famArray[arrayVal][3] == 0) {
		$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_off');
		$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_hover');
	}
	else {
		$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_on');
		$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_hover');
	}
}
function panel1ProductLabelFamMouseout(arrayVal,idVal) {
	if (famArray[arrayVal][3] == 0) {
		$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_hover');
		$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_on');
		$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_off');
	}
	else {
		$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_hover');
		$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_off');
		$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_on');
	}
}
function panel1LabelReset() {
	for (x=0;x<labelArray.length;x++) {
		$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_hover');
		$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_on');
		$('.panel_1_product_label_'+labelArray[x][0]).addClass('panel_1_product_label_off');
		labelArray[x][3] = 0;
	}
}
function panel1FamLabelReset() {
	for (x=0;x<famArray.length;x++) {
		$('.panel_1_product_famlabel_'+famArray[x][0]).removeClass('panel_1_product_famlabel_hover');
		$('.panel_1_product_famlabel_'+famArray[x][0]).removeClass('panel_1_product_famlabel_on');
		$('.panel_1_product_famlabel_'+famArray[x][0]).addClass('panel_1_product_famlabel_off');
		famArray[x][5] = 0;
	}
}
function panel1LabelBack(theHide, theShow) {
	var thislabelShowArr = theShow.split(",");
	var thislabelHideArr = theHide.split(",");
	if (thislabelHideArr.length) {
		for (x=0; x<thislabelHideArr.length; x++) {
			$("."+thislabelHideArr[x]).hide();
		}
	}
	if (thislabelShowArr.length) {
		for (y=0; y<thislabelShowArr.length; y++) {
			$("."+thislabelShowArr[y]).show();
		}
	}
	$(".panel_1_product_label_back").hide();
	if (document.getElementById('panel1FilterField')) {
		document.getElementById('panel1FilterField').value = "";
	}
	lowSearchVal = "";
	panel1LabelReset();
	panel1FamLabelReset();
}
var labelSubTrackVar = 0;
function panel1ProductLabelSelect(arrayVal,idVal,noModProd) {
	if(gLog==1){console.log("panel1ProductLabelSelect - arrayVal,idVal,noModProd",arrayVal,idVal,noModProd);}
	var runThisThang = 1;
	if (panel1LabelNoShowAll == 1) {
		if(gLog==1){console.log("panel1ProductLabelSelect - panel1LabelNoShowAll == 1");}
		var whatSingleIndex = -1;
		var howManyOn = 0;
		for (b=0; b<labelArray.length; b++) {
			if (labelArray[b][3] == 1) {
				whatSingleIndex = labelArray[b][0];
				howManyOn++;
			}
		}
		if(gLog==1){console.log("panel1ProductLabelSelect - whatSingleIndex,arrayVal,howManyOn",whatSingleIndex,arrayVal,howManyOn);}
		if (whatSingleIndex == idVal && howManyOn == 1) {
			runThisThang = 0;
		}
	}
	if (runThisThang == 1) {
		panel1LabelLimitBase = panel1LabelLimitVar;
		$("#panel1LabelLimitButton").show();
		genericCloseMe();
		if (labelHideArr.length) {
			for (x=0; x<labelHideArr.length; x++) {
				$("."+labelHideArr[x]).hide();
			}
		}
		if (labelShowArr.length) {
			for (y=0; y<labelShowArr.length; y++) {
				$("."+labelShowArr[y]).show();
			}
		}
		if (noModProd) {
			if (noModProd == 1) {
				if (panel1LabelRadioCheck == 1 || p1RedrawLabelRadio == 1) {
					for (x=0;x<labelArray.length;x++) {
						$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_hover');
						$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_on');
						$('.panel_1_product_label_'+labelArray[x][0]).addClass('panel_1_product_label_off');
						labelArray[x][3] = 0;
					}
				}
				$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_hover');
				$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_off');
				$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_on');
				labelArray[arrayVal][3] = 1;
				LABEL = labelArray[arrayVal][0];
				document.getElementById('LABEL').value = labelArray[arrayVal][0];
				if (document.getElementById('panel1LabelSubheader')) {
					document.getElementById('panel1LabelSubheader').innerHTML = labelArray[arrayVal][1];
				}
			}
			else {
				$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_hover');
				$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_on');
				$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_off');
				labelArray[arrayVal][3] = 0;
				LABEL = 0;
				document.getElementById('LABEL').value = 0;
			}
		}
		else {
			if(gLog==1){console.log("panel1ProductLabelSelect - !noModProd");}
			if(gLog==1){console.log("panel1ProductLabelSelect - labelArray[arrayVal][3] = " + labelArray[arrayVal][3]);}
			if (labelArray[arrayVal][3] == 0) {
				if (panel1LabelRadioCheck == 1 || p1RedrawLabelRadio == 1) {
					for (x=0;x<labelArray.length;x++) {
						var checkExpSub = 0;
						if (redrawExpandVar != 0 && labelArray[x][9] == redrawExpandVar) {
							checkExpSub = labelArray[x][0];
						}
						if ((p1RedrawLabelNoTop == 0 && p1RedrawLabelKeepTop == 0) || ((p1RedrawLabelNoTop == 1 || p1RedrawLabelKeepTop == 1) && redrawExpandVar != labelArray[x][0] && checkExpSub == 0)) {
							$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_hover');
							$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_on');
							$('.panel_1_product_label_'+labelArray[x][0]).addClass('panel_1_product_label_off');
							if (topLabelOn == 0 || (isaTopLabelOn != 0 && labelArray[x][0] != isaTopLabelOn)) {
								labelArray[x][3] = 0;
							}
						}
					}
				}
				$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_hover');
				$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_off');
				$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_on');
				labelArray[arrayVal][3] = 1;
				LABEL = labelArray[arrayVal][0];
				document.getElementById('LABEL').value = labelArray[arrayVal][0];
				if (document.getElementById('panel1LabelSubheader')) {
					document.getElementById('panel1LabelSubheader').innerHTML = labelArray[arrayVal][1];
				}
			}
			else {
				if (topLabelOn == 1 && isaTopLabelOn != 0 && labelArray[arrayVal][0] == isaTopLabelOn) {
					for (x=0;x<labelArray.length;x++) {
						if (labelArray[x][0] != isaTopLabelOn) {
							$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_hover');
							$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_on');
							$('.panel_1_product_label_'+labelArray[x][0]).addClass('panel_1_product_label_off');
							labelArray[x][3] = 0;
						}
						else {
							$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_hover');
							$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_off');
							$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_on');
							labelArray[x][3] = 1;
						}
					}
				}
				else {
					$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_hover');
					$('.panel_1_product_label_'+idVal).removeClass('panel_1_product_label_on');
					$('.panel_1_product_label_'+idVal).addClass('panel_1_product_label_off');
					labelArray[arrayVal][3] = 0;
					LABEL = 0;
					document.getElementById('LABEL').value = 0;
				}
			}
			if (panel1RedrawVar == 1) {
				panel1RedrawFilter();
			}
			else if (panel1SimpleVar == 1) {
				panel1SimpleFilter();
			}
			else {
				panel1DynamicFilter();
			}
		}
		if (labelSubArray.length) {
			for (q=0; q<labelSubArray.length; q++) {
				if (labelSubArray[q][0] == idVal) {
					if (labelSubTrackVar != idVal) {
						$("#labelSubDiv" + labelSubTrackVar).slideUp(250);
						$("#labelSubControl" + labelSubTrackVar + "On").hide();
						$("#labelSubControl" + labelSubTrackVar + "Off").show();
						$("#labelSubDiv" + idVal).slideDown(250);
						$("#labelSubControl" + idVal + "Off").hide();
						$("#labelSubControl" + idVal + "On").show();
						labelSubTrackVar = idVal;
					}
					break;
				}
			}
		}
	}
}
function panel1ProductFamLabelSelect(arrayVal,idVal,noModProd) {
	if(gLog==1){console.log("panel1ProductFamLabelSelect - START",arrayVal,idVal,noModProd);}
	if (panel1FamLabelHideLabels == 1) {
		if(gLog==1){console.log("panel1ProductFamLabelSelect - panel1FamLabelHideLabels == 1");}
		$(".panel_1_product_label").hide();
		$(".panel_1_product_label_"+idVal).show();
		for (a=0; a<labelArray.length; a++) {
			if (labelArray[a][16] == idVal && labelArray[a][16] != 0) {
				$(".panel_1_product_label_"+labelArray[a][0]).show();
				if(gLog==1){console.log("panel1ProductFamLabelSelect - Showing " + labelArray[a][1] + " (" + labelArray[a][0] + ") " + labelArray[a][16] + "==" + idVal);}
			}
			else {
				if(gLog==1){console.log("panel1ProductFamLabelSelect - Hiding " + labelArray[a][1] + " (" + labelArray[a][0] + ") " + labelArray[a][16] + "!=" + idVal);}
				$(".panel_1_product_label_"+labelArray[a][0]).hide();
			}
		}
		$(".panel_1_product_label_back").show();
	}
	panel1LabelLimitBase = panel1LabelLimitVar;
	$("#panel1LabelLimitButton").show();
	genericCloseMe();
	if (famlabelHideArr.length) {
		if(gLog==1){console.log("panel1ProductFamLabelSelect - famlabelHideArr.length",famlabelHideArr,famlabelHideArr.length);}
		for (x=0; x<famlabelHideArr.length; x++) {
			$("."+famlabelHideArr[x]).hide();
		}
	}
	if (famlabelShowArr.length) {
		if(gLog==1){console.log("panel1ProductFamLabelSelect - famlabelShowArr.length",famlabelShowArr,famlabelShowArr.length);}
		for (y=0; y<famlabelShowArr.length; y++) {
			$("."+famlabelShowArr[y]).show();
		}
	}
	if (noModProd) {
		if (noModProd == 1) {
			if (panel1FamLabelRadioCheck == 1 || p1RedrawLabelRadio == 1) {
				for (x=0;x<famArray.length;x++) {
					$('.panel_1_product_famlabel_'+famArray[x][0]).removeClass('panel_1_product_famlabel_hover');
					$('.panel_1_product_famlabel_'+famArray[x][0]).removeClass('panel_1_product_famlabel_on');
					$('.panel_1_product_famlabel_'+famArray[x][0]).addClass('panel_1_product_famlabel_off');
					$('.panel_1_product_label_fam_'+famArray[x][0]).removeClass('panel_1_product_label_fam_hover');
					$('.panel_1_product_label_fam_'+famArray[x][0]).removeClass('panel_1_product_label_fam_on');
					$('.panel_1_product_label_fam_'+famArray[x][0]).addClass('panel_1_product_label_fam_off');
					famArray[x][5] = 0;
				}
			}
			$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_hover');
			$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_off');
			$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_on');
			$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_hover');
			$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_off');
			$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_on');
			if (panel1FamLabelAutoOpen == 0) {
				famArray[arrayVal][5] = 1;
			}
			if(gLog==1){console.log("panel1ProductFamLabelSelect loaderToggle state=0");}
			loaderToggle(0);
		}
		else {
			if (panel1FamLabelNoShowAll == 0) {
				$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_hover');
				$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_on');
				$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_off');
				$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_hover');
				$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_on');
				$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_off');
				famArray[arrayVal][5] = 0;
			}
			if(gLog==1){console.log("panel1ProductFamLabelSelect loaderToggle state=0");}
			loaderToggle(0);
		}
	}
	else {
		if (famArray[arrayVal][5] == 0) {
			if (panel1FamLabelRadioCheck == 1 || p1RedrawLabelRadio == 1) {
				for (x=0;x<famArray.length;x++) {
					$('.panel_1_product_famlabel_'+famArray[x][0]).removeClass('panel_1_product_famlabel_hover');
					$('.panel_1_product_famlabel_'+famArray[x][0]).removeClass('panel_1_product_famlabel_on');
					$('.panel_1_product_famlabel_'+famArray[x][0]).addClass('panel_1_product_famlabel_off');
					$('.panel_1_product_label_fam_'+famArray[x][0]).removeClass('panel_1_product_label_fam_hover');
					$('.panel_1_product_label_fam_'+famArray[x][0]).removeClass('panel_1_product_label_fam_on');
					$('.panel_1_product_label_fam_'+famArray[x][0]).addClass('panel_1_product_label_fam_off');
					famArray[x][5] = 0;
				}
			}
			$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_hover');
			$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_off');
			$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_on');
			$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_hover');
			$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_off');
			$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_on');
			if (panel1FamLabelAutoOpen == 0) {
				famArray[arrayVal][5] = 1;
			}
		}
		else {
			if (panel1FamLabelNoShowAll == 0) {
				$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_hover');
				$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_on');
				$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_off');
				$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_hover');
				$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_on');
				$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_off');
				famArray[arrayVal][5] = 0;
			}
		}
		if (panel1FamLabelAutoOpen == 1) {
			for (a=0; a<labelArray.length; a++) {
				if (labelArray[a][16] == idVal && labelArray[a][9] == 0) {
					panel1ProductLabelSelect(a,labelArray[a][0]);
					break;
				}
			}
		}
		else {
			if (panel1RedrawVar == 1) {
				panel1RedrawFilter();
			}
			else if (panel1SimpleVar == 1) {
				panel1SimpleFilter();
			}
			else {
				panel1DynamicFilter();
			}
		}
	}
}
function panel1TopLabelSelect(arrayVal,idVal) {
	if(gLog==1){console.log("panel1TopLabelSelect - START",arrayVal,idVal);}
	if (panel1FamLabelHideLabels == 1) {
		if(gLog==1){console.log("panel1TopLabelSelect - panel1FamLabelHideLabels == 1");}
		$(".panel_1_product_label").hide();
		$(".panel_1_product_label_"+idVal).show();
		for (a=0; a<labelArray.length; a++) {
			if (labelArray[a][9] == idVal && labelArray[a][9] != 0) {
				$(".panel_1_product_label_"+labelArray[a][0]).show();
				if(gLog==1){console.log("panel1TopLabelSelect - Showing " + labelArray[a][1] + " (" + labelArray[a][0] + ") " + labelArray[a][16] + "==" + idVal);}
			}
			else {
				if(gLog==1){console.log("panel1TopLabelSelect - Hiding " + labelArray[a][1] + " (" + labelArray[a][0] + ") " + labelArray[a][16] + "!=" + idVal);}
				$(".panel_1_product_label_"+labelArray[a][0]).hide();
			}
		}
		$(".panel_1_product_label_back").show();
	}
	panel1LabelLimitBase = panel1LabelLimitVar;
	$("#panel1LabelLimitButton").show();
	genericCloseMe();
	if (toplabelHideArr.length) {
		if(gLog==1){console.log("panel1TopLabelSelect - toplabelHideArr.length",toplabelHideArr,toplabelHideArr.length);}
		for (x=0; x<toplabelHideArr.length; x++) {
			$("."+toplabelHideArr[x]).hide();
		}
	}
	if (toplabelShowArr.length) {
		if(gLog==1){console.log("panel1TopLabelSelect - toplabelShowArr.length",toplabelShowArr,toplabelShowArr.length);}
		for (y=0; y<toplabelShowArr.length; y++) {
			$("."+toplabelShowArr[y]).show();
		}
	}
	if (labelArray[arrayVal][3] == 0) {
		if (panel1FamLabelRadioCheck == 1 || p1RedrawLabelRadio == 1) {
			for (x=0;x<labelArray.length;x++) {
				$('.panel_1_product_famlabel_'+labelArray[x][0]).removeClass('panel_1_product_famlabel_hover');
				$('.panel_1_product_famlabel_'+labelArray[x][0]).removeClass('panel_1_product_famlabel_on');
				$('.panel_1_product_famlabel_'+labelArray[x][0]).addClass('panel_1_product_famlabel_off');
				$('.panel_1_product_label_fam_'+labelArray[x][0]).removeClass('panel_1_product_label_fam_hover');
				$('.panel_1_product_label_fam_'+labelArray[x][0]).removeClass('panel_1_product_label_fam_on');
				$('.panel_1_product_label_fam_'+labelArray[x][0]).addClass('panel_1_product_label_fam_off');
				labelArray[x][3] = 0;
			}
		}
		$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_hover');
		$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_off');
		$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_on');
		$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_hover');
		$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_off');
		$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_on');
		if (panel1FamLabelAutoOpen == 0) {
			labelArray[arrayVal][3] = 1;
		}
	}
	else {
		if (panel1FamLabelNoShowAll == 0) {
			$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_hover');
			$('.panel_1_product_famlabel_'+idVal).removeClass('panel_1_product_famlabel_on');
			$('.panel_1_product_famlabel_'+idVal).addClass('panel_1_product_famlabel_off');
			$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_hover');
			$('.panel_1_product_label_fam_'+idVal).removeClass('panel_1_product_label_fam_on');
			$('.panel_1_product_label_fam_'+idVal).addClass('panel_1_product_label_fam_off');
			labelArray[arrayVal][3] = 0;
		}
	}
	if (panel1FamLabelAutoOpen == 1) {
		for (a=0; a<labelArray.length; a++) {
			if (labelArray[a][9] == idVal && labelArray[a][9] == 0) {
				panel1ProductLabelSelect(a,labelArray[a][0]);
				break;
			}
		}
	}
	else {
		panel1RedrawFilter();
	}
}
function panel1FilterClear(noRelod) {
	if (document.getElementById('panel1FilterField')) {
		document.getElementById('panel1FilterField').value = "";
		if (!noRelod) {
			if (panel1RedrawVar == 1) {
				if (caClearWait == 0) {
					panel1RedrawFilter();
				}
			}
			else if (panel1SimpleVar == 1) {
				panel1SimpleFilter();
			}
			else {
				panel1DynamicFilter();
			}
		}
	}
}
function panel1FilterSearch(isLoad) {
	if (isLoad == 2) {
		if(gLog==1){console.log("panel1FilterSearch loaderToggle state=1");}
		if (panel1RedrawVar != 1) {
			loaderToggle(1);
		}
	}
	panel1ClassFilter();
}
function panel1ClassFilterType(e,isLoad) {
	if(gLog==1){console.log("panel1ClassFilterType - START");}
	var key;
	if(window.event) {key = window.event.keyCode;}
	else {key = e.which;}
	var doThisNow = 0;
	if (p1FilterEveryKey == 1) {
		doThisNow = 1;
	}
	else if(key == 13){
		doThisNow = 1;
	}
	if (doThisNow == 1) {
		if (isLoad == 2) {
			if(gLog==1){console.log("panel1ClassFilterType loaderToggle state=1");}
			if (panel1RedrawVar != 1) {
				loaderToggle(1);
			}
		}
	    if (document.getElementById('panel1FilterField').value != "") {
	   		panel1FilterFieldCurrent = document.getElementById('panel1FilterField').value;
	    }
	    else {
	    	panel1FilterFieldCurrent = "";
	   	}
		panel1ClassFilter();
		return false;
	}
}
function panel1ClassFilter() {
	if(gLog==1){console.log("panel1ClassFilter - START");}
	if (panel1RedrawVar == 1) {
		if (document.getElementById('panel1FilterField')) {
			if (document.getElementById('panel1FilterField').value != "") {
				//var cleanText = document.getElementById('panel1FilterField').value.replace(/[^a-zA-Z0-9 ]/gi,'');
				var cleanText = document.getElementById('panel1FilterField').value;
				if (caFilterMulti == 0) {
					caFilterTextArray.length = 0;
				}
				if (cleanText.indexOf(" ") != -1) {
					var textDumpArr = cleanText.split(" ");
					for (q=0; q<textDumpArr.length; q++) {
						caFilterTextArray.push(textDumpArr[q]);
					}
				}
				else {
					caFilterTextArray.push(cleanText);
				}
				if (caFilterEmpty == 1) {
					document.getElementById('panel1FilterField').value = "";
				}
				if(gLog==1){console.log("panel1ClassFilter - caFilterTextArray",caFilterTextArray);}
			}
		}
		panel1RedrawFilter();
	}
	else {
		lowSearchVal = "";
	    if (document.getElementById('panel1FilterField').value == "" || document.getElementById('panel1FilterField').value == panel1FilterFieldDefault) {
	    	var rawSearchVal = "";
	    }
	    else {
	   		var rawSearchVal = document.getElementById('panel1FilterField').value;
	   	}
		lowSearchVal = rawSearchVal.toLowerCase();
		var lowSearchBaseArray = lowSearchVal.split(" ");
		lowSearchArray[0] = [lowSearchVal,0];
		if (p1SimpFillType == 0) {
			if (classArray[0][5] == 1) {
				for (x=0; x<prodDisplayArray.length; x++) {
					if (rawSearchVal == "") {
						var includeProduct = 1;
					}
					else {
						var includeProduct = 0;
					}
					var lowNameVal = prodDisplayArray[x][1].toLowerCase() + " " + prodDisplayArray[x][2].toLowerCase() + " " + prodDisplayArray[x][3].toLowerCase() + " " + prodDisplayArray[x][16].toLowerCase();
					for (v=0;v<lowSearchArray.length;v++) {
						if (lowNameVal.indexOf(lowSearchArray[v][0]) != -1) {
							includeProduct = 1;
							break;
						}
					}
					if (includeProduct == 1) {
						prodDisplayArray[x][10] = 1;
					}
					else {
						prodDisplayArray[x][9] = 0;
						prodDisplayArray[x][10] = 0;
						window["panel1ProductNameVar"+prodDisplayArray[x][0]] = 0;
					}
				}
			}
			else {
				for (x=0; x<prodDisplayArray.length; x++) {
					prodDisplayArray[x][10] = 1;
				}
				var whatClass = 0;
				for (j=2;j<classArray.length;j++) {
					if (classArray[j][5] == 1) {
						whatClass = classArray[j][0];
						break;
					}
				}
				for (k=0;k<labelArray.length;k++) {
					if (labelArray[k][5] == whatClass && document.getElementById('panel1FilterField').value != "" && document.getElementById('panel1FilterField').value != panel1FilterFieldDefault) {
						var includeLabel = 0;
						var lowLabelVal = labelArray[k][labNIncr].toLowerCase();
						for (v=0;v<lowSearchArray.length;v++) {
							if (lowLabelVal.indexOf(lowSearchArray[v][0]) != -1) {
								includeLabel = 1;
								break;
							}
						}
						if (includeLabel == 1) {
							labelArray[k][3] = 1;
							panel1ProductLabelSelect(k,labelArray[k][0],1);
						}
						else {
							labelArray[k][3] = 0;
							panel1ProductLabelSelect(k,labelArray[k][0],2);
						}
					}
					else {
						labelArray[k][3] = 0;
						panel1ProductLabelSelect(k,labelArray[k][0],2);
					}
				}
			}
		}
		if (panel1SimpleVar == 1) {
			panel1SimpleFilter();
		}
		else {
			panel1DynamicFilter();
		}
	}
}
function panel1FilterTextClear(ind) {
	if(gLog==1){console.log("panel1FilterTextClear - START");}
	if (panel1RedrawVar == 1) {
		if (ind == -1) {
			caFilterTextArray.length = 0;
			if (document.getElementById('panel1FilterField')) {
				document.getElementById("panel1FilterField").value = "";
			}
		}
		else {
			if (caFilterTextArray.length > 1) {
				caFilterTextArray.splice(ind,1);
			}
			else {
				caFilterTextArray.length = 0;
				if (document.getElementById('panel1FilterField')) {
					document.getElementById("panel1FilterField").value = "";
				}
			}
		}
		panel1RedrawFilter();
	}
	else {
		if (document.getElementById('panel1FilterField')) {
			document.getElementById("panel1FilterField").value = "";
		}
		if (panel1SimpleVar == 1) {
			panel1SimpleFilter();
		}
		else {
			panel1DynamicFilter();
		}
	}
}
function clearBreadcrumb() {
	if(gLog==1){console.log("clearBreadcrumb - START");}
	if (document.getElementById('panel1FilterField')) {
		document.getElementById("panel1FilterField").value = "";
	}
	for (m=0;m<labelArray.length;m++) {
		labelArray[m][3] = 0;
	}
	for (m=0;m<famArray.length;m++) {
		famArray[m][5] = 0;
	}
	for (m=0;m<dietArray.length;m++) {
		dietArray[m][3] = 0;
	}
	isaFamLabelOn = 0;
	isaTopLabelOn = 0;
	isaLabelOn = 0;
	panel1BrandLabelOn = 0;
	caFilterTextArray.length = 0;
	p1RedrawDietArray.length = 0;
	if (panel1RedrawVar == 1) {
		panel1RedrawFilter();
	}
	else {
		if (panel1SimpleVar == 1) {
			panel1SimpleFilter();
		}
		else {
			panel1DynamicFilter();
		}
	}
}
function panel1LabelLimit() {
	panel1StopScroll = 1;
	if(gLog==1){console.log("panel1LabelLimit loaderToggle state=1");}
	panel1LabelLimitBase = 100000;
	$("#panel1LabelLimitButton").hide();
	if(gLog==1){console.log("panel1LabelLimit - $('#panel1LabelLimitButton').hide();");}
	setTimeout(function(){
		if (panel1RedrawVar == 1) {
			panel1RedrawFilter();
		}
		else if (panel1SimpleVar == 1) {
			loaderToggle(1);
			panel1SimpleFilter();
		}
		else {
			loaderToggle(1);
			panel1DynamicFilter();
		}
	},200);
}
var theLabelsOn = [];
var theFamLabelsOn = [];
function panel1DynamicFilter(noSel) {
	var theCount = 0;
	if (p1FilterTop == 1) {
		if (enableResize == 2 && filterScrollStop == 0) {
			if(gLog==1){console.log("panel1DynamicFilter SCRL");}
			parent.postMessage("SCRL:",refurl);
		}
		filterScrollStop = 0;
		if (panel1StopScroll == 0) {
			window.scrollTo(0,0);
			document.getElementById('panel0').scrollTop = 0;
		}
	}
	if(gLog==1){console.log("panel1DynamicFilter loaderToggle state=0");}
	loaderToggle(0);
	if(gLog==1){console.log("panel1DynamicFilter START (panel1LabelLimitBase = "+panel1LabelLimitBase+")");}
	var ind = 0;
	labelFilterCrumbArr.length = 0;
	var dubCount = 0;
	p1CurrLabProdArr.length = 0;
	theLabelsOn.length = 0;
	theFamLabelsOn.length = 0;
	var isaLabelOn = 0;
	var isaFamLabelOn = 0;
	if (panel1ParentIDHolder != 0) {
		var foundParentYo = 0;
		for (x=0;x<labelArray.length;x++) {
			if (labelArray[x][3] != 0) {
				foundParentYo = 1;
				break;
			}
		}
		if (foundParentYo == 0) {
			if (document.getElementById('panel1LabelSubheader')) {
				for (j=0; j<parentArray.length; j++) {
					if (parentArray[j][0] == panel1ParentIDHolder) {
						document.getElementById('panel1LabelSubheader').innerHTML = parentArray[j][1];
					}
				}
			}
			for (pc=0; pc<parentChildArray.length; pc++) {
				if (parentChildArray[pc][1] == panel1ParentIDHolder) {
					var thisChildVar = parentChildArray[pc][2];
					var class_a = document.getElementsByClassName("panel_1_child_label_shell_" + thisChildVar);
					for (q = 0; q < class_a.length; q++) {
						class_a[q].style.display = "inline-block";
					}
					for (l=0; l<labelArray.length; l++) {
						if (labelArray[l][8] == thisChildVar) {
							labelArray[l][3] = 1;
						}
					}
				}
			}
		}
	}
	for (m=0;m<labelArray.length;m++) {
		if (labelArray[m][3] == 1) {
			isaLabelOn = 1;
			if (document.getElementById('panel1LabelCrumbShell')) {
				labelFilterCrumbArr[ind]=["label",m,labelArray[m][0],labelArray[m][1]];
				ind++;
			}
			theLabelsOn.push(labelArray[m][0]);
			if(gLog==1){console.log("panel1DynamicFilter - Found Label " + labelArray[m][0]);}
			if (noSel) {
				labelArray[m][3] = 0;
			}
		}
	}
	for (m=0;m<famArray.length;m++) {
		if (famArray[m][5] == 1) {
			isaFamLabelOn = 1;
			if (document.getElementById('panel1LabelCrumbShell')) {
				labelFilterCrumbArr[ind]=["family",m,famArray[m][0],famArray[m][1]];
				ind++;
			}
			theFamLabelsOn.push(famArray[m][0]);
			if(gLog==1){console.log("panel1DynamicFilter - Found FamLabel " + famArray[m][0]);}
			if (noSel) {
				famArray[m][5] = 0;
			}
		}
	}
	if (document.getElementById('panel1LabelCrumbShell')) {
		if (document.getElementById('panel1FilterField').value != "" && document.getElementById('panel1FilterField').value != panel1FilterFieldDefault) {
			labelFilterCrumbArr[ind]=["text",0,0,document.getElementById('panel1FilterField').value];
			ind++;
		}
		if (labelFilterCrumbArr.length) {
			var labelCrumbWrite = "";
			var caCrumbCloseVal = "";
			var caCrumbCloseText = "";
			for (q=0; q<labelFilterCrumbArr.length; q++) {
				if (caCrumbClose == 1) {
					caCrumbCloseVal = " onclick='panel1ProductLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");}' tabindex='0' title=\"" + labelFilterCrumbArr[q][3] + "\"";
					caCrumbCloseText = " onclick='document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();}' tabindex='0' title='" + labelFilterCrumbArr[q][3] + "\"";
				}
				if (labelFilterCrumbArr[q][0] == "label") {
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer'" + caCrumbCloseVal + "><div class='panel_1_crumb_item_inner'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
				else if (labelFilterCrumbArr[q][0] == "family") {
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer'" + caCrumbCloseVal + "><div class='panel_1_crumb_item_inner'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
				else if (labelFilterCrumbArr[q][0] == "text") {
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer'" + caCrumbCloseText + "><div class='panel_1_crumb_item_inner'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
			}
			document.getElementById('panel1LabelCrumbItems').innerHTML = labelCrumbWrite;
			document.getElementById("panel1LabelCrumbShell").style.display="block";
		}
		else{
			document.getElementById('panel1LabelCrumbItems').innerHTML = "";
			document.getElementById("panel1LabelCrumbShell").style.display="none";
			if (crumbHideArr.length) {
				for (x=0; x<crumbHideArr.length; x++) {
					var class_b = document.getElementsByClassName(crumbHideArr[x]);
					for (q = 0; q < class_b.length; q++) {
						class_b[q].style.display = "none";
					}
				}
			}
			if (crumbShowArr.length) {
				for (y=0; y<crumbShowArr.length; y++) {
					var class_c = document.getElementsByClassName(crumbShowArr[y]);
					for (q = 0; q < class_c.length; q++) {
						class_c[q].style.display = "inline-block";
					}
				}
			}
		}
	}
	var countTheseLabels = 0;
	for (b=0;b<prodDisplayArray.length;b++) {
		if (isaFamLabelOn == 1) {
			var famlabelGood = 0;
			for (j=0; j<theFamLabelsOn.length; j++) {
				if (theFamLabelsOn[j] == prodDisplayArray[b][17]) {
					famlabelGood = 1;
					break;
				}
			}
		}
		else {
			famlabelGood = 1;
		}
		if (isaLabelOn == 1) {
			var labelGood = 0;
			var chunkPL = prodDisplayArray[b][19].split(",");
			var chunkBreak = 0;
			for (w=0;w<theLabelsOn.length;w++) {
				for (a=0; a<chunkPL.length; a++) {
					if (chunkPL[a] == theLabelsOn[w]) {
						labelGood = 1;
						chunkBreak = 1;
						break;
					}
				}
				if (chunkBreak == 1) {
					break;
				}
			}
		}
		else {
			var labelGood = 1;
		}
		if (famlabelGood == 1 && labelGood == 1) {
			prodDisplayArray[b][11] = 1;
		}
		else {
			prodDisplayArray[b][11] = 0;
		}
		if (document.getElementById('panel1FilterField').value == "" || document.getElementById('panel1FilterField').value == panel1FilterFieldDefault) {
			prodDisplayArray[b][10] = 1;
		}
		if (prodDisplayArray[b][10] == 1 && prodDisplayArray[b][11] == 1) {
			if (countTheseLabels <= panel1LabelLimitBase) {
				if(gLog==1){console.log("panel1DynamicFilter - Found Product " + prodDisplayArray[b][0]);}
				if (panel1PostLoad == 1) {
					if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[b][0]).style.backgroundImage = "url('" + clientImgBase + prodDisplayArray[b][4] + "')";
						}
					if (document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[b][0]).style.backgroundImage = "url('" + clientImgBase + prodDisplayArray[b][5] + "')";
					}
				}
				if (panel1LabelFilter == 1) {
					if (document.getElementById('panel1ProductName'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductName'+prodDisplayArray[b][0]).style.display = "block";
					}
					if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductBigImg'+prodDisplayArray[b][0]).style.display = "block";
					}
					if (document.getElementById('panel1ProductBigImgDivShell'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductBigImgDivShell'+prodDisplayArray[b][0]).style.display = "block";
					}
					if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductSmImg'+prodDisplayArray[b][0]).style.display = "block";
					}
					if (document.getElementById('panel1ProductSmImgDivShell'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductSmImgDivShell'+prodDisplayArray[b][0]).style.display = "block";
					}
					var class_d = document.getElementsByClassName('prodCartFilterHide_'+prodDisplayArray[b][0]);
					for (q = 0; q < class_d.length; q++) {
						class_d[q].style.display = "inline-block";
						theCount++;
					}
				}
				if (panel1LabelClick == 1) {
					$('#panel1ProductName'+prodDisplayArray[b][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+prodDisplayArray[b][0]).removeClass('panel_1_product_name_off');
					$('#panel1ProductName'+prodDisplayArray[b][0]).addClass('panel_1_product_name_on');
					prodDisplayArray[b][9] = 1;
					window["panel1ProductNameVar"+prodDisplayArray[b][0]] = 1;
				}
				p1CurrLabProdArr[dubCount] = [prodDisplayArray[b][0],b,0,prodDisplayArray[b][1]];
				dubCount++;
			}
			else {
				if (panel1LabelFilter == 1) {
					if (document.getElementById('panel1ProductName'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductName'+prodDisplayArray[b][0]).style.display = "none";
					}
					if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductBigImg'+prodDisplayArray[b][0]).style.display = "none";
					}
					if (document.getElementById('panel1ProductBigImgDivShell'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductBigImgDivShell'+prodDisplayArray[b][0]).style.display = "none";
					}
					if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductSmImg'+prodDisplayArray[b][0]).style.display = "none";
					}
					if (document.getElementById('panel1ProductSmImgDivShell'+prodDisplayArray[b][0])) {
						document.getElementById('panel1ProductSmImgDivShell'+prodDisplayArray[b][0]).style.display = "none";
					}
					var class_e = document.getElementsByClassName('prodCartFilterHide_'+prodDisplayArray[b][0]);
					for (q = 0; q < class_e.length; q++) {
						class_e[q].style.display = "none";
					}
					//$('.prodCartFilterHide_'+prodDisplayArray[b][0]).hide();
				}
				if (panel1LabelClick == 1) {
					$('#panel1ProductName'+prodDisplayArray[b][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+prodDisplayArray[b][0]).removeClass('panel_1_product_name_on');
					$('#panel1ProductName'+prodDisplayArray[b][0]).addClass('panel_1_product_name_off');
					prodDisplayArray[b][9] = 0;
					window["panel1ProductNameVar"+prodDisplayArray[b][0]] = 0;
				}
			}
		}
		else {
			if (panel1LabelFilter == 1) {
				if (document.getElementById('panel1ProductName'+prodDisplayArray[b][0])) {
					document.getElementById('panel1ProductName'+prodDisplayArray[b][0]).style.display = "none";
				}
				if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[b][0])) {
					document.getElementById('panel1ProductBigImg'+prodDisplayArray[b][0]).style.display = "none";
				}
				if (document.getElementById('panel1ProductBigImgDivShell'+prodDisplayArray[b][0])) {
					document.getElementById('panel1ProductBigImgDivShell'+prodDisplayArray[b][0]).style.display = "none";
				}
				if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[b][0])) {
					document.getElementById('panel1ProductSmImg'+prodDisplayArray[b][0]).style.display = "none";
				}
				if (document.getElementById('panel1ProductSmImgDivShell'+prodDisplayArray[b][0])) {
					document.getElementById('panel1ProductSmImgDivShell'+prodDisplayArray[b][0]).style.display = "none";
				}
				var class_f = document.getElementsByClassName('prodCartFilterHide_'+prodDisplayArray[b][0]);
				for (q = 0; q < class_f.length; q++) {
					class_f[q].style.display = "none";
				}
				//$('.prodCartFilterHide_'+prodDisplayArray[b][0]).hide();
			}
			if (panel1LabelClick == 1) {
				$('#panel1ProductName'+prodDisplayArray[b][0]).removeClass('panel_1_product_name_hover');
				$('#panel1ProductName'+prodDisplayArray[b][0]).removeClass('panel_1_product_name_on');
				$('#panel1ProductName'+prodDisplayArray[b][0]).addClass('panel_1_product_name_off');
				prodDisplayArray[b][9] = 0;
				window["panel1ProductNameVar"+prodDisplayArray[b][0]] = 0;
			}
		}
	}
	for (c=0; c<catArray.length; c++) {
		var showCat = 0;
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][10] == 1 && prodDisplayArray[p][11] == 1 && prodDisplayArray[p][8] == catArray[c][0]) {
				showCat = 1;
				break;
			}
		}
		if (showCat == 1) {
			if (document.getElementById('panel1CategoryName'+catArray[c][0])) {
				document.getElementById('panel1CategoryName'+catArray[c][0]).style.display = "block";
			}
			if (document.getElementById('panel1CategoryBigImg'+catArray[c][0])) {
				document.getElementById('panel1CategoryBigImg'+catArray[c][0]).style.display = "block";
			}
			if (document.getElementById('panel1CategoryBigImgDivShell'+catArray[c][0])) {
				document.getElementById('panel1CategoryBigImgDivShell'+catArray[c][0]).style.display = "block";
			}
			if (document.getElementById('panel1CategorySmImg'+catArray[c][0])) {
				document.getElementById('panel1CategorySmImg'+catArray[c][0]).style.display = "block";
			}
			if (document.getElementById('panel1CategorySmImgDivShell'+catArray[c][0])) {
				document.getElementById('panel1CategorySmImgDivShell'+catArray[c][0]).style.display = "block";
			}
			if (document.getElementById('panel1CategoryFamilyName'+catArray[c][0])) {
				document.getElementById('panel1CategoryFamilyName'+catArray[c][0]).style.display = "block";
			}
			var class_g = document.getElementsByClassName('catCartFilterHide_'+catArray[c][0]);
			for (q = 0; q < class_g.length; q++) {
				class_g[q].style.display = "inline-block";
				theCount++;
			}
			//$('.catCartFilterHide_'+catArray[c][0]).show();
		}
		else {
			if (document.getElementById('panel1CategoryName'+catArray[c][0])) {
				document.getElementById('panel1CategoryName'+catArray[c][0]).style.display = "none";
			}
			if (document.getElementById('panel1CategoryBigImg'+catArray[c][0])) {
				document.getElementById('panel1CategoryBigImg'+catArray[c][0]).style.display = "none";
			}
			if (document.getElementById('panel1CategoryBigImgDivShell'+catArray[c][0])) {
				document.getElementById('panel1CategoryBigImgDivShell'+catArray[c][0]).style.display = "none";
			}
			if (document.getElementById('panel1CategorySmImg'+catArray[c][0])) {
				document.getElementById('panel1CategorySmImg'+catArray[c][0]).style.display = "none";
			}
			if (document.getElementById('panel1CategorySmImgDivShell'+catArray[c][0])) {
				document.getElementById('panel1CategorySmImgDivShell'+catArray[c][0]).style.display = "none";
			}
			if (document.getElementById('panel1CategoryFamilyName'+catArray[c][0])) {
				document.getElementById('panel1CategoryFamilyName'+catArray[c][0]).style.display = "none";
			}
			var class_h = document.getElementsByClassName('catCartFilterHide_'+catArray[c][0]);
			for (q = 0; q < class_h.length; q++) {
				class_h[q].style.display = "none";
			}
			//$('.catCartFilterHide_'+catArray[c][0]).hide();
		}
	}
	var isOpenFam = 0;
	$(".panel_1_family_cat_shell").slideUp(100);
	$(".panel_1_family_toggle_on").hide();
	$(".panel_1_family_toggle_off").show();
	for (f=0; f<famArray.length; f++) {
		var showFam = 0;
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][10] == 1 && prodDisplayArray[p][11] == 1 && prodDisplayArray[p][17] == famArray[f][0]) {
				showFam = 1;
				break;
			}
		}
		if (showFam == 1) {
			if (document.getElementById("panel1FamilyToggleShell"+famArray[f][0])) {
				document.getElementById('panel1FamilyToggleShell'+famArray[f][0]).style.display = "block";
			}
			if (document.getElementById("panel1FamilyShellBase"+famArray[f][0])) {
				document.getElementById('panel1FamilyShellBase'+famArray[f][0]).style.display = "inline-block";
			}
			if (document.getElementById('panel1FamilyName'+famArray[f][0])) {
				document.getElementById('panel1FamilyName'+famArray[f][0]).style.display = "block";
			}
			if (document.getElementById('panel1FamilyBigImg'+famArray[f][0])) {
				document.getElementById('panel1FamilyBigImg'+famArray[f][0]).style.display = "block";
			}
			if (document.getElementById('panel1FamilyBigImgDivShell'+famArray[f][0])) {
				document.getElementById('panel1FamilyBigImgDivShell'+famArray[f][0]).style.display = "block";
			}
			if (document.getElementById('panel1FamilySmImg'+famArray[f][0])) {
				document.getElementById('panel1FamilySmImg'+famArray[f][0]).style.display = "block";
			}
			if (document.getElementById('panel1FamilySmImgDivShell'+famArray[f][0])) {
				document.getElementById('panel1FamilySmImgDivShell'+famArray[f][0]).style.display = "block";
			}
			if (document.getElementById('panel1FamilyFamilyName'+famArray[f][0])) {
				document.getElementById('panel1FamilyFamilyName'+famArray[f][0]).style.display = "block";
			}
			if (isOpenFam == 0) {
				$("#panel1FamilyCatShell"+famArray[f][0]).show();
				$("#panel1FamilyToggleOff"+famArray[f][0]).hide();
				$("#panel1FamilyToggleOn"+famArray[f][0]).show();
				p1FamToggleId = famArray[f][0];
				isOpenFam = 1;
			}
		}
		else {
			if (document.getElementById("panel1FamilyToggleShell"+famArray[f][0])) {
				document.getElementById('panel1FamilyToggleShell'+famArray[f][0]).style.display = "none";
			}
			if (document.getElementById("panel1FamilyShellBase"+famArray[f][0])) {
				document.getElementById('panel1FamilyShellBase'+famArray[f][0]).style.display = "none";
			}
			if (document.getElementById('panel1FamilyName'+famArray[f][0])) {
				document.getElementById('panel1FamilyName'+famArray[f][0]).style.display = "none";
			}
			if (document.getElementById('panel1FamilyBigImg'+famArray[f][0])) {
				document.getElementById('panel1FamilyBigImg'+famArray[f][0]).style.display = "none";
			}
			if (document.getElementById('panel1FamilyBigImgDivShell'+famArray[f][0])) {
				document.getElementById('panel1FamilyBigImgDivShell'+famArray[f][0]).style.display = "none";
			}
			if (document.getElementById('panel1FamilySmImg'+famArray[f][0])) {
				document.getElementById('panel1FamilySmImg'+famArray[f][0]).style.display = "none";
			}
			if (document.getElementById('panel1FamilySmImgDivShell'+famArray[f][0])) {
				document.getElementById('panel1FamilySmImgDivShell'+famArray[f][0]).style.display = "none";
			}
			if (document.getElementById('panel1FamilyFamilyName'+famArray[f][0])) {
				document.getElementById('panel1FamilyFamilyName'+famArray[f][0]).style.display = "none";
			}
		}
	}
	if (countTheseLabels > panel1LabelLimitBase) {
		if(document.getElementById("panel1LabelLimitButton")){document.getElementById("panel1LabelLimitButton").style.display = "block";}
		//$("#panel1LabelLimitButton").show();
		if(gLog==1){console.log("panel1DynamicFilter - $('#panel1LabelLimitButton').show();");}
	}
	else {
		if(document.getElementById("panel1LabelLimitButton")){document.getElementById("panel1LabelLimitButton").style.display = "none";}
		//$("#panel1LabelLimitButton").hide();
		if(gLog==1){console.log("panel1DynamicFilter - $('#panel1LabelLimitButton').hide();");}
	}
	panel1LabelLimitBase = panel1LabelLimitVar;
	if (document.getElementById('p1SelProdLabButton')) {
		panel1SelectProdLabel();
	}
	if (document.getElementById('panel1TotalProdCount')) {
		document.getElementById('panel1TotalProdCount').innerHTML = theCount;
	}
	if(gLog==1){console.log("panel1DynamicFilter loaderToggle state=0");}
	loaderToggle(0);
	panel1StopScroll = 0;
}
function panel1SimpleFilter() {
	var theCount = 0;
	$('.brand_holder_area').hide();
	$('.product_holder_area').show();
	if(gLog==1){console.log("panel1SimpleFilter");}
	var ind = 0;
	labelFilterCrumbArr.length = 0;
	p1SimpFillCatArray.length = 0;
	var dubCount = 0;
	p1CurrLabProdArr.length = 0;
	var isaLabelOn = 0;
	var selectAllIsOn = 1;
	for (m=0;m<labelArray.length;m++) {
		if (labelArray[m][3] == 1) {
			isaLabelOn = labelArray[m][0];
			if(gLog==1){console.log("panel1SimpleFilter - Found Label " + labelArray[m][0]);}
			if (document.getElementById('panel1LabelCrumbShell')) {
				labelFilterCrumbArr[ind]=["label",m,labelArray[m][0],labelArray[m][1]];
				ind++;
			}
			break;
		}
	}
	var isaFamLabelOn = 0;
	for (m=0;m<famArray.length;m++) {
		if (famArray[m][5] == 1) {
			isaFamLabelOn = famArray[m][0];
			if(gLog==1){console.log("panel1SimpleFilter - Found FamLabel " + famArray[m][0]);}
			if (document.getElementById('panel1LabelCrumbShell')) {
				labelFilterCrumbArr[ind]=["family",m,famArray[m][0],famArray[m][1]];
				ind++;
			}
			break;
		}
	}
	if (document.getElementById('panel1LabelCrumbShell')) {
		if(gLog==1){console.log("panel1SimpleFilter - panel1FilterField ",document.getElementById('panel1FilterField').value,panel1FilterFieldDefault);}
		if (document.getElementById('panel1FilterField').value != "" && document.getElementById('panel1FilterField').value != panel1FilterFieldDefault) {
			labelFilterCrumbArr[ind]=["text",0,0,document.getElementById('panel1FilterField').value];
			ind++;
		}
		if (labelFilterCrumbArr.length) {
			var labelCrumbWrite = "";
			var caCrumbCloseVal = "";
			var caCrumbCloseText = "";
			for (q=0; q<labelFilterCrumbArr.length; q++) {
				if (caCrumbClose == 1) {
					caCrumbCloseVal = " onclick='panel1ProductLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");}' tabindex='0' title=\"" + labelFilterCrumbArr[q][3] + "\"";
					caCrumbCloseText = " onclick='document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();}' tabindex='0' title='" + labelFilterCrumbArr[q][3] + "\"";
				}
				if (labelFilterCrumbArr[q][0] == "label") {
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer'" + caCrumbCloseVal + "><div class='panel_1_crumb_item_inner'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
				else if (labelFilterCrumbArr[q][0] == "family") {
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer'" + caCrumbCloseVal + "><div class='panel_1_crumb_item_inner'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
				else if (labelFilterCrumbArr[q][0] == "text") {
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer'" + caCrumbCloseText + "><div class='panel_1_crumb_item_inner'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
			}
			document.getElementById('panel1LabelCrumbItems').innerHTML = labelCrumbWrite;
			$("#panel1LabelCrumbShell").show();
		}
		else{
			document.getElementById('panel1LabelCrumbItems').innerHTML = "";
			$("#panel1LabelCrumbShell").hide();
			if (crumbHideArr.length) {
				for (x=0; x<crumbHideArr.length; x++) {
					$("."+crumbHideArr[x]).hide();
				}
			}
			if (crumbShowArr.length) {
				for (y=0; y<crumbShowArr.length; y++) {
					$("."+crumbShowArr[y]).show();
				}
			}
		}
	}
	var countResNum = 0;
	if (p1SimpFillType == 0) {
		$('.prodCartFilterHide').hide();
		for (b=0;b<prodDisplayArray.length;b++) {
			if (isaFamLabelOn != 0) {
				var famlabelGood = 0;
				if (isaFamLabelOn == prodDisplayArray[b][17]) {
					famlabelGood = 1;
					if(gLog==1){console.log("panel1SimpleFilter - FamLabel Product " + prodDisplayArray[b][0]);}
				}
			}
			else {
				famlabelGood = 1;
			}
			if (isaLabelOn != 0) {
				var labelGood = 0;
				var chunkPL = prodDisplayArray[b][19].split(",");
				for (a=0; a<chunkPL.length; a++) {
					if (chunkPL[a] == isaLabelOn) {
						labelGood = 1;
						if(gLog==1){console.log("panel1SimpleFilter - Label Product " + prodDisplayArray[b][0]);}
						break;
					}
				}
			}
			else {
				var labelGood = 1;
			}
			if (famlabelGood == 1 && labelGood == 1) {
				prodDisplayArray[b][11] = 1;
			}
			else {
				prodDisplayArray[b][11] = 0;
			}
			if (document.getElementById('panel1FilterField').value == "" || document.getElementById('panel1FilterField').value == panel1FilterFieldDefault) {
				prodDisplayArray[b][10] = 1;
			}
			if(gLog==1){console.log("panel1SimpleFilter - 10=" + prodDisplayArray[b][10] + " / 11=" + prodDisplayArray[b][11]);}
			if (prodDisplayArray[b][10] == 1 && prodDisplayArray[b][11] == 1) {
				countResNum++;
				if (panel1LabelFilter == 1) {
					if(gLog==1){console.log("panel1SimpleFilter - SHOW prodCartFilterHide_" + prodDisplayArray[b][0]);}
					$('.prodCartFilterHide_'+prodDisplayArray[b][0]).show();
					theCount++;
				}
				if (prodDisplayArray[b][9] == 0) {
					selectAllIsOn = 0;
				}
				p1CurrLabProdArr[dubCount] = [prodDisplayArray[b][0],b,0,prodDisplayArray[b][1]];
				dubCount++;
				if (panel1PostLoad == 1) {
					if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[b][0])) {
						if ($('#panel1ProductBigImgDivBack'+prodDisplayArray[b][0]).hasClass('post_load_on')){}
						else {
							$('#panel1ProductBigImgDivBack'+prodDisplayArray[b][0]).addClass('post_load_on');
							$('#panel1ProductBigImgDivBack'+prodDisplayArray[b][0]).css("background-image", "url('" + clientImgBase + prodDisplayArray[b][4] + "')");
						}
					}
					if (document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[b][0])) {
						if ($('#panel1ProductSmImgDivBack'+prodDisplayArray[b][0]).hasClass('post_load_on')){}
						else {
							$('#panel1ProductSmImgDivBack'+prodDisplayArray[b][0]).addClass('post_load_on');
							$('#panel1ProductSmImgDivBack'+prodDisplayArray[b][0]).css("background-image", "url('" + clientImgBase + prodDisplayArray[b][5] + "')");
						}
					}
				}
			}
		}
	}
	else if (p1SimpFillType == 1) {
		$('.prodCartCatFilterHide').hide();
		for (b=0;b<catArray.length;b++) {
			if (isaFamLabelOn != 0) {
				var famlabelGood = 0;
				if (panel1FamLabelCatLink == 1) {
					for (t=0; t<labelArray.length; t++) {
						if (labelArray[t][16] == isaFamLabelOn) {
							for (q=0;q<prodDisplayArray.length;q++) {
								if (prodDisplayArray[q][8] == catArray[b][0]) {
									for (g=0; g<prodLabelArray.length; g++) {
										if (prodLabelArray[g][1] == prodDisplayArray[q][0] && prodLabelArray[g][2] == labelArray[t][0]) {
											famlabelGood = 1;
											break;
										}
									}
								}
							}
							if (famlabelGood == 1) {
								break;
							}
						}
						if (famlabelGood == 1) {
							break;
						}
					}
					if(gLog==1){console.log("panel1SimpleFilter - panel1FamLabelCatLink found:",isaFamLabelOn,famlabelGood);}
				}
				else {
					if (isaFamLabelOn == catArray[b][2]) {
						famlabelGood = 1;
						if(gLog==1){console.log("panel1SimpleFilter - FamLabel Category " + catArray[b][0]);}
					}
					if(gLog==1){console.log("panel1SimpleFilter - FamLabel Set=",famlabelGood);}
				}
			}
			else {
				famlabelGood = 1;
				if(gLog==1){console.log("panel1SimpleFilter - FamLabel Open");}
			}
			if (isaLabelOn != 0) {
				var labelGood = 0;
				for (q=0;q<prodDisplayArray.length;q++) {
					if (prodDisplayArray[q][8] == catArray[b][0]) {
						var chunkPL = prodDisplayArray[q][19].split(",");
						for (a=0; a<chunkPL.length; a++) {
							if (chunkPL[a] == isaLabelOn) {
								labelGood = 1;
								if(gLog==1){console.log("panel1SimpleFilter - Label Category " + prodDisplayArray[q][0]);}
								break;
							}
						}
						if (labelGood == 1) {
							break;
						}
					}
				}
			}
			else {
				var labelGood = 1;
			}
			if (famlabelGood == 1 && labelGood == 1) {
				countResNum++;
				if(gLog==1){console.log("panel1SimpleFilter - Text Search " + lowSearchVal);}
				if (lowSearchVal == "") {
					var textfiltergood = 1;
				}
				else {
					var textfiltergood = 0;
					var lowNameVal = catArray[b][1].toLowerCase();
					if (lowNameVal.indexOf(lowSearchVal) != -1) {
						textfiltergood = 1;
					}
				}
				if (textfiltergood == 1) {
					$('.prodCartCatFilterHide_'+catArray[b][0]).show();
					theCount++;
					if (catArray[b][6] == 0) {
						selectAllIsOn = 0;
					}
					p1SimpFillCatArray.push(catArray[b][0]);
					if (panel1PostLoad == 1) {
						if (document.getElementById('panel1CategoryBigImgDivBack'+catArray[b][0])) {
							if ($('#panel1CategoryBigImgDivBack'+catArray[b][0]).hasClass('post_load_on')){}
							else {
								$('#panel1CategoryBigImgDivBack'+catArray[b][0]).addClass('post_load_on');
								$('#panel1CategoryBigImgDivBack'+catArray[b][0]).css("background-image", "url('" + clientImgBase + catArray[b][3] + "')");
							}
						}
						if (document.getElementById('panel1CategorySmImgDivBack'+catArray[b][0])) {
							if ($('#panel1CategorySmImgDivBack'+catArray[b][0]).hasClass('post_load_on')){}
							else {
								$('#panel1CategorySmImgDivBack'+catArray[b][0]).addClass('post_load_on');
								$('#panel1CategorySmImgDivBack'+catArray[b][0]).css("background-image", "url('" + clientImgBase + catArray[b][4] + "')");
							}
						}
					}
				}
			}
		}
	}
	if (countResNum != 0) {
		if (document.getElementById('panel1FilterNum')) {
			document.getElementById('panel1FilterNumNum').innerHTML = countResNum;
			document.getElementById('panel1FilterNum').style.display = "block";
		}
	}
	else {
		if (document.getElementById('panel1FilterNum')) {
			document.getElementById('panel1FilterNum').style.display = "none";
		}
	}
	if (p1FilterTop == 1) {
		if (enableResize == 2 && filterScrollStop == 0) {
			if(gLog==1){console.log("panel1SimpleFilter SCRL");}
			parent.postMessage("SCRL:",refurl);
		}
		filterScrollStop = 0;
		$('html,body').scrollTop(0);
		window.scrollTo(0,0);
		document.getElementById('panel0').scrollTop = 0;
	}
	if (document.getElementById('p1SelProdLabButton')) {
		if (selectAllIsOn == 1) {
			if(gLog==1){console.log("panel1SimpleFilter - selectAllIsOn == 1");}
			$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_off');
			$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
			$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_on');
		}
		else {
			if(gLog==1){console.log("panel1SimpleFilter - selectAllIsOn == 0");}
			$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_on');
			$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
			$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_off');
		}
	}
	if (document.getElementById('panel1TotalProdCount')) {
		document.getElementById('panel1TotalProdCount').innerHTML = theCount;
	}
	if(gLog==1){console.log("panel1SimpleFilter loaderToggle state=0");}
	loaderToggle(0);
}
function panel1SelectProdLabel(wasClick) {
	if (wasClick && panel1ProdShopCartNoProd == 1) {
		panel1CatSelectForce(1);
	}
	else {
		for (pl=0; pl<p1CurrLabProdArr.length; pl++) {
			var pls = p1CurrLabProdArr[pl][1];
			p1CurrLabProdArr[pl][2] = prodDisplayArray[pls][9];
		}
		if(gLog==1){console.log("panel1SelectProdLabel (preload) ", p1CurrLabProdArr);}
		if (p1CurrLabProdArr.length) {
			var foundEmAll = 1;
			for (x=0; x<p1CurrLabProdArr.length; x++) {
				if (p1CurrLabProdArr[x][2] == 0) {
					foundEmAll = 0;
				}
			}
		}
		else {
			foundEmAll = 0;
		}
		if (wasClick) {
			if (!p1CurrLabProdArr.length) {
				for (j=0; j<prodDisplayArray.length; j++) {
					p1CurrLabProdArr[j] = [prodDisplayArray[j][0],j,prodDisplayArray[j][9]];
				}
			}
			var oneIsOff = 0;
			for (q=0; q<p1CurrLabProdArr.length; q++) {
				if (p1CurrLabProdArr[q][2] == 0) {
					oneIsOff = 1;
					break;
				}
			}
			if (oneIsOff == 1) {
				for (z=0; z<p1CurrLabProdArr.length; z++) {
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_name_off');
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).addClass('panel_1_product_name_on');
					if (document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]) && $('#panel1ProductBigImg'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck != "_2") {
							var baseStart = baseImg.substr(0,(baseLength-4));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]).src = baseStart + "_2" + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductBigImgDivBack'+p1CurrLabProdArr[z][0]) && $('#panel1ProductBigImgDivBack'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_big_img_div_over_"+p1CurrLabProdArr[z][0]).fadeIn(50);
						$(".panel_1_product_big_img_div_back_"+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_big_img_div_back_off');
						$(".panel_1_product_big_img_div_back_"+p1CurrLabProdArr[z][0]).addClass('panel_1_product_big_img_div_back_on');
					}
					if (document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]) && $('#panel1ProductSmImg'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck != "_2") {
							var baseStart = baseImg.substr(0,(baseLength-4));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]).src = baseStart + "_2" + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductSmImgDivBack'+p1CurrLabProdArr[z][0]) && $('#panel1ProductSmImgDivBack'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_sm_img_div_over_"+p1CurrLabProdArr[z][0]).fadeIn(50);
						$(".panel_1_product_sm_img_div_back_"+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_sm_img_div_back_off');
						$(".panel_1_product_sm_img_div_back_"+p1CurrLabProdArr[z][0]).addClass('panel_1_product_sm_img_div_back_on');
					}
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).removeClass('panel_1_cart_button_hover');
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).removeClass('panel_1_cart_button_off');
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).addClass('panel_1_cart_button_on');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).removeClass('panel_1_multiFilter_l3_prodname_hover');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).removeClass('panel_1_multiFilter_l3_prodname_off');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).addClass('panel_1_multiFilter_l3_prodname_on');
					$('.panel_1_multiFilter_l3_prodname_ion_'+p1CurrLabProdArr[z][0]).show();
					$('.panel_1_multiFilter_l3_prodname_ioff_'+p1CurrLabProdArr[z][0]).hide();
					p1CurrLabProdArr[z][2] = 1;
					var pdaSet = p1CurrLabProdArr[z][1];
					prodDisplayArray[pdaSet][9] = "1";
					window['panel1ProductNameVar'+p1CurrLabProdArr[z][0]] = 1;
				}
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_off');
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
				$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_on');
				$("#p1SelProdLabButtonItalicOff").hide();
				$("#p1SelProdLabButtonItalicOn").show();
			}
			else {
				for (z=0; z<p1CurrLabProdArr.length; z++) {
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_name_on');
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).addClass('panel_1_product_name_off');
					if (document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]) && $('#panel1ProductBigImg'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck == "_2") {
							var baseStart = baseImg.substr(0,(baseLength-6));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]).src = baseStart + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductBigImgDivBack'+p1CurrLabProdArr[z][0]) && $('#panel1ProductBigImgDivBack'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_big_img_div_over_"+p1CurrLabProdArr[z][0]).fadeOut(50);
						$(".panel_1_product_big_img_div_back_"+p1CurrLabProdArr[z][0]).addClass('panel_1_product_big_img_div_back_off');
						$(".panel_1_product_big_img_div_back_"+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_big_img_div_back_on');
					}
					if (document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]) && $('#panel1ProductSmImg'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck == "_2") {
							var baseStart = baseImg.substr(0,(baseLength-6));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]).src = baseStart + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductSmImgDivBack'+p1CurrLabProdArr[z][0]) && $('#panel1ProductSmImgDivBack'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_sm_img_div_over_"+p1CurrLabProdArr[z][0]).fadeOut(50);
						$(".panel_1_product_sm_img_div_back_"+p1CurrLabProdArr[z][0]).addClass('panel_1_product_sm_img_div_back_off');
						$(".panel_1_product_sm_img_div_back_"+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_sm_img_div_back_on');
					}
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).removeClass('panel_1_cart_button_hover');
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).removeClass('panel_1_cart_button_on');
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).addClass('panel_1_cart_button_off');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).removeClass('panel_1_multiFilter_l3_prodname_hover');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).removeClass('panel_1_multiFilter_l3_prodname_on');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).addClass('panel_1_multiFilter_l3_prodname_off');
					$('.panel_1_multiFilter_l3_prodname_ion_'+p1CurrLabProdArr[z][0]).hide();
					$('.panel_1_multiFilter_l3_prodname_ioff_'+p1CurrLabProdArr[z][0]).show();
					p1CurrLabProdArr[z][2] = 0;
					var pdaSet = p1CurrLabProdArr[z][1];
					prodDisplayArray[pdaSet][9] = "0";
					window['panel1ProductNameVar'+p1CurrLabProdArr[z][0]] = 0;
				}
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_on');
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
				$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_off');
				$("#p1SelProdLabButtonItalicOn").hide();
				$("#p1SelProdLabButtonItalicOff").show();
			}
			var prodIDArr = []
			prodCartArray.length = 0;
			for (y=0;y<prodDisplayArray.length;y++) {
				if (prodDisplayArray[y][9] == 1) {
					prodCartArray.push(prodDisplayArray[y][0]);
					prodIDArr.push(prodDisplayArray[y][1]);
				}
			}
			document.getElementById('PROD').value = prodIDArr.toString(",");
			panel1ProdCartDraw();
		}
		else {
			if (foundEmAll == 1) {
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_off');
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
				$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_on');
				$("#p1SelProdLabButtonItalicOff").hide();
				$("#p1SelProdLabButtonItalicOn").show();
			}
			else {
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_on');
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
				$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_off');
				$("#p1SelProdLabButtonItalicOn").hide();
				$("#p1SelProdLabButtonItalicOff").show();
			}
		}
	}
}
function panel1DistanceUpdate(setVal) {
	distanceChangedVal = 1;
	if (setVal) {
		document.getElementById('panel1DistanceDivNum').innerHTML = setVal;
		document.getElementById('panel1DistanceField').value = setVal;
		document.getElementById('distance').value = setVal;
		$(".panel_close_me").hide();
	}
	else {
		document.getElementById('distance').value = document.getElementById('panel1DistanceField').value;
	}
}
function panel1SortUpdate(setVal) {
	sortChangedVal = 1
	if (setVal) {
		document.getElementById('panel1SortField').value = setVal;
		document.getElementById('sort').value = setVal;
		$(".panel_close_me").hide();
		document.getElementById('panel1SortDivNum').innerHTML = sortFieldOptionsArray[setVal][1];
	}
	else {
		document.getElementById('sort').value = document.getElementById('panel1SortField').value;
	}
}
function panel1SortAction(setVal) {
	sortChangedVal = 1
	if (setVal) {
		document.getElementById('panel1SortField').value = setVal;
		document.getElementById('sort').value = setVal;
		$(".panel_close_me").hide();
		document.getElementById('panel1SortDivNum').innerHTML = sortFieldOptionsArray[setVal][1];
		panel1CompileMultiMap();
	}
	else {
		document.getElementById('sort').value = document.getElementById('panel1SortField').value;
	}
}
function panel1CatMenuSelect(setVal) {
	catMenuChangedVal = 1
	document.getElementById('panel1CatMenuHolder').value = setVal;
	for (c=0; c<catArray.length; c++) {
		if (catArray[c][0] == setVal) {
			document.getElementById('panel1CatMenuDisplay').innerHTML = catArray[c][1];
			break;
		}
	}
	$(".panel_close_me").hide();
	if (document.getElementById('panel1ProdMenuHolder')) {
		document.getElementById('panel1ProdMenuDisplay').innerHTML = panel1ProdMenuText;
		document.getElementById('panel1ProdMenuShell').style.display = "block";
		document.getElementById('panel1ProdMenuContent').innerHTML = "";
		var thisWriteVal = "";
		if (panel1ProdMenuAllVar != "") {
			thisWriteVal += "<div class='panel_1_prod_menu_div_filter_item_999999 panel_1_prod_menu_div_filter_item panel_1_prod_menu_div_filter_item_off'";
			if (hoverState==1) {
				thisWriteVal += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter_item_999999\",\"panel_1_prod_menu_div_filter_item\");'";
			}
			thisWriteVal += " onclick='panel1ProdMenuSelect(999999," + panel1ProdGoValueVal + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdMenuSelect(999999," + panel1ProdGoValueVal + ");}' tabindex='0' title=\"" + panel1ProdMenuAllVar + "\">" + panel1ProdMenuAllVar + "<\/div>";
		}
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][8] == setVal) {
				thisWriteVal += "<div class='panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + " panel_1_prod_menu_div_filter_item panel_1_prod_menu_div_filter_item_off'";
				if (hoverState==1) {
					thisWriteVal += " onmouseover='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onfocus='genericButtonOver(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onmouseout='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");' onblur='genericButtonOut(\"panel_1_prod_menu_div_filter_item_" + prodDisplayArray[p][0] + "\",\"panel_1_prod_menu_div_filter_item\");'";
				}
				thisWriteVal += " onclick='panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdMenuSelect(" + prodDisplayArray[p][0] + "," + panel1ProdGoValueVal + ");}' tabindex='0' title=\"" + prodDisplayArray[p][2] + "\">" + prodDisplayArray[p][2] + "<\/div>";
			}
		}
		document.getElementById('panel1ProdMenuContent').innerHTML = thisWriteVal;
	}
}
function panel1SetCatSelect() {
	selIndex = document.getElementById('panel1CatSelect').selectedIndex;
	setVal = document.getElementById('panel1CatSelect').options[selIndex].value;
	document.getElementById('panel1CatMenuHolder').value = setVal;
	if (document.getElementById('panel1ProdSelect') && setVal != 0) {
		document.getElementById('panel1ProdMenuShell').style.display = "block";
		document.panel1Form.panel1ProdSelect.options.length = 0;
		document.panel1Form.panel1ProdSelect.options[0] = new Option(panel1ProdMenuText, 0);
		var optionIndex = 1;
		if (panel1ProdMenuAllVar != "") {
			document.panel1Form.panel1ProdSelect.options[optionIndex] = new Option(panel1ProdMenuAllVar, 999999);
			optionIndex++;
		}
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][8] == setVal) {
				document.panel1Form.panel1ProdSelect.options[optionIndex] = new Option(prodDisplayArray[p][2], prodDisplayArray[p][0]);
				optionIndex++;
			}
		}
	}
	else if (document.getElementById('panel1ProdSelect') && setVal == 0) {
		document.getElementById('panel1ProdMenuShell').style.display = "none";
		document.panel1Form.panel1ProdSelect.options.length = 0;
	}
	if (document.getElementById('panel1ProdSubmitButton')) {
		document.getElementById('panel1ProdSubmitButton').style.display = "none";
	}
}
function panel1ProdMenuSelect(setVal, goVal) {
	prodMenuChangedVal = 1;
	document.getElementById('panel1ProdMenuHolder').value = setVal;
	var foundAddress = 0;
	if (document.getElementById('street').value != "" && document.getElementById('street').value != p1AddFieldValueVar) {
		foundAddress = 1;
	}
	if (document.getElementById('city').value != "") {
		foundAddress = 1;
	}
	if (document.getElementById('state').value != "") {
		foundAddress = 1;
	}
	if (document.getElementById('zip').value != "") {
		foundAddress = 1;
	}
	if (setVal == 999999) {
		var thisProdArr = [];
		document.getElementById('panel1ProdMenuDisplay').innerHTML = panel1ProdMenuAllVar;
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][8] == document.getElementById('panel1CatMenuHolder').value) {
				prodDisplayArray[p][9] = 1;
				window[('panel1ProductNameVar'+prodDisplayArray[p][0])] = 1;
				thisProdArr.push(prodDisplayArray[p][1]);
			}
			else {
				prodDisplayArray[p][9] = 0;
				window[('panel1ProductNameVar'+prodDisplayArray[p][0])] = 0;
			}
		}
		document.getElementById('PROD').value = thisProdArr.toString();
	}
	else {
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][0] == setVal) {
				document.getElementById('panel1ProdMenuDisplay').innerHTML = prodDisplayArray[p][2];
				document.getElementById('PROD').value = prodDisplayArray[p][1];
				prodDisplayArray[p][9] = 1;
				window[('panel1ProductNameVar'+prodDisplayArray[p][0])] = 1;
			}
			else {
				prodDisplayArray[p][9] = 0;
				window[('panel1ProductNameVar'+prodDisplayArray[p][0])] = 0;
			}
		}
	}
	$(".panel_close_me").hide();
	if (goVal == 1) {
		if (foundAddress == 1) {
			panel1SubmitForm();
		}
	}
	else {
		if (document.getElementById('panel1ProdSubmitButton')) {
			if (setVal != 0) {
				document.getElementById('panel1ProdSubmitButton').style.display = "block";
			}
			else {
				document.getElementById('panel1ProdSubmitButton').style.display = "none";
			}
		}
	}
}
function panel1SetProdSelect(goVal) {
	selIndex = document.getElementById('panel1ProdSelect').selectedIndex;
	setVal = document.getElementById('panel1ProdSelect').options[selIndex].value;
	document.getElementById('panel1ProdMenuHolder').value = setVal;
	var foundAddress = 0;
	if (document.getElementById('street').value != "" && document.getElementById('street').value != p1AddFieldValueVar) {
		foundAddress = 1;
	}
	if (document.getElementById('city').value != "") {
		foundAddress = 1;
	}
	if (document.getElementById('state').value != "") {
		foundAddress = 1;
	}
	if (document.getElementById('zip').value != "") {
		foundAddress = 1;
	}
	if (setVal == 999999) {
		var thisProdArr = [];
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][8] == document.getElementById('panel1CatMenuHolder').value) {
				prodDisplayArray[p][9] = 1;
				window[('panel1ProductNameVar'+prodDisplayArray[p][0])] = 1;
				thisProdArr.push(prodDisplayArray[p][1]);
			}
			else {
				prodDisplayArray[p][9] = 0;
				window[('panel1ProductNameVar'+prodDisplayArray[p][0])] = 0;
			}
		}
		document.getElementById('PROD').value = thisProdArr.toString();
	}
	else {
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][0] == setVal) {
				document.getElementById('PROD').value = prodDisplayArray[p][1];
				prodDisplayArray[p][9] = 1;
				window[('panel1ProductNameVar'+prodDisplayArray[p][0])] = 1;
			}
			else {
				prodDisplayArray[p][9] = 0;
				window[('panel1ProductNameVar'+prodDisplayArray[p][0])] = 0;
			}
		}
	}
	if (goVal == 1) {
		if (foundAddress == 1) {
			panel1SubmitForm();
		}
	}
	else {
		if (document.getElementById('panel1ProdSubmitButton')) {
			if (setVal != 0) {
				document.getElementById('panel1ProdSubmitButton').style.display = "block";
			}
			else {
				document.getElementById('panel1ProdSubmitButton').style.display = "none";
			}
		}
	}
}
function panel1SliderControl(slid) {
	for (x=0; x<panel1SliderArray.length; x++) {
		if (x == slid) {
			if (panel1SliderArray[x][3] == 0) {
				$("." + panel1SliderArray[x][0]).slideDown(250);
				$(".panel_1_slider_i_" + x).removeClass(panel1SliderArray[x][2]);
				$(".panel_1_slider_i_" + x).addClass(panel1SliderArray[x][1]);
				panel1SliderArray[x][3] = 1;
			}
			else {
				$("." + panel1SliderArray[x][0]).slideUp(250);
				$(".panel_1_slider_i_" + x).removeClass(panel1SliderArray[x][1]);
				$(".panel_1_slider_i_" + x).addClass(panel1SliderArray[x][2]);
				panel1SliderArray[x][3] = 0;
			}
		}
		else {
			$("." + panel1SliderArray[x][0]).slideUp(100);
			$(".panel_1_slider_i_" + x).removeClass(panel1SliderArray[x][1]);
			$(".panel_1_slider_i_" + x).addClass(panel1SliderArray[x][2]);
			panel1SliderArray[x][3] = 0;
		}
	}
}
function panel1SlideItUp() {
	for (x=0; x<panel1SliderArray.length; x++) {
		$("." + panel1SliderArray[x][0]).slideUp(100);
		$(".panel_1_slider_i_" + x).removeClass(panel1SliderArray[x][1]);
		$(".panel_1_slider_i_" + x).addClass(panel1SliderArray[x][2]);
		panel1SliderArray[x][3] = 0;
	}
}
function panel1MultiButtonClick(iterVar,controlVar) {
	$('.panel_1_multi_button').removeClass('panel_1_multi_button_hover');
	$('.panel_1_multi_button').removeClass('panel_1_multi_button_on');
	$('.panel_1_multi_button').addClass('panel_1_multi_button_off');
	$('#panel1MultiButton'+iterVar).removeClass('panel_1_multi_button_off');
	$('#panel1MultiButton'+iterVar).addClass('panel_1_multi_button_on');
	$('.panel_1_multiFilter_shell').hide();
	$('.panel_1_multiFilter_l1_shell').show();
	$('.panel_1_multiFilter_l2_shell').hide();
	$('.panel_1_multifilter_shell_'+controlVar).show();
	if (document.getElementById('panel1AddressField')){
		$("#panel1AddressField").hide();
		$(".addfield_hider").hide();
	}
}
function panel1MultiBack() {
	if (panel1MultiButHide == 1) {
		for (mfb=0; mfb<MFLButArr.length; mfb++) {
			$('#panel1MultiButton' + MFLButArr[mfb]).show();
		}
	}
	if (document.getElementById('panel1MultiBigImgHolder')) {
		document.getElementById('panel1MultiBigImgHolder').innerHTML = "";
		$('#panel1MultiBigImgHolder').hide();
	}
	if (document.getElementById('panel1MultiSmImgHolder')) {
		document.getElementById('panel1MultiSmImgHolder').innerHTML = "";
		$('#panel1MultiSmImgHolder').hide();
	}
	$('#panel1MultiBackBut').hide();
	$('#panel1MultiFindText').show();
	$('#panel1MultiFindVal').show();
	$('.panel_1_multiFilter_l1_shell').show();
	$('.panel_1_multiFilter_l2_shell').hide();
	if (document.getElementById('panel1AddressField')){
		$("#panel1AddressField").hide();
		$(".addfield_hider").hide();
	}
}
function panel1ChooseFilterL1(fType, fNum, fText, sType, sVal, bigImg, smImg) {
	if(gLog==1){console.log("panel1ChooseFilterL1 loaderToggle state=1");}
	loaderToggle(1);
	if (document.getElementById('panel1AddressField')){
		$("#panel1AddressField").show();
		$(".addfield_hider").show();
	}
	if (document.getElementById('panel1MultiBigImgHolder') && bigImg != "") {
		document.getElementById('panel1MultiBigImgHolder').innerHTML = "<img title=\"" + fText + "\" alt=\"" + fText + "\" id='panel1MultBigImgSet' class='panel_1_multi_big_img_set' src='" + clientImgBase + bigImg + "'>";
		$('#panel1MultiBigImgHolder').show();
	}
	if (document.getElementById('panel1MultiSmImgHolder') && smImg != "") {
		document.getElementById('panel1MultiSmImgHolder').innerHTML = "<img title=\"" + fText + "\" alt=\"" + fText + "\" id='panel1MultSmImgSet' class='panel_1_multi_sm_img_set' src='" + clientImgBase + smImg + "'>";
		$('#panel1MultiSmImgHolder').show();
	}
	setTimeout(function(){
		$.post(controlURL + "multifilterprod.php", { CLIENT : coreClient , FILTER: fType , VALUE : sVal }, function(data){
			var baseResponse = JSON.parse(data);
			if(gLog==1){console.log("panel1ChooseFilterL1 - Response ", baseResponse);}
			if (baseResponse.productNum != 0) {
				var multiFilterProductsTagWrite = "";
				for (mfa=0; mfa<MFL2Arr.length; mfa++) {
					var multiFilterProductsTagTemp = "";
					if (MFL2Arr[mfa][4] == fNum) {
						var mfFoundProd = 0;
						for (mfp=0; mfp<baseResponse.productNum; mfp++) {
							var mfIncProd = 0;
							if (sType == "LABEL") {
								for (mfq=0; mfq<baseResponse.products[mfp].labelCount; mfq++) {
									if (baseResponse.products[mfp].labels[mfq].id == MFL2Arr[mfa][0]) {
										mfIncProd = 1;
										mfFoundProd = 1;
										break;
									}
								}
							}
							else if (sType == "FAMILY") {
								if (MFL2Arr[mfa][0] == baseResponse.products[mfp].famId) {
									mfIncProd = 1;
									mfFoundProd = 1;
								}
							}
							if (mfIncProd == 1) {
								var multiFilterL3ProdHTML = autotextIt(p1TemplateSet.panel1Filter3ProdDiv,"panel1Filter3Prod");
								var multiFilterL3ProdNameTagStart = multiFilterL3ProdHTML.indexOf("<!--FILTERNAME");
								if (multiFilterL3ProdNameTagStart != -1) {
									var multiFilterL3ProdNameTagEnd = multiFilterL3ProdHTML.indexOf(">",multiFilterL3ProdNameTagStart);
									var multiFilterL3ProdNameTagStrip = multiFilterL3ProdHTML.substring(multiFilterL3ProdNameTagStart,(multiFilterL3ProdNameTagEnd+1));
									var baseMultiFilterNameHTMLStart = multiFilterL3ProdHTML.substr(0,multiFilterL3ProdNameTagStart);
									var baseMultiFilterNameHTMLEnd = multiFilterL3ProdHTML.substr((multiFilterL3ProdNameTagEnd+1));
									var multiFilterProdRender = "";
									var multiFilterProdOnSet = " style='display:none;'";
									var multiFilterProdOffSet = "";
									var multiFilterProdIClass = "panel_1_multiFilter_l3_prodname_off";
									for (pc=0; pc<prodCartArray.length; pc++) {
										if (prodCartArray[pc] == baseResponse.products[mfp].id) {
											multiFilterProdOnSet = "";
											multiFilterProdOffSet = " style='display:none;'";
											multiFilterProdIClass = "panel_1_multiFilter_l3_prodname_on";
											break;
										}
									}
									var multiFilterProdOnStart = multiFilterL3ProdNameTagStrip.indexOf(" FNTAWON=");
									var multiFilterProdOnVar = "";
									if (multiFilterProdOnStart != -1) {
										var multiFilterProdOnEnd = multiFilterL3ProdNameTagStrip.indexOf("]",multiFilterProdOnStart);
										var multiFilterProdOnVar = "<i class='fa " + multiFilterL3ProdNameTagStrip.substring((multiFilterProdOnStart+10),(multiFilterProdOnEnd)) + " panel_1_multiFilter_l3_prodname_ion panel_1_multiFilter_l3_prodname_ion_" + baseResponse.products[mfp].id + "'" + multiFilterProdOnSet + "><\/i>";
									}
									var multiFilterProdOffStart = multiFilterL3ProdNameTagStrip.indexOf(" FNTAWOFF=");
									var multiFilterProdOffVar = "";
									if (multiFilterProdOffStart != -1) {
										var multiFilterProdOffEnd = multiFilterL3ProdNameTagStrip.indexOf("]",multiFilterProdOffStart);
										var multiFilterProdOffVar = "<i class='fa " + multiFilterL3ProdNameTagStrip.substring((multiFilterProdOffStart+11),(multiFilterProdOffEnd)) + " panel_1_multiFilter_l3_prodname_ioff panel_1_multiFilter_l3_prodname_ioff_" + baseResponse.products[mfp].id + "'" + multiFilterProdOffSet + "><\/i>";
									}
									multiFilterProdRender += "<div id='panel1MultiFilterL3ProdName" + fNum + "_" + MFL2Arr[mfa][0] + "_" + baseResponse.products[mfp].id + "' class='panel_1_multiFilter_l3_prodname_" + baseResponse.products[mfp].id + " panel_1_multiFilter_l3_prodname " + multiFilterProdIClass + "'";
									if (hoverState==1) {
										multiFilterProdRender += " onmouseover='panel1ButtonHover(\"panel1MultiFilterL3ProdName" + fNum + "_" + MFL2Arr[mfa][0] + "_" + baseResponse.products[mfp].id + "\",\"panel_1_multiFilter_l3_prodname\",1);' onfocus='panel1ButtonHover(\"panel1MultiFilterL3ProdName" + fNum + "_" + MFL2Arr[mfa][0] + "_" + baseResponse.products[mfp].id + "\",\"panel_1_multiFilter_l3_prodname\",1);' onmouseout='panel1ButtonHover(\"panel1MultiFilterL3ProdName" + fNum + "_" + MFL2Arr[mfa][0] + "_" + baseResponse.products[mfp].id + "\",\"panel_1_multiFilter_l3_prodname\",0);' onblur='panel1ButtonHover(\"panel1MultiFilterL3ProdName" + fNum + "_" + MFL2Arr[mfa][0] + "_" + baseResponse.products[mfp].id + "\",\"panel_1_multiFilter_l3_prodname\",0);'";
									}
									multiFilterProdRender += " onclick='panel1ProdCart(" + baseResponse.products[mfp].id + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdCart(" + baseResponse.products[mfp].id + ");}' tabindex='0' title=\"Filter\">" + multiFilterProdOnVar + multiFilterProdOffVar + "<span class='panel_1_multiFilter_l3_prodname_span'>"+baseResponse.products[mfp].name + "<\/span><\/div>";
									multiFilterL3ProdHTML = baseMultiFilterNameHTMLStart + multiFilterProdRender + baseMultiFilterNameHTMLEnd;
								}
								multiFilterProductsTagTemp += multiFilterL3ProdHTML;
							}
						}
						if (mfFoundProd == 1) {
							var multiFilterL3HeadHTML = autotextIt(p1TemplateSet.panel1Filter3HeadDiv,"panel1Filter3Head");
							var multiFilterL3HeadNameTagStart = multiFilterL3HeadHTML.indexOf("<!--FILTERNAME");
							if (multiFilterL3HeadNameTagStart != -1) {
								var multiFilterL3HeadNameTagEnd = multiFilterL3HeadHTML.indexOf(">",multiFilterL3HeadNameTagStart);
								var multiFilterL3HeadNameTagStrip = multiFilterL3HeadHTML.substring(multiFilterL3HeadNameTagStart,(multiFilterL3HeadNameTagEnd+1));
								var baseMultiFilterNameHTMLStart = multiFilterL3HeadHTML.substr(0,multiFilterL3HeadNameTagStart);
								var baseMultiFilterNameHTMLEnd = multiFilterL3HeadHTML.substr((multiFilterL3HeadNameTagEnd+1));
								multiFilterL3HeadHTML = baseMultiFilterNameHTMLStart + "<div id='panel1MultiFilterL3HeadName" + fNum + "_" + MFL2Arr[mfa][0] + "' class='panel_1_multiFilter_l3_headname'>" + MFL2Arr[mfa][1] + "<\/div>" + baseMultiFilterNameHTMLEnd;
							}
							var multiFilterBigImgTagStart = multiFilterL3HeadHTML.indexOf("<!--FILTERBIGIMG");
							if (multiFilterBigImgTagStart != -1) {
								var multiFilterBigImgTagEnd = multiFilterL3HeadHTML.indexOf(">",multiFilterBigImgTagStart);
								var multiFilterBigImgTagStrip = multiFilterL3HeadHTML.substring(multiFilterBigImgTagStart,(multiFilterBigImgTagEnd+1));
								var baseMultiFilterBigImgHTMLStart = multiFilterL3HeadHTML.substr(0,multiFilterBigImgTagStart);
								var baseMultiFilterBigImgHTMLEnd = multiFilterL3HeadHTML.substr((multiFilterBigImgTagEnd+1));
								multiFilterL3HeadHTML = baseMultiFilterBigImgHTMLStart + "<img title=\"" +  MFL2Arr[mflo][1] + "\" alt=\"" +  MFL2Arr[mflo][1] + "\" id='panel1MultiFilterL3BigImg" + fNum + "_" + MFL2Arr[mflo][0] + "' class='panel_1_multiFilter_l3_big_img' src='" + clientImgBase + MFL2Arr[mflo][2] + "'>" + baseMultiFilterBigImgHTMLEnd;
							}
							var multiFilterSmImgTagStart = multiFilterL3HeadHTML.indexOf("<!--FILTERSMIMG");
							if (multiFilterSmImgTagStart != -1) {
								var multiFilterSmImgTagEnd = multiFilterL3HeadHTML.indexOf(">",multiFilterSmImgTagStart);
								var multiFilterSmImgTagStrip = multiFilterL3HeadHTML.substring(multiFilterSmImgTagStart,(multiFilterSmImgTagEnd+1));
								var baseMultiFilterSmImgHTMLStart = multiFilterL3HeadHTML.substr(0,multiFilterSmImgTagStart);
								var baseMultiFilterSmImgHTMLEnd = multiFilterL3HeadHTML.substr((multiFilterSmImgTagEnd+1));
								multiFilterL3HeadHTML = baseMultiFilterSmImgHTMLStart + "<img title=\"" +  MFL2Arr[mflo][1] + "\" alt=\"" +  MFL2Arr[mflo][1] + "\" id='panel1MultiFilterL3SmImg" + fNum + "_" + MFL2Arr[mflo][0] + "' class='panel_1_multiFilter_l3_sm_img' src='" + clientImgBase + MFL2Arr[mflo][3] + "'>" + baseMultiFilterSmImgHTMLEnd;
							}
							multiFilterProductsTagTemp = multiFilterL3HeadHTML + multiFilterProductsTagTemp;
							multiFilterProductsTagWrite += "<div class='panel_1_multiFilter_l3_products_shell'><div class='panel_1_multiFilter_l3_products_inner'>" + multiFilterProductsTagTemp + "<\/div><\/div>";
						}
					}
				}
				document.getElementById('panel1MultiFilterL3Div' + fNum).innerHTML = multiFilterProductsTagWrite;
			}
			else {
				document.getElementById('panel1MultiFilterL3Div' + fNum).innerHTML = "<span class='panel1MultiFilterL3NoProd'>We were unable to find any products.</span>";
			}
			if (document.getElementById('panel1MultiFilterL2Value' + fNum)) {
				var fSub = "";
				if (fType == "FAMILY") {
					fSub = " products";
				}
				if(document.getElementById('panel1MultiFilterL2Value' + fNum)){document.getElementById('panel1MultiFilterL2Value' + fNum).innerHTML = fText + fSub};
				if(document.getElementById('panel1MultiFilterTwoL2Value' + fNum)){document.getElementById('panel1MultiFilterTwoL2Value' + fNum).innerHTML = fText + fSub};
			}
			if (panel1MultiButHide == 1) {
				for (mfb=0; mfb<MFLButArr.length; mfb++) {
					$('#panel1MultiButton' + MFLButArr[mfb]).hide();
				}
			}
			$('#panel1MultiBackBut').show();
			$('#panel1MultiFindText').hide();
			$('#panel1MultiFindVal').hide();
			$('#panel1MultiFilterL1Shell' + fNum).hide();
			$('#panel1MultiFilterL2Shell' + fNum).show();
			if (p1FilterTop == 1) {
				if (enableResize == 2 && filterScrollStop == 0) {
					if(gLog==1){console.log("panel1ChooseFilterL1 SCRL");}
					parent.postMessage("SCRL:",refurl);
				}
				filterScrollStop = 0;
				$('html,body').scrollTop(0);
				window.scrollTo(0,0);
				document.getElementById('panel0').scrollTop = 0;
			}
			if(gLog==1){console.log("panel1ChooseFilterL1 loaderToggle state=0");}
			loaderToggle(0);
		});
	},1000);
}
function panel1ProdCart(oneProd) {
	if(gLog==1){console.log("panel1ProdCart - prodCartArray (before): " + prodCartArray.toString(","));}
	if (oneProd) {
		var isInCart = 0;
		var whatIndex = 0;
		for (z=0;z<prodDisplayArray.length;z++) {
			if (prodDisplayArray[z][0] == oneProd) {
				whatIndex = z;
				break;
			}
		}
		for (x=0;x<prodCartArray.length; x++) {
			if (prodCartArray[x] == prodDisplayArray[whatIndex][0]) {
				isInCart = 1;
				break;
			}
		}
		if (isInCart == 0) {
			prodCartArray.push(prodDisplayArray[whatIndex][0]);
			$('#panel1CartButton'+prodDisplayArray[whatIndex][0]).removeClass('panel_1_cart_button_hover');
			$('#panel1CartButton'+prodDisplayArray[whatIndex][0]).removeClass('panel_1_cart_button_off');
			$('#panel1CartButton'+prodDisplayArray[whatIndex][0]).addClass('panel_1_cart_button_on');
			$('.panel_1_multiFilter_l3_prodname_'+prodDisplayArray[whatIndex][0]).removeClass('panel_1_multiFilter_l3_prodname_hover');
			$('.panel_1_multiFilter_l3_prodname_'+prodDisplayArray[whatIndex][0]).removeClass('panel_1_multiFilter_l3_prodname_off');
			$('.panel_1_multiFilter_l3_prodname_'+prodDisplayArray[whatIndex][0]).addClass('panel_1_multiFilter_l3_prodname_on');
			$('.panel_1_multiFilter_l3_prodname_ion_'+prodDisplayArray[whatIndex][0]).show();
			$('.panel_1_multiFilter_l3_prodname_ioff_'+prodDisplayArray[whatIndex][0]).hide();
			prodDisplayArray[whatIndex][9] = 1;
			window[('panel1ProductNameVar'+prodDisplayArray[whatIndex][0])] = 1;
		}
		else {
			panel1ProdCartRemove(oneProd);
		}
	}
	else {
		for (z=0;z<prodDisplayArray.length;z++) {
			var isInCart = 0;
			if (prodDisplayArray[z][9] == 1) {
				for (x=0;x<prodCartArray.length; x++) {
					if (prodCartArray[x] == prodDisplayArray[z][0]) {
						isInCart = 1;
						break;
					}
				}
				if (isInCart == 0) {
					prodCartArray.push(prodDisplayArray[z][0]);
					$('#panel1CartButton'+prodDisplayArray[z][0]).removeClass('panel_1_cart_button_hover');
					$('#panel1CartButton'+prodDisplayArray[z][0]).removeClass('panel_1_cart_button_off');
					$('#panel1CartButton'+prodDisplayArray[z][0]).addClass('panel_1_cart_button_on');
					prodDisplayArray[z][9] = 1;
					window[('panel1ProductNameVar'+prodDisplayArray[z][0])] = 1;
				}
			}
		}
	}
	if(gLog==1){console.log("panel1ProdCart - prodCartArray: " + prodCartArray.toString(","));}
	panel1ProdCartDraw();
}
function panel1ProdCartRemove(whatID) {
	closeGroupModal();
	var catID = 0;
	if (whatID) {
		var tempCartArray = [];
		for (x=0;x<prodCartArray.length;x++) {
			if (prodCartArray[x] != whatID) {
				tempCartArray.push(prodCartArray[x]);
			}
			else {
				var thisP = -1;
				for (p=0; p<prodDisplayArray.length; p++) {
					if (prodDisplayArray[p][0] == whatID) {
						thisP = p;
						break;
					}
				}
				for (c=0; c<catArray.length; c++) {
					if (catArray[c][0] == prodDisplayArray[thisP][8]) {
						catID = catArray[c][0];
					}
					if (catArray[c][0] == prodDisplayArray[thisP][8] && catArray[c][9] == 0) {
						if (document.getElementById('panel1CategoryBigImgDivBack'+catArray[c][0])) {
							$(".panel_1_category_big_img_div_over_"+catArray[c][0]).fadeOut(50);
							$(".panel_1_category_big_img_div_back_"+catArray[c][0]).removeClass('panel_1_category_big_img_div_back_on');
							$(".panel_1_category_big_img_div_back_"+catArray[c][0]).addClass('panel_1_category_big_img_div_back_off');
							$(".panel_1_category_big_img_div_shell_"+catArray[c][0]).addClass('img_replace_active');
							$(".panel_1_category_big_img_div_back_"+catArray[c][0]).addClass('img_replace_active');
							$(".panel_1_category_big_img_div_back_"+catArray[c][0]).removeClass('img_replace_active_static');
							$(".panel_1_category_big_img_div_shell_"+catArray[c][0]).removeClass('img_replace_active_static');
						}
						if (document.getElementById('panel1CategorySmImgDivBack'+catArray[c][0])) {
							$(".panel_1_category_sm_img_div_over_"+catArray[c][0]).fadeOut(50);
							$(".panel_1_category_sm_img_div_back_"+catArray[c][0]).removeClass('panel_1_category_sm_img_div_back_on');
							$(".panel_1_category_sm_img_div_back_"+catArray[c][0]).addClass('panel_1_category_sm_img_div_back_off');
							$(".panel_1_category_sm_img_div_shell_"+catArray[c][0]).addClass('img_replace_active');
							$(".panel_1_category_sm_img_div_back_"+catArray[c][0]).addClass('img_replace_active');
							$(".panel_1_category_sm_img_div_back_"+catArray[c][0]).removeClass('img_replace_active_static');
							$(".panel_1_category_sm_img_div_shell_"+catArray[c][0]).removeClass('img_replace_active_static');
						}
						window['panel1CategoryNameVar'+catArray[c][0]] == 0;
						catArray[c][6] = 0;
						break;
					}
				}
				if (document.getElementById('panel1ProductBigImgDivBack'+whatID)) {
					$(".panel_1_product_big_img_div_over_"+whatID).fadeOut(50);
					$(".panel_1_product_big_img_div_back_"+whatID).addClass('panel_1_product_big_img_div_back_off');
					$(".panel_1_product_big_img_div_back_"+whatID).removeClass('panel_1_product_big_img_div_back_on');
					$(".panel_1_product_big_img_div_shell_"+whatID).addClass('img_replace_active');
					$(".panel_1_product_big_img_div_back_"+whatID).addClass('img_replace_active');
					$(".panel_1_product_big_img_div_back_"+whatID).removeClass('img_replace_active_static');
					$(".panel_1_product_big_img_div_shell_"+whatID).removeClass('img_replace_active_static');
				}
				if (document.getElementById('panel1ProductSmImgDivBack'+whatID)) {
					$(".panel_1_product_sm_img_div_over_"+whatID).fadeOut(50);
					$(".panel_1_product_sm_img_div_back_"+whatID).addClass('panel_1_product_sm_img_div_back_off');
					$(".panel_1_product_sm_img_div_back_"+whatID).removeClass('panel_1_product_sm_img_div_back_on');
					$(".panel_1_product_sm_img_div_shell_"+whatID).addClass('img_replace_active');
					$(".panel_1_product_sm_img_div_back_"+whatID).addClass('img_replace_active');
					$(".panel_1_product_sm_img_div_back_"+whatID).removeClass('img_replace_active_static');
					$(".panel_1_product_sm_img_div_shell_"+whatID).removeClass('img_replace_active_static');
				}
				$("#productName"+whatID).removeClass("panel_1_product_name_on");
				$("#productName"+whatID).removeClass("panel_1_product_name_hover");
				$("#productName"+whatID).addClass("panel_1_product_name_off");
				$("#productBigImg"+whatID).removeClass("panel_1_product_big_img_on");
				$("#productBigImg"+whatID).removeClass("panel_1_product_big_img_hover");
				$("#productBigImg"+whatID).addClass("panel_1_product_big_img_off");
				$("#productBigImgLink"+whatID).removeClass("panel_1_product_big_img_link_on");
				$("#productBigImgLink"+whatID).removeClass("panel_1_product_big_img_link_hover");
				$("#productBigImgLink"+whatID).addClass("panel_1_product_big_img_link_off");
				$("#productSmImg"+whatID).removeClass("panel_1_product_sm_img_on");
				$("#productSmImg"+whatID).removeClass("panel_1_product_sm_img_hover");
				$("#productSmImg"+whatID).addClass("panel_1_product_sm_img_off");
				$("#productSmImgLink"+whatID).removeClass("panel_1_product_sm_img_link_on");
				$("#productSmImgLink"+whatID).removeClass("panel_1_product_sm_img_link_hover");
				$("#productSmImgLink"+whatID).addClass("panel_1_product_sm_img_link_off");
				$('#panel1CartButton'+prodCartArray[x]).removeClass('panel_1_cart_button_hover');
				$('#panel1CartButton'+prodCartArray[x]).removeClass('panel_1_cart_button_on');
				$('#panel1CartButton'+prodCartArray[x]).addClass('panel_1_cart_button_off');
				$('#panel1CartButton'+prodCartArray[x]).removeClass('panel_1_cart_button_hover');
				$('#panel1CartButton'+prodCartArray[x]).removeClass('panel_1_cart_button_on');
				$('#panel1CartButton'+prodCartArray[x]).addClass('panel_1_cart_button_off');
				$('.panel_1_multiFilter_l3_prodname_'+prodCartArray[x]).removeClass('panel_1_multiFilter_l3_prodname_hover');
				$('.panel_1_multiFilter_l3_prodname_'+prodCartArray[x]).removeClass('panel_1_multiFilter_l3_prodname_on');
				$('.panel_1_multiFilter_l3_prodname_'+prodCartArray[x]).addClass('panel_1_multiFilter_l3_prodname_off');
				$('.panel_1_multiFilter_l3_prodname_ion_'+prodCartArray[x]).hide();
				$('.panel_1_multiFilter_l3_prodname_ioff_'+prodCartArray[x]).show();
				for (z=0; z<prodDisplayArray.length; z++) {
					if (prodDisplayArray[z][0] == prodCartArray[x]) {
						$("#panel1ProductName" + prodDisplayArray[z][0]).removeClass("panel_1_product_name_hover");
						$("#panel1ProductName" + prodDisplayArray[z][0]).removeClass("panel_1_product_name_on");
						$("#panel1ProductName" + prodDisplayArray[z][0]).addClass("panel_1_product_name_off");
						if (document.getElementById("panel1CatModalProd" + prodDisplayArray[z][0])) {
							$("#panel1CatModalProd" + prodDisplayArray[z][0]).removeClass('panel_1_cat_modal_prod_hover_off');
							$("#panel1CatModalProd" + prodDisplayArray[z][0]).removeClass('panel_1_cat_modal_prod_hover_on');
							$("#panel1CatModalProd" + prodDisplayArray[z][0]).addClass('panel_1_cat_modal_prod_off');
							$("#panel1CatModalProd" + prodDisplayArray[z][0]).removeClass('panel_1_cat_modal_prod_on');
						}
						if (document.getElementById("panel1CatModalMobProd" + prodDisplayArray[z][0])) {
							$("#panel1CatModalMobProd" + prodDisplayArray[z][0]).removeClass('panel_1_cat_modal_mob_prod_hover_off');
							$("#panel1CatModalMobProd" + prodDisplayArray[z][0]).removeClass('panel_1_cat_modal_mob_prod_hover_on');
							$("#panel1CatModalMobProd" + prodDisplayArray[z][0]).addClass('panel_1_cat_modal_mob_prod_off');
							$("#panel1CatModalMobProd" + prodDisplayArray[z][0]).removeClass('panel_1_cat_modal_mob_prod_on');
						}
						if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[z][0]) && $('#panel1ProductBigImg'+prodDisplayArray[z][0]).hasClass('img_replace_active')) {
							var baseImg = document.getElementById('panel1ProductBigImg'+prodDisplayArray[z][0]).src;
							var baseLength = baseImg.length;
							var baseCheck = baseImg.substr((baseLength-6),2);
							if (baseCheck == "_2") {
								var baseStart = baseImg.substr(0,(baseLength-6));
								var baseEnd = baseImg.substr((baseLength-4),baseLength);
								document.getElementById('panel1ProductBigImg'+prodDisplayArray[z][0]).src = baseStart + baseEnd;
							}
						}
						if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[z][0]) && $('#panel1ProductSmImg'+prodDisplayArray[z][0]).hasClass('img_replace_active')) {
							var baseImg = document.getElementById('panel1ProductSmImg'+prodDisplayArray[z][0]).src;
							var baseLength = baseImg.length;
							var baseCheck = baseImg.substr((baseLength-6),2);
							if (baseCheck == "_2") {
								var baseStart = baseImg.substr(0,(baseLength-6));
								var baseEnd = baseImg.substr((baseLength-4),baseLength);
								document.getElementById('panel1ProductSmImg'+prodDisplayArray[z][0]).src = baseStart + baseEnd;
							}
						}
						prodDisplayArray[z][9] = 0;
						window[('panel1ProductNameVar'+prodDisplayArray[z][0])] = 0;
						break;
					}
				}
			}
		}
		prodCartArray.length = 0;
		for (y=0;y<tempCartArray.length;y++) {
			prodCartArray[y] = tempCartArray[y];
		}
	}
	else {
		for (c=0; c<catArray.length; c++) {
			if (document.getElementById('panel1CategoryBigImgDivBack'+catArray[c][0])) {
				$(".panel_1_category_big_img_div_over_"+catArray[c][0]).fadeOut(50);
				$(".panel_1_category_big_img_div_back_"+catArray[c][0]).removeClass('panel_1_category_big_img_div_back_on');
				$(".panel_1_category_big_img_div_back_"+catArray[c][0]).addClass('panel_1_category_big_img_div_back_off');
				$(".panel_1_category_big_img_div_shell_"+catArray[c][0]).addClass('img_replace_active');
				$(".panel_1_category_big_img_div_back_"+catArray[c][0]).addClass('img_replace_active');
				$(".panel_1_category_big_img_div_back_"+catArray[c][0]).removeClass('img_replace_active_static');
				$(".panel_1_category_big_img_div_shell_"+catArray[c][0]).removeClass('img_replace_active_static');
			}
			if (document.getElementById('panel1CategorySmImgDivBack'+catArray[c][0])) {
				$(".panel_1_category_sm_img_div_over_"+catArray[c][0]).fadeOut(50);
				$(".panel_1_category_sm_img_div_back_"+catArray[c][0]).removeClass('panel_1_category_sm_img_div_back_on');
				$(".panel_1_category_sm_img_div_back_"+catArray[c][0]).addClass('panel_1_category_sm_img_div_back_off');
				$(".panel_1_category_sm_img_div_shell_"+catArray[c][0]).addClass('img_replace_active');
				$(".panel_1_category_sm_img_div_back_"+catArray[c][0]).addClass('img_replace_active');
				$(".panel_1_category_sm_img_div_back_"+catArray[c][0]).removeClass('img_replace_active_static');
				$(".panel_1_category_sm_img_div_shell_"+catArray[c][0]).removeClass('img_replace_active_static');
			}
			catArray[c][6] = 0;
			window['panel1CategoryNameVar'+catArray[c][0]] == 0;
		}
		for (x=0;x<prodDisplayArray.length;x++) {
			if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[x][0])) {
				$(".panel_1_product_big_img_div_over_"+prodDisplayArray[x][0]).fadeOut(50);
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_big_img_div_back_off');
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_big_img_div_back_on');
				$(".panel_1_product_big_img_div_shell_"+prodDisplayArray[x][0]).addClass('img_replace_active');
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).addClass('img_replace_active');
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).removeClass('img_replace_active_static');
				$(".panel_1_product_big_img_div_shell_"+prodDisplayArray[x][0]).removeClass('img_replace_active_static');
			}
			if (document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[x][0])) {
				$(".panel_1_product_sm_img_div_over_"+prodDisplayArray[x][0]).fadeOut(50);
				$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_sm_img_div_back_off');
				$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_sm_img_div_back_on');
				$(".panel_1_product_sm_img_div_shell_"+prodDisplayArray[x][0]).addClass('img_replace_active');
				$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).addClass('img_replace_active');
				$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).removeClass('img_replace_active_static');
				$(".panel_1_product_sm_img_div_shell_"+prodDisplayArray[x][0]).removeClass('img_replace_active_static');
			}
			$("#productName"+prodDisplayArray[x][0]).removeClass("panel_1_product_name_on");
			$("#productName"+prodDisplayArray[x][0]).removeClass("panel_1_product_name_hover");
			$("#productName"+prodDisplayArray[x][0]).addClass("panel_1_product_name_off");
			$("#productBigImg"+prodDisplayArray[x][0]).removeClass("panel_1_product_big_img_on");
			$("#productBigImg"+prodDisplayArray[x][0]).removeClass("panel_1_product_big_img_hover");
			$("#productBigImg"+prodDisplayArray[x][0]).addClass("panel_1_product_big_img_off");
			$("#productBigImgLink"+prodDisplayArray[x][0]).removeClass("panel_1_product_big_img_link_on");
			$("#productBigImgLink"+prodDisplayArray[x][0]).removeClass("panel_1_product_big_img_link_hover");
			$("#productBigImgLink"+prodDisplayArray[x][0]).addClass("panel_1_product_big_img_link_off");
			$("#productSmImg"+prodDisplayArray[x][0]).removeClass("panel_1_product_sm_img_on");
			$("#productSmImg"+prodDisplayArray[x][0]).removeClass("panel_1_product_sm_img_hover");
			$("#productSmImg"+prodDisplayArray[x][0]).addClass("panel_1_product_sm_img_off");
			$("#productSmImgLink"+prodDisplayArray[x][0]).removeClass("panel_1_product_sm_img_link_on");
			$("#productSmImgLink"+prodDisplayArray[x][0]).removeClass("panel_1_product_sm_img_link_hover");
			$("#productSmImgLink"+prodDisplayArray[x][0]).addClass("panel_1_product_sm_img_link_off");
			$('#panel1CartButton'+prodDisplayArray[x][0]).removeClass('panel_1_cart_button_hover');
			$('#panel1CartButton'+prodDisplayArray[x][0]).removeClass('panel_1_cart_button_on');
			$('#panel1CartButton'+prodDisplayArray[x][0]).addClass('panel_1_cart_button_off');
			$('#panel1CartButton'+prodDisplayArray[x][0]).removeClass('panel_1_cart_button_hover');
			$('#panel1CartButton'+prodDisplayArray[x][0]).removeClass('panel_1_cart_button_on');
			$('#panel1CartButton'+prodDisplayArray[x][0]).addClass('panel_1_cart_button_off');
			$('.panel_1_multiFilter_l3_prodname_'+prodDisplayArray[x][0]).removeClass('panel_1_multiFilter_l3_prodname_hover');
			$('.panel_1_multiFilter_l3_prodname_'+prodDisplayArray[x][0]).removeClass('panel_1_multiFilter_l3_prodname_on');
			$('.panel_1_multiFilter_l3_prodname_'+prodDisplayArray[x][0]).addClass('panel_1_multiFilter_l3_prodname_off');
			$('.panel_1_multiFilter_l3_prodname_ion_'+prodDisplayArray[x][0]).hide();
			$('.panel_1_multiFilter_l3_prodname_ioff_'+prodDisplayArray[x][0]).show();
			$("#panel1ProductName" + prodDisplayArray[x][0]).removeClass("panel_1_product_name_hover");
			$("#panel1ProductName" + prodDisplayArray[x][0]).removeClass("panel_1_product_name_on");
			$("#panel1ProductName" + prodDisplayArray[x][0]).addClass("panel_1_product_name_off");
			if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]) && $('#panel1ProductBigImg'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]) && $('#panel1ProductSmImg'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]).src = baseStart + baseEnd;
				}
			}
			prodDisplayArray[x][9] = 0;
			window[('panel1ProductNameVar'+prodDisplayArray[x][0])] = 0;
		}
		prodCartArray.length = 0;
		p1CurrLabProdArr.length = 0;
		setTimeout(function(){$("#panel1ProdShopCartShell").hide();},1000);
	}
	var wholeCat = 0;
	var someCat = 0;
	if (catID != 0) {
		for (q=0; q<prodDisplayArray.length; q++) {
			if (prodDisplayArray[q][8] == catID) {
				wholeCat++;
				if (prodDisplayArray[q][9] == 1) {
					someCat++;
				}
			}
		}
		for (x=0; x<catArray.length; x++) {
			if (catArray[x][0] == catID) {
				if (someCat != 0) {
					catArray[x][9] = 1;
				}
				else {
					catArray[x][9] = 0;
				}
				if(gLog==1){console.log("panel1ProdCartRemove - catArray["+x+"][9]="+catArray[x][9]);}
			}
		}
	}
	if (wholeCat == someCat && (wholeCat+someCat != 0)) {
		if(gLog==1){console.log("panel1ProdCartRemove - wholeCat==someCat",catID);}
		if (document.getElementById("panel1CatModalProdAll" + catID)) {
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_on');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_off');
			$("#panel1CatModalProdAll" + catID).addClass('panel_1_cat_modal_prod_all_on');
		}
		if (document.getElementById("panel1CatModalMobProdAll" + catID)) {
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_on');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_off');
			$("#panel1CatModalMobProdAll" + catID).addClass('panel_1_cat_modal_mob_prod_all_on');
		}
	}
	else {
		if(gLog==1){console.log("panel1ProdCartRemove - wholeCat!=someCat",catID);}
		if (document.getElementById("panel1CatModalProdAll" + catID)) {
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_on');
			$("#panel1CatModalProdAll" + catID).addClass('panel_1_cat_modal_prod_all_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_on');
		}
		if (document.getElementById("panel1CatModalMobProdAll" + catID)) {
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_on');
			$("#panel1CatModalMobProdAll" + catID).addClass('panel_1_cat_modal_mob_prod_all_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_on');
		}
	}
	if (someCat != 0) {
		if(gLog==1){console.log("panel1ProdCartRemove - someCat!=0",catID);}
		if (document.getElementById('panel1CategoryBigImgDivBack'+catID)) {
			$(".panel_1_category_big_img_div_over_"+catID).fadeIn(50);
			$(".panel_1_category_big_img_div_back_"+catID).removeClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+catID).addClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+catID)) {
			$(".panel_1_category_sm_img_div_over_"+catID).fadeIn(50);
			$(".panel_1_category_sm_img_div_back_"+catID).removeClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+catID).addClass('panel_1_category_sm_img_div_back_on');
		}
	}
	else {
		if(gLog==1){console.log("panel1ProdCartRemove - someCat==0",catID);}
		if (document.getElementById('panel1CategoryBigImgDivBack'+catID)) {
			$(".panel_1_category_big_img_div_over_"+catID).fadeOut(50);
			$(".panel_1_category_big_img_div_back_"+catID).addClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+catID).removeClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+catID)) {
			$(".panel_1_category_sm_img_div_over_"+catID).fadeOut(50);
			$(".panel_1_category_sm_img_div_back_"+catID).addClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+catID).removeClass('panel_1_category_sm_img_div_back_on');
		}
	}
	if(gLog==1){console.log("panel1ProdCartRemove - prodCartArray: " + prodCartArray.toString(","));}
	if (panel1RedrawVar == 1) {
		caRedrawSelectAll();
		panel1ProdCartDraw();
	}
	else {
		panel1SelectProdLabel();
		panel1ProdCartDraw();
	}
	if (prodGroupArray.length) {
		redrawGroupDraw();
	}
}
function panel1ProdCartDraw() {
	if(gLog==1){console.log("panel1ProdCartDraw - prodCartArray: " + prodCartArray.toString(","));}
	var writeHTML = "";
	var cartCatBadgeArr = [];
	var cartLabelBadgeArr = [];
	panel1ProdCartCatArray.length = 0;
	panel1ProdCartFamArray.length = 0;
	var prodClone = prodDisplayArray.slice(0);
	if (panel1ProdShopCartCat == 1) {
		sortCol(prodClone,8);
	}
	else if (panel1ProdShopCartFam == 1) {
		sortCol(prodClone,17);
	}
	var startCat = 0;
	var startFam = 0;
	var prodCartHeadHTML = autotextIt(p1TemplateSet.panel1ProductCartHead,"panel1ProductCartHead");
	if (prodCartHeadHTML != "") {
		var clearButtonTagStart = prodCartHeadHTML.indexOf("<!--CLEARBUTTON");
		if (clearButtonTagStart != -1) {
			var clearButtonTagEnd = prodCartHeadHTML.indexOf(">",clearButtonTagStart);
			var clearButtonTagStrip = prodCartHeadHTML.substring(clearButtonTagStart,(clearButtonTagEnd+1));
			var clearButtonHTMLStart = prodCartHeadHTML.substr(0,clearButtonTagStart);
			var clearButtonHTMLEnd = prodCartHeadHTML.substr((clearButtonTagEnd+1));
			var clearButtonRender = "";
			var clearButtonValueStart = clearButtonTagStrip.indexOf(" VALUE=");
			if (clearButtonValueStart != -1) {
				var clearButtonValueEnd = clearButtonTagStrip.indexOf("]",clearButtonValueStart);
				var clearButtonValueVar = clearButtonTagStrip.substring((clearButtonValueStart+8),(clearButtonValueEnd));
			}
			else {
				var clearButtonValueVar = "CLEAR";
			}
			var clearButtonItalicStart = clearButtonTagStrip.indexOf(" FNTAW=");
			if (clearButtonItalicStart != -1) {
				var clearButtonItalicEnd = clearButtonTagStrip.indexOf("]",clearButtonItalicStart);
				var clearButtonItalicVar = "<i class='fa " + clearButtonTagStrip.substring((clearButtonItalicStart+8),(clearButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var clearButtonItalicVar = "";
			}
			if (panel1ProdShopCartNoProd == 1) {
				var removeLink = "panel1CatSelectForce(0);";
			}
			else {
				var removeLink = "panel1ProdCartRemove();";
			}
			if (prodCartArray.length) {
				clearButtonRender += "<div id='panel1ProdCartClearButton' class='panel_1_prod_cart_clear_button panel_1_prod_cart_clear_button_off'";
				if (hoverState==1) {
					clearButtonRender += " onmouseover='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 1);' onfocus='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 1);' onmouseout='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 0);' onblur='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 0);'";
				}
				clearButtonRender += " onclick='" + removeLink + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + removeLink + "}' tabindex='0' title=\"" + clearButtonValueVar + "\">" + clearButtonItalicVar + clearButtonValueVar + "<\/div>";
				prodCartHeadHTML = clearButtonHTMLStart + clearButtonRender + clearButtonHTMLEnd;
			}
			else {
				prodCartHeadHTML = clearButtonHTMLStart + clearButtonHTMLEnd;
			}
		}
		var emptyTextTagStart = prodCartHeadHTML.indexOf("<!--EMPTYTEXT");
		if (emptyTextTagStart != -1) {
			var emptyTextTagEnd = prodCartHeadHTML.indexOf(">",emptyTextTagStart);
			var emptyTextTagStrip = prodCartHeadHTML.substring(emptyTextTagStart,(emptyTextTagEnd+1));
			var emptyTextHTMLStart = prodCartHeadHTML.substr(0,emptyTextTagStart);
			var emptyTextHTMLEnd = prodCartHeadHTML.substr((emptyTextTagEnd+1));
			var emptyTextRender = "";
			var emptyTextValueStart = emptyTextTagStrip.indexOf(" VALUE=");
			if (emptyTextValueStart != -1) {
				var emptyTextValueEnd = emptyTextTagStrip.indexOf("]",emptyTextValueStart);
				var emptyTextValueVar = emptyTextTagStrip.substring((emptyTextValueStart+8),(emptyTextValueEnd));
			}
			else {
				var emptyTextValueVar = "Your Shopping Cart is Empty.";
			}
			if (prodCartArray.length) {
				prodCartHeadHTML = emptyTextHTMLStart + emptyTextHTMLEnd;
			}
			else {
				prodCartHeadHTML = emptyTextHTMLStart + "<div id='panel1ProdCartEmptyText' class='panel_1_prod_cart_empty_text_shell'><div class='panel_1_prod_cart_empty_text_inner'>" + emptyTextValueVar + "<\/div><\/div>" + emptyTextHTMLEnd;
			}
		}
		writeHTML += prodCartHeadHTML;
	}
	for (y=0; y<prodCartArray.length; y++) {
		var prodCartHTML = autotextIt(p1TemplateSet.panel1ProductCartDiv,"panel1ProductCart");
		for (x=0;x<prodClone.length;x++) {
			if (prodClone[x][0] == prodCartArray[y]) {
				if (cartCatBadgeArr.length) {
					var isInArr = 0;
					for (t=0; t<cartCatBadgeArr.length; t++) {
						if (cartCatBadgeArr[t][0] == prodClone[x][8]) {
							var thisArrVal = parseInt(cartCatBadgeArr[t][1]);
							cartCatBadgeArr[t][1] = thisArrVal+1;
							isInArr = 1;
							break;
						}
					}
					if (isInArr == 0) {
						cartCatBadgeArr[cartCatBadgeArr.length] = [prodClone[x][8],1];
					}
				}
				else {
					cartCatBadgeArr[0] = [prodClone[x][8],1];
				}
				if (panel1ProdShopCartCat == 1 && prodClone[x][8] != startCat) {
					startCat = prodClone[x][8];
					for (q=0; q<catArray.length; q++) {
						if (catArray[q][0] == startCat) {
							if (panel1ProdShopCartNoProd == 1) {
								var catBegin = "<div id='panel1ProdCartCat" + catArray[q][0] + "' class='panel_1_prod_cart_cat_name panel_1_prod_cart_cat_name_off'";
								if (hoverState==1) {
									catBegin += " onmouseover='panel1ButtonHover(\"panel1ProdCartCat" + catArray[q][0] + "\",\"panel_1_prod_cart_cat_name\",1);' onfocus='panel1ButtonHover(\"panel1ProdCartCat" + catArray[q][0] + "\",\"panel_1_prod_cart_cat_name\",1);' onmouseout='panel1ButtonHover(\"panel1ProdCartCat" + catArray[q][0] + "\",\"panel_1_prod_cart_cat_name\",0);' onblur='panel1ButtonHover(\"panel1ProdCartCat" + catArray[q][0] + "\",\"panel_1_prod_cart_cat_name\",0);'";
								}
								catBegin += " onclick='panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CatSelectProducts(" + catArray[q][0] + ", \"panel1CategoryName" + catArray[q][0] + "\", \"panel_1_category_name\", panel1CategoryNameVar" + catArray[q][0] + ", \"panel1CategoryNameVar" + catArray[q][0] + "\",2);return false;}' tabindex='0' title=\"" + catArray[q][1] + "\">" + catArray[q][1] + "<i class='fa fa-times'><\/i><\/div>";
							}
							else {
								var catBegin = "<div id='panel1ProdCartCat" + catArray[q][0] + "' class='panel_1_prod_cart_cat_name panel_1_prod_cart_cat_name_off'>" + catArray[q][1] + "<\/div>" + prodCartHTML;
							}
							panel1ProdCartCatArray.push(catArray[q][0]);
							break;
						}
					}
					prodCartHTML = catBegin;
				}
				else if (panel1ProdShopCartFam == 1 && prodClone[x][17] != startFam) {
					startFam = prodClone[x][17];
					for (q=0; q<famArray.length; q++) {
						if (famArray[q][0] == startFam) {
							if (panel1ProdShopCartNoProd == 1) {
								var famBegin = "<div id='panel1ProdCartFam" + famArray[q][0] + "' class='panel_1_prod_cart_fam_name panel_1_prod_cart_fam_name_off'";
								if (hoverState==1) {
									famBegin += " onmouseover='panel1ButtonHover(\"panel1ProdCartFam" + famArray[q][0] + "\",\"panel_1_prod_cart_fam_name\",1);' onfocus='panel1ButtonHover(\"panel1ProdCartFam" + famArray[q][0] + "\",\"panel_1_prod_cart_fam_name\",1);' onmouseout='panel1ButtonHover(\"panel1ProdCartFam" + famArray[q][0] + "\",\"panel_1_prod_cart_fam_name\",0);' onblur='panel1ButtonHover(\"panel1ProdCartFam" + famArray[q][0] + "\",\"panel_1_prod_cart_fam_name\",0);'";
								}
								famBegin += " onclick='panel1ProdCartFamRemove(" + famArray[q][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdCartFamRemove(" + famArray[q][0] + ");}' tabindex='0' title=\"" + famArray[q][1] + "\">" + famArray[q][1] + "<i class='fa fa-times'><\/i><\/div>";
							}
							else {
								var famBegin = "<div id='panel1ProdCartFam" + famArray[q][0] + "' class='panel_1_prod_cart_fam_name panel_1_prod_cart_fam_name_off'>" + famArray[q][1] + "<\/div>" + prodCartHTML;
							}
							panel1ProdCartFamArray.push(famArray[q][0]);
							break;
						}
					}
					prodCartHTML = famBegin;
				}
				else if (panel1ProdShopCartNoProd == 1) {
					prodCartHTML = "";
				}
				if (panel1ProdShopCartNoProd == 0) {
					var prodDiscTagStart = prodCartHTML.indexOf("<!--HIGHPROD");
					if (prodDiscTagStart != -1) {
						var prodDiscTagEnd = prodCartHTML.indexOf(">",prodDiscTagStart);
						var prodDiscTagStrip = prodCartHTML.substring(prodDiscTagStart,(prodDiscTagEnd+1));
						var prodDiscHTMLStart = prodCartHTML.substr(0,prodDiscTagStart);
						var prodDiscHTMLEnd = prodCartHTML.substr((prodDiscTagEnd+1));
						var prodDiscWrite = "";
						var discVal = prodClone[x][6];
						if (discVal != 1) {
							prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1ProductCart_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
						}
						prodCartHTML = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
					}
					var prodCartNameTagStart = prodCartHTML.indexOf("<!--PRODNAME");
					if (prodCartNameTagStart != -1) {
						var prodCartNameTagEnd = prodCartHTML.indexOf(">",prodCartNameTagStart);
						var prodCartNameTagStrip = prodCartHTML.substring(prodCartNameTagStart,(prodCartNameTagEnd+1));
						var baseProdCartNameHTMLStart = prodCartHTML.substr(0,prodCartNameTagStart);
						var baseProdCartNameHTMLEnd = prodCartHTML.substr((prodCartNameTagEnd+1));
						var descTest = prodCartNameTagStrip.indexOf(" DESC");
						if (descTest != -1) {
							var descVal = "<span class='panel_1_prod_cart_name_desc'>" + prodClone[x][3] + "<\/span>";
						}
						else {
							var descVal = "";
						}
						var prodNameItalicStart = prodCartNameTagStrip.indexOf(" FNTAW=");
						if (prodNameItalicStart != -1) {
							var prodNameItalicEnd = prodCartNameTagStrip.indexOf("]",prodNameItalicStart);
							var prodNameItalicVar = "<i class='fa " + prodCartNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
						}
						else {
							var prodNameItalicVar = "";
						}
						prodCartHTML = baseProdCartNameHTMLStart + "<div id='panel1ProdCartName" + prodClone[x][0] + "' class='panel_1_prod_cart_name'>" + prodNameItalicVar + "<span class='panel_1_prod_cart_name_name'>" + prodClone[x][2] + "<\/span>" + descVal + "<\/div>" + baseProdCartNameHTMLEnd;
					}
					var prodCartDescTagStart = prodCartHTML.indexOf("<!--PRODDESC");
					if (prodCartDescTagStart != -1) {
						var prodCartDescTagEnd = prodCartHTML.indexOf(">",prodCartDescTagStart);
						var prodCartDescTagStrip = prodCartHTML.substring(prodCartDescTagStart,(prodCartDescTagEnd+1));
						var baseProdCartDescHTMLStart = prodCartHTML.substr(0,prodCartDescTagStart);
						var baseProdCartDescHTMLEnd = prodCartHTML.substr((prodCartDescTagEnd+1));
						prodCartHTML = baseProdCartDescHTMLStart + "<div id='panel1ProdCartDesc" + prodClone[x][0] + "' class='panel_1_prod_cart_desc'>" + prodClone[x][3] + "<\/div>" + baseProdCartDescHTMLEnd;
					}
					var prodCartCatTagStart = prodCartHTML.indexOf("<!--PRODCAT");
					if (prodCartCatTagStart != -1) {
						var prodCartCatTagEnd = prodCartHTML.indexOf(">",prodCartCatTagStart);
						var prodCartCatTagStrip = prodCartHTML.substring(prodCartCatTagStart,(prodCartCatTagEnd+1));
						var baseProdCartCatHTMLStart = prodCartHTML.substr(0,prodCartCatTagStart);
						var baseProdCartCatHTMLEnd = prodCartHTML.substr((prodCartCatTagEnd+1));
						prodCartHTML = baseProdCartCatHTMLStart + "<div id='panel1ProdCartCat" + prodClone[x][0] + "' class='panel_1_prod_cart_cat'>" + prodClone[x][16] + "<\/div>" + baseProdCartCatHTMLEnd;
					}
					var prodCartBigImgTagStart = prodCartHTML.indexOf("<!--PRODBIGIMG");
					if (prodCartBigImgTagStart != -1) {
						var prodCartBigImgTagEnd = prodCartHTML.indexOf(">",prodCartBigImgTagStart);
						var prodCartBigImgTagStrip = prodCartHTML.substring(prodCartBigImgTagStart,(prodCartBigImgTagEnd+1));
						var baseProdCartBigImgHTMLStart = prodCartHTML.substr(0,prodCartBigImgTagStart);
						var baseProdCartBigImgHTMLEnd = prodCartHTML.substr((prodCartBigImgTagEnd+1));
						prodCartHTML = baseProdCartBigImgHTMLStart + "<img title=\"" + prodClone[x][2] + "\" alt=\"" + prodClone[x][2] + "\" id='panel1ProdCartBigImg" + prodClone[x][0] + "' class='panel_1_prod_cart_bigimg' src='" + clientImgBase + prodClone[x][4] + "'>" + baseProdCartBigImgHTMLEnd;
					}
					var prodCartSmImgTagStart = prodCartHTML.indexOf("<!--PRODSMIMG");
					if (prodCartSmImgTagStart != -1) {
						var prodCartSmImgTagEnd = prodCartHTML.indexOf(">",prodCartSmImgTagStart);
						var prodCartSmImgTagStrip = prodCartHTML.substring(prodCartSmImgTagStart,(prodCartSmImgTagEnd+1));
						var baseProdCartSmImgHTMLStart = prodCartHTML.substr(0,prodCartSmImgTagStart);
						var baseProdCartSmImgHTMLEnd = prodCartHTML.substr((prodCartSmImgTagEnd+1));
						prodCartHTML = baseProdCartSmImgHTMLStart + "<img title=\"" + prodClone[x][2] + "\" alt=\"" + prodClone[x][2] + "\" id='panel1ProdCartSmImg" + prodClone[x][0] + "' class='panel_1_prod_cart_smimg' src='" + clientImgBase + prodClone[x][5] + "'>" + baseProdCartSmImgHTMLEnd;
					}
					var removeButtonTagStart = prodCartHTML.indexOf("<!--REMOVEBUTTON");
					if (removeButtonTagStart != -1) {
						var removeButtonTagEnd = prodCartHTML.indexOf(">",removeButtonTagStart);
						var removeButtonTagStrip = prodCartHTML.substring(removeButtonTagStart,(removeButtonTagEnd+1));
						var removeButtonHTMLStart = prodCartHTML.substr(0,removeButtonTagStart);
						var removeButtonHTMLEnd = prodCartHTML.substr((removeButtonTagEnd+1));
						var removeButtonRender = "";
						var removeButtonValueStart = removeButtonTagStrip.indexOf(" VALUE=");
						if (removeButtonValueStart != -1) {
							var removeButtonValueEnd = removeButtonTagStrip.indexOf("]",removeButtonValueStart);
							var removeButtonValueVar = removeButtonTagStrip.substring((removeButtonValueStart+8),(removeButtonValueEnd));
						}
						else {
							var removeButtonValueVar = "REMOVE";
						}
						var removeButtonItalicStart = removeButtonTagStrip.indexOf(" FNTAW=");
						if (removeButtonItalicStart != -1) {
							var removeButtonItalicEnd = removeButtonTagStrip.indexOf("]",removeButtonItalicStart);
							var removeButtonItalicVar = "<i class='fa " + removeButtonTagStrip.substring((removeButtonItalicStart+8),(removeButtonItalicEnd)) + "'><\/i>";
						}
						else {
							var removeButtonItalicVar = "";
						}
						removeButtonRender += "<div id='panel1ProdCartRemoveButton" + prodCartArray[y] + "' class='panel_1_prod_cart_remove_button panel_1_prod_cart_remove_button_off'";
						if (hoverState==1) {
							removeButtonRender += " onmouseover='panel1ButtonHover(\"panel1ProdCartRemoveButton" + prodCartArray[y] + "\",\"panel_1_prod_cart_remove_button\",1);' onfocus='panel1ButtonHover(\"panel1ProdCartRemoveButton" + prodCartArray[y] + "\",\"panel_1_prod_cart_remove_button\",1);' onmouseout='panel1ButtonHover(\"panel1ProdCartRemoveButton" + prodCartArray[y] + "\",\"panel_1_prod_cart_remove_button\",0);' onblur='panel1ButtonHover(\"panel1ProdCartRemoveButton" + prodCartArray[y] + "\",\"panel_1_prod_cart_remove_button\",0);'";
						}
						removeButtonRender += " onclick='panel1ProdCartRemove(" + prodCartArray[y] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdCartRemove(" + prodCartArray[y] + ");}' tabindex='0' title=\"" + removeButtonValueVar + "\">" + removeButtonItalicVar + removeButtonValueVar + "<\/div>";
						prodCartHTML = removeButtonHTMLStart + removeButtonRender + removeButtonHTMLEnd;
					}
				}
			}
		}
		writeHTML += prodCartHTML;
	}
	var prodCartFootHTML = autotextIt(p1TemplateSet.panel1ProductCartFoot,"panel1ProductCartFoot");
	if (prodCartFootHTML != "") {
		var clearButtonTagStart = prodCartFootHTML.indexOf("<!--CLEARBUTTON");
		if (clearButtonTagStart != -1) {
			var clearButtonTagEnd = prodCartFootHTML.indexOf(">",clearButtonTagStart);
			var clearButtonTagStrip = prodCartFootHTML.substring(clearButtonTagStart,(clearButtonTagEnd+1));
			var clearButtonHTMLStart = prodCartFootHTML.substr(0,clearButtonTagStart);
			var clearButtonHTMLEnd = prodCartFootHTML.substr((clearButtonTagEnd+1));
			var clearButtonRender = "";
			var clearButtonValueStart = clearButtonTagStrip.indexOf(" VALUE=");
			if (clearButtonValueStart != -1) {
				var clearButtonValueEnd = clearButtonTagStrip.indexOf("]",clearButtonValueStart);
				var clearButtonValueVar = clearButtonTagStrip.substring((clearButtonValueStart+8),(clearButtonValueEnd));
			}
			else {
				var clearButtonValueVar = "CLEAR";
			}
			var clearButtonItalicStart = clearButtonTagStrip.indexOf(" FNTAW=");
			if (clearButtonItalicStart != -1) {
				var clearButtonItalicEnd = clearButtonTagStrip.indexOf("]",clearButtonItalicStart);
				var clearButtonItalicVar = "<i class='fa " + clearButtonTagStrip.substring((clearButtonItalicStart+8),(clearButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var clearButtonItalicVar = "";
			}
			if (panel1ProdShopCartNoProd == 1) {
				var removeLink = "panel1CatSelectForce(0);";
			}
			else {
				var removeLink = "panel1ProdCartRemove();";
			}
			if (prodCartArray.length) {
				clearButtonRender += "<div id='panel1ProdCartClearButton' class='panel_1_prod_cart_clear_button panel_1_prod_cart_clear_button_off'";
				if (hoverState==1) {
					clearButtonRender += " onmouseover='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 1);' onfocus='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 1);' onmouseout='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 0);' onblur='panel1ButtonHover(\"panel1ProdCartClearButton\", \"panel_1_prod_cart_clear_button\", 0);'";
				}
				clearButtonRender += " onclick='" + removeLink + "' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){" + removeLink + "}' tabindex='0' title=\"" + clearButtonValueVar + "\">" + clearButtonItalicVar + clearButtonValueVar + "<\/div>";
				prodCartFootHTML = clearButtonHTMLStart + clearButtonRender + clearButtonHTMLEnd;
			}
			else {
				prodCartFootHTML = clearButtonHTMLStart + clearButtonHTMLEnd;
			}
		}
		writeHTML += prodCartFootHTML;
	}
	if (document.getElementById('panel1ProdShopCartShell')) {
		document.getElementById('panel1ProdShopCartShell').innerHTML = "<div class='panel_1_prod_shopcart_liner'>" + writeHTML + "<\/div>";
	}
	if (prodCartArray.length && document.getElementById("panel1ProdCartClearButton")) {
		$("#panel1ProdCartClearButton").show();
	}
	else if (document.getElementById("panel1ProdCartClearButton")) {
		$("#panel1ProdCartClearButton").hide();
	}
	if (document.getElementById('panel1ProdCartCount')) {
		if (panel1ProdShopCartNoProd == 0) {
			document.getElementById('panel1ProdCartCount').innerHTML = prodCartArray.length;
			if (document.getElementById("panel1SelProdText")) {
				if (prodCartArray.length == 1) {
					document.getElementById("panel1SelProdText").innerHTML = p1selProdSingularVar;
				}
				else {
					document.getElementById("panel1SelProdText").innerHTML = p1selProdPluralVar;
				}
			}
		}
		else if (panel1ProdShopCartNoProd == 1 && panel1ProdShopCartCat == 1) {
			document.getElementById('panel1ProdCartCount').innerHTML = panel1ProdCartCatArray.length;
			if (document.getElementById("panel1SelProdText")) {
				if (panel1ProdCartCatArray.length == 1) {
					document.getElementById("panel1SelProdText").innerHTML = p1selProdSingularVar;
				}
				else {
					document.getElementById("panel1SelProdText").innerHTML = p1selProdPluralVar;
				}
			}
		}
		else if (panel1ProdShopCartNoProd == 1 && panel1ProdShopCartFam == 1) {
			document.getElementById('panel1ProdCartCount').innerHTML = panel1ProdCartFamArray.length;
			if (document.getElementById("panel1SelProdText")) {
				if (panel1ProdCartFamArray.length == 1) {
					document.getElementById("panel1SelProdText").innerHTML = p1selProdSingularVar;
				}
				else {
					document.getElementById("panel1SelProdText").innerHTML = p1selProdPluralVar;
				}
			}
		}
	}
	$('.panel_1_prodlist_cat_badge').hide();
	if (cartCatBadgeArr.length) {
		for (j=0; j<cartCatBadgeArr.length; j++) {
			if (document.getElementById('panel1ProdlistCatBadge'+cartCatBadgeArr[j][0])) {
				document.getElementById('panel1ProdlistCatBadge'+cartCatBadgeArr[j][0]).innerHTML = cartCatBadgeArr[j][1];
				$('#panel1ProdlistCatBadge'+cartCatBadgeArr[j][0]).show();
			}
		}
	}
	if (panel1RedrawVar != 1) {
		if (prodLabelArray.length) {
			for (c=0; c<prodCartArray.length; c++) {
				for (pl=0; pl<prodLabelArray.length; pl++) {
					if (prodLabelArray[pl][1] == prodCartArray[c]) {
						if (cartLabelBadgeArr.length) {
							var isInArr = 0;
							for (t=0; t<cartLabelBadgeArr.length; t++) {
								if (cartLabelBadgeArr[t][0] == prodLabelArray[pl][2]) {
									var thisArrVal = parseInt(cartLabelBadgeArr[t][1]);
									cartLabelBadgeArr[t][1] = thisArrVal+1;
									isInArr = 1;
									break;
								}
							}
							if (isInArr == 0) {
								cartLabelBadgeArr[cartLabelBadgeArr.length] = [prodLabelArray[pl][2],1];
							}
						}
						else {
							cartLabelBadgeArr[0] = [prodLabelArray[pl][2],1];
						}
						break;
					}
				}
			}
			$('.panel_1_label_badge').hide();
			if (cartLabelBadgeArr.length) {
				for (j=0; j<cartLabelBadgeArr.length; j++) {
					if (document.getElementById('panel1LabelBadge'+cartLabelBadgeArr[j][0])) {
						document.getElementById('panel1LabelBadge'+cartLabelBadgeArr[j][0]).innerHTML = cartLabelBadgeArr[j][1];
						$('#panel1LabelBadge'+cartLabelBadgeArr[j][0]).show();
					}
				}
			}
		}
	}
	if (document.getElementById('panel1OnRetSelectShell') && document.getElementById('panel1OnRetResultsShell') && onretOn == 1) {
		panel1WriteOnlineRetailer();
	}
}
function panel1AllFam() {
	var thisAllOn = 1;
	for (p=0; p<prodDisplayArray.length; p++) {
		if (prodDisplayArray[p][9] == 0) {
			thisAllOn = 0;
			break;
		}
	}
	if (thisAllOn == 1) {
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_hover');
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_on');
		$('.panel_1_allfam_button').addClass('panel_1_allfam_button_off');
		$('.panel_1_family_name').removeClass('panel_1_family_name_on');
		$('.panel_1_family_name').removeClass('panel_1_family_name_hover');
		$('.panel_1_family_name').addClass('panel_1_family_name_off');
		for (x=0; x<famArray.length; x++) {
			famArray[x][5] = 0;
			window[('panel1FamilyNameVar'+famArray[x][0])] = 0;
			if (document.getElementById('panel1FamilyBigImg'+famArray[x][0]) && $('#panel1FamilyBigImg'+famArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1FamilyBigImg'+famArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1FamilyBigImg'+famArray[x][0]).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1FamilySmImg'+famArray[x][0]) && $('#panel1FamilySmImg'+famArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1FamilySmImg'+famArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1FamilySmImg'+famArray[x][0]).src = baseStart + baseEnd;
				}
			}
		}
	}
	else {
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_hover');
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_off');
		$('.panel_1_allfam_button').addClass('panel_1_allfam_button_on');
		$('.panel_1_family_name').removeClass('panel_1_family_name_off');
		$('.panel_1_family_name').removeClass('panel_1_family_name_hover');
		$('.panel_1_family_name').addClass('panel_1_family_name_on');
		for (x=0; x<famArray.length; x++) {
			famArray[x][5] = 1;
			window[('panel1FamilyNameVar'+famArray[x][0])] = 1;
			if (document.getElementById('panel1FamilyBigImg'+famArray[x][0]) && $('#panel1FamilyBigImg'+famArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1FamilyBigImg'+famArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1FamilyBigImg'+famArray[x][0]).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1FamilySmImg'+famArray[x][0]) && $('#panel1FamilySmImg'+famArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1FamilySmImg'+famArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1FamilySmImg'+famArray[x][0]).src = baseStart + "_2" + baseEnd;
				}
			}
		}
	}
	panel1AllCat();
}
function panel1AllCat() {
	var thisAllOn = 1;
	for (p=0; p<prodDisplayArray.length; p++) {
		if (prodDisplayArray[p][9] == 0) {
			thisAllOn = 0;
			break;
		}
	}
	if (thisAllOn == 1) {
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_hover');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_on');
		$('.panel_1_allcat_button').addClass('panel_1_allcat_button_off');
		$('.panel_1_category_name').removeClass('panel_1_category_name_on');
		$('.panel_1_category_name').removeClass('panel_1_category_name_hover');
		$('.panel_1_category_name').addClass('panel_1_category_name_off');
		for (x=0; x<catArray.length; x++) {
			catArray[x][6] = 0;
			catArray[x][9] = 0;
			window[('panel1CategoryNameVar'+catArray[x][0])] = 0;
			if (document.getElementById('panel1CategoryBigImg'+catArray[x][0]) && $(".panel_1_category_big_img_"+catArray[x][0]).hasClass("img_replace_active")) {
				var baseImg = document.getElementById('panel1CategoryBigImg'+catArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategoryBigImg'+catArray[x][0]).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1CategorySmImg'+catArray[x][0]) && $(".panel_1_category_big_img_"+catArray[x][0]).hasClass("img_replace_active")) {
				var baseImg = document.getElementById('panel1CategorySmImg'+catArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategorySmImg'+catArray[x][0]).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1CategoryBigImgDivBack'+catArray[x][0]) && $(".panel_1_category_big_img_div_back_"+catArray[x][0]).hasClass("img_replace_active")) {
				$(".panel_1_category_big_img_div_over_"+catArray[x][0]).fadeOut(50);
				$(".panel_1_category_big_img_div_back_"+catArray[x][0]).addClass('panel_1_category_big_img_div_back_off');
				$(".panel_1_category_big_img_div_back_"+catArray[x][0]).removeClass('panel_1_category_big_img_div_back_on');
			}
			if (document.getElementById('panel1CategorySmImgDivBack'+catArray[x][0]) && $(".panel_1_category_sm_img_div_back_"+catArray[x][0]).hasClass("img_replace_active")) {
				$(".panel_1_category_sm_img_div_over_"+catArray[x][0]).fadeOut(50);
				$(".panel_1_category_sm_img_div_back_"+catArray[x][0]).addClass('panel_1_category_sm_img_div_back_off');
				$(".panel_1_category_sm_img_div_back_"+catArray[x][0]).removeClass('panel_1_category_sm_img_div_back_on');
			}
		}
	}
	else {
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_hover');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_off');
		$('.panel_1_allcat_button').addClass('panel_1_allcat_button_on');
		$('.panel_1_category_name').removeClass('panel_1_category_name_off');
		$('.panel_1_category_name').removeClass('panel_1_category_name_hover');
		$('.panel_1_category_name').addClass('panel_1_category_name_on');
		for (x=0; x<catArray.length; x++) {
			catArray[x][6] = 1;
			catArray[x][9] = 1;
			window[('panel1CategoryNameVar'+catArray[x][0])] = 1;
			if (document.getElementById('panel1CategoryBigImg'+catArray[x][0]) && $('#panel1CategoryBigImg'+catArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategoryBigImg'+catArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategoryBigImg'+catArray[x][0]).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1CategorySmImg'+catArray[x][0]) && $('#panel1CategorySmImg'+catArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategorySmImg'+catArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategorySmImg'+catArray[x][0]).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1CategoryBigImgDivBack'+catArray[x][0]) && $('#panel1CategoryBigImgDivBack'+catArray[x][0]).hasClass('img_replace_active')) {
				$(".panel_1_category_big_img_div_over_"+catArray[x][0]).fadeIn(50);
				$(".panel_1_category_big_img_div_back_"+catArray[x][0]).removeClass('panel_1_category_big_img_div_back_off');
				$(".panel_1_category_big_img_div_back_"+catArray[x][0]).addClass('panel_1_category_big_img_div_back_on');
			}
			if (document.getElementById('panel1CategorySmImgDivBack'+catArray[x][0]) && $('#panel1CategorySmImgDivBack'+catArray[x][0]).hasClass('img_replace_active')) {
				$(".panel_1_category_sm_img_div_over_"+catArray[x][0]).fadeIn(50);
				$(".panel_1_category_sm_img_div_back_"+catArray[x][0]).removeClass('panel_1_category_sm_img_div_back_off');
				$(".panel_1_category_sm_img_div_back_"+catArray[x][0]).addClass('panel_1_category_sm_img_div_back_on');
			}
		}
	}
	panel1AllProd();
}
function panel1AllProd() {
	var thisAllOn = 1;
	for (p=0; p<prodDisplayArray.length; p++) {
		if (prodDisplayArray[p][9] == 0) {
			thisAllOn = 0;
			break;
		}
	}
	if (thisAllOn == 1) {
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_hover');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_on');
		$('.panel_1_allprod_button').addClass('panel_1_allprod_button_off');
		$('.panel_1_product_name').removeClass('panel_1_product_name_on');
		$('.panel_1_product_name').removeClass('panel_1_product_name_hover');
		$('.panel_1_product_name').addClass('panel_1_product_name_off');
		for (x=0; x<prodDisplayArray.length; x++) {
			prodDisplayArray[x][9] = 0;
			window[('panel1ProductNameVar'+prodDisplayArray[x][0])] = 0;
			if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]) && $('#panel1ProductBigImg'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]) && $('#panel1ProductSmImg'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[x][0]) && $('#panel1ProductBigImgDivBack'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				$(".panel_1_product_big_img_div_over_"+prodDisplayArray[x][0]).fadeOut(50);
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_big_img_div_back_off');
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_big_img_div_back_on');
			}
			if (document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[x][0]) && $('#panel1ProductSmImgDivBack'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				$(".panel_1_product_sm_img_div_over_"+prodDisplayArray[x][0]).fadeOut(50);
				$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_sm_img_div_back_off');
				$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_sm_img_div_back_on');
			}
		}
		$('.panel_1_cart_button').removeClass('panel_1_cart_button_on');
		$('.panel_1_cart_button').removeClass('panel_1_cart_button_hover');
		$('.panel_1_cart_button').addClass('panel_1_cart_button_off');
		prodCartArray.length = 0;
	}
	else {
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_hover');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_off');
		$('.panel_1_allprod_button').addClass('panel_1_allprod_button_on');
		$('.panel_1_product_name').removeClass('panel_1_product_name_off');
		$('.panel_1_product_name').removeClass('panel_1_product_name_hover');
		$('.panel_1_product_name').addClass('panel_1_product_name_on');
		for (x=0; x<prodDisplayArray.length; x++) {
			prodDisplayArray[x][9] = 1;
			window[('panel1ProductNameVar'+prodDisplayArray[x][0])] = 1;
			if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]) && $('#panel1ProductBigImg'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductBigImg'+prodDisplayArray[x][0]).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]) && $('#panel1ProductSmImg'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductSmImg'+prodDisplayArray[x][0]).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[x][0]) && $('#panel1ProductBigImgDivBack'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				$(".panel_1_product_big_img_div_over_"+prodDisplayArray[x][0]).fadeIn(50);
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_big_img_div_back_off');
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_big_img_div_back_on');
			}
			if (document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[x][0]) && $('#panel1ProductSmImgDivBack'+prodDisplayArray[x][0]).hasClass('img_replace_active')) {
				$(".panel_1_product_sm_img_div_over_"+prodDisplayArray[x][0]).fadeIn(50);
				$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_sm_img_div_back_off');
				$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_sm_img_div_back_on');
			}
		}
		$('.panel_1_cart_button').removeClass('panel_1_cart_button_off');
		$('.panel_1_cart_button').removeClass('panel_1_cart_button_hover');
		$('.panel_1_cart_button').addClass('panel_1_cart_button_on');
		prodCartArray.length = 0;
		for (y=0; y<prodDisplayArray.length; y++) {
			prodCartArray.push(prodDisplayArray[y][0]);
		}
	}
	if(gLog==1){console.log("panel1AllProd - prodCartArray: " + prodCartArray.toString(","));}
}
function panel1SubmitForm(aogf) {
	if(gLog==1){console.log("panel1SubmitForm loaderToggle state=1");}
	loaderToggle(1);
	whatStoreUp = 0;
	var canSubmit = 1;
	p1codeTries = 0;
	if (document.getElementById('panel1AddressField')) {
		if ($("#panel1AddressField").hasClass("panel_1_required") && (document.getElementById('panel1AddressField').value == "" || document.getElementById('panel1AddressField').value == p1AddFieldValueVar)) {
			$("#panel1AddressField").removeClass("panel_1_address_field_base");
			$("#panel1AddressField").addClass("panel_1_required_error");
			document.getElementById('street').value = "";
			canSubmit = 0;
		}
		else {
			$("#panel1AddressField").addClass("panel_1_address_field_base");
			$("#panel1AddressField").removeClass("panel_1_required_error");
			if (document.getElementById('panel1AddressField').value.toLowerCase() == "yer mom" || document.getElementById('panel1AddressField').value.toLowerCase() == "yo mama") {
				document.getElementById('panel1AddressField').value = "Fort Wayne, IN";
			}
			stripField('street','panel1AddressField');
		}
	}
	else {
		document.getElementById('street').value = "";
	}
	if (document.getElementById('panel1CityField')) {
		if ($("#panel1CityField").hasClass("panel_1_required") && (document.getElementById('panel1CityField').value == "" || document.getElementById('panel1CityField').value == cityFieldValueVar)) {
			$("#panel1CityField").removeClass("panel_1_city_field_base");
			$("#panel1CityField").addClass("panel_1_required_error");
			document.getElementById('city').value = "";
			canSubmit = 0;
		}
		else {
			$("#panel1CityField").addClass("panel_1_city_field_base");
			$("#panel1CityField").removeClass("panel_1_required_error");
			stripField('city','panel1CityField');
		}
	}
	else {
		document.getElementById('city').value = "";
	}
	if (document.getElementById('panel1StateField')) {
		if ($("#panel1StateSelect").hasClass("panel_1_required") && document.getElementById('panel1StateField').value == "") {
			$("#panel1StateSelect").removeClass("panel_1_state_field_base");
			$("#panel1StateSelect").addClass("panel_1_required_error");
			document.getElementById('state').value = "";
			canSubmit = 0;
		}
		else {
			$("#panel1StateSelect").addClass("panel_1_state_field_base");
			$("#panel1StateSelect").removeClass("panel_1_required_error");
			stripField('state','panel1StateField');
		}
	}
	else {
		document.getElementById('state').value = "";
	}
	if (document.getElementById('panel1ZipField')) {
		if ($("#panel1ZipField").hasClass("panel_1_required")) {
			if (document.getElementById('panel1ZipField').value == "") {
				$("#panel1ZipField").removeClass("panel_1_zip_field_base");
				$("#panel1ZipField").addClass("panel_1_required_error");
				document.getElementById('zip').value = "";
				canSubmit = 0;
			}
			else {
				if (zipFieldValueVar == 1) {
					var zipFieldTestVal = document.getElementById('panel1ZipField').value;
					if (isNaN(zipFieldTestVal) || zipFieldTestVal.length != 5) {
						$("#panel1ZipField").removeClass("panel_1_zip_field_base");
						$("#panel1ZipField").addClass("panel_1_required_error");
						document.getElementById('zip').value = "";
						canSubmit = 0;
					}
					else {
						$("#panel1ZipField").addClass("panel_1_zip_field_base");
						$("#panel1ZipField").removeClass("panel_1_required_error");
						stripField('zip','panel1ZipField');
					}
				}
				else {
					$("#panel1ZipField").addClass("panel_1_zip_field_base");
					$("#panel1ZipField").removeClass("panel_1_required_error");
					stripField('zip','panel1ZipField');
				}
			}
		}
	}
	else {
		document.getElementById('zip').value = "";
	}
	if (document.getElementById('panel1ScopeField')) {
		document.getElementById('scope').value = document.getElementById('panel1ScopeField').value;
	}
	if (document.getElementById('panel1DistanceField')) {
		document.getElementById('distance').value = document.getElementById('panel1DistanceField').value;
	}
	if (document.getElementById('panel1ResultsField')) {
		document.getElementById('results').value = document.getElementById('panel1ResultsField').value;
	}
	if (document.getElementById('panel1SortField')) {
		document.getElementById('sort').value = document.getElementById('panel1SortField').value;
	}
	if (prodCartArray.length == 0) {
		prodSelectedArray.length = 0;
		if (document.getElementById('PROD').value=="") {
			for (p=0;p<prodDisplayArray.length;p++) {
				if (prodDisplayArray[p][9] == "1") {
					prodSelectedArray.push(prodDisplayArray[p][1]);
				}
			}
			document.getElementById('PROD').value = prodSelectedArray.toString();
		}
		if (document.getElementById('PROD').value == "") {
			document.getElementById('PROD').value = prodSelString;
		}
	}
	else {
		var tempProdArray = [];
		for (c=0;c<prodCartArray.length;c++) {
			for (p=0;p<prodDisplayArray.length;p++) {
				if (prodDisplayArray[p][0] == prodCartArray[c]) {
					tempProdArray.push(prodDisplayArray[p][1]);
				}
			}
		}
		document.getElementById('PROD').value = tempProdArray.toString();
	}
	groupSelectedArray.length = 0;
	for (g=0;g<catArray.length;g++) {
		if (catArray[g][6] == "1") {
			groupSelectedArray.push(catArray[g][5]);
		}
	}
	document.getElementById('GROUP').value = groupSelectedArray.toString();
	if (document.getElementById('SCFILTER').value=="" && panel1StoreCatOn == 1) {
		storeCatSelectedArray.length = 0;
		for (sc=0;sc<storeCatArray.length;sc++) {
			if (storeCatArray[sc][8] == 1) {
				storeCatSelectedArray.push(storeCatArray[sc][0]);
			}
		}
		document.getElementById('SCFILTER').value = storeCatSelectedArray.toString();
	}
	if(gLog==1){console.log("panel1SubmitForm - canSubmit = " + canSubmit);}
	var hasProducts = 1;
	if (panel1CartReq == 1 && prodCartArray.length == 0) {
		hasProducts = 0;
		errorText('Please select at least one product.',3);
	}
	if (canSubmit == 1 && hasProducts==1) {
		if (enableResize == 2) {
			parent.postMessage("SRCH:"+document.getElementById('panel1AddressField').value,refurl);
		}
		var urlParamPush = "";
		var urlParamTrack = 0;
		if (urlParamArray.length) {
			for (l=0;l<urlParamArray.length;l++) {
				if (urlParamTrack == 0) {
					urlParamPush += "?";
					urlParamTrack = 1;
				}
				else {
					urlParamPush += "&";
				}
				urlParamPush += urlParamArray[l][0] + "=" + urlParamArray[l][1];
			}
		}
		if (panel1NoProdSelectOn == 1) {
			if (document.getElementById('PROD').value == document.getElementById('FULLPROD').value) {
				if(gLog==1){console.log("panel1SubmitForm loaderToggle state=0");}
				loaderToggle(0);
				panel1AlertNoProducts();
			}
			else {
				if (BYPASS != "") {
					var addressCompile = "";
					if (document.getElementById('street').value != "" && document.getElementById('street').value != p1AddFieldValueVar) {
						addressCompile += document.getElementById('street').value;
					}
					if (document.getElementById('city').value != "") {
						addressCompile += " " + document.getElementById('city').value;
					}
					if (document.getElementById('state').value != "") {
						addressCompile += " " + document.getElementById('state').value;
					}
					if (document.getElementById('zip').value != "") {
						addressCompile += " " + document.getElementById('zip').value;
					}
					document.getElementById('addressCompile').value = addressCompile;
					if (prodCartArray.length) {
						var pCart = "&PCART=" + prodCartArray.toString();
					}
					else {
						var pCart = "";
					}
					var aogfWrite = "";
					if (aogf) {
						aogfWrite = "&AOGF=1";
					}
					frameVar = document.getElementById("iFrameForms");
					frameVar.contentWindow.location.replace(controlURL + "panel1Bypass.php"+ urlParamPush + "&LOC=" + escape(document.getElementById('addressCompile').value) + "&DIST=" + escape(document.getElementById('distance').value) + "&PROD=" + document.getElementById('PROD').value + "&SRC=" + version + "&CURL=" + controlURL + "&CLIENT=" + coreClient + "&ITER=" + iteration + pCart + aogfWrite);
				}
				else {
					panel1CodeAddress();
				}
			}
		}
		else {
			if (BYPASS != "") {
				var addressCompile = "";
				if (document.getElementById('street').value != "" && document.getElementById('street').value != p1AddFieldValueVar) {
					addressCompile += document.getElementById('street').value;
				}
				if (document.getElementById('city').value != "") {
					addressCompile += " " + document.getElementById('city').value;
				}
				if (document.getElementById('state').value != "") {
					addressCompile += " " + document.getElementById('state').value;
				}
				if (document.getElementById('zip').value != "") {
					addressCompile += " " + document.getElementById('zip').value;
				}
				document.getElementById('addressCompile').value = addressCompile;
				if (prodCartArray.length) {
					var pCart = "&PCART=" + prodCartArray.toString();
				}
				else {
					var pCart = "";
				}
				frameVar = document.getElementById("iFrameForms");
				frameVar.contentWindow.location.replace(controlURL + "panel1Bypass.php"+ urlParamPush + "&LOC=" + escape(document.getElementById('addressCompile').value) + "&DIST=" + escape(document.getElementById('distance').value) + "&PROD=" + document.getElementById('PROD').value + "&SRC=" + version + "&CURL=" + controlURL + "&CLIENT=" + coreClient + "&ITER=" + iteration + pCart);
			}
			else {
				panel1CodeAddress();
			}
		}
	}
	else {
		if (hasProducts==1) {
			errorText("Please Enter a Valid Location",2);
		}
	}
}
function panel1FamMouseOver (famID, famString, famVar) {
	if (document.getElementById(famID)) {
		if (famVar == 0) {
			$('#'+famID).removeClass(famString+'_off');
			$('#'+famID).addClass(famString+'_hover');
		}
		else {
			$('#'+famID).removeClass(famString+'_on');
			$('#'+famID).addClass(famString+'_hover');
		}
	}
}
function panel1FamMouseOut (famID, famString, famVar) {
	if (document.getElementById(famID)) {
		if (famVar == 0) {
			$('#'+famID).removeClass(famString+'_hover');
			$('#'+famID).addClass(famString+'_off');
		}
		else {
			$('#'+famID).removeClass(famString+'_hover');
			$('#'+famID).addClass(famString+'_on');
		}
	}
}
function panel1TLMouseOver (tlID, tlString) {
	if (document.getElementById(tlID)) {
		$('#'+tlID).removeClass(tlString+'_off');
		$('#'+tlID).addClass(tlString+'_hover');
	}
}
function panel1TLMouseOut (tlID, tlString) {
	if (document.getElementById(tlID)) {
		$('#'+tlID).removeClass(tlString+'_hover');
		$('#'+tlID).addClass(tlString+'_off');
	}
}
function panel1FamSelectProducts(famSQLID, famID, famString, famVar, famVarSet) {
	if(gLog==1){console.log("panel1FamSelectProducts - famSQLID, famID, famString, famVar, famVarSet",famSQLID, famID, famString, famVar, famVarSet);}
	if (document.getElementById(famID)) {
		if (famVar == 0) {
			if(gLog==1){console.log("panel1FamSelectProducts - famVar == 0");}
			$('#'+famID).removeClass(famString+'_hover');
			$('#'+famID).removeClass(famString+'_off');
			$('#'+famID).addClass(famString+'_on');
			if (document.getElementById('panel1FamilyBigImg'+famSQLID) && $('#panel1FamilyBigImg'+famSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1FamilyBigImg'+famSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1FamilyBigImg'+famSQLID).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1FamilySmImg'+famSQLID) && $('#panel1FamilySmImg'+famSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1FamilySmImg'+famSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1FamilySmImg'+famSQLID).src = baseStart + "_2" + baseEnd;
				}
			}
			for (z=0; z<catArray.length; z++) {
				if (catArray[z][2] == famSQLID) {
					window[('panel1CategoryNameVar'+catArray[z][0])] = 0;
					panel1CatSelectProducts(catArray[z][0], ('panel1CategoryName'+catArray[z][0]), 'panel_1_category_name', 0, ('panel1CategoryNameVar'+catArray[z][0]),2);
				}
			}
			window[famVarSet] = 1;
		}
		else {
			if(gLog==1){console.log("panel1FamSelectProducts - famVar != 0");}
			$('#'+famID).removeClass(famString+'_hover');
			$('#'+famID).removeClass(famString+'_on');
			$('#'+famID).addClass(famString+'_off');
			if (document.getElementById('panel1FamilyBigImg'+famSQLID) && $('#panel1FamilyBigImg'+famSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1FamilyBigImg'+famSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1FamilyBigImg'+famSQLID).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1FamilySmImg'+famSQLID) && $('#panel1FamilySmImg'+famSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1FamilySmImg'+famSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1FamilySmImg'+famSQLID).src = baseStart + baseEnd;
				}
			}
			for (z=0; z<catArray.length; z++) {
				if (catArray[z][2] == famSQLID) {
					window[('panel1CategoryNameVar'+catArray[z][0])] = 1;
					panel1CatSelectProducts(catArray[z][0], ('panel1CategoryName'+catArray[z][0]), 'panel_1_category_name', 1, ('panel1CategoryNameVar'+catArray[z][0]),2);
				}
			}
			window[famVarSet] = 0;
		}
	}
}
function panel1CatMouseOver (catID, catString, catVar) {
	if (document.getElementById(catID)) {
		if ($('#'+catID).hasClass(catString+'_off')) {
			$('#'+catID).removeClass(catString+'_off');
			$('#'+catID).removeClass(catString+'_on');
			$('#'+catID).removeClass(catString+'_hover_on');
			$('#'+catID).addClass(catString+'_hover');
			$('#'+catID).addClass(catString+'_hover_off');
			if (p1CatAllToImg == 1) {
				$('#'+catID+"All").removeClass(catString+'_all_off');
				$('#'+catID+"All").removeClass(catString+'_all_on');
				$('#'+catID+"All").removeClass(catString+'_all_hover_on');
				$('#'+catID+"All").addClass(catString+'_all_hover');
				$('#'+catID+"All").addClass(catString+'_all_hover_off');
			}
		}
		else if ($('#'+catID).hasClass(catString+'_on')) {
			$('#'+catID).removeClass(catString+'_off');
			$('#'+catID).removeClass(catString+'_on');
			$('#'+catID).removeClass(catString+'_hover_off');
			$('#'+catID).addClass(catString+'_hover');
			$('#'+catID).addClass(catString+'_hover_on');
			if (p1CatAllToImg == 1) {
				$('#'+catID+"All").removeClass(catString+'_all_off');
				$('#'+catID+"All").removeClass(catString+'_all_on');
				$('#'+catID+"All").removeClass(catString+'_all_hover_off');
				$('#'+catID+"All").addClass(catString+'_all_hover');
				$('#'+catID+"All").addClass(catString+'_all_hover_on');
			}
		}
	}
}
function panel1CatMouseOut (catID, catString, catVar) {
	if (document.getElementById(catID)) {
		if ($('#'+catID).hasClass(catString+'_hover_off')) {
			$('#'+catID).removeClass(catString+'_hover');
			$('#'+catID).removeClass(catString+'_on');
			$('#'+catID).removeClass(catString+'_hover_on');
			$('#'+catID).removeClass(catString+'_hover_off');
			$('#'+catID).addClass(catString+'_off');
			if (p1CatAllToImg == 1) {
				$('#'+catID+"All").removeClass(catString+'_all_hover');
				$('#'+catID+"All").removeClass(catString+'_all_hover_off');
				$('#'+catID+"All").removeClass(catString+'_all_hover_on');
				$('#'+catID+"All").removeClass(catString+'_all_on');
				$('#'+catID+"All").addClass(catString+'_all_off');
			}
		}
		else if ($('#'+catID).hasClass(catString+'_hover_on')) {
			$('#'+catID).removeClass(catString+'_hover');
			$('#'+catID).removeClass(catString+'_off');
			$('#'+catID).removeClass(catString+'_hover_on');
			$('#'+catID).removeClass(catString+'_hover_off');
			$('#'+catID).addClass(catString+'_on');
			if (p1CatAllToImg == 1) {
				$('#'+catID+"All").removeClass(catString+'_all_hover');
				$('#'+catID+"All").removeClass(catString+'_all_hover_off');
				$('#'+catID+"All").removeClass(catString+'_all_hover_on');
				$('#'+catID+"All").removeClass(catString+'_all_off');
				$('#'+catID+"All").addClass(catString+'_all_on');
			}
		}
	}
}
function panel1FamImgReplace(whatState,whatID) {
	if (whatState == 1) {
		if (document.getElementById('panel1FamilyBigImg'+whatID) && window['panel1FamilyNameVar'+whatID] == 0) {
			var baseImg = document.getElementById('panel1FamilyBigImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck != "_2") {
				var baseStart = baseImg.substr(0,(baseLength-4));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1FamilyBigImg'+whatID).src = baseStart + "_2" + baseEnd;
			}
		}
		if (document.getElementById('panel1FamilySmImg'+whatID) && window['panel1FamilyNameVar'+whatID] == 0) {
			var baseImg = document.getElementById('panel1FamilySmImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck != "_2") {
				var baseStart = baseImg.substr(0,(baseLength-4));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1FamilySmImg'+whatID).src = baseStart + "_2" + baseEnd;
			}
		}
	}
	else {
		if (document.getElementById('panel1FamilyBigImg'+whatID) && window['panel1FamilyNameVar'+whatID] == 0) {
			var baseImg = document.getElementById('panel1FamilyBigImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck == "_2") {
				var baseStart = baseImg.substr(0,(baseLength-6));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1FamilyBigImg'+whatID).src = baseStart + baseEnd;
			}
		}
		if (document.getElementById('panel1FamilySmImg'+whatID) && window['panel1FamilyNameVar'+whatID] == 0) {
			var baseImg = document.getElementById('panel1FamilySmImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck == "_2") {
				var baseStart = baseImg.substr(0,(baseLength-6));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1FamilySmImg'+whatID).src = baseStart + baseEnd;
			}
		}
	}
}
function panel1CatImgReplace(whatState,whatID) {
	if (whatState == 1) {
		if (document.getElementById('panel1CategoryBigImg'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_big_img_"+whatID).hasClass("img_replace_active")) {
			var baseImg = document.getElementById('panel1CategoryBigImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck != "_2") {
				var baseStart = baseImg.substr(0,(baseLength-4));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1CategoryBigImg'+whatID).src = baseStart + "_2" + baseEnd;
			}
		}
		if (document.getElementById('panel1CategoryBigImgDivBack'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_big_img_div_back_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_category_big_img_div_over_"+whatID).show();
			$(".panel_1_category_big_img_div_back_"+whatID).removeClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+whatID).addClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImg'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_big_img_"+whatID).hasClass("img_replace_active")) {
			var baseImg = document.getElementById('panel1CategorySmImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck != "_2") {
				var baseStart = baseImg.substr(0,(baseLength-4));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1CategorySmImg'+whatID).src = baseStart + "_2" + baseEnd;
			}
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_sm_img_div_back_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_category_sm_img_div_over_"+whatID).show();
			$(".panel_1_category_sm_img_div_back_"+whatID).removeClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+whatID).addClass('panel_1_category_sm_img_div_back_on');
		}
	}
	else {
		if (document.getElementById('panel1CategoryBigImg'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_big_img_"+whatID).hasClass("img_replace_active")) {
			var baseImg = document.getElementById('panel1CategoryBigImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck == "_2") {
				var baseStart = baseImg.substr(0,(baseLength-6));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1CategoryBigImg'+whatID).src = baseStart + baseEnd;
			}
		}
		if (document.getElementById('panel1CategoryBigImgDivBack'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_big_img_div_back_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_category_big_img_div_over_"+whatID).hide();
			$(".panel_1_category_big_img_div_back_"+whatID).addClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+whatID).removeClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImg'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_big_img_"+whatID).hasClass("img_replace_active")) {
			var baseImg = document.getElementById('panel1CategorySmImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck == "_2") {
				var baseStart = baseImg.substr(0,(baseLength-6));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1CategorySmImg'+whatID).src = baseStart + baseEnd;
			}
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_sm_img_div_back_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_category_sm_img_div_over_"+whatID).hide();
			$(".panel_1_category_sm_img_div_back_"+whatID).addClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+whatID).removeClass('panel_1_category_sm_img_div_back_on');
		}
	}
}
function panel1CatHoverWait() {
	for (x=0; x<catArray.length; x++) {
		var hoverIt = 1;
		if (window['catActiveTrack'+catArray[x][0]] == 1) {
			for (g=0; g<prodDisplayArray.length; g++) {
				if (prodDisplayArray[g][8] == catArray[x][0] && prodDisplayArray[g][9] == 1) {
					hoverIt = 0;
					break;
				}
			}
		}
		if (hoverIt == 1) {
			if (document.getElementById('panel1CategoryBigImgDivBack'+catArray[x][0])) {
				if ($('#panel1CategoryBigImgDivBack'+catArray[x][0]).is(":hover") || $('#panel1CategoryBigImgDivOver'+catArray[x][0]).is(":hover") || $('#panel1CategoryName'+catArray[x][0]).is(":hover")) {}
				else{
	    			if ($('#panel1CategoryBigImgDivBack'+catArray[x][0]).hasClass('panel_1_category_big_img_div_back_on') && catArray[x][9] == 0) {
						if(gLog==1){console.log("panel1CatHoverWait - Removed Hover: " + catArray[x][0]);}
						$(".panel_1_category_big_img_div_over_"+catArray[x][0]).fadeOut(150);
						$(".panel_1_category_big_img_div_back_"+catArray[x][0]).addClass('panel_1_category_big_img_div_back_off');
						$(".panel_1_category_big_img_div_back_"+catArray[x][0]).removeClass('panel_1_category_big_img_div_back_on');
	    			}
	    		}
	 		}
			if (document.getElementById('panel1CategorySmImgDivBack'+catArray[x][0])) {
	 			if ($('#panel1CategorySmImgDivBack'+catArray[x][0]).is(":hover") || $('#panel1CategorySmImgDivOver'+catArray[x][0]).is(":hover") || $('#panel1CategoryName'+catArray[x][0]).is(":hover")) {}
				else{
	   				if ($('#panel1CategorySmImgDivBack'+catArray[x][0]).hasClass('panel_1_category_sm_img_div_back_on') && catArray[x][9] == 0) {
						if(gLog==1){console.log("panel1CatHoverWait - Removed Hover: " + catArray[x][0]);}
						$(".panel_1_category_sm_img_div_over_"+catArray[x][0]).fadeOut(150);
						$(".panel_1_category_sm_img_div_back_"+catArray[x][0]).addClass('panel_1_category_sm_img_div_back_off');
						$(".panel_1_category_sm_img_div_back_"+catArray[x][0]).removeClass('panel_1_category_sm_img_div_back_on');
	    			}
	    		}
			}
		}
	}
}
function panel1ProdImgReplace(whatState,whatID) {
	if (whatState == 1) {
		if (document.getElementById('panel1ProductBigImg'+whatID) && window['panel1ProductNameVar'+whatID] == 0) {
			var baseImg = document.getElementById('panel1ProductBigImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck != "_2") {
				var baseStart = baseImg.substr(0,(baseLength-4));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1ProductBigImg'+whatID).src = baseStart + "_2" + baseEnd;
			}
		}
		if (document.getElementById('panel1ProductBigImgDivBack'+whatID) && window['panel1ProductNameVar'+whatID] == 0) {
			$(".panel_1_product_big_img_div_over_"+whatID).fadeIn(150);
			$(".panel_1_product_big_img_div_back_"+whatID).removeClass('panel_1_product_big_img_div_back_off');
			$(".panel_1_product_big_img_div_back_"+whatID).addClass('panel_1_product_big_img_div_back_on');
		}
		if (document.getElementById('panel1ProductSmImg'+whatID) && window['panel1ProductNameVar'+whatID] == 0) {
			var baseImg = document.getElementById('panel1ProductSmImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck != "_2") {
				var baseStart = baseImg.substr(0,(baseLength-4));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1ProductSmImg'+whatID).src = baseStart + "_2" + baseEnd;
			}
		}
		if (document.getElementById('panel1ProductSmImgDivBack'+whatID) && window['panel1ProductNameVar'+whatID] == 0) {
			$(".panel_1_product_sm_img_div_over_"+whatID).fadeIn(150);
			$(".panel_1_product_sm_img_div_back_"+whatID).removeClass('panel_1_product_sm_img_div_back_off');
			$(".panel_1_product_sm_img_div_back_"+whatID).addClass('panel_1_product_sm_img_div_back_on');
		}
	}
	else {
		if (document.getElementById('panel1ProductBigImg'+whatID) && window['panel1ProductNameVar'+whatID] == 0) {
			var baseImg = document.getElementById('panel1ProductBigImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck == "_2") {
				var baseStart = baseImg.substr(0,(baseLength-6));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1ProductBigImg'+whatID).src = baseStart + baseEnd;
			}
		}
		if (document.getElementById('panel1ProductBigImgDivBack'+whatID) && window['panel1ProductNameVar'+whatID] == 0) {
			$(".panel_1_product_big_img_div_over_"+whatID).fadeOut(150);
			$(".panel_1_product_big_img_div_back_"+whatID).addClass('panel_1_product_big_img_div_back_off');
			$(".panel_1_product_big_img_div_back_"+whatID).removeClass('panel_1_product_big_img_div_back_on');
		}
		if (document.getElementById('panel1ProductSmImg'+whatID) && window['panel1ProductNameVar'+whatID] == 0) {
			var baseImg = document.getElementById('panel1ProductSmImg'+whatID).src;
			var baseLength = baseImg.length;
			var baseCheck = baseImg.substr((baseLength-6),2);
			if (baseCheck == "_2") {
				var baseStart = baseImg.substr(0,(baseLength-6));
				var baseEnd = baseImg.substr((baseLength-4),baseLength);
				document.getElementById('panel1ProductSmImg'+whatID).src = baseStart + baseEnd;
			}
		}
		if (document.getElementById('panel1ProductSmImgDivBack'+whatID) && window['panel1ProductNameVar'+whatID] == 0) {
			$(".panel_1_product_sm_img_div_over_"+whatID).fadeOut(150);
			$(".panel_1_product_sm_img_div_back_"+whatID).addClass('panel_1_product_sm_img_div_back_off');
			$(".panel_1_product_sm_img_div_back_"+whatID).removeClass('panel_1_product_sm_img_div_back_on');
		}
	}
}
function panel1ProdHoverWait() {
	for (x=0; x<prodDisplayArray.length; x++) {
		if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[x][0])) {
			if ($('#panel1ProductBigImgDivBack'+prodDisplayArray[x][0]).is(":hover") || $('#panel1ProductBigImgDivOver'+prodDisplayArray[x][0]).is(":hover") || $('#panel1ProductName'+prodDisplayArray[x][0]).is(":hover")) {}
			else{
    			if ($('#panel1ProductBigImgDivBack'+prodDisplayArray[x][0]).hasClass('panel_1_product_big_img_div_back_on') && window['panel1ProductNameVar'+prodDisplayArray[x][0]] == 0) {
					if(gLog==1){console.log("panel1ProdHoverWait - Removed Hover: " + prodDisplayArray[x][0]);}
					$(".panel_1_product_big_img_div_over_"+prodDisplayArray[x][0]).fadeOut(150);
					$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_big_img_div_back_off');
					$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_big_img_div_back_on');
    			}
    		}
 		}
		if (document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[x][0])) {
 			if ($('#panel1ProductSmImgDivBack'+prodDisplayArray[x][0]).is(":hover") || $('#panel1ProductSmImgDivOver'+prodDisplayArray[x][0]).is(":hover") || $('#panel1ProductName'+prodDisplayArray[x][0]).is(":hover")) {}
			else{
   				if ($('#panel1ProductSmImgDivBack'+prodDisplayArray[x][0]).hasClass('panel_1_product_sm_img_div_back_on') && window['panel1ProductNameVar'+prodDisplayArray[x][0]] == 0) {
					if(gLog==1){console.log("panel1ProdHoverWait - Removed Hover: " + prodDisplayArray[x][0]);}
					$(".panel_1_product_sm_img_div_over_"+prodDisplayArray[x][0]).fadeOut(150);
					$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_sm_img_div_back_off');
					$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_sm_img_div_back_on');
    			}
    		}
		}
	}
}
function panel1CatSelectForce(theSet) {
	if (theSet == 0) {
		if(gLog==1){console.log("panel1CatSelectForce - Type: " + theSet);}
		for (c=0; c<catArray.length; c++) {
			if (catArray[c][6] == 1) {
				if(gLog==1){console.log("panel1CatSelectForce - Deactivate: " + catArray[c][0]);}
				panel1CatSelectProducts(catArray[c][0], "panel1CategoryName"+catArray[c][0], "panel_1_category_name", 1, "panel1CategoryNameVar"+catArray[c][0],2);
			}
		}
		prodCartArray.length = 0;
	}
	else if (theSet == 1) {
		if(gLog==1){console.log("panel1CatSelectForce - Type: " + theSet + " / p1SimpFillCatArray.length: " + p1SimpFillCatArray.length);}
		var foundOffCat = 0;
		if (p1SimpFillCatArray.length) {
			for (r=0; r<p1SimpFillCatArray.length; r++) {
				for (o=0; o<catArray.length; o++) {
					if (catArray[o][6] == 0 && catArray[o][0] == p1SimpFillCatArray[r]) {
						foundOffCat = 1;
						break;
					}
				}
				if (foundOffCat == 1) {
					break;
				}
			}
			if (foundOffCat == 1) {
				for (r=0; r<p1SimpFillCatArray.length; r++) {
					for (o=0; o<catArray.length; o++) {
						if (catArray[o][6] == 0 && catArray[o][0] == p1SimpFillCatArray[r]) {
							if(gLog==1){console.log("panel1CatSelectForce - Activate: " + catArray[o][0]);}
							panel1CatSelectProducts(catArray[o][0], "panel1CategoryName"+catArray[o][0], "panel_1_category_name", 0, "panel1CategoryNameVar"+catArray[o][0],3);
						}
					}
				}
			}
			else {
				for (r=0; r<p1SimpFillCatArray.length; r++) {
					for (o=0; o<catArray.length; o++) {
						if (catArray[o][6] == 1 && catArray[o][0] == p1SimpFillCatArray[r]) {
							if(gLog==1){console.log("panel1CatSelectForce - Deactivate: " + catArray[o][0]);}
							panel1CatSelectProducts(catArray[o][0], "panel1CategoryName"+catArray[o][0], "panel_1_category_name", 1, "panel1CategoryNameVar"+catArray[o][0],3);
						}
					}
				}
			}
		}
		else {
			for (o=0; o<catArray.length; o++) {
				if (catArray[o][6] == 0) {
					foundOffCat = 1;
					break;
				}
			}
			if (foundOffCat == 1) {
				for (o=0; o<catArray.length; o++) {
					if(gLog==1){console.log("panel1CatSelectForce - Activate: " + catArray[o][0]);}
					panel1CatSelectProducts(catArray[o][0], "panel1CategoryName"+catArray[o][0], "panel_1_category_name", 0, "panel1CategoryNameVar"+catArray[o][0],3);
				}
			}
			else {
				for (o=0; o<catArray.length; o++) {
					if(gLog==1){console.log("panel1CatSelectForce - Deactivate: " + catArray[o][0]);}
					panel1CatSelectProducts(catArray[o][0], "panel1CategoryName"+catArray[o][0], "panel_1_category_name", 1, "panel1CategoryNameVar"+catArray[o][0],3);
				}
			}
		}
	}
	if (allOnOne == 1 && onretOn == 2) {
		p1CAWriteEcommList();
	}
	panel1ProdCartDraw();
}
function panel1CatSelectProducts(catSQLID, catID, catString, catVar, catVarSet, prodCartCheck) {
	if(gLog==1){console.log("panel1CatSelectProducts - catSQLID/catVar/prodCartCheck: ", catSQLID, catVar, prodCartCheck);}
	if (document.getElementById(catID)) {
		if (catVar == 0) {
			if(gLog==1){console.log("panel1CatSelectProducts - catVar == 0");}
			if (categoryNoSelect == 0) {
				$('#'+catID).removeClass(catString+'_hover');
				$('#'+catID).removeClass(catString+'_hover_off');
				$('#'+catID).removeClass(catString+'_off');
				$('#'+catID).addClass(catString+'_on');
			}
			$('#'+catID+"All").removeClass(catString+'_hover');
			$('#'+catID+"All").removeClass(catString+'_hover_off');
			$('#'+catID+"All").removeClass(catString+'_off');
			$('#'+catID+"All").addClass(catString+'_on');
			for (y=0;y<catArray.length;y++) {
				if (catSQLID == catArray[y][0]) {
					catArray[y][6] = 1;
					catArray[y][9] = 1;
					break;
				}
			}
			if (document.getElementById('panel1CategoryBigImg'+catSQLID) && $('#panel1CategoryBigImg'+catSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategoryBigImg'+catSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategoryBigImg'+catSQLID).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1CategoryBigImgDivBack'+catSQLID) && $('#panel1CategoryBigImgDivBack'+catSQLID).hasClass('img_replace_active')) {
				$(".panel_1_category_big_img_div_over_"+catSQLID).fadeIn(50);
				$(".panel_1_category_big_img_div_back_"+catSQLID).removeClass('panel_1_category_big_img_div_back_off');
				$(".panel_1_category_big_img_div_back_"+catSQLID).addClass('panel_1_category_big_img_div_back_on');
			}
			if (document.getElementById('panel1CategorySmImg'+catSQLID) && $('#panel1CategorySmImg'+catSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategorySmImg'+catSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategorySmImg'+catSQLID).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1CategorySmImgDivBack'+catSQLID) && $('#panel1CategorySmImgDivBack'+catSQLID).hasClass('img_replace_active')) {
				$(".panel_1_category_sm_img_div_over_"+catSQLID).fadeIn(50);
				$(".panel_1_category_sm_img_div_back_"+catSQLID).removeClass('panel_1_category_sm_img_div_back_off');
				$(".panel_1_category_sm_img_div_back_"+catSQLID).addClass('panel_1_category_sm_img_div_back_on');
			}
			for (n=0; n<prodDisplayArray.length; n++) {
				if (prodDisplayArray[n][8] == catSQLID) {
					window[('panel1ProductNameVar'+prodDisplayArray[n][0])] = 0;
					//panel1ProdSelect(prodDisplayArray[n][0], prodDisplayArray[n][1], ('panel1ProductName'+prodDisplayArray[n][0]), 'panel_1_product_name', 0, ('panel1ProductNameVar'+prodDisplayArray[n][0]));
					$('#panel1ProductName'+prodDisplayArray[n][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+prodDisplayArray[n][0]).removeClass('panel_1_product_name_off');
					$('#panel1ProductName'+prodDisplayArray[n][0]).addClass('panel_1_product_name_on');
					if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[n][0]) && $('#panel1ProductBigImg'+prodDisplayArray[n][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductBigImg'+prodDisplayArray[n][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck != "_2") {
							var baseStart = baseImg.substr(0,(baseLength-4));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductBigImg'+prodDisplayArray[n][0]).src = baseStart + "_2" + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[n][0]) && $('#panel1ProductBigImgDivBack'+prodDisplayArray[n][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_big_img_div_over_"+prodDisplayArray[n][0]).fadeIn(50);
						$(".panel_1_product_big_img_div_back_"+prodDisplayArray[n][0]).removeClass('panel_1_product_big_img_div_back_off');
						$(".panel_1_product_big_img_div_back_"+prodDisplayArray[n][0]).addClass('panel_1_product_big_img_div_back_on');
					}
					if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[n][0]) && $('#panel1ProductSmImg'+prodDisplayArray[n][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductSmImg'+prodDisplayArray[n][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck != "_2") {
							var baseStart = baseImg.substr(0,(baseLength-4));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductSmImg'+prodDisplayArray[n][0]).src = baseStart + "_2" + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[n][0]) && $('#panel1ProductSmImgDivBack'+prodDisplayArray[n][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_sm_img_div_over_"+prodDisplayArray[n][0]).fadeIn(50);
						$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[n][0]).removeClass('panel_1_product_sm_img_div_back_off');
						$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[n][0]).addClass('panel_1_product_sm_img_div_back_on');
					}
					for (j=0;j<prodDisplayArray.length;j++) {
						if (prodDisplayArray[n][0] == prodDisplayArray[j][0]) {
							prodDisplayArray[j][9] = "1";
							break;
						}
					}
					window['panel1ProductNameVar'+prodDisplayArray[n][0]] = 1;
					if (prodCartCheck == 2 || prodCartCheck == 3) {
						var isInCart = 0;
						for (j=0;j<prodCartArray.length; j++) {
							if (prodCartArray[j] == prodDisplayArray[n][0]) {
								isInCart = 1;
								break;
							}
						}
						if (isInCart == 0) {
							if(gLog==1){console.log("panel1CatSelectProducts - catVar == 0 / isInCart == 0");}
							prodCartArray.push(prodDisplayArray[n][0]);
							$('#panel1CartButton'+prodDisplayArray[n][0]).removeClass('panel_1_cart_button_hover');
							$('#panel1CartButton'+prodDisplayArray[n][0]).removeClass('panel_1_cart_button_off');
							$('#panel1CartButton'+prodDisplayArray[n][0]).addClass('panel_1_cart_button_on');
						}
						else {
						}
					}
				}
			}
			window[catVarSet] = 1;
		}
		else {
			if(gLog==1){console.log("panel1CatSelectProducts - catVar != 0");}
			if (categoryNoSelect == 0) {
				$('#'+catID).removeClass(catString+'_hover');
				$('#'+catID).removeClass(catString+'_hover_on');
				$('#'+catID).removeClass(catString+'_on');
				$('#'+catID).addClass(catString+'_off');
			}
			$('#'+catID+"All").removeClass(catString+'_hover');
			$('#'+catID+"All").removeClass(catString+'_hover_on');
			$('#'+catID+"All").removeClass(catString+'_on');
			$('#'+catID+"All").addClass(catString+'_off');
			if (document.getElementById('panel1CategoryBigImg'+catSQLID) && $('#panel1CategoryBigImg'+catSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategoryBigImg'+catSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategoryBigImg'+catSQLID).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1CategoryBigImgDivBack'+catSQLID) && $('#panel1CategoryBigImgDivBack'+catSQLID).hasClass('img_replace_active')) {
				$(".panel_1_category_big_img_div_over_"+catSQLID).fadeOut(50);
				$(".panel_1_category_big_img_div_back_"+catSQLID).addClass('panel_1_category_big_img_div_back_off');
				$(".panel_1_category_big_img_div_back_"+catSQLID).removeClass('panel_1_category_big_img_div_back_on');
			}
			if (document.getElementById('panel1CategorySmImg'+catSQLID) && $('#panel1CategorySmImg'+catSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategorySmImg'+catSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategorySmImg'+catSQLID).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1CategorySmImgDivBack'+catSQLID) && $('#panel1CategorySmImgDivBack'+catSQLID).hasClass('img_replace_active')) {
				$(".panel_1_category_sm_img_div_over_"+catSQLID).fadeOut(50);
				$(".panel_1_category_sm_img_div_back_"+catSQLID).addClass('panel_1_category_sm_img_div_back_off');
				$(".panel_1_category_sm_img_div_back_"+catSQLID).removeClass('panel_1_category_sm_img_div_back_on');
			}
			for (y=0;y<catArray.length;y++) {
				if (catSQLID == catArray[y][0]) {
					catArray[y][6] = 0;
					catArray[y][9] = 0;
					break;
				}
			}
			for (n=0; n<prodDisplayArray.length; n++) {
				if (prodDisplayArray[n][8] == catSQLID) {
					window[('panel1ProductNameVar'+prodDisplayArray[n][0])] = 1;
					//panel1ProdSelect(prodDisplayArray[n][0], prodDisplayArray[n][1], ('panel1ProductName'+prodDisplayArray[n][0]), 'panel_1_product_name', 1, ('panel1ProductNameVar'+prodDisplayArray[n][0]));
					$('#panel1ProductName'+prodDisplayArray[n][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+prodDisplayArray[n][0]).removeClass('panel_1_product_name_on');
					$('#panel1ProductName'+prodDisplayArray[n][0]).addClass('panel_1_product_name_off');
					if (document.getElementById('panel1ProductBigImg'+prodDisplayArray[n][0]) && $('#panel1ProductBigImg'+prodDisplayArray[n][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductBigImg'+prodDisplayArray[n][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck == "_2") {
							var baseStart = baseImg.substr(0,(baseLength-6));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductBigImg'+prodDisplayArray[n][0]).src = baseStart + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[n][0]) && $('#panel1ProductBigImgDivBack'+prodDisplayArray[n][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_big_img_div_over_"+prodDisplayArray[n][0]).fadeOut(50);
						$(".panel_1_product_big_img_div_back_"+prodDisplayArray[n][0]).addClass('panel_1_product_big_img_div_back_off');
						$(".panel_1_product_big_img_div_back_"+prodDisplayArray[n][0]).removeClass('panel_1_product_big_img_div_back_on');
					}
					if (document.getElementById('panel1ProductSmImg'+prodDisplayArray[n][0]) && $('#panel1ProductSmImg'+prodDisplayArray[n][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductSmImg'+prodDisplayArray[n][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck == "_2") {
							var baseStart = baseImg.substr(0,(baseLength-6));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductSmImg'+prodDisplayArray[n][0]).src = baseStart + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductSmImgDivBack'+prodDisplayArray[n][0]) && $('#panel1ProductSmImgDivBack'+prodDisplayArray[n][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_sm_img_div_over_"+prodDisplayArray[n][0]).fadeOut(50);
						$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[n][0]).addClass('panel_1_product_sm_img_div_back_off');
						$(".panel_1_product_sm_img_div_back_"+prodDisplayArray[n][0]).removeClass('panel_1_product_sm_img_div_back_on');
					}
					for (j=0;j<prodDisplayArray.length;j++) {
						if (prodDisplayArray[n][0] == prodDisplayArray[j][0]) {
							prodDisplayArray[j][9] = "0";
							break;
						}
					}
					window['panel1ProductNameVar'+prodDisplayArray[n][0]] = 0;
					if (prodCartCheck == 2 || prodCartCheck == 3) {
						var isInCart = 0;
						for (j=0;j<prodCartArray.length; j++) {
							if (prodCartArray[j] == prodDisplayArray[n][0]) {
								isInCart = 1;
								break;
							}
						}
						if (isInCart == 0) {
							if(gLog==1){console.log("panel1CatSelectProducts - catVar != 0 / isInCart == 0");}
							prodCartArray.push(prodDisplayArray[n][0]);
						}
						else {
							var tempCartArray = [];
							for (g=0;g<prodCartArray.length;g++) {
								if (prodCartArray[g] != prodDisplayArray[n][0]) {
									tempCartArray.push(prodCartArray[g]);
								}
								else {
									$('#panel1CartButton'+prodCartArray[g]).removeClass('panel_1_cart_button_hover');
									$('#panel1CartButton'+prodCartArray[g]).removeClass('panel_1_cart_button_on');
									$('#panel1CartButton'+prodCartArray[g]).addClass('panel_1_cart_button_off');
								}
							}
							prodCartArray.length = 0;
							for (m=0;m<tempCartArray.length;m++) {
								prodCartArray[m] = tempCartArray[m];
							}
						}
					}
				}
			}
			window[catVarSet] = 0;
		}
	}
	var thisAllOn = 1;
	for (p=0; p<prodDisplayArray.length; p++) {
		if (prodDisplayArray[p][9] == 0) {
			thisAllOn = 0;
			break;
		}
	}
	if (thisAllOn == 0) {
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_hover');
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_on');
		$('.panel_1_allfam_button').addClass('panel_1_allfam_button_off');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_hover');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_on');
		$('.panel_1_allcat_button').addClass('panel_1_allcat_button_off');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_hover');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_on');
		$('.panel_1_allprod_button').addClass('panel_1_allprod_button_off');
	}
	else {
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_hover');
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_off');
		$('.panel_1_allfam_button').addClass('panel_1_allfam_button_on');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_hover');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_off');
		$('.panel_1_allcat_button').addClass('panel_1_allcat_button_on');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_hover');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_off');
		$('.panel_1_allprod_button').addClass('panel_1_allprod_button_on');
	}
	if (prodCartArray.length == 0) {
		if (document.getElementById("panel1OnRetResultsShell")) {
			document.getElementById("panel1OnRetResultsShell").innerHTML = autotextIt(p0TemplateSet.onlineListNoneDiv,"onlineListNone");
		}
	}
	if (prodCartCheck == 2) {
		if (allOnOne == 1 && onretOn == 2) {
			p1CAWriteEcommList();
		}
		panel1ProdCartDraw();
	}
}
function panel1ProdMouseOver (prodID, prodString, prodVar, indVal) {
	prodDisplayArray[indVal][20] = 1;
	if (document.getElementById(prodID)) {
		if (prodVar == 0) {
			$('#'+prodID).removeClass(prodString+'_on');
			$('#'+prodID).removeClass(prodString+'_off');
			$('#'+prodID).addClass(prodString+'_hover');
		}
		else {
			$('#'+prodID).removeClass(prodString+'_off');
			$('#'+prodID).removeClass(prodString+'_on');
			$('#'+prodID).addClass(prodString+'_hover');
		}
	}
}
function panel1ProdMouseOut (prodID, prodString, prodVar, indVal) {
	prodDisplayArray[indVal][20] = 0;
	if (document.getElementById(prodID)) {
		if (prodVar == 0) {
			$('#'+prodID).removeClass(prodString+'_hover');
			$('#'+prodID).addClass(prodString+'_off');
		}
		else {
			$('#'+prodID).removeClass(prodString+'_hover');
			$('#'+prodID).addClass(prodString+'_on');
		}
	}
}
function panel1ProdSelect(prodSQLID, prodSKU, prodID, prodString, prodVar, prodVarSet) {
	if (document.getElementById(prodID)) {
		if (prodVar == 0) {
			$('#'+prodID).removeClass(prodString+'_hover');
			$('#'+prodID).removeClass(prodString+'_off');
			$('#'+prodID).addClass(prodString+'_on');
			if (document.getElementById('panel1ProductBigImg'+prodSQLID) && $('#panel1ProductBigImg'+prodSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductBigImg'+prodSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductBigImg'+prodSQLID).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductBigImgDivBack'+prodSQLID) && $('#panel1ProductBigImgDivBack'+prodSQLID).hasClass('img_replace_active')) {
				$(".panel_1_product_big_img_div_over_"+prodSQLID).fadeIn(50);
				$(".panel_1_product_big_img_div_back_"+prodSQLID).removeClass('panel_1_product_big_img_div_back_off');
				$(".panel_1_product_big_img_div_back_"+prodSQLID).addClass('panel_1_product_big_img_div_back_on');
			}
			if (document.getElementById('panel1ProductSmImg'+prodSQLID) && $('#panel1ProductSmImg'+prodSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductSmImg'+prodSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductSmImg'+prodSQLID).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductSmImgDivBack'+prodSQLID) && $('#panel1ProductSmImgDivBack'+prodSQLID).hasClass('img_replace_active')) {
				$(".panel_1_product_sm_img_div_over_"+prodSQLID).fadeIn(50);
				$(".panel_1_product_sm_img_div_back_"+prodSQLID).removeClass('panel_1_product_sm_img_div_back_off');
				$(".panel_1_product_sm_img_div_back_"+prodSQLID).addClass('panel_1_product_sm_img_div_back_on');
			}
			for (j=0;j<prodDisplayArray.length;j++) {
				if (prodSQLID == prodDisplayArray[j][0]) {
					prodDisplayArray[j][9] = "1";
					break;
				}
			}
			window[prodVarSet] = 1;
		}
		else {
			$('#'+prodID).removeClass(prodString+'_hover');
			$('#'+prodID).removeClass(prodString+'_on');
			$('#'+prodID).addClass(prodString+'_off');
			if (document.getElementById('panel1ProductBigImg'+prodSQLID) && $('#panel1ProductBigImg'+prodSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductBigImg'+prodSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductBigImg'+prodSQLID).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductBigImgDivBack'+prodSQLID) && $('#panel1ProductBigImgDivBack'+prodSQLID).hasClass('img_replace_active')) {
				$(".panel_1_product_big_img_div_over_"+prodSQLID).fadeOut(50);
				$(".panel_1_product_big_img_div_back_"+prodSQLID).addClass('panel_1_product_big_img_div_back_off');
				$(".panel_1_product_big_img_div_back_"+prodSQLID).removeClass('panel_1_product_big_img_div_back_on');
			}
			if (document.getElementById('panel1ProductSmImg'+prodSQLID) && $('#panel1ProductSmImg'+prodSQLID).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1ProductSmImg'+prodSQLID).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1ProductSmImg'+prodSQLID).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1ProductSmImgDivBack'+prodSQLID) && $('#panel1ProductSmImgDivBack'+prodSQLID).hasClass('img_replace_active')) {
				$(".panel_1_product_sm_img_div_over_"+prodSQLID).fadeOut(50);
				$(".panel_1_product_sm_img_div_back_"+prodSQLID).addClass('panel_1_product_sm_img_div_back_off');
				$(".panel_1_product_sm_img_div_back_"+prodSQLID).removeClass('panel_1_product_sm_img_div_back_on');
			}
			for (j=0;j<prodDisplayArray.length;j++) {
				if (prodSQLID == prodDisplayArray[j][0]) {
					prodDisplayArray[j][9] = "0";
					break;
				}
			}
			window[prodVarSet] = 0;
		}
	}
	var completeGroup = 1;
	for (j=0; j<prodDisplayArray.length; j++) {
		if (prodSQLID == prodDisplayArray[j][0]) {
			var catToCheck = prodDisplayArray[j][8];
			break;
		}
	}
	if (document.getElementById('panel1CategoryName'+catToCheck)) {
		var someInCat = 0;
		for (y=0; y<prodDisplayArray.length; y++) {
			if (catToCheck == prodDisplayArray[y][8] && prodDisplayArray[y][9] == 0) {
				completeGroup = 0;
			}
			else if (catToCheck == prodDisplayArray[y][8] && prodDisplayArray[y][9] == 1) {
				someInCat = 1;
			}
		}
		if (completeGroup == 1) {
			if(gLog==1){console.log("panel1ProdSelect - Activate Category Image completeGroup == 1: " + catToCheck);}
			$('#panel1CategoryName'+catToCheck).removeClass('panel_1_category_name_hover');
			$('#panel1CategoryName'+catToCheck).removeClass('panel_1_category_name_off');
			$('#panel1CategoryName'+catToCheck).addClass('panel_1_category_name_on');
			$('#panel1CategoryName'+catToCheck+'All').removeClass('panel_1_category_name_all_hover');
			$('#panel1CategoryName'+catToCheck+'All').removeClass('panel_1_category_name_all_off');
			$('#panel1CategoryName'+catToCheck+'All').addClass('panel_1_category_name_all_on');
			for (z=0;z<catArray.length;z++) {
				if (catToCheck == catArray[z][0]) {
					catArray[z][6] = 1;
					catArray[z][9] = someInCat;
					break;
				}
			}
			if (document.getElementById('panel1CategoryBigImg'+catToCheck) && $('#panel1CategoryBigImg'+catToCheck).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategoryBigImg'+catToCheck).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategoryBigImg'+catToCheck).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1CategoryBigImgDivBack'+catToCheck)) {
				$(".panel_1_category_big_img_div_over_"+catToCheck).show();
				$(".panel_1_category_big_img_div_back_"+catToCheck).removeClass('panel_1_category_big_img_div_back_off');
				$(".panel_1_category_big_img_div_back_"+catToCheck).addClass('panel_1_category_big_img_div_back_on');
			}
			if (document.getElementById('panel1CategorySmImg'+catToCheck) && $('#panel1CategorySmImg'+catToCheck).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategorySmImg'+catToCheck).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck != "_2") {
					var baseStart = baseImg.substr(0,(baseLength-4));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategorySmImg'+catToCheck).src = baseStart + "_2" + baseEnd;
				}
			}
			if (document.getElementById('panel1CategorySmImgDivBack'+catToCheck)) {
				$(".panel_1_category_sm_img_div_over_"+catToCheck).show();
				$(".panel_1_category_sm_img_div_back_"+catToCheck).removeClass('panel_1_category_sm_img_div_back_off');
				$(".panel_1_category_sm_img_div_back_"+catToCheck).addClass('panel_1_category_sm_img_div_back_on');
			}
			window['panel1CategoryNameVar'+catToCheck] = 1;
		}
		else {
			if(gLog==1){console.log("panel1ProdSelect - Deactivate Category Image completeGroup == 1: " + catToCheck);}
			$('#panel1CategoryName'+catToCheck).removeClass('panel_1_category_name_hover');
			$('#panel1CategoryName'+catToCheck).removeClass('panel_1_category_name_on');
			$('#panel1CategoryName'+catToCheck).addClass('panel_1_category_name_off');
			$('#panel1CategoryName'+catToCheck+'All').removeClass('panel_1_category_name_all_hover');
			$('#panel1CategoryName'+catToCheck+'All').removeClass('panel_1_category_name_all_on');
			$('#panel1CategoryName'+catToCheck+'All').addClass('panel_1_category_name_all_off');
			for (z=0;z<catArray.length;z++) {
				if (catToCheck == catArray[z][0]) {
					catArray[z][6] = 0;
					catArray[z][9] = someInCat;
					break;
				}
			}
			if (document.getElementById('panel1CategoryBigImg'+catToCheck) && $('#panel1CategoryBigImg'+catToCheck).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategoryBigImg'+catToCheck).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategoryBigImg'+catToCheck).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1CategoryBigImgDivBack'+catToCheck)) {
				$(".panel_1_category_big_img_div_over_"+catToCheck).hide();
				$(".panel_1_category_big_img_div_back_"+catToCheck).addClass('panel_1_category_big_img_div_back_off');
				$(".panel_1_category_big_img_div_back_"+catToCheck).removeClass('panel_1_category_big_img_div_back_on');
			}
			if (document.getElementById('panel1CategorySmImg'+catToCheck) && $('#panel1CategorySmImg'+catToCheck).hasClass('img_replace_active')) {
				var baseImg = document.getElementById('panel1CategorySmImg'+catToCheck).src;
				var baseLength = baseImg.length;
				var baseCheck = baseImg.substr((baseLength-6),2);
				if (baseCheck == "_2") {
					var baseStart = baseImg.substr(0,(baseLength-6));
					var baseEnd = baseImg.substr((baseLength-4),baseLength);
					document.getElementById('panel1CategorySmImg'+catToCheck).src = baseStart + baseEnd;
				}
			}
			if (document.getElementById('panel1CategorySmImgDivBack'+catToCheck)) {
				$(".panel_1_category_sm_img_div_over_"+catToCheck).hide();
				$(".panel_1_category_sm_img_div_back_"+catToCheck).addClass('panel_1_category_sm_img_div_back_off');
				$(".panel_1_category_sm_img_div_back_"+catToCheck).removeClass('panel_1_category_sm_img_div_back_on');
			}
			window['panel1CategoryNameVar'+catToCheck] = 0;
		}
	}
	var gottaCatProd = 0;
	for (q=0; q<prodDisplayArray.length; q++) {
		if (prodDisplayArray[q][8] == catToCheck && prodDisplayArray[q][9] == 1) {
			gottaCatProd = 1;
		}
	}
	if (gottaCatProd == 1) {
		window['panel1CategoryNameVar'+catToCheck] = 1;
		if(gLog==1){console.log("panel1ProdSelect - Activate Category Image gottaCatProd == 1: " + catToCheck);}
		if ($(".panel_1_category_big_img_"+catToCheck).hasClass("img_replace_active")){
			$(".panel_1_category_big_img_"+catToCheck).removeClass("img_replace_active_holder");
			$(".panel_1_category_big_img_"+catToCheck).addClass("img_replace_active_static");
		}
		if ($(".panel_1_category_big_img_div_back_"+catToCheck).hasClass("img_replace_active")){
			$(".panel_1_category_big_img_div_back_"+catToCheck).removeClass('img_replace_active');
			$(".panel_1_category_big_img_div_back_"+catToCheck).addClass('img_replace_active_static');
		}
		if ($(".panel_1_category_sm_img_"+catToCheck).hasClass("img_replace_active")){
			$(".panel_1_category_sm_img_"+catToCheck).removeClass("img_replace_active_holder");
			$(".panel_1_category_sm_img_"+catToCheck).addClass("img_replace_active_static");
		}
		if ($(".panel_1_category_sm_img_div_back_"+catToCheck).hasClass("img_replace_active")){
			$(".panel_1_category_sm_img_div_back_"+catToCheck).removeClass('img_replace_active');
			$(".panel_1_category_sm_img_div_back_"+catToCheck).addClass('img_replace_active_static');
		}
		$(".panel_1_category_big_img_div_over_"+catToCheck).show();
		$(".panel_1_category_big_img_div_back_"+catToCheck).removeClass('panel_1_category_big_img_div_back_off');
		$(".panel_1_category_big_img_div_back_"+catToCheck).addClass('panel_1_category_big_img_div_back_on');
		$(".panel_1_category_sm_img_div_over_"+catToCheck).show();
		$(".panel_1_category_sm_img_div_back_"+catToCheck).removeClass('panel_1_category_sm_img_div_back_off');
		$(".panel_1_category_sm_img_div_back_"+catToCheck).addClass('panel_1_category_sm_img_div_back_on');
	}
	else {
		window['panel1CategoryNameVar'+catToCheck] = 0;
		if(gLog==1){console.log("panel1ProdSelect - Deactivate Category Image gottaCatProd == 1: " + catToCheck);}
		if ($(".panel_1_category_big_img_"+catToCheck).hasClass("img_replace_active")){
			$(".panel_1_category_big_img_"+catToCheck).removeClass("img_replace_active_static");
			$(".panel_1_category_big_img_"+catToCheck).addClass("img_replace_active_holder");
		}
		if ($(".panel_1_category_big_img_div_back_"+catToCheck).hasClass("img_replace_active_static")){
			$(".panel_1_category_big_img_div_back_"+catToCheck).removeClass('img_replace_active_static');
			$(".panel_1_category_big_img_div_back_"+catToCheck).addClass('img_replace_active');
		}
		if ($(".panel_1_category_sm_img_"+catToCheck).hasClass("img_replace_active")){
			$(".panel_1_category_sm_img_"+catToCheck).removeClass("img_replace_active_static");
			$(".panel_1_category_sm_img_"+catToCheck).addClass("img_replace_active_holder");
		}
		if ($(".panel_1_category_sm_img_div_back_"+catToCheck).hasClass("img_replace_active_static")){
			$(".panel_1_category_sm_img_div_back_"+catToCheck).removeClass('img_replace_active_static');
			$(".panel_1_category_sm_img_div_back_"+catToCheck).addClass('img_replace_active');
		}
		$(".panel_1_category_big_img_div_over_"+catToCheck).hide();
		$(".panel_1_category_big_img_div_back_"+catToCheck).addClass('panel_1_category_big_img_div_back_off');
		$(".panel_1_category_big_img_div_back_"+catToCheck).removeClass('panel_1_category_big_img_div_back_on');
		$(".panel_1_category_sm_img_div_over_"+catToCheck).hide();
		$(".panel_1_category_sm_img_div_back_"+catToCheck).addClass('panel_1_category_sm_img_div_back_off');
		$(".panel_1_category_sm_img_div_back_"+catToCheck).removeClass('panel_1_category_sm_img_div_back_on');
	}
	var thisAllOn = 1;
	for (p=0; p<prodDisplayArray.length; p++) {
		if (prodDisplayArray[p][9] == 0) {
			thisAllOn = 0;
			break;
		}
	}
	if (thisAllOn == 0) {
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_hover');
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_on');
		$('.panel_1_allfam_button').addClass('panel_1_allfam_button_off');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_hover');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_on');
		$('.panel_1_allcat_button').addClass('panel_1_allcat_button_off');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_hover');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_on');
		$('.panel_1_allprod_button').addClass('panel_1_allprod_button_off');
	}
	else {
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_hover');
		$('.panel_1_allfam_button').removeClass('panel_1_allfam_button_off');
		$('.panel_1_allfam_button').addClass('panel_1_allfam_button_on');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_hover');
		$('.panel_1_allcat_button').removeClass('panel_1_allcat_button_off');
		$('.panel_1_allcat_button').addClass('panel_1_allcat_button_on');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_hover');
		$('.panel_1_allprod_button').removeClass('panel_1_allprod_button_off');
		$('.panel_1_allprod_button').addClass('panel_1_allprod_button_on');
	}
	if (document.getElementById('p1SelProdLabButton')) {
		if (panel1RedrawVar == 1) {
			caRedrawSelectAll();
		}
		else {
			panel1SelectProdLabel();
		}
	}
}
function panel1StoreFamMouseOver (storeFamID, storeFamString, storeFamVar) {
	if (document.getElementById(storeFamID)) {
		if (storeFamVar == 0) {
			$('#'+storeFamID).removeClass(storeFamString+'_off');
			$('#'+storeFamID).addClass(storeFamString+'_hover');
		}
		else {
			$('#'+storeFamID).removeClass(storeFamString+'_on');
			$('#'+storeFamID).addClass(storeFamString+'_hover');
		}
	}
}
function panel1StoreFamMouseOut (storeFamID, storeFamString, storeFamVar) {
	if (document.getElementById(storeFamID)) {
		if (storeFamVar == 0) {
			$('#'+storeFamID).removeClass(storeFamString+'_hover');
			$('#'+storeFamID).addClass(storeFamString+'_off');
		}
		else {
			$('#'+storeFamID).removeClass(storeFamString+'_hover');
			$('#'+storeFamID).addClass(storeFamString+'_on');
		}
	}
}
function panel1StoreFamSelectCat(storeFamSQLID, storeFamID, storeFamString, storeFamVar, storeFamVarSet) {
	if (document.getElementById(storeFamID)) {
		if (storeFamVar == 0) {
			$('#'+storeFamID).removeClass(storeFamString+'_hover');
			$('#'+storeFamID).removeClass(storeFamString+'_off');
			$('#'+storeFamID).addClass(storeFamString+'_on');
			for (x=0; x<storeCatArray.length; x++) {
				if (storeCatArray[x][2] == storeFamSQLID) {
					window[('panel1StoreCategoryNameVar'+storeCatArray[x][0])] = 0;
					panel1StoreSelectCat(storeCatArray[x][0], ('panel1StoreCategoryName'+storeCatArray[x][0]), 'panel_1_store_category_name', 0, ('panel1StoreCategoryNameVar'+storeCatArray[x][0]));
				}
			}
			window[storeFamVarSet] = 1;
			for (y=0;y<storeFamArray.length;y++) {
				if (storeFamArray[y][0] == storeFamSQLID) {
					storeFamArray[y][4] = 1;
					break;
				}
			}
		}
		else {
			$('#'+storeFamID).removeClass(storeFamString+'_hover');
			$('#'+storeFamID).removeClass(storeFamString+'_on');
			$('#'+storeFamID).addClass(storeFamString+'_off');
			for (x=0; x<storeCatArray.length; x++) {
				if (storeCatArray[x][2] == storeFamSQLID) {
					window[('panel1StoreCategoryNameVar'+storeCatArray[x][0])] = 1;
					panel1StoreSelectCat(storeCatArray[x][0], ('panel1StoreCategoryName'+storeCatArray[x][0]), 'panel_1_store_category_name', 1, ('panel1StoreCategoryNameVar'+storeCatArray[x][0]));
				}
			}
			window[storeFamVarSet] = 0;
			for (y=0;y<storeFamArray.length;y++) {
				if (storeFamArray[y][0] == storeFamSQLID) {
					storeFamArray[y][4] = 0;
					break;
				}
			}
		}
	}
}
function panel1StoreCatMouseOver (storeCatID, storeCatString, storeCatVar, imgToggle) {
	if (document.getElementById(storeCatID)) {
		if (storeCatVar == 0) {
			$('#'+storeCatID).removeClass(storeCatString+'_off');
			$('#'+storeCatID).addClass(storeCatString+'_hover');
		}
		else {
			$('#'+storeCatID).removeClass(storeCatString+'_on');
			$('#'+storeCatID).addClass(storeCatString+'_hover');
		}
	}
}
function panel1StoreCatMouseOut (storeCatID, storeCatString, storeCatVar, imgToggle) {
	if (document.getElementById(storeCatID)) {
		if (storeCatVar == 0) {
			$('#'+storeCatID).removeClass(storeCatString+'_hover');
			$('#'+storeCatID).addClass(storeCatString+'_off');
		}
		else {
			$('#'+storeCatID).removeClass(storeCatString+'_hover');
			$('#'+storeCatID).addClass(storeCatString+'_on');
		}
	}
}
function panel1StoreSelectCat(storeCatSQLID, storeCatID, storeCatString, storeCatVar, storeCatVarSet) {
	if (document.getElementById(storeCatID)) {
		if (storeCatVar == 0) {
			$('#'+storeCatID).removeClass(storeCatString+'_hover');
			$('#'+storeCatID).removeClass(storeCatString+'_off');
			$('#'+storeCatID).addClass(storeCatString+'_on');
			window[storeCatVarSet] = 1;
			for (x=0;x<storeCatArray.length;x++) {
				if (storeCatArray[x][0] == storeCatSQLID) {
					storeCatArray[x][8] = 1;
					break;
				}
			}
		}
		else {
			$('#'+storeCatID).removeClass(storeCatString+'_hover');
			$('#'+storeCatID).removeClass(storeCatString+'_on');
			$('#'+storeCatID).addClass(storeCatString+'_off');
			window[storeCatVarSet] = 0;
			for (x=0;x<storeCatArray.length;x++) {
				if (storeCatArray[x][0] == storeCatSQLID) {
					storeCatArray[x][8] = 0;
					break;
				}
			}
		}
	}
}
function panel1ProdPopup(prodID,timeOut) {
	if (panel1ProdPopupOn != prodID) {
		if (panel1ProdPopupOn != 0) {
			panel1ProdPopupClose(panel1ProdPopupOn,false);
		}
		panel1ProdPopupOn = prodID;
		var prodPopupHTML = autotextIt(p1TemplateSet.panel1ProductPopupDiv,"panel1ProductPopup");
		for (x=0; x<prodDisplayArray.length; x++) {
			if (prodDisplayArray[x][0] == prodID) {
				var prodDiscTagStart = prodPopupHTML.indexOf("<!--HIGHPROD");
				if (prodDiscTagStart != -1) {
					var prodDiscTagEnd = prodPopupHTML.indexOf(">",prodDiscTagStart);
					var prodDiscTagStrip = prodPopupHTML.substring(prodDiscTagStart,(prodDiscTagEnd+1));
					var prodDiscHTMLStart = prodPopupHTML.substr(0,prodDiscTagStart);
					var prodDiscHTMLEnd = prodPopupHTML.substr((prodDiscTagEnd+1));
					var prodDiscWrite = "";
					var discVal = prodDisplayArray[x][6];
					if (discVal != 1) {
						prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1ProductPopup_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
					}
					prodPopupHTML = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
				}
				var prodPopupNameTagStart = prodPopupHTML.indexOf("<!--PRODNAME");
				if (prodPopupNameTagStart != -1) {
					var prodPopupNameTagEnd = prodPopupHTML.indexOf(">",prodPopupNameTagStart);
					var prodPopupNameTagStrip = prodPopupHTML.substring(prodPopupNameTagStart,(prodPopupNameTagEnd+1));
					var baseProdPopupNameHTMLStart = prodPopupHTML.substr(0,prodPopupNameTagStart);
					var baseProdPopupNameHTMLEnd = prodPopupHTML.substr((prodPopupNameTagEnd+1));
					var descTest = prodPopupNameTagStrip.indexOf(" DESC");
					if (descTest != -1) {
						var descVal = "<span class='panel_1_prod_popup_name_desc'>" + prodDisplayArray[x][3] + "<\/span>";
					}
					else {
						var descVal = "";
					}
					var prodNameItalicStart = prodPopupNameTagStrip.indexOf(" FNTAW=");
					if (prodNameItalicStart != -1) {
						var prodNameItalicEnd = prodPopupNameTagStrip.indexOf("]",prodNameItalicStart);
						var prodNameItalicVar = "<i class='fa " + prodPopupNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
					}
					else {
						var prodNameItalicVar = "";
					}
					prodPopupHTML = baseProdPopupNameHTMLStart + "<div id='panel1ProdPopupName" + prodDisplayArray[x][0] + "' class='panel_1_prod_popup_name'>" + prodNameItalicVar + "<span class='panel_1_prod_popup_name_name'>" + prodDisplayArray[x][2] + "<\/span>" + descVal + "<\/div>" + baseProdPopupNameHTMLEnd;
				}
				var prodPopupDescTagStart = prodPopupHTML.indexOf("<!--PRODDESC");
				if (prodPopupDescTagStart != -1) {
					var prodPopupDescTagEnd = prodPopupHTML.indexOf(">",prodPopupDescTagStart);
					var prodPopupDescTagStrip = prodPopupHTML.substring(prodPopupDescTagStart,(prodPopupDescTagEnd+1));
					var baseProdPopupDescHTMLStart = prodPopupHTML.substr(0,prodPopupDescTagStart);
					var baseProdPopupDescHTMLEnd = prodPopupHTML.substr((prodPopupDescTagEnd+1));
					prodPopupHTML = baseProdPopupDescHTMLStart + "<div id='panel1ProdPopupDesc" + prodDisplayArray[x][0] + "' class='panel_1_prod_popup_desc'>" + prodDisplayArray[x][3] + "<\/div>" + baseProdPopupDescHTMLEnd;
				}
				var prodPopupCatTagStart = prodPopupHTML.indexOf("<!--PRODCAT");
				if (prodPopupCatTagStart != -1) {
					var prodPopupCatTagEnd = prodPopupHTML.indexOf(">",prodPopupCatTagStart);
					var prodPopupCatTagStrip = prodPopupHTML.substring(prodPopupCatTagStart,(prodPopupCatTagEnd+1));
					var baseProdPopupCatHTMLStart = prodPopupHTML.substr(0,prodPopupCatTagStart);
					var baseProdPopupCatHTMLEnd = prodPopupHTML.substr((prodPopupCatTagEnd+1));
					prodPopupHTML = baseProdPopupCatHTMLStart + "<div id='panel1ProdPopupCat" + prodDisplayArray[x][0] + "' class='panel_1_prod_popup_cat'>" + prodDisplayArray[x][3] + "<\/div>" + baseProdPopupCatHTMLEnd;
				}
				var prodPopupBigImgTagStart = prodPopupHTML.indexOf("<!--PRODBIGIMG");
				if (prodPopupBigImgTagStart != -1) {
					var prodPopupBigImgTagEnd = prodPopupHTML.indexOf(">",prodPopupBigImgTagStart);
					var prodPopupBigImgTagStrip = prodPopupHTML.substring(prodPopupBigImgTagStart,(prodPopupBigImgTagEnd+1));
					var baseProdPopupBigImgHTMLStart = prodPopupHTML.substr(0,prodPopupBigImgTagStart);
					var baseProdPopupBigImgHTMLEnd = prodPopupHTML.substr((prodPopupBigImgTagEnd+1));
					prodPopupHTML = baseProdPopupBigImgHTMLStart + "<img title=\"" + prodDisplayArray[x][2] + "\" alt=\"" + prodDisplayArray[x][2] + "\" id='panel1ProdPopupBigImg" + prodDisplayArray[x][0] + "' class='panel_1_prod_popup_bigimg' src='" + clientImgBase + prodDisplayArray[x][4] + "'>" + baseProdPopupBigImgHTMLEnd;
				}
				var prodPopupSmImgTagStart = prodPopupHTML.indexOf("<!--PRODSMIMG");
				if (prodPopupSmImgTagStart != -1) {
					var prodPopupSmImgTagEnd = prodPopupHTML.indexOf(">",prodPopupSmImgTagStart);
					var prodPopupSmImgTagStrip = prodPopupHTML.substring(prodPopupSmImgTagStart,(prodPopupSmImgTagEnd+1));
					var baseProdPopupSmImgHTMLStart = prodPopupHTML.substr(0,prodPopupSmImgTagStart);
					var baseProdPopupSmImgHTMLEnd = prodPopupHTML.substr((prodPopupSmImgTagEnd+1));
					prodPopupHTML = baseProdPopupSmImgHTMLStart + "<img title=\"" + prodDisplayArray[x][2] + "\" alt=\"" + prodDisplayArray[x][2] + "\" id='panel1ProdPopupSmImg" + prodDisplayArray[x][0] + "' class='panel_1_prod_popup_smimg' src='" + clientImgBase + prodDisplayArray[x][5] + "'>" + baseProdPopupSmImgHTMLEnd;
				}
				var closeButtonTagStart = prodPopupHTML.indexOf("<!--CLOSEBUTTON");
				if (closeButtonTagStart != -1) {
					var closeButtonTagEnd = prodPopupHTML.indexOf(">",closeButtonTagStart);
					var closeButtonTagStrip = prodPopupHTML.substring(closeButtonTagStart,(closeButtonTagEnd+1));
					var closeButtonHTMLStart = prodPopupHTML.substr(0,closeButtonTagStart);
					var closeButtonHTMLEnd = prodPopupHTML.substr((closeButtonTagEnd+1));
					var closeButtonRender = "";
					var closeButtonValueStart = closeButtonTagStrip.indexOf(" VALUE=");
					if (closeButtonValueStart != -1) {
						var closeButtonValueEnd = closeButtonTagStrip.indexOf("]",closeButtonValueStart);
						var closeButtonValueVar = closeButtonTagStrip.substring((closeButtonValueStart+8),(closeButtonValueEnd));
					}
					else {
						var closeButtonValueVar = "CLOSE";
					}
					var closeButtonItalicStart = closeButtonTagStrip.indexOf(" FNTAW=");
					if (closeButtonItalicStart != -1) {
						var closeButtonItalicEnd = closeButtonTagStrip.indexOf("]",closeButtonItalicStart);
						var closeButtonItalicVar = "<i class='fa " + closeButtonTagStrip.substring((closeButtonItalicStart+8),(closeButtonItalicEnd)) + "'><\/i>";
					}
					else {
						var closeButtonItalicVar = "";
					}
					closeButtonRender += "<div id='panel1ProdPopupCloseButton" + prodDisplayArray[x][0] + "' class='panel_1_prod_popup_close_button panel_1_prod_popup_close_button_off'";
					if (hoverState==1) {
						closeButtonRender += " onmouseover='panel1ButtonHover(\"panel1ProdPopupCloseButton" + prodDisplayArray[x][0] + "\",\"panel_1_prod_popup_close_button\",1);' onfocus='panel1ButtonHover(\"panel1ProdPopupCloseButton" + prodDisplayArray[x][0] + "\",\"panel_1_prod_popup_close_button\",1);' onmouseout='panel1ButtonHover(\"panel1ProdPopupCloseButton" + prodDisplayArray[x][0] + "\",\"panel_1_prod_popup_close_button\",0);' onblur='panel1ButtonHover(\"panel1ProdPopupCloseButton" + prodDisplayArray[x][0] + "\",\"panel_1_prod_popup_close_button\",0);'";
					}
					closeButtonRender += " onclick='panel1ProdPopupClose(" + prodDisplayArray[x][0] + ",true);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProdPopupClose(" + prodDisplayArray[x][0] + ",true);}' tabindex='0' title=\"Close\">" + closeButtonItalicVar + closeButtonValueVar + "<\/div>";
					prodPopupHTML = closeButtonHTMLStart + closeButtonRender + closeButtonHTMLEnd;
				}
				var popupRandClose = Math.floor((Math.random()*100000)+1);
				document.getElementById('panel1ProductPopup'+prodID).innerHTML = prodPopupHTML + "<div id='PP"+prodID+"_"+popupRandClose+"' style='display:none;'><\/div>";
				break;
			}
		}
		document.getElementById('panel1ProductPopup'+prodID).style.display = "block";
		setTimeout(function() {
			if (document.getElementById("PP"+prodID+"_"+popupRandClose)) {
				panel1ProdPopupClose(prodID,true);
			}
		},timeOut);
	}
}
function panel1ProdPopupClose(prodID,statusVar) {
	document.getElementById('panel1ProductPopup'+prodID).style.display = "none";
	document.getElementById('panel1ProductPopup'+prodID).innerHTML = "";
	if (statusVar == true) {
		panel1ProdPopupOn = 0;
	}
}
function panel1CCReq() {
	p4Connect();
}
function panel1Store() {
	storePanelSRC = 1;
	FB.login(function(response) {}, {scope: 'email'});
}
function panel1RTReq() {
	p5Connect();
}
function panel1panel2Connect() {
	p2Connect();
}
function panel1AlertNoProducts() {
	var baseHTML = autotextIt(p1TemplateSet.panel1NoProductsDiv,"panel1NoProducts");
	var stopButtonTagStart = baseHTML.indexOf("<!--STOPBUTTON");
	if (stopButtonTagStart != -1) {
		var stopButtonTagEnd = baseHTML.indexOf(">",stopButtonTagStart);
		var stopButtonTagStrip = baseHTML.substring(stopButtonTagStart,(stopButtonTagEnd+1));
		var stopButtonHTMLStart = baseHTML.substr(0,stopButtonTagStart);
		var stopButtonHTMLEnd = baseHTML.substr((stopButtonTagEnd+1));
		var stopButtonRender = "";
		var stopButtonValueStart = stopButtonTagStrip.indexOf(" VALUE=");
		if (stopButtonValueStart != -1) {
			var stopButtonValueEnd = stopButtonTagStrip.indexOf("]",stopButtonValueStart);
			var stopButtonValueVar = stopButtonTagStrip.substring((stopButtonValueStart+8),(stopButtonValueEnd));
		}
		else {
			var stopButtonValueVar = "VIEW RESULTS";
		}
		var stopButtonItalicStart = stopButtonTagStrip.indexOf(" FNTAW=");
		if (stopButtonItalicStart != -1) {
			var stopButtonItalicEnd = stopButtonTagStrip.indexOf("]",stopButtonItalicStart);
			var stopButtonItalicVar = "<i class='fa " + stopButtonTagStrip.substring((stopButtonItalicStart+8),(stopButtonItalicEnd)) + "'><\/i>";
		}
		else {
			var stopButtonItalicVar = "";
		}
		stopButtonRender += "<div id='panel1StopButton' class='panel_1_stop_button panel_1_stop_button_off'";
		if (hoverState==1) {
			stopButtonRender += " onmouseover='panel1ButtonHover(\"panel1StopButton\",\"panel_1_stop_button\",1);' onfocus='panel1ButtonHover(\"panel1StopButton\",\"panel_1_stop_button\",1);' onmouseout='panel1ButtonHover(\"panel1StopButton\",\"panel_1_stop_button\",0);' onblur='panel1ButtonHover(\"panel1StopButton\",\"panel_1_stop_button\",0);'";
		}
		stopButtonRender += " onclick='errorClose();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){errorClose();}' tabindex='0' title=\"" + stopButtonValueVar + "\">" + stopButtonItalicVar + stopButtonValueVar + "<\/div>";
		baseHTML = stopButtonHTMLStart + stopButtonRender + stopButtonHTMLEnd;
	}
	var goButtonTagStart = baseHTML.indexOf("<!--GOBUTTON");
	if (goButtonTagStart != -1) {
		var goButtonTagEnd = baseHTML.indexOf(">",goButtonTagStart);
		var goButtonTagStrip = baseHTML.substring(goButtonTagStart,(goButtonTagEnd+1));
		var goButtonHTMLStart = baseHTML.substr(0,goButtonTagStart);
		var goButtonHTMLEnd = baseHTML.substr((goButtonTagEnd+1));
		var goButtonRender = "";
		var goButtonValueStart = goButtonTagStrip.indexOf(" VALUE=");
		if (goButtonValueStart != -1) {
			var goButtonValueEnd = goButtonTagStrip.indexOf("]",goButtonValueStart);
			var goButtonValueVar = goButtonTagStrip.substring((goButtonValueStart+8),(goButtonValueEnd));
		}
		else {
			var goButtonValueVar = "CONTACT US";
		}
		var goButtonItalicStart = goButtonTagStrip.indexOf(" FNTAW=");
		if (goButtonItalicStart != -1) {
			var goButtonItalicEnd = goButtonTagStrip.indexOf("]",goButtonItalicStart);
			var goButtonItalicVar = "<i class='fa " + goButtonTagStrip.substring((goButtonItalicStart+8),(goButtonItalicEnd)) + "'><\/i>";
		}
		else {
			var goButtonItalicVar = "";
		}
		goButtonRender += "<div id='panel1GoButton' class='panel_1_go_button panel_1_go_button_off'";
		if (hoverState==1) {
			goButtonRender += " onmouseover='panel1ButtonHover(\"panel1GoButton\",\"panel_1_go_button\",1);' onfocus='panel1ButtonHover(\"panel1GoButton\",\"panel_1_go_button\",1);' onmouseout='panel1ButtonHover(\"panel1GoButton\",\"panel_1_go_button\",0);' onblur='panel1ButtonHover(\"panel1GoButton\",\"panel_1_go_button\",0);'";
		}
		goButtonRender += " onclick='errorClose();panel1CodeAddress();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){errorClose();panel1CodeAddress();}' tabindex='0' title=\"" + goButtonValueVar + "\">" + goButtonItalicVar + goButtonValueVar + "<\/div>";
		baseHTML = goButtonHTMLStart + goButtonRender + goButtonHTMLEnd;
	}
	document.getElementById('errorDivFront').innerHTML = baseHTML;
	document.getElementById('errorDivFront').style.display = "none";
	document.getElementById('errorDivFront').style.left = "0px";
	document.getElementById('errorDivFront').style.top = "0px";
	$("#errorDivBack").fadeIn(100);
	$("#errorDivFront").fadeIn(100);
}
function panel1ParentOver(tempNum, idNum, classVal) {
	$(".panel_1_parent_shell_" + tempNum + "_" + idNum + classVal).addClass("panel_1_parent_shell_" + tempNum + "_" + idNum + classVal + "_over");
	$(".panel_1_parent_inner_" + tempNum + "_" + idNum + classVal).addClass("panel_1_parent_inner_" + tempNum + "_" + idNum + classVal + "_over");
}
function panel1ParentOut(tempNum, idNum, classVal) {
	$(".panel_1_parent_shell_" + tempNum + "_" + idNum + classVal).removeClass("panel_1_parent_shell_" + tempNum + "_" + idNum + classVal + "_over");
	$(".panel_1_parent_inner_" + tempNum + "_" + idNum + classVal).removeClass("panel_1_parent_inner_" + tempNum + "_" + idNum + classVal + "_over");
}
function panel1ParentOverTemp(tempNum, idNum, classVal) {
	$(".panel_1_parent_inner_over_" + tempNum + "_" + idNum + classVal).show();
}
function panel1ParentOutTemp(tempNum, idNum, classVal) {
	$(".panel_1_parent_inner_over_" + tempNum + "_" + idNum + classVal).hide();
}
function panel1ParentSelect(tempNum, idNum, classVal, arrVal) {
	panel1LabelLimitBase = panel1LabelLimitVar;
	if(gLog==1){console.log("panel1ParentSelect loaderToggle state=1");}
	if (panel1RedrawVar != 1) {
		loaderToggle(1);
	}
	setTimeout(function(){
		if (document.getElementById('panel1LabelSubheader')) {
			document.getElementById('panel1LabelSubheader').innerHTML = parentArray[arrVal][1];
		}
		if (panel1ParentHolder != "") {
			$(".prodCartFilterHide").removeClass("prodCartFilterHide" + panel1ParentHolder);
			panel1ParentHolder = "";
			panel1ParentIDHolder = 0;
		}
		panel1ParentHolder = classVal;
		panel1ParentIDHolder = idNum;
		$(".prodCartFilterHide").addClass("prodCartFilterHide" + classVal);
		for (x=0; x<parentArray.length; x++) {
			parentArray[x][5] = 0;
		}
		parentArray[arrVal][5] = 1;
		if (document.getElementById('panel1ParentText')) {
			document.getElementById('panel1ParentText').innerHTML = parentArray[arrVal][1];
		}
		$(".panel_1_parent_shell").removeClass("panel_1_parent_shell_on");
		$(".panel_1_parent_inner").removeClass("panel_1_parent_inner_on");
		$(".panel_1_parent_shell_" + tempNum + "_" + idNum + classVal).addClass("panel_1_parent_shell_on");
		$(".panel_1_parent_inner_" + tempNum + "_" + idNum + classVal).addClass("panel_1_parent_shell_on");
		$(".panel_1_child_label_shell").hide();
		for (x=0;x<labelArray.length;x++) {
			$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_hover');
			$('.panel_1_product_label_'+labelArray[x][0]).removeClass('panel_1_product_label_on');
			$('.panel_1_product_label_'+labelArray[x][0]).addClass('panel_1_product_label_off');
			labelArray[x][3] = 0;
		}
		var checkDaChild = 0;
		for (pc=0; pc<parentChildArray.length; pc++) {
			if (parentChildArray[pc][1] == idNum) {
				var thisChildVar = parentChildArray[pc][2];
				if (winWidth > globalRespWidth && checkDaChild == 0) {
					panel1ChildSelect(thisChildVar);
				}
				if (winWidth <= globalRespWidth && checkDaChild == 0) {
					panel1ChildSelect(thisChildVar);
				}
				$(".panel_1_child_label_shell_" + thisChildVar).show();
				for (l=0; l<labelArray.length; l++) {
					if (labelArray[l][8] == thisChildVar) {
						labelArray[l][3] = 1;
					}
				}
				checkDaChild++;
			}
		}
		if (panel1RedrawVar == 1) {
			panel1RedrawFilter();
		}
		else if (panel1SimpleVar == 1) {
			panel1SimpleFilter();
		}
		else {
			$(".brand_holder_area").hide();
			$(".product_holder_area").show();
			panel1DynamicFilter(1);
		}
	},500);
}
function panel1ChildSelect(idNum) {
	panel1LabelLimitBase = panel1LabelLimitVar;
	var doSomething = 0;
	if (winWidth > globalRespWidth && panel1ChildDesktopHide == 1) {
		doSomething = 1;
	}
	if (winWidth <= globalRespWidth && panel1ChildMobileHide == 1) {
		doSomething = 1;
	}
	if (doSomething == 1) {
		if (panel1ChildIDHolder == idNum) {
			$(".panel_1_child_label_control_on_"+idNum).hide();
			$(".panel_1_child_label_control_off_"+idNum).show();
			$(".panel_1_child_label_content_"+idNum).slideUp(250);
			panel1ChildIDHolder = 0;
		}
		else {
			$(".panel_1_child_label_control_on_"+panel1ChildIDHolder).hide();
			$(".panel_1_child_label_control_off_"+panel1ChildIDHolder).show();
			$(".panel_1_child_label_content_"+panel1ChildIDHolder).slideUp(250);
			panel1ChildIDHolder = idNum;
			setTimeout(function(){
				$(".panel_1_child_label_control_off_"+idNum).hide();
				$(".panel_1_child_label_control_on_"+idNum).show();
				$(".panel_1_child_label_content_"+idNum).slideDown(250);
			},150);
		}
	}
}
var childToggleVar = 0;
function panel1ChildToggle(childID) {
	$(".panel_1_child_hider_"+childToggleVar).slideUp(250);
	$(".panel_1_child_hider_more_"+childToggleVar).show();
	$(".panel_1_child_hider_less_"+childToggleVar).hide();
	if (childID) {
		if(gLog==1){console.log("panel1ChildToggle - Show "+childID);}
		$(".panel_1_child_hider_"+childID).slideDown(250);
		$(".panel_1_child_hider_less_"+childID).show();
		$(".panel_1_child_hider_more_"+childID).hide();
		childToggleVar = childID
	}
	else {
		childToggleVar = 0
	}
}
function panel1Reset() {
	if (panel1ParentHolder != "") {
		$(".prodCartFilterHide").removeClass("prodCartFilterHide" + panel1ParentHolder);
		panel1ParentHolder = "";
		panel1ParentIDHolder = 0;
		panel1ChildIDHolder = 0;
	}
	$(".product_holder_area").hide();
	$(".brand_holder_area").show();
	$(".panel_1_parent_inner_over").hide();
	for (x=0; x<parentArray.length; x++) {
		parentArray[x][5] = 0;
	}
	if (document.getElementById('panel1ParentText')) {
		document.getElementById('panel1ParentText').innerHTML = "";
	}
	$(".panel_1_parent_shell").removeClass("panel_1_parent_shell_on");
	$(".panel_1_parent_inner").removeClass("panel_1_parent_inner_on");
	panel1LabelReset();
	panel1FamLabelReset();
	$(".panel_1_child_hider").hide();
	$(".panel_1_child_hider_more").show();
	$(".panel_1_child_hider_less").hide();
}
function panel1ProdScat(theSCATs) {
}
function panel1ProdToggle(togID,showVal,hideVal) {
	$(".panel_1_prodtogg_button").removeClass("panel_1_prodtogg_button_on");
	$(".panel_1_prodtogg_button").addClass("panel_1_prodtogg_button_off");
	$("#panel1ProdToggButton"+togID).removeClass("panel_1_prodtogg_button_off");
	$("#panel1ProdToggButton"+togID).addClass("panel_1_prodtogg_button_on");
	if (hideVal != "X") {
		$("."+hideVal).slideUp('slow','jswing');
	}
	if (showVal != "X") {
		$("."+showVal).slideDown('slow','jswing');
	}
	panel1ProdCartRemove();
}
function panel1ProdToggleTwo(togID,showVal,hideVal) {
	if(gLog==1){console.log("panel1ProdToggleTwo loaderToggle state=1");}
	loaderToggle(1);
	$(".panel_1_prodtogg_button").removeClass("panel_1_prodtogg_button_on");
	$(".panel_1_prodtogg_button").addClass("panel_1_prodtogg_button_off");
	$("#panel1ProdToggButton"+togID).removeClass("panel_1_prodtogg_button_off");
	$("#panel1ProdToggButton"+togID).addClass("panel_1_prodtogg_button_on");
	if (hideVal != "X") {
		$("."+hideVal).slideUp('slow','jswing');
	}
	if (showVal != "X") {
		$("."+showVal).slideDown('slow','jswing');
	}
	setTimeout(function() {
		if (panel1ParentHolder != "") {
			$(".prodCartFilterHide").removeClass("prodCartFilterHide" + panel1ParentHolder);
			panel1ParentHolder = "";
			panel1ParentIDHolder = 0;
			panel1ChildIDHolder = 0;
		}
		$(".product_holder_area").hide();
		$(".brand_holder_area").show();
		$(".panel_1_parent_inner_over").hide();
		for (x=0; x<parentArray.length; x++) {
			parentArray[x][5] = 0;
		}
		if (document.getElementById('panel1ParentText')) {
			document.getElementById('panel1ParentText').innerHTML = "";
		}
		$(".panel_1_parent_shell").removeClass("panel_1_parent_shell_on");
		$(".panel_1_parent_inner").removeClass("panel_1_parent_inner_on");
		$(".panel_1_child_hider").hide();
		$(".panel_1_child_hider_more").show();
		$(".panel_1_child_hider_less").hide();
		for (c=0; c<catArray.length; c++) {
			catArray[c][6] = 0;
			window['panel1CategoryNameVar'+catArray[c][0]] == 0;
		}
		for (x=0;x<prodDisplayArray.length;x++) {
			if (document.getElementById('panel1ProductBigImgDivBack'+prodDisplayArray[x][0])) {
				$(".panel_1_product_big_img_div_over_"+prodDisplayArray[x][0]).hide();
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).addClass('panel_1_product_big_img_div_back_off');
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).removeClass('panel_1_product_big_img_div_back_on');
				$(".panel_1_product_big_img_div_shell_"+prodDisplayArray[x][0]).addClass('img_replace_active');
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).addClass('img_replace_active');
				$(".panel_1_product_big_img_div_back_"+prodDisplayArray[x][0]).removeClass('img_replace_active_static');
				$(".panel_1_product_big_img_div_shell_"+prodDisplayArray[x][0]).removeClass('img_replace_active_static');
			}
			$("#panel1ProductName" + prodDisplayArray[x][0]).removeClass("panel_1_product_name_hover");
			$("#panel1ProductName" + prodDisplayArray[x][0]).removeClass("panel_1_product_name_on");
			$("#panel1ProductName" + prodDisplayArray[x][0]).addClass("panel_1_product_name_off");
			prodDisplayArray[x][9] = 0;
			window[('panel1ProductNameVar'+prodDisplayArray[x][0])] = 0;
		}
		prodCartArray.length = 0;
		p1CurrLabProdArr.length = 0;
		if(gLog==1){console.log("panel1ProdToggleTwo loaderToggle state=0");}
		loaderToggle(0);
	},50);
}
function panel1FamCatToggle(famVar) {
	if (famVar == p1FamToggleId) {
		$("#panel1FamilyCatShell"+famVar).slideUp(100);
		$("#panel1FamilyToggleOn"+famVar).hide();
		$("#panel1FamilyToggleOff"+famVar).show();
		p1FamToggleId = 0;
	}
	else {
		$(".panel_1_family_cat_shell").slideUp(100);
		$(".panel_1_family_toggle_on").hide();
		$(".panel_1_family_toggle_off").show();
		setTimeout(function() {
			$("#panel1FamilyCatShell"+famVar).slideDown(200);
			$("#panel1FamilyToggleOff"+famVar).hide();
			$("#panel1FamilyToggleOn"+famVar).show();
			p1FamToggleId = famVar;
		},110);
	}
}
function modalClose() {
	document.getElementById('modalDivBack').style.display = "none";
	document.getElementById('modalDivFront').style.display = "none";
}
function modalOpen() {
	document.getElementById('modalDivBack').style.display = "block";
	document.getElementById('modalDivFront').style.display = "block";
}
function panel1CMPMouseOver(theID,theClass) {
	if ($("#"+theID).hasClass(theClass+"_off")) {
		$("#"+theID).removeClass(theClass+"_off");
		$("#"+theID).addClass(theClass+"_hover_off");
	}
	else if ($("#"+theID).hasClass(theClass+"_on")) {
		$("#"+theID).removeClass(theClass+"_on");
		$("#"+theID).addClass(theClass+"_hover_on");
	}
}
function panel1CMPMouseOut(theID,theClass) {
	if ($("#"+theID).hasClass(theClass+"_hover_off")) {
		$("#"+theID).removeClass(theClass+"_hover_off");
		$("#"+theID).addClass(theClass+"_off");
	}
	else if ($("#"+theID).hasClass(theClass+"_hover_on")) {
		$("#"+theID).removeClass(theClass+"_hover_on");
		$("#"+theID).addClass(theClass+"_on");
	}
}
function panel1CatModalImgReplace(whatState,whatID) {
	if(gLog==1){console.log("panel1CatModalImgReplace - START",whatState,whatID);}
	var thisCatOnState = 0;
	for (x=0; x<catArray.length; x++) {
		if (catArray[x][0] == whatID) {
			thisCatOnState = catArray[x][9];
			break;
		}
	}
	if (whatState == 1) {
		if (document.getElementById('panel1CategoryBigImgDivBack'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_big_img_div_back_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_category_big_img_div_over_"+whatID).show();
			$(".panel_1_category_big_img_div_back_"+whatID).removeClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+whatID).addClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_sm_img_div_back_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_category_sm_img_div_over_"+whatID).show();
			$(".panel_1_category_sm_img_div_back_"+whatID).removeClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+whatID).addClass('panel_1_category_sm_img_div_back_on');
		}
	}
	else {
		if (document.getElementById('panel1CategoryBigImgDivBack'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_big_img_div_back_"+whatID).hasClass("img_replace_active") && thisCatOnState == 0) {
			$(".panel_1_category_big_img_div_over_"+whatID).hide();
			$(".panel_1_category_big_img_div_back_"+whatID).addClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+whatID).removeClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+whatID) && window['panel1CategoryNameVar'+whatID] == 0 && $(".panel_1_category_sm_img_div_back_"+whatID).hasClass("img_replace_active") && thisCatOnState == 0) {
			$(".panel_1_category_sm_img_div_over_"+whatID).hide();
			$(".panel_1_category_sm_img_div_back_"+whatID).addClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+whatID).removeClass('panel_1_category_sm_img_div_back_on');
		}
	}
}
function panel1CMPSelAll(catID) {
	if(gLog==1){console.log("panel1CMPSelAll - START",catID);}
	var wholeCat = 0;
	var someCat = 0;
	for (q=0; q<prodDisplayArray.length; q++) {
		if (prodDisplayArray[q][8] == catID) {
			wholeCat++;
			if (prodDisplayArray[q][9] == 1) {
				someCat++;
			}
		}
	}
	if (someCat == 0 || someCat != wholeCat) {
		for (x=0; x<prodDisplayArray.length; x++) {
			if (prodDisplayArray[x][8] == catID) {
				prodDisplayArray[x][9] = 1;
				window["panel1ProductNameVar"+prodDisplayArray[x][0]] = 1;
				if (document.getElementById("panel1CatModalProd" + prodDisplayArray[x][0])) {
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_hover_off');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_hover_on');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_off');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).addClass('panel_1_cat_modal_prod_on');
				}
				if (document.getElementById("panel1CatModalMobProd" + prodDisplayArray[x][0])) {
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_hover_off');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_hover_on');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_off');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).addClass('panel_1_cat_modal_mob_prod_on');
				}
				if(gLog==1){console.log("panel1CMPSelAll - prodDisplayArray["+x+"][9] = ",prodDisplayArray[x][9]);}
			}
		}
		if (document.getElementById("panel1CatModalProdAll" + catID)) {
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_on');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_off');
			$("#panel1CatModalProdAll" + catID).addClass('panel_1_cat_modal_prod_all_on');
		}
		if (document.getElementById("panel1CatModalMobProdAll" + catID)) {
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_on');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_off');
			$("#panel1CatModalMobProdAll" + catID).addClass('panel_1_cat_modal_mob_prod_all_on');
		}
		if (document.getElementById('panel1CategoryBigImgDivBack'+catID) && $('#panel1CategoryBigImgDivBack'+catID).hasClass('img_replace_active')) {
			$(".panel_1_category_big_img_div_over_"+catID).fadeIn(50);
			$(".panel_1_category_big_img_div_back_"+catID).removeClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+catID).addClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+catID) && $('#panel1CategorySmImgDivBack'+catID).hasClass('img_replace_active')) {
			$(".panel_1_category_sm_img_div_over_"+catID).fadeIn(50);
			$(".panel_1_category_sm_img_div_back_"+catID).removeClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+catID).addClass('panel_1_category_sm_img_div_back_on');
		}
		if(gLog==1){console.log("panel1CMPSelAll - All Active");}
	}
	else {
		for (x=0; x<prodDisplayArray.length; x++) {
			if (prodDisplayArray[x][8] == catID) {
				prodDisplayArray[x][9] = 0;
				window["panel1ProductNameVar"+prodDisplayArray[x][0]] = 0;
				if (document.getElementById("panel1CatModalProd" + prodDisplayArray[x][0])) {
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_hover_off');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_hover_on');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).addClass('panel_1_cat_modal_prod_off');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_on');
				}
				if (document.getElementById("panel1CatModalMobProd" + prodDisplayArray[x][0])) {
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_hover_off');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_hover_on');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).addClass('panel_1_cat_modal_mob_prod_off');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_on');
				}
				if(gLog==1){console.log("panel1CMPSelAll - prodDisplayArray["+x+"][9] = ",prodDisplayArray[x][9]);}
			}
		}
		if (document.getElementById("panel1CatModalProdAll" + catID)) {
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_on');
			$("#panel1CatModalProdAll" + catID).addClass('panel_1_cat_modal_prod_all_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_on');
		}
		if (document.getElementById("panel1CatModalMobProdAll" + catID)) {
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_on');
			$("#panel1CatModalMobProdAll" + catID).addClass('panel_1_cat_modal_mob_prod_all_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_on');
		}
		if (document.getElementById('panel1CategoryBigImgDivBack'+catID) && $('#panel1CategoryBigImgDivBack'+catID).hasClass('img_replace_active')) {
			$(".panel_1_category_big_img_div_over_"+catID).fadeOut(50);
			$(".panel_1_category_big_img_div_back_"+catID).addClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+catID).removeClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+catID) && $('#panel1CategorySmImgDivBack'+catID).hasClass('img_replace_active')) {
			$(".panel_1_category_sm_img_div_over_"+catID).fadeOut(50);
			$(".panel_1_category_sm_img_div_back_"+catID).addClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+catID).removeClass('panel_1_category_sm_img_div_back_on');
		}
		if(gLog==1){console.log("panel1CMPSelAll - All Inactive");}
	}
	var someCatCat = 0;
	for (q=0; q<prodDisplayArray.length; q++) {
		if (prodDisplayArray[q][8] == catID && prodDisplayArray[q][9] == 1) {
			someCatCat++;
		}
	}
	for (x=0; x<catArray.length; x++) {
		if (catArray[x][0] == catID) {
			if (someCatCat != 0) {
				catArray[x][9] = 1;
			}
			else {
				catArray[x][9] = 0;
			}
			if(gLog==1){console.log("panel1CMPSelAll - catArray["+x+"][9]="+catArray[x][9]);}
			break;
		}
	}
	prodCartArray.length = 0;
	for (z=0;z<prodDisplayArray.length;z++) {
		if (prodDisplayArray[z][9] == 1) {
			prodCartArray.push(prodDisplayArray[z][0]);
		}
	}
	panel1ProdCart();
}
function panel1CMPSelect(prodID,catID) {
	if(gLog==1){console.log("panel1CMPSelect - START",prodID,catID);}
	for (x=0; x<prodDisplayArray.length; x++) {
		if (prodDisplayArray[x][0] == prodID) {
			if (prodDisplayArray[x][9] == 0) {
				prodDisplayArray[x][9] = 1;
				window["panel1ProductNameVar"+prodDisplayArray[x][0]] = 1;
				if (document.getElementById("panel1CatModalProd" + prodDisplayArray[x][0])) {
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_hover_off');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_hover_on');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_off');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).addClass('panel_1_cat_modal_prod_on');
				}
				if (document.getElementById("panel1CatModalMobProd" + prodDisplayArray[x][0])) {
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_hover_off');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_hover_on');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_off');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).addClass('panel_1_cat_modal_mob_prod_on');
				}
				if(gLog==1){console.log("panel1CMPSelect - prodDisplayArray["+x+"][9] = ",prodDisplayArray[x][9]);}
			}
			else {
				prodDisplayArray[x][9] = 0;
				window["panel1ProductNameVar"+prodDisplayArray[x][0]] = 0;
				if (document.getElementById("panel1CatModalProd" + prodDisplayArray[x][0])) {
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_hover_off');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_hover_on');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).addClass('panel_1_cat_modal_prod_off');
					$("#panel1CatModalProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_prod_on');
				}
				if (document.getElementById("panel1CatModalMobProd" + prodDisplayArray[x][0])) {
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_hover_off');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_hover_on');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).addClass('panel_1_cat_modal_mob_prod_off');
					$("#panel1CatModalMobProd" + prodDisplayArray[x][0]).removeClass('panel_1_cat_modal_mob_prod_on');
				}
				if(gLog==1){console.log("panel1CMPSelect - prodDisplayArray["+x+"][9] = ",prodDisplayArray[x][9]);}
			}
			break;
		}
	}
	var wholeCat = 0;
	var someCat = 0;
	for (q=0; q<prodDisplayArray.length; q++) {
		if (prodDisplayArray[q][8] == catID) {
			wholeCat++;
			if (prodDisplayArray[q][9] == 1) {
				someCat++;
			}
		}
	}
	if(gLog==1){console.log("panel1CMPSelect - wholeCat,someCat",wholeCat,someCat);}
	for (x=0; x<catArray.length; x++) {
		if (catArray[x][0] == catID) {
			if (someCat != 0) {
				catArray[x][9] = 1;
			}
			else {
				catArray[x][9] = 0;
			}
			if(gLog==1){console.log("panel1CMPSelect - catArray["+x+"][9]="+catArray[x][9]);}
		}
	}
	if (wholeCat == someCat) {
		if(gLog==1){console.log("panel1CMPSelect - wholeCat==someCat");}
		if (document.getElementById("panel1CatModalProdAll" + catID)) {
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_on');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_off');
			$("#panel1CatModalProdAll" + catID).addClass('panel_1_cat_modal_prod_all_on');
		}
		if (document.getElementById("panel1CatModalMobProdAll" + catID)) {
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_on');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_off');
			$("#panel1CatModalMobProdAll" + catID).addClass('panel_1_cat_modal_mob_prod_all_on');
		}
	}
	else {
		if(gLog==1){console.log("panel1CMPSelect - wholeCat!=someCat");}
		if (document.getElementById("panel1CatModalProdAll" + catID)) {
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_hover_on');
			$("#panel1CatModalProdAll" + catID).addClass('panel_1_cat_modal_prod_all_off');
			$("#panel1CatModalProdAll" + catID).removeClass('panel_1_cat_modal_prod_all_on');
		}
		if (document.getElementById("panel1CatModalMobProdAll" + catID)) {
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_hover_on');
			$("#panel1CatModalMobProdAll" + catID).addClass('panel_1_cat_modal_mob_prod_all_off');
			$("#panel1CatModalMobProdAll" + catID).removeClass('panel_1_cat_modal_mob_prod_all_on');
		}
	}
	if (someCat != 0) {
		if(gLog==1){console.log("panel1CMPSelect - someCat!=0");}
		if (document.getElementById('panel1CategoryBigImgDivBack'+catID) && $('#panel1CategoryBigImgDivBack'+catID).hasClass('img_replace_active')) {
			$(".panel_1_category_big_img_div_over_"+catID).fadeIn(50);
			$(".panel_1_category_big_img_div_back_"+catID).removeClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+catID).addClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+catID) && $('#panel1CategorySmImgDivBack'+catID).hasClass('img_replace_active')) {
			$(".panel_1_category_sm_img_div_over_"+catID).fadeIn(50);
			$(".panel_1_category_sm_img_div_back_"+catID).removeClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+catID).addClass('panel_1_category_sm_img_div_back_on');
		}
	}
	else {
		if(gLog==1){console.log("panel1CMPSelect - someCat==0");}
		if (document.getElementById('panel1CategoryBigImgDivBack'+catID) && $('#panel1CategoryBigImgDivBack'+catID).hasClass('img_replace_active')) {
			$(".panel_1_category_big_img_div_over_"+catID).fadeOut(50);
			$(".panel_1_category_big_img_div_back_"+catID).addClass('panel_1_category_big_img_div_back_off');
			$(".panel_1_category_big_img_div_back_"+catID).removeClass('panel_1_category_big_img_div_back_on');
		}
		if (document.getElementById('panel1CategorySmImgDivBack'+catID) && $('#panel1CategorySmImgDivBack'+catID).hasClass('img_replace_active')) {
			$(".panel_1_category_sm_img_div_over_"+catID).fadeOut(50);
			$(".panel_1_category_sm_img_div_back_"+catID).addClass('panel_1_category_sm_img_div_back_off');
			$(".panel_1_category_sm_img_div_back_"+catID).removeClass('panel_1_category_sm_img_div_back_on');
		}
	}
}
function panel1CatModalWrite(theX) {
	genericCloseMe();
	if(gLog==1){console.log("panel1CatModalWrite - " + theX);}
	var catProdModalArr = [];
	var cpma = 0;
	for (x=0; x<prodDisplayArray.length; x++) {
		if (prodDisplayArray[x][8] == catArray[theX][0]) {
			catProdModalArr[cpma] = prodDisplayArray[x];
			cpma++;
		}
	}
	if(gLog==1){console.log("panel1CatModalWrite - catProdModalArr ",catProdModalArr);}
		var startHTML = autotextIt(p1TemplateSet.panel1CatModalStartDiv,"panel1CatModalStart");
		var itemHTML = "";
		var itemRowHTML = autotextIt(p1TemplateSet.panel1CatModalItemDiv,"panel1CatModalItem");
		var endHTML = autotextIt(p1TemplateSet.panel1CatModalEndDiv,"panel1CatModalEnd");
		var baseID = "CatModal";
		var baseClass = "cat_modal";
	var isCatProdOn = 0;
	for (y=0; y<catProdModalArr.length; y++) {
		var productHTMLTest = itemRowHTML;
		var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
		if (prodDiscTagStart != -1) {
			var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
			var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
			var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
			var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
			var prodDiscWrite = "";
			var discVal = catProdModalArr[y][6];
			if (discVal != 1) {
				prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1CatModalItem_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
			}
			productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
		}
		var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
		if (prodNameTagStart != -1) {
			var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
			var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
			var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
			var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
			var descTest = prodNameTagStrip.indexOf(" DESC");
			if (descTest != -1) {
				var descVal = "<span class='panel_1_" + baseClass + "_prod_desc'>" + catProdModalArr[y][3] + "<\/span>";
			}
			else {
				var descVal = "";
			}
			var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
			var prodNameTagLink = "";
			if (prodNameTagLinkTest != -1) {
				prodNameTagLink = " style='cursor:pointer;' onclick='panel1CMPSelect(" + catProdModalArr[y][0] + "," + catProdModalArr[y][8] + ");panel1ProdCart("+catProdModalArr[y][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CMPSelect(" + catProdModalArr[y][0] + "," + catProdModalArr[y][8] + ");panel1ProdCart("+catProdModalArr[y][0]+");}'";
				if (hoverState==1) {
					prodNameTagLink += " onmouseover='panel1CMPMouseOver(\"panel1" + baseID + "Prod" + catProdModalArr[y][0] + "\", \"panel_1_" + baseClass + "_prod\");' onfocus='panel1CMPMouseOver(\"panel1" + baseID + "Prod" + catProdModalArr[y][0] + "\", \"panel_1_" + baseClass + "_prod\");' onmouseout='panel1CMPMouseOut(\"panel1" + baseID + "Prod" + catProdModalArr[y][0] + "\", \"panel_1_" + baseClass + "_prod\");' onblur='panel1CMPMouseOut(\"panel1" + baseID + "Prod" + catProdModalArr[y][0] + "\", \"panel_1_" + baseClass + "_prod\");'";
				}
			}
			var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
			if (prodNameItalicStart != -1) {
				var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
				var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
			}
			else {
				var prodNameItalicVar = "";
			}
			var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
			if (prodNameSizeStart != -1) {
				var prodNameSizeVar = catProdModalArr[y][21];
			}
			else {
				var prodNameSizeVar = catProdModalArr[y][2];
			}
			if (catProdModalArr[y][9] == "1") {
				isCatProdOn++;
				window["panel1ProductNameVar"+catProdModalArr[y][0]] = 1;
				var baseProductStyle = " panel_1_" + baseClass + "_prod_on";
			}
			else {
				var baseProductStyle = " panel_1_" + baseClass + "_prod_off";
			}
			productHTMLTest = baseProdNameHTMLStart + "<div id='panel1" + baseID + "Prod" + catProdModalArr[y][0] + "' class='panel_1_" + baseClass + "_prod panel_1_" + baseClass + "_prod_" + catProdModalArr[y][0] + baseProductStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + prodNameSizeVar + "\">" + prodNameItalicVar + "<span class='panel_1_" + baseClass + "_prod_name'>" + prodNameSizeVar + "<\/span>" + descVal + "<\/div>" + baseProdNameHTMLEnd;
		}
		itemHTML += productHTMLTest;
	}
	var selAllTagStart = startHTML.indexOf("<!--SELECTALL");
	if (selAllTagStart != -1) {
		var selAllTagEnd = startHTML.indexOf(">",selAllTagStart);
		var selAllTagStrip = startHTML.substring(selAllTagStart,(selAllTagEnd+1));
		var selAllHTMLStart = startHTML.substr(0,selAllTagStart);
		var selAllHTMLEnd = startHTML.substr((selAllTagEnd+1));
		var selAllContent = "";
		var selAllValueStart = selAllTagStrip.indexOf(" VALUE=");
		if (selAllValueStart != -1) {
			var selAllValueEnd = selAllTagStrip.indexOf("]", selAllValueStart);
			var selAllValueVal = selAllTagStrip.substring((selAllValueStart+8),(selAllValueEnd));
		}
		else {
			var selAllValueVal = "SELECT ALL";
		}
		if (isCatProdOn == catProdModalArr.length) {
			var baseSelAllStyle = " panel_1_" + baseClass + "_prod_all_on";
		}
		else {
			var baseSelAllStyle = " panel_1_" + baseClass + "_prod_all_off";
		}
		selAllContent += "<div id='panel1" + baseID + "ProdAll" + catArray[theX][0] + "' class='panel_1_" + baseClass + "_prod_all_" + catArray[theX][0] + " panel_1_" + baseClass + "_prod_all" + baseSelAllStyle + "'";
		if (hoverState==1) {
			selAllContent += " onmouseover='panel1CMPMouseOver(\"panel1CatModalProdAll" + catArray[theX][0] + "\", \"panel_1_" + baseClass + "_prod_all\");' onfocus='panel1CMPMouseOver(\"panel1CatModalProdAll" + catArray[theX][0] + "\", \"panel_1_" + baseClass + "_prod_all\");' onmouseout='panel1CMPMouseOut(\"panel1CatModalProdAll" + catArray[theX][0] + "\", \"panel_1_" + baseClass + "_prod_all\");' onblur='panel1CMPMouseOut(\"panel1CatModalProdAll" + catArray[theX][0] + "\", \"panel_1_" + baseClass + "_prod_all\");'";
		}
		selAllContent += " onclick='panel1CMPSelAll(" + catArray[theX][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1CMPSelAll(" + catArray[theX][0] + ");}' tabindex='0' title=\"" + selAllValueVal + "\">" + selAllValueVal + "<\/div>";
		var catAllMulti = selAllTagStrip.indexOf(" MULTI");
		if (catAllMulti != -1 && catArray[theX][7] == 1) {
			var calAllWriteIt = 0;
		}
		else {
			var calAllWriteIt = 1;
		}
		if (calAllWriteIt == 0) {
			startHTML = selAllHTMLStart + selAllHTMLEnd;
		}
		else {
			startHTML = selAllHTMLStart + selAllContent + selAllHTMLEnd;
		}
	}
	var closeButtonTagStart = startHTML.indexOf("<!--CLOSEBUTTON");
	if (closeButtonTagStart != -1) {
		var closeButtonTagEnd = startHTML.indexOf(">",closeButtonTagStart);
		var closeButtonTagStrip = startHTML.substring(closeButtonTagStart,(closeButtonTagEnd+1));
		var closeButtonHTMLStart = startHTML.substr(0,closeButtonTagStart);
		var closeButtonHTMLEnd = startHTML.substr((closeButtonTagEnd+1));
		var closeButtonRender = "";
		var closeButtonItalicStart = closeButtonTagStrip.indexOf(" FNTAW=");
		if (closeButtonItalicStart != -1) {
			var closeButtonItalicEnd = closeButtonTagStrip.indexOf("]",closeButtonItalicStart);
			var closeButtonItalicVar = "<i class='fa " + closeButtonTagStrip.substring((closeButtonItalicStart+8),(closeButtonItalicEnd)) + "'><\/i>";
		}
		else {
			var closeButtonItalicVar = "";
		}
		closeButtonRender += "<div id='panel1" + baseID + "CloseButton" + catArray[theX][0] + "' class='panel_1_" + baseClass + "_close_button panel_1_" + baseClass + "_close_button_off'";
		if (hoverState==1) {
			closeButtonRender += " onmouseover='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + catArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",1);' onfocus='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + catArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",1);' onmouseout='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + catArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",0);' onblur='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + catArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",0);'";
		}
			closeButtonRender += " onclick='genericCloseMe();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){genericCloseMe();}'";
/*
		if (winWidth > globalRespWidth) {
			closeButtonRender += " onclick='genericCloseMe();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){genericCloseMe();}'";
		}
		else {
			closeButtonRender += " onclick='cpCatModalClose(whatPanelUp);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){cpCatModalClose(whatPanelUp);}'";
		}
*/
		closeButtonRender += " tabindex='0' title=\"Close\">" + closeButtonItalicVar + "<\/div>";
		startHTML = closeButtonHTMLStart + closeButtonRender + closeButtonHTMLEnd;
	}
	var closeButtonTagStart = endHTML.indexOf("<!--CLOSEBUTTON");
	if (closeButtonTagStart != -1) {
		var closeButtonTagEnd = endHTML.indexOf(">",closeButtonTagStart);
		var closeButtonTagStrip = endHTML.substring(closeButtonTagStart,(closeButtonTagEnd+1));
		var closeButtonHTMLStart = endHTML.substr(0,closeButtonTagStart);
		var closeButtonHTMLEnd = endHTML.substr((closeButtonTagEnd+1));
		var closeButtonRender = "";
		var closeButtonItalicStart = closeButtonTagStrip.indexOf(" FNTAW=");
		if (closeButtonItalicStart != -1) {
			var closeButtonItalicEnd = closeButtonTagStrip.indexOf("]",closeButtonItalicStart);
			var closeButtonItalicVar = "<i class='fa " + closeButtonTagStrip.substring((closeButtonItalicStart+8),(closeButtonItalicEnd)) + "'><\/i>";
		}
		else {
			var closeButtonItalicVar = "";
		}
		closeButtonRender += "<div id='panel1" + baseID + "CloseButton" + catArray[theX][0] + "' class='panel_1_" + baseClass + "_close_button panel_1_" + baseClass + "_close_button_off'";
		if (hoverState==1) {
			closeButtonRender += " onmouseover='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + catArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",1);' onfocus='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + catArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",1);' onmouseout='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + catArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",0);' onblur='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + catArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",0);'";
		}
			closeButtonRender += " onclick='genericCloseMe();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){genericCloseMe();}'";
/*
		if (winWidth > globalRespWidth) {
			closeButtonRender += " onclick='genericCloseMe();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){genericCloseMe();}'";
		}
		else {
			closeButtonRender += " onclick='cpCatModalClose(whatPanelUp);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){cpCatModalClose(whatPanelUp);}'";
		}
*/
		closeButtonRender += " tabindex='0' title=\"Close\">" + closeButtonItalicVar + "<\/div>";
		endHTML = closeButtonHTMLStart + closeButtonRender + closeButtonHTMLEnd;
	}
	var baseHTML = startHTML + itemHTML + endHTML;
		if(gLog==1){console.log("panel1CatModalWrite - winWidth > globalRespWidth");}
		document.getElementById("panel1CategoryModalShell"+catArray[theX][0]).innerHTML = baseHTML;
		document.getElementById("panel1CategoryModalShell"+catArray[theX][0]).style.display = "block";
/*
	if (winWidth > globalRespWidth) {
		if(gLog==1){console.log("panel1CatModalWrite - winWidth > globalRespWidth");}
		document.getElementById("panel1CategoryModalShell"+catArray[theX][0]).innerHTML = baseHTML;
		document.getElementById("panel1CategoryModalShell"+catArray[theX][0]).style.display = "block";
	}
	else {
		if(gLog==1){console.log("panel1CatModalWrite - winWidth <= globalRespWidth");}
		document.getElementById("catModalFront").innerHTML = baseHTML;
		document.getElementById('catModalBack').style.display = "block";
		document.getElementById('catModalFront').style.display = "block";
	}
*/
}
function p1LabCatWrite(baseVal, baseID, baseClass, baseIndex, isRestrict) {
	var labCatNameTagStart = baseVal.indexOf("<!--LABCATNAME");
	if (labCatNameTagStart != -1) {
		var labCatNameTagEnd = baseVal.indexOf(">",labCatNameTagStart);
		var labCatNameTagStrip = baseVal.substring(labCatNameTagStart,(labCatNameTagEnd+1));
		var labCatNameHTMLStart = baseVal.substr(0,labCatNameTagStart);
		var labCatNameHTMLEnd = baseVal.substr((labCatNameTagEnd+1));
		var labCatNameValueStart = labCatNameTagStrip.indexOf(" VALUE=");
		if (labCatNameValueStart != -1) {
			var labCatNameValueEnd = labCatNameTagStrip.indexOf("]", labCatNameValueStart);
			var labCatNameValueVal = labCatNameTagStrip.substring((labCatNameValueStart+8),(labCatNameValueEnd));
		}
		else {
			var labCatNameValueVal = labelArray[baseIndex][1];
		}
		var replaceImgTest = labCatNameTagStrip.indexOf(" REPLACE");
		if (replaceImgTest != -1) {
			if (labCatModal == 1) {
				var replaceImgMouseOver = "panel1LabCatModalImgReplace(1," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceImgMouseOut = "panel1LabCatModalImgReplace(2," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceImgMouseClass = " img_replace_active";
			}
			else {
				var replaceImgMouseOver = "panel1LabCatImgReplace(1," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceImgMouseOut = "panel1LabCatImgReplace(2," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceImgMouseClass = " img_replace_active";
			}
		}
		else {
			var replaceImgMouseOver = "";
			var replaceImgMouseOut = "";
			var replaceImgMouseClass = "";
		}
		if (labelArray[baseIndex][3] == 1) {
			var labCatNameSelVal = " panel_1_labcat_" + baseClass + "_name_on";
		}
		else {
			var labCatNameSelVal = " panel_1_labcat_" + baseClass + "_name_off";
		}
		var labCatNameTagLinkTest = labCatNameTagStrip.indexOf(" LINK");
		var labCatNameTagLink = "";
		if (labCatNameTagLinkTest != -1) {
			if (labCatModal == 1) {
				var labCatNameOnClickVar = " onclick='panel1LabCatModalWrite(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatModalWrite(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");}'";
			}
			else {
				var labCatNameOnClickVar = " onclick='panel1LabCatSelectProducts(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatSelectProducts(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");}'";
			}
		}
		labCatNameTagLink = " style='cursor:pointer;'" + labCatNameOnClickVar;
		if (hoverState==1) {
			labCatNameTagLink += " onmouseover='panel1LabCatMouseOver(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceImgMouseOver + "' onfocus='panel1LabCatMouseOver(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceImgMouseOver + "' onmouseout='panel1LabCatMouseOut(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceImgMouseOut + "' onblur='panel1LabCatMouseOut(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceImgMouseOut + "'";
		}
		baseVal = labCatNameHTMLStart + "<a name='panel1LabCat" + baseID + "Anchor" + labelArray[baseIndex][0] + "' id='panel1LabCat" + baseID + "Anchor" + labelArray[baseIndex][0] + "'><\/a><div id='panel1LabCat" + baseID + "Name" + labelArray[baseIndex][0] + "' class='panel_1_labcat_" + baseClass + "_name_" + labelArray[baseIndex][0] + " panel_1_labcat_" + baseClass + "_name" + replaceImgMouseClass + labCatNameSelVal + "'" + labCatNameTagLink + " tabindex='0' title=\"" + labCatNameValueVal + "\">" + labCatNameValueVal + "<\/div>" + labCatNameHTMLEnd;
	}
	var labCatBigImgTagStart = baseVal.indexOf("<!--LABCATBIGIMG");
	if (labCatBigImgTagStart != -1) {
		var labCatBigImgTagEnd = baseVal.indexOf(">",labCatBigImgTagStart);
		var labCatBigImgTagStrip = baseVal.substring(labCatBigImgTagStart,(labCatBigImgTagEnd+1));
		var labCatBigImgHTMLStart = baseVal.substr(0,labCatBigImgTagStart);
		var labCatBigImgHTMLEnd = baseVal.substr((labCatBigImgTagEnd+1));
		var labCatBigImgTagRender = "";
		var replaceBigImgPreset = labelArray[baseIndex][6];
		var replaceBigImgHidden = " style='display:none;'";
		var replaceBigImgBackClass = "off";
		var replaceBigImgTest = labCatBigImgTagStrip.indexOf(" REPLACE");
		if (replaceBigImgTest != -1) {
			if (labCatModal == 1) {
				var replaceBigImgMouseOver = "panel1LabCatModalImgReplace(1," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceBigImgMouseOut = "panel1LabCatModalImgReplace(2," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceBigImgMouseClass = " img_replace_active";
			}
			else {
				var replaceBigImgMouseOver = "panel1LabCatImgReplace(1," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceBigImgMouseOut = "panel1LabCatImgReplace(2," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceBigImgMouseClass = " img_replace_active";
			}
		}
		else {
			var replaceBigImgMouseOver = "";
			var replaceBigImgMouseOut = "";
			var replaceBigImgMouseClass = "";
		}
		var labCatBigImgOnClickVar = "";
		var labCatBigImgTagLinkTest = labCatBigImgTagStrip.indexOf(" LINK");
		if (labCatBigImgTagLinkTest != -1) {
			if (labCatModal == 1) {
				labCatBigImgOnClickVar = " onclick='panel1LabCatModalWrite(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatModalWrite(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");}'";
			}
			else {
				labCatBigImgOnClickVar = " onclick='panel1LabCatSelectProducts(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatSelectProducts(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");return false;}'";
			}
		}
		var postImgBig = " style='background-image:url(\"" + clientImgBase + labelArray[baseIndex][6] + "\");'";
		if (panel1PostLoad == 1) {
			postImgBig = "";
		};
		if (panel1PostLoad == 1) {plPostLab = 1;}
		if (labelArray[baseIndex][3] != 0) {
			replaceBigImgHidden = "";
			replaceBigImgBackClass = "on";
		}
		p1LCHWon = 1;
		labCatBigImgTagRender = "<div title=\"" + labelArray[baseIndex][1] + "\" id='panel1LabCat" + baseID + "BigImgDivShell" + labelArray[baseIndex][0] + "' class='panel_1_labcat_" + baseClass + "_big_img_div_shell panel_1_labcat_big_img_div_shell_" + labelArray[baseIndex][0] + "'" + labCatBigImgOnClickVar;
		if (hoverState==1) {
			labCatBigImgTagRender += " onmouseover='panel1LabCatMouseOver(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceBigImgMouseOver + "' onfocus='panel1LabCatMouseOver(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceBigImgMouseOver + "'";
		}
		labCatBigImgTagRender += " tabindex='0' title=\"" + labelArray[baseIndex][1] + "\"><div id='panel1LabCat" + baseID + "BigImgDivBack" + labelArray[baseIndex][0] + "' class='panel_1_labcat_" + baseClass + "_big_img_div_back panel_1_labcat_" + baseClass + "_big_img_div_back_" + replaceBigImgBackClass + " panel_1_labcat_" + baseClass + "_big_img_div_back_" + labelArray[baseIndex][0] + replaceBigImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1LabCat" + baseID + "BigImgDivOver" + labelArray[baseIndex][0] + "' class='panel_1_labcat_" + baseClass + "_big_img_div_over panel_1_labcat_" + baseClass + "_big_img_div_over_" + labelArray[baseIndex][0] +"'" + replaceBigImgHidden;
		if (hoverState==1) {
			labCatBigImgTagRender += " onmouseout='panel1LabCatMouseOut(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceBigImgMouseOut + "' onblur='panel1LabCatMouseOut(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceBigImgMouseOut + "'";
		}
		labCatBigImgTagRender += ">&nbsp;<\/div><\/div>";
		baseVal = labCatBigImgHTMLStart + labCatBigImgTagRender + labCatBigImgHTMLEnd;
	}
	var labCatSmImgTagStart = baseVal.indexOf("<!--LABCATSMIMG");
	if (labCatSmImgTagStart != -1) {
		var labCatSmImgTagEnd = baseVal.indexOf(">",labCatSmImgTagStart);
		var labCatSmImgTagStrip = baseVal.substring(labCatSmImgTagStart,(labCatSmImgTagEnd+1));
		var labCatSmImgHTMLStart = baseVal.substr(0,labCatSmImgTagStart);
		var labCatSmImgHTMLEnd = baseVal.substr((labCatSmImgTagEnd+1));
		var labCatSmImgTagRender = "";
		var replaceSmImgPreset = labelArray[baseIndex][6];
		var replaceSmImgHidden = " style='display:none;'";
		var replaceSmImgBackClass = "off";
		var replaceSmImgTest = labCatSmImgTagStrip.indexOf(" REPLACE");
		if (replaceSmImgTest != -1) {
			if (labCatModal == 1) {
				var replaceSmImgMouseOver = "panel1LabCatModalImgReplace(1," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceSmImgMouseOut = "panel1LabCatModalImgReplace(2," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceSmImgMouseClass = " img_replace_active";
			}
			else {
				var replaceSmImgMouseOver = "panel1LabCatImgReplace(1," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceSmImgMouseOut = "panel1LabCatImgReplace(2," + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");";
				var replaceSmImgMouseClass = " img_replace_active";
			}
		}
		else {
			var replaceSmImgMouseOver = "";
			var replaceSmImgMouseOut = "";
			var replaceSmImgMouseClass = "";
		}
		var labCatSmImgOnClickVar = "";
		var labCatSmImgTagLinkTest = labCatSmImgTagStrip.indexOf(" LINK");
		if (labCatSmImgTagLinkTest != -1) {
			if (labCatModal == 1) {
				labCatSmImgOnClickVar = " onclick='panel1LabCatModalWrite(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatModalWrite(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");}'";
			}
			else {
				labCatSmImgOnClickVar = " onclick='panel1LabCatSelectProducts(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatSelectProducts(" + isRestrict + ", " + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");return false;}'";
			}
		}
		var postImgBig = " style='background-image:url(\"" + clientImgBase + labelArray[baseIndex][7] + "\");'";
		if (panel1PostLoad == 1) {
			postImgBig = "";
		};
		if (panel1PostLoad == 1) {plPostLab = 1;}
		if (labelArray[baseIndex][3] != 0) {
			replaceSmImgHidden = "";
			replaceSmImgBackClass = "on";
		}
		p1LCHWon = 1;
		labCatSmImgTagRender = "<div title=\"" + labelArray[baseIndex][1] + "\" id='panel1LabCatSmImgDivShell" + labelArray[baseIndex][0] + "' class='panel_1_labcat_" + baseClass + "_sm_img_div_shell panel_1_labcat_" + baseClass + "_sm_img_div_shell_" + labelArray[baseIndex][0] + "'" + labCatSmImgOnClickVar;
		if (hoverState==1) {
			labCatSmImgTagRender += " onmouseover='panel1LabCatMouseOver(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceSmImgMouseOver + "' onfocus='panel1LabCatMouseOver(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceSmImgMouseOver + "'";
		}
		labCatSmImgTagRender += " tabindex='0' title=\"" + labelArray[baseIndex][1] + "\"><div id='panel1LabCat" + baseID + "SmImgDivBack" + labelArray[baseIndex][0] + "' class='panel_1_labcat_" + baseClass + "_sm_img_div_back panel_1_labcat_" + baseClass + "_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_labcat_" + baseClass + "_sm_img_div_back_" + labelArray[baseIndex][0] + replaceSmImgMouseClass +"'" + postImgBig + "><\/div><div id='panel1LabCat" + baseID + "SmImgDivOver" + labelArray[baseIndex][0] + "' class='panel_1_labcat_" + baseClass + "_sm_img_div_over panel_1_labcat_" + baseClass + "_sm_img_div_over_" + labelArray[baseIndex][0] +"'" + replaceSmImgHidden;
		if (hoverState==1) {
			labCatSmImgTagRender += " onmouseout='panel1LabCatMouseOut(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceSmImgMouseOut + "' onblur='panel1LabCatMouseOut(" + labelArray[baseIndex][0] + ", \"" + baseID + "\", \"" + baseClass + "\");" + replaceSmImgMouseOut + "'";
		}
		labCatSmImgTagRender += ">&nbsp;<\/div><\/div>";
		baseVal = labCatSmImgHTMLStart + labCatSmImgTagRender + labCatSmImgHTMLEnd;
	}
	return baseVal;
}
function p1LabCatProdWrite(baseVal, prodID, prodlabelID, isRestrict) {
	var prodDiscTagStart = baseVal.indexOf("<!--HIGHPROD");
	if (prodDiscTagStart != -1) {
		var prodDiscTagEnd = baseVal.indexOf(">",prodDiscTagStart);
		var prodDiscTagStrip = baseVal.substring(prodDiscTagStart,(prodDiscTagEnd+1));
		var prodDiscHTMLStart = baseVal.substr(0,prodDiscTagStart);
		var prodDiscHTMLEnd = baseVal.substr((prodDiscTagEnd+1));
		var prodDiscWrite = "";
		var discVal = prodDisplayArray[prodID][6];
		if (discVal != 1) {
			prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1LabCatProduct_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
		}
		baseVal = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
	}
	var prodNameTagStart = baseVal.indexOf("<!--PRODNAME");
	if (prodNameTagStart != -1) {
		var prodNameTagEnd = baseVal.indexOf(">",prodNameTagStart);
		var prodNameTagStrip = baseVal.substring(prodNameTagStart,(prodNameTagEnd+1));
		var prodNameHTMLStart = baseVal.substr(0,prodNameTagStart);
		var prodNameHTMLEnd = baseVal.substr((prodNameTagEnd+1));
		var replaceImgTest = prodNameTagStrip.indexOf(" REPLACE");
		if (replaceImgTest != -1) {
			var replaceImgMouseOver = "panel1LabCatProdImgReplace(1," + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");";
			var replaceImgMouseOut = "panel1LabCatProdImgReplace(2," + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");";
			var replaceImgMouseClass = " img_replace_active";
		}
		else {
			var replaceImgMouseOver = "";
			var replaceImgMouseOut = "";
			var replaceImgMouseClass = "";
		}
		var descTest = prodNameTagStrip.indexOf(" DESC");
		if (descTest != -1) {
			var descVal = "<span class='panel_1_labcat_product_name_desc'>" + prodDisplayArray[prodID][3] + "<\/span>";
		}
		else {
			var descVal = "";
		}
		var catTest = prodNameTagStrip.indexOf(" CAT");
		if (catTest != -1) {
			var catVal = "<span class='panel_1_labcat_product_name_cat'>" + prodDisplayArray[prodID][16] + "<\/span>";
		}
		else {
			var catVal = "";
		}
		var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
		var prodNameTagLink = "";
		if (prodNameTagLinkTest != -1) {
			prodNameTagLink = " style='cursor:pointer;' onclick='panel1LabCatProdSelect(" + isRestrict + ", " + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ", 1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatProdSelect(" + isRestrict + ", " + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ", 1);}'";
			if (hoverState==1) {
				prodNameTagLink += " onmouseover='panel1LabCatProdMouseOver(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceImgMouseOver + "' onfocus='panel1LabCatProdMouseOver(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceImgMouseOver + "' onmouseout='panel1LabCatProdMouseOut(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceImgMouseOut + "' onblur='panel1LabCatProdMouseOut(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceImgMouseOut + "'";
			}
		}
		var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
		if (prodNameItalicStart != -1) {
			var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
			var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
		}
		else {
			var prodNameItalicVar = "";
		}
		var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
		if (prodNameSizeStart != -1) {
			var prodNameDispVal = prodDisplayArray[prodID][21];
		}
		else {
			var prodNameDispVal = prodDisplayArray[prodID][2];
		}
		if (prodDisplayArray[prodID][9] == "1") {
			var productStyle = " panel_1_labcat_product_name_on";
		}
		else {
			var productStyle = " panel_1_labcat_product_name_off";
		}
		baseVal = prodNameHTMLStart + "<a name='panel1LabCatProductAnchor" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' id='panel1LabCatProductAnchor" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "'><\/a><div id='panel1LabCatProductName" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_name" + replaceImgMouseClass + productStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + catVal + "\">" + prodNameItalicVar + catVal + "<span class='panel_1_labcat_product_name_name'>" + prodNameDispVal + "<\/span>" + descVal + "<\/div>" + prodNameHTMLEnd;
	}
	var prodDescTagStart = baseVal.indexOf("<!--PRODDESC");
	if (prodDescTagStart != -1) {
		var prodDescTagEnd = baseVal.indexOf(">",prodDescTagStart);
		var prodDescTagStrip = baseVal.substring(prodDescTagStart,(prodDescTagEnd+1));
		var prodDescHTMLStart = baseVal.substr(0,prodDescTagStart);
		var prodDescHTMLEnd = baseVal.substr((prodDescTagEnd+1));
		baseVal = prodDescHTMLStart + "<div id='panel1LabCatProductDesc" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_desc'>" + prodDisplayArray[prodID][3] + "<\/div>" + prodDescHTMLEnd;
	}
	var prodCatTagStart = baseVal.indexOf("<!--PRODCAT");
	if (prodCatTagStart != -1) {
		var prodCatTagEnd = baseVal.indexOf(">",prodCatTagStart);
		var prodCatTagStrip = baseVal.substring(prodCatTagStart,(prodCatTagEnd+1));
		var prodCatHTMLStart = baseVal.substr(0,prodCatTagStart);
		var prodCatHTMLEnd = baseVal.substr((prodCatTagEnd+1));
		baseVal = prodCatHTMLStart + "<div id='panel1LabCatProductCat" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_cat'>" + prodDisplayArray[prodID][16] + "<\/div>" + prodCatHTMLEnd;
	}
	var prodCatTagStart = baseVal.indexOf("<!--PRODFAM");
	if (prodCatTagStart != -1) {
		var prodCatTagEnd = baseVal.indexOf(">",prodCatTagStart);
		var prodCatTagStrip = baseVal.substring(prodCatTagStart,(prodCatTagEnd+1));
		var prodCatHTMLStart = baseVal.substr(0,prodCatTagStart);
		var prodCatHTMLEnd = baseVal.substr((prodCatTagEnd+1));
		baseVal = prodCatHTMLStart + "<div id='panel1LabCatProductFam" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_fam'>" + prodDisplayArray[prodID][22] + "<\/div>" + prodCatHTMLEnd;
	}
	var prodBigImgTagStart = baseVal.indexOf("<!--PRODBIGIMG");
	if (prodBigImgTagStart != -1) {
		var prodBigImgTagEnd = baseVal.indexOf(">",prodBigImgTagStart);
		var prodBigImgTagStrip = baseVal.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
		var prodBigImgHTMLStart = baseVal.substr(0,prodBigImgTagStart);
		var prodBigImgHTMLEnd = baseVal.substr((prodBigImgTagEnd+1));
		var prodBigImgTagRender = "";
		var replaceBigImgMouseOver = "";
		var replaceBigImgMouseOut = "";
		var replaceBigImgMouseClass = "";
		var replaceBigImgPreset = prodDisplayArray[prodID][4];
		var replaceBigImgHidden = " style='display:none;'";
		var replaceBigImgBackClass = "off";
		var replaceBigImgTest = prodBigImgTagStrip.indexOf(" REPLACE");
		if (replaceBigImgTest != -1) {
			replaceBigImgMouseOver = "panel1LabCatProdImgReplace(1," + prodDisplayArray[prodID][0] + ");";
			replaceBigImgMouseOut = "panel1LabCatProdImgReplace(2," + prodDisplayArray[prodID][0] + ");";
			replaceBigImgMouseClass = " img_replace_active";
		}
		var prodBigImgTagLinkTest = prodBigImgTagStrip.indexOf(" LINK");
		var prodBigImgTagLink = "";
		if (prodBigImgTagLinkTest != -1) {
			prodBigImgTagLink = " onclick='panel1LabCatProdSelect(" + isRestrict + ", " + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ", 1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatProdSelect(" + isRestrict + ", " + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ", 1);}'";
		}
		p1LCPHWon = 1;
		prodBigImgTagRender = "<div title=\"" + prodDisplayArray[prodID][2] + "\" id='panel1LabCatProductBigImgDivShell" + prodDisplayArray[prodID][0] + "' class='panel_1_labcat_product_big_img_div_shell panel_1_labcat_product_big_img_div_shell_" + prodDisplayArray[prodID][0] + "'";
		if (hoverState==1) {
			prodBigImgTagRender += " onmouseover='panel1LabCatProdMouseOver(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceBigImgMouseOver + "' onfocus='panel1LabCatProdMouseOver(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceBigImgMouseOver + "'";
		}
		prodBigImgTagRender += " tabindex='0' title=\"" + prodDisplayArray[prodID][2] + "\"><div id='panel1LabCatProductBigImgDivBack" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_big_img_div_back panel_1_labcat_product_big_img_div_back_" + replaceBigImgBackClass + " panel_1_product_big_img_div_back_" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + replaceBigImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[prodID][4] + "\");'><\/div><div id='panel1LabCatProductBigImgDivOver" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_big_img_div_over panel_1_labcat_product_big_img_div_over_" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "'" + replaceBigImgHidden;
		if (hoverState==1) {
			prodBigImgTagRender += " onmouseout='panel1LabCatProdMouseOut(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceBigImgMouseOut + "' onblur='panel1LabCatProdMouseOut(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceBigImgMouseOut + "'";
		}
		prodBigImgTagRender += ">&nbsp;<\/div><\/div>";
		baseVal = prodBigImgHTMLStart + prodBigImgTagRender + prodBigImgHTMLEnd;
	}
	var prodSmImgTagStart = baseVal.indexOf("<!--PRODSMIMG");
	if (prodSmImgTagStart != -1) {
		var prodSmImgTagEnd = baseVal.indexOf(">",prodSmImgTagStart);
		var prodSmImgTagStrip = baseVal.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
		var prodSmImgHTMLStart = baseVal.substr(0,prodSmImgTagStart);
		var prodSmImgHTMLEnd = baseVal.substr((prodSmImgTagEnd+1));
		var prodSmImgTagRender = "";
		var replaceSmImgMouseOver = "";
		var replaceSmImgMouseOut = "";
		var replaceSmImgMouseClass = "";
		var replaceSmImgPreset = prodDisplayArray[prodID][5];
		var replaceSmImgHidden = " style='display:none;'";
		var replaceSmImgBackClass = "off";
		var replaceSmImgTest = prodSmImgTagStrip.indexOf(" REPLACE");
		if (replaceSmImgTest != -1) {
			replaceSmImgMouseOver = "panel1LabCatProdImgReplace(1," + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");";
			replaceSmImgMouseOut = "panel1LabCatProdImgReplace(2," + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");";
			replaceSmImgMouseClass = " img_replace_active";
		}
		var prodSmImgTagLinkTest = prodSmImgTagStrip.indexOf(" LINK");
		var prodSmImgTagLink = "";
		if (prodSmImgTagLinkTest != -1) {
			prodSmImgTagLink = " onclick='panel1LabCatProdSelect(" + isRestrict + ", " + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ", 1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1LabCatProdSelect(" + isRestrict + ", " + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ", 1);}'";
		}
		p1LCPHWon = 1;
		prodSmImgTagRender = "<div title=\"" + prodDisplayArray[prodID][2] + "\" id='panel1LabCatProductSmImgDivShell" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_sm_img_div_shell panel_1_labcat_product_sm_img_div_shell_" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "'";
		if (hoverState==1) {
			prodSmImgTagRender += " onmouseover='panel1LabCatProdMouseOver(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceSmImgMouseOver + "' onfocus='panel1LabCatProdMouseOver(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceSmImgMouseOver + "'";
		}
		prodSmImgTagRender += " tabindex='0' title=\"" + prodDisplayArray[prodID][2] + "\"><div id='panel1LabCatProductSmImgDivBack" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_sm_img_div_back panel_1_labcat_product_sm_img_div_back_" + replaceSmImgBackClass + " panel_1_labcat_product_sm_img_div_back_" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + replaceSmImgMouseClass +"' style='background-image:url(\"" + clientImgBase + prodDisplayArray[prodID][5] + "\");'><\/div><div id='panel1LabCatProductSmImgDivOver" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "' class='panel_1_labcat_product_sm_img_div_over panel_1_labcat_product_sm_img_div_over_" + prodDisplayArray[prodID][0] + "_" + prodLabelArray[prodlabelID][0] + "'" + replaceSmImgHidden;
		if (hoverState==1) {
			prodSmImgTagRender += " onmouseout='panel1LabCatProdMouseOut(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceSmImgMouseOut + "' onblur='panel1LabCatProdMouseOut(" + prodDisplayArray[prodID][0] + ", " + prodLabelArray[prodlabelID][0] + ");" + replaceSmImgMouseOut + "'";
		}
		prodSmImgTagRender += ">&nbsp;<\/div><\/div>";
		baseVal = prodSmImgHTMLStart + prodSmImgTagRender + prodSmImgHTMLEnd;
	}
	return baseVal;
}
function panel1LabCatModalWrite(theID, theName, theClass) {
 // Deferred
}
function panel1LabCatModalImgReplace(theVal, theID, theName, theClass) {
 // Deferred
}
function panel1LabCatImgReplace(whatState, whatID, theName, theClass) {
	//if(gLog==1){console.log("panel1LabCatImgReplace START", whatState, whatID, theName, theClass);}
	var isOn = 0;
	for (x=0; x<labelArray.length; x++) {
		if (labelArray[x][0] == whatID) {
			isOn = labelArray[x][3];
			break;
		}
	}
	if (whatState == 1) {
		if (document.getElementById("panel1LabCat" + theName + "BigImgDivBack" + whatID) && $(".panel_1_labcat_" + theClass + "_big_img_div_back_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_labcat_" + theClass + "_big_img_div_over_"+whatID).show();
			$(".panel_1_labcat_" + theClass + "_big_img_div_back_"+whatID).removeClass("panel_1_labcat_" + theClass + "_big_img_div_back_off");
			$(".panel_1_labcat_" + theClass + "_big_img_div_back_"+whatID).addClass("panel_1_labcat_" + theClass + "_big_img_div_back_on");
		}
		if (document.getElementById("panel1LabCat" + theName + "SmImgDivBack" + whatID) && $(".panel_1_labcat_" + theClass + "_sm_img_div_back_"+whatID).hasClass("img_replace_active")) {
			$(".panel_1_labcat_" + theClass + "_sm_img_div_over_"+whatID).show();
			$(".panel_1_labcat_" + theClass + "_sm_img_div_back_"+whatID).removeClass("panel_1_labcat_" + theClass + "_sm_img_div_back_off");
			$(".panel_1_labcat_" + theClass + "_sm_img_div_back_"+whatID).addClass("panel_1_labcat_" + theClass + "_sm_img_div_back_on");
		}
	}
	else {
		if (document.getElementById("panel1LabCat" + theName + "BigImgDivBack" + whatID) && $(".panel_1_labcat_" + theClass + "_big_img_div_back_"+whatID).hasClass("img_replace_active") && isOn == 0) {
			$(".panel_1_labcat_" + theClass + "_big_img_div_over_"+whatID).hide();
			$(".panel_1_labcat_" + theClass + "_big_img_div_back_"+whatID).addClass("panel_1_labcat_" + theClass + "_big_img_div_back_off");
			$(".panel_1_labcat_" + theClass + "_big_img_div_back_"+whatID).removeClass("panel_1_labcat_" + theClass + "_big_img_div_back_on");
		}
		if (document.getElementById("panel1LabCat" + theName + "SmImgDivBack" + whatID) && $(".panel_1_labcat_" + theClass + "_sm_img_div_back_"+whatID).hasClass("img_replace_active") && isOn == 0) {
			$(".panel_1_labcat_" + theClass + "_sm_img_div_over_"+whatID).hide();
			$(".panel_1_labcat_" + theClass + "_sm_img_div_back_"+whatID).addClass("panel_1_labcat_" + theClass + "_sm_img_div_back_off");
			$(".panel_1_labcat_" + theClass + "_sm_img_div_back_"+whatID).removeClass("panel_1_labcat_" + theClass + "_sm_img_div_back_on");
		}
	}
}
function panel1LabCatHoverWait() {
	var checkLArr = [];
	checkLArr[0] = ["Parent","parent"];
	checkLArr[1] = ["Child","child"];
	checkLArr[2] = ["Sub","sub"];
	for (lch=0; lch<labelArray.length; lch++) {
		var hoverIt = 1;
		if (labelArray[lch][3] == 1) {
			hoverIt = 0;
		}
		if (hoverIt == 1) {
			for (j=0; j<checkLArr.length; j++) {
				if (document.getElementById("panel1LabCat" + checkLArr[j][0] + "BigImgDivBack" + labelArray[lch][0])) {
					var hoBig = 0;
					if (document.getElementById("panel1LabCat" + checkLArr[j][0] + "BigImgDivBack" + labelArray[lch][0]).matches(':hover') || document.getElementById("panel1LabCat" + checkLArr[j][0] + "BigImgDivOver" + labelArray[lch][0]).matches(':hover')) {
						hoBig = 1;
					}
					if (document.getElementById("panel1LabCat" + checkLArr[j][0] + "Name" + labelArray[lch][0])) {
						if (document.getElementById("panel1LabCat" + checkLArr[j][0] + "Name" + labelArray[lch][0]).matches(':hover')) {
							hoBig = 1;
						}
					}
					if (hoBig == 0) {
		    			if ($("#panel1LabCat" + checkLArr[j][0] + "BigImgDivBack" + labelArray[lch][0]).hasClass("panel_1_labcat_" + checkLArr[j][1] + "_big_img_div_back_on") && labelArray[lch][3] == 0) {
							if(gLog==1){console.log("panel1LabCatHoverWait - Removed Hover: " + labelArray[lch][0]);}
							$(".panel_1_labcat_" + checkLArr[j][1] + "_big_img_div_over_"+labelArray[lch][0]).fadeOut(150);
							$(".panel_1_labcat_" + checkLArr[j][1] + "_big_img_div_back_"+labelArray[lch][0]).addClass("panel_1_labcat_" + checkLArr[j][1] + "_big_img_div_back_off");
							$(".panel_1_labcat_" + checkLArr[j][1] + "_big_img_div_back_"+labelArray[lch][0]).removeClass("panel_1_labcat_" + checkLArr[j][1] + "_big_img_div_back_on");
		    			}
		    		}
		 		}
				if (document.getElementById("panel1LabCat" + checkLArr[j][0] + "SmImgDivBack" + labelArray[lch][0])) {
					var hoSm = 0;
					if (document.getElementById("panel1LabCat" + checkLArr[j][0] + "SmImgDivBack" + labelArray[lch][0]).matches(':hover') || document.getElementById("panel1LabCat" + checkLArr[j][0] + "SmImgDivOver" + labelArray[lch][0]).matches(':hover')) {
						hoSm = 1;
					}
					if (document.getElementById("panel1LabCat" + checkLArr[j][0] + "Name" + labelArray[lch][0])) {
						if (document.getElementById("panel1LabCat" + checkLArr[j][0] + "Name" + labelArray[lch][0]).matches(':hover')) {
							hoSm = 1;
						}
					}
					if (hoSm == 0) {
		   				if ($("#panel1LabCat" + checkLArr[j][0] + "SmImgDivBack" + labelArray[lch][0]).hasClass("panel_1_labcat_" + checkLArr[j][1] + "_sm_img_div_back_on") && labelArray[lch][3] == 0) {
							if(gLog==1){console.log("panel1LabCatHoverWait - Removed Hover: " + labelArray[lch][0]);}
							$(".panel_1_labcat_" + checkLArr[j][1] + "_sm_img_div_over_"+labelArray[lch][0]).fadeOut(150);
							$(".panel_1_labcat_" + checkLArr[j][1] + "_sm_img_div_back_"+labelArray[lch][0]).addClass("panel_1_labcat_" + checkLArr[j][1] + "_sm_img_div_back_off");
							$(".panel_1_labcat_" + checkLArr[j][1] + "_sm_img_div_back_"+labelArray[lch][0]).removeClass("panel_1_labcat_" + checkLArr[j][1] + "_sm_img_div_back_on");
		    			}
		    		}
				}
			}
		}
	}
}
function panel1LabCatProdHoverWait() {
	for (x=0; x<prodLabelArray.length; x++) {
		if (document.getElementById('panel1LabCatProductBigImgDivBack'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0])) {
			if ($('#panel1LabCatProductBigImgDivBack'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).is(":hover") || $('#panel1LabCatProductBigImgDivOver'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).is(":hover") || $('#panel1LabCatProductName'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).is(":hover")) {}
			else{
    			if ($('#panel1LabCatProductBigImgDivBack'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).hasClass('panel_1_labcat_product_big_img_div_back_on') && window['panel1LabCatProductNameVar'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]] == 0) {
					if(gLog==1){console.log("panel1ProdHoverWait - Removed Hover: " + prodLabelArray[x][0]);}
					$(".panel_1_labcat_product_big_img_div_over_"+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).fadeOut(150);
					$(".panel_1_labcat_product_big_img_div_back_"+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).addClass('panel_1_labcat_product_big_img_div_back_off');
					$(".panel_1_labcat_product_big_img_div_back_"+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).removeClass('panel_1_labcat_product_big_img_div_back_on');
    			}
    		}
 		}
		if (document.getElementById('panel1LabCatProductSmImgDivBack'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0])) {
 			if ($('#panel1LabCatProductSmImgDivBack'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).is(":hover") || $('#panel1LabCatProductSmImgDivOver'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).is(":hover") || $('#panel1LabCatProductName'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).is(":hover")) {}
			else{
   				if ($('#panel1LabCatProductSmImgDivBack'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).hasClass('panel_1_labcat_product_sm_img_div_back_on') && window['panel1LabCatProductNameVar'+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]] == 0) {
					if(gLog==1){console.log("panel1ProdHoverWait - Removed Hover: " + prodLabelArray[x][0]);}
					$(".panel_1_labcat_product_sm_img_div_over_"+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).fadeOut(150);
					$(".panel_1_labcat_product_sm_img_div_back_"+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).addClass('panel_1_labcat_product_sm_img_div_back_off');
					$(".panel_1_labcat_product_sm_img_div_back_"+prodLabelArray[x][1]+"_"+prodLabelArray[x][0]).removeClass('panel_1_labcat_product_sm_img_div_back_on');
    			}
    		}
		}
	}
}
function panel1LabCatSelectProducts(isRestrict, whatID, theName, theClass) {
	if(gLog==1){console.log("panel1LabCatSelectProducts START", isRestrict, whatID, theName, theClass);}
	if (isRestrict == 1) {
		var prodSelVar = -1;
		for (l=0; l<labelArray.length; l++) {
			if (labelArray[l][0] == whatID) {
				if (labelArray[l][3] == 0) {
					labelArray[l][3] = 1;
					var setVar = 1;
					prodSelVar = 1;
				}
				else {
					labelArray[l][3] = 0;
					var setVar = 0;
					prodSelVar = 2;
				}
				for (pla=0; pla<prodLabelArray.length; pla++) {
					if (prodLabelArray[pla][2] == labelArray[l][0]) {
						panel1LabCatProdSelect(isRestrict, prodLabelArray[pla][1], prodLabelArray[pla][0], 2, prodSelVar);
					}
				}
				for (a=0; a<labelArray.length; a++) {
					if (labelArray[a][9] == labelArray[l][0]) {
						labelArray[a][3] = setVar;
						for (pla=0; pla<prodLabelArray.length; pla++) {
							if (prodLabelArray[pla][2] == labelArray[a][0]) {
								panel1LabCatProdSelect(isRestrict, prodLabelArray[pla][1], prodLabelArray[pla][0], 2, prodSelVar);
							}
						}
						for (b=0; b<labelArray.length; b++) {
							if (labelArray[b][9] == labelArray[a][0]) {
								labelArray[b][3] = setVar;
								for (pla=0; pla<prodLabelArray.length; pla++) {
									if (prodLabelArray[pla][2] == labelArray[b][0]) {
										panel1LabCatProdSelect(isRestrict, prodLabelArray[pla][1], prodLabelArray[pla][0], 2, prodSelVar);
									}
								}
							}
						}
					}
				}
				if (setVar == 0) {
					for (a=0; a<labelArray.length; a++) {
						if (labelArray[a][0] == labelArray[l][9]) {
							labelArray[a][3] = setVar;
							for (pla=0; pla<prodLabelArray.length; pla++) {
								if (prodLabelArray[pla][2] == labelArray[a][0]) {
									panel1LabCatProdSelect(isRestrict, prodLabelArray[pla][1], prodLabelArray[pla][0], 2, prodSelVar);
								}
							}
							for (b=0; b<labelArray.length; b++) {
								if (labelArray[b][0] == labelArray[a][9]) {
									labelArray[b][3] = setVar;
									for (pla=0; pla<prodLabelArray.length; pla++) {
										if (prodLabelArray[pla][2] == labelArray[b][0]) {
											panel1LabCatProdSelect(isRestrict, prodLabelArray[pla][1], prodLabelArray[pla][0], 2, prodSelVar);
										}
									}
								}
							}
						}
					}
				}
				break;
			}
		}

	}
	else if (isRestrict == 2) {
		var prodSelVar = -1;
		for (l=0; l<labelArray.length; l++) {
			if (labelArray[l][0] == whatID) {
				if (labelArray[l][3] == 0) {
					labelArray[l][3] = 1;
					prodSelVar = 1;
				}
				else {
					labelArray[l][3] = 0;
					prodSelVar = 2;
				}
			}
		}
		for (pla=0; pla<prodLabelArray.length; pla++) {
			if (prodLabelArray[pla][2] == whatID) {
				panel1LabCatProdSelect(isRestrict, prodLabelArray[pla][1], prodLabelArray[pla][0], 2, prodSelVar);
			}
		}
	}
	panel1LabCatFill(isRestrict);
}
function panel1LabCatMouseOver(theID, theName, theClass) {
	//if(gLog==1){console.log("panel1LabCatMouseOver START", theID, theName, theClass);}
	if ($("#panel1LabCat" + theName + "Name" + theID).hasClass("panel_1_labcat_" + theClass + "_name_on")) {
		$("#panel1LabCat" + theName + "Name" + theID).removeClass("panel_1_labcat_" + theClass + "_name_on");
		$("#panel1LabCat" + theName + "Name" + theID).addClass("panel_1_labcat_" + theClass + "_name_hover_on");
	}
	if ($("#panel1LabCat" + theName + "Name" + theID).hasClass("panel_1_labcat_" + theClass + "_name_off")) {
		$("#panel1LabCat" + theName + "Name" + theID).removeClass("panel_1_labcat_" + theClass + "_name_off");
		$("#panel1LabCat" + theName + "Name" + theID).addClass("panel_1_labcat_" + theClass + "_name_hover_off");
	}
}
function panel1LabCatMouseOut(theID, theName, theClass) {
	//if(gLog==1){console.log("panel1LabCatMouseOut START", theID, theName, theClass);}
	if ($("#panel1LabCat" + theName + "Name" + theID).hasClass("panel_1_labcat_" + theClass + "_name_hover_on")) {
		$("#panel1LabCat" + theName + "Name" + theID).removeClass("panel_1_labcat_" + theClass + "_name_hover_on");
		$("#panel1LabCat" + theName + "Name" + theID).addClass("panel_1_labcat_" + theClass + "_name_on");
	}
	if ($("#panel1LabCat" + theName + "Name" + theID).hasClass("panel_1_labcat_" + theClass + "_name_hover_off")) {
		$("#panel1LabCat" + theName + "Name" + theID).removeClass("panel_1_labcat_" + theClass + "_name_hover_off");
		$("#panel1LabCat" + theName + "Name" + theID).addClass("panel_1_labcat_" + theClass + "_name_off");
	}
}
function panel1LabCatProdSelect(isRestrict, prodID, prodlabelID, runLabels, forceVal) {
	var forceIt = 0;
	if (forceVal) {
		forceIt = forceVal;
	}
	if(gLog==1){console.log("panel1LabCatProdSelect START", isRestrict, prodID, prodlabelID, runLabels, forceIt, labelArray);}
	if (isRestrict == 1) {
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][0] == prodID) {
				if ((prodDisplayArray[p][9] == 0 && forceIt == 0) || forceIt == 1) {
					if(gLog==1){console.log("panel1LabCatProdSelect - Activate ", prodID, prodlabelID);}
					for (pl=0; pl<prodLabelArray.length; pl++) {
						if (prodLabelArray[pl][1] == prodID && prodLabelArray[pl][0] == prodlabelID) {
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_name_off");
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_name_hover_off");
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_name_on");
							if (document.getElementById("panel1ProductName" + prodID)) {
								$("#panel1ProductName" + prodID).addClass("panel_1_labcat_product_hide_on");
							}
							if (document.getElementById("panel1LabCatProductBigImgDivBack" + prodID + "_" + prodLabelArray[pl][0]) && $("#panel1LabCatProductBigImgDivBack" + prodID + "_" + prodLabelArray[pl][0]).hasClass("img_replace_active")) {
								$(".panel_1_labcat_product_big_img_div_over_" + prodID + "_" + prodLabelArray[pl][0]).fadeIn(50);
								$(".panel_1_labcat_product_big_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_big_img_div_back_off");
								$(".panel_1_labcat_product_big_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_big_img_div_back_on");
							}
							if (document.getElementById("panel1LabCatProductSmImgDivBack" + prodID + "_" + prodLabelArray[pl][0]) && $("#panel1LabCatProductSmImgDivBack" + prodID + "_" + prodLabelArray[pl][0]).hasClass("img_replace_active")) {
								$(".panel_1_labcat_product_sm_img_div_over_" + prodID + "_" + prodLabelArray[pl][0]).fadeIn(50);
								$(".panel_1_labcat_product_sm_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_sm_img_div_back_off");
								$(".panel_1_labcat_product_sm_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_sm_img_div_back_on");
							}
						}
					}
					prodDisplayArray[p][9] = 1;
					window["panel1ProductName"+prodDisplayArray[p][0]] = 1;
				}
				else if ((prodDisplayArray[p][9] == 1 && forceIt == 0) || forceIt == 2) {
					if(gLog==1){console.log("panel1LabCatProdSelect - Deactivate ",prodID, prodlabelID);}
					for (pl=0; pl<prodLabelArray.length; pl++) {
						if (prodLabelArray[pl][1] == prodID && prodLabelArray[pl][0] == prodlabelID) {
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_name_on");
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_name_hover_on");
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_name_off");
							if (document.getElementById("panel1ProductBigImgDivBack" + prodID + "_" + prodLabelArray[pl][0]) && $("#panel1ProductBigImgDivBack" + prodID + "_" + prodLabelArray[pl][0]).hasClass("img_replace_active")) {
								$(".panel_1_product_big_img_div_over_" + prodID + "_" + prodLabelArray[pl][0]).fadeOut(50);
								$(".panel_1_product_big_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_big_img_div_back_off");
								$(".panel_1_product_big_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_big_img_div_back_on");
							}
							if (document.getElementById("panel1ProductSmImgDivBack" + prodID + "_" + prodLabelArray[pl][0]) && $("#panel1ProductSmImgDivBack" + prodID + "_" + prodLabelArray[pl][0]).hasClass("img_replace_active")) {
								$(".panel_1_product_sm_img_div_over_" + prodID + "_" + prodLabelArray[pl][0]).fadeOut(50);
								$(".panel_1_product_sm_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_sm_img_div_back_off");
								$(".panel_1_product_sm_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_sm_img_div_back_on");
							}
						}
					}
					var turnItOff = 1;
					for (q=0; q<prodLabelArray.length; q++) {
						if (prodLabelArray[q][1] == prodID) {
							for (w=0; w<labelArray.length; w++) {
								if (labelArray[w][0] == prodLabelArray[q][2] && labelArray[w][3] == 1) {
									if(gLog==1){console.log("panel1LabCatProdSelect - NOT Deactivate ", labelArray[w][1]);}
									turnItOff = 0;
									break;
								}
							}
						}
						if (turnItOff == 0) {
							break;
						}
					}
					if (turnItOff == 1) {
						if(gLog==1){console.log("panel1LabCatProdSelect - REALLY Deactivate ",prodID);}
						if (document.getElementById("panel1ProductName" + prodID)) {
							$("#panel1ProductName" + prodID).removeClass("panel_1_labcat_product_hide_on");
						}
						prodDisplayArray[p][9] = 0;
						window["panel1ProductName"+prodDisplayArray[p][0]] = 0;
					}
				}
			}
		}
	}
	else if (isRestrict == 2) {
		for (p=0; p<prodDisplayArray.length; p++) {
			if (prodDisplayArray[p][0] == prodID) {
				if ((prodDisplayArray[p][9] == 0 && forceIt == 0) || forceIt == 1) {
					if(gLog==1){console.log("panel1LabCatProdSelect - Activate ",prodID);}
					for (pl=0; pl<prodLabelArray.length; pl++) {
						if (prodLabelArray[pl][1] == prodID) {
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_name_off");
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_name_hover_off");
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_name_on");
							if (document.getElementById("panel1ProductName" + prodID)) {
								$("#panel1ProductName" + prodID).addClass("panel_1_labcat_product_hide_on");
							}
							if (document.getElementById("panel1LabCatProductBigImgDivBack" + prodID + "_" + prodLabelArray[pl][0]) && $("#panel1LabCatProductBigImgDivBack" + prodID + "_" + prodLabelArray[pl][0]).hasClass("img_replace_active")) {
								$(".panel_1_labcat_product_big_img_div_over_" + prodID + "_" + prodLabelArray[pl][0]).fadeIn(50);
								$(".panel_1_labcat_product_big_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_big_img_div_back_off");
								$(".panel_1_labcat_product_big_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_big_img_div_back_on");
							}
							if (document.getElementById("panel1LabCatProductSmImgDivBack" + prodID + "_" + prodLabelArray[pl][0]) && $("#panel1LabCatProductSmImgDivBack" + prodID + "_" + prodLabelArray[pl][0]).hasClass("img_replace_active")) {
								$(".panel_1_labcat_product_sm_img_div_over_" + prodID + "_" + prodLabelArray[pl][0]).fadeIn(50);
								$(".panel_1_labcat_product_sm_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_sm_img_div_back_off");
								$(".panel_1_labcat_product_sm_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_sm_img_div_back_on");
							}
						}
					}
					prodDisplayArray[p][9] = 1;
					window["panel1ProductName"+prodDisplayArray[p][0]] = 1;
				}
				else if ((prodDisplayArray[p][9] == 1 && forceIt == 0) || forceIt == 2) {
					if(gLog==1){console.log("panel1LabCatProdSelect - Deactivate ",prodID);}
					for (pl=0; pl<prodLabelArray.length; pl++) {
						if (prodLabelArray[pl][1] == prodID) {
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_name_on");
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_name_hover_on");
							$("#panel1LabCatProductName" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_name_off");
							if (document.getElementById("panel1ProductName" + prodID)) {
								$("#panel1ProductName" + prodID).removeClass("panel_1_labcat_product_hide_on");
							}
							if (document.getElementById("panel1ProductBigImgDivBack" + prodID + "_" + prodLabelArray[pl][0]) && $("#panel1ProductBigImgDivBack" + prodID + "_" + prodLabelArray[pl][0]).hasClass("img_replace_active")) {
								$(".panel_1_product_big_img_div_over_" + prodID + "_" + prodLabelArray[pl][0]).fadeOut(50);
								$(".panel_1_product_big_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_big_img_div_back_off");
								$(".panel_1_product_big_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_big_img_div_back_on");
							}
							if (document.getElementById("panel1ProductSmImgDivBack" + prodID + "_" + prodLabelArray[pl][0]) && $("#panel1ProductSmImgDivBack" + prodID + "_" + prodLabelArray[pl][0]).hasClass("img_replace_active")) {
								$(".panel_1_product_sm_img_div_over_" + prodID + "_" + prodLabelArray[pl][0]).fadeOut(50);
								$(".panel_1_product_sm_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).addClass("panel_1_labcat_product_sm_img_div_back_off");
								$(".panel_1_product_sm_img_div_back_" + prodID + "_" + prodLabelArray[pl][0]).removeClass("panel_1_labcat_product_sm_img_div_back_on");
							}
						}
					}
					prodDisplayArray[p][9] = 0;
					window["panel1ProductName"+prodDisplayArray[p][0]] = 0;
				}
			}
		}
	}
	if (runLabels == 1) {
		panel1LabCatFill(isRestrict);
	}
}
function panel1LabCatProdMouseOver(prodID, prodlabelID) {
	if ($("#panel1LabCatProductName" + prodID + "_" + prodlabelID).hasClass("panel_1_labcat_product_name_on")) {
		$("#panel1LabCatProductName" + prodID + "_" + prodlabelID).removeClass("panel_1_labcat_product_name_on");
		$("#panel1LabCatProductName" + prodID + "_" + prodlabelID).addClass("panel_1_labcat_product_name_hover_on");
	}
	if ($("#panel1LabCatProductName" + prodID + "_" + prodlabelID).hasClass("panel_1_labcat_product_name_off")) {
		$("#panel1LabCatProductName" + prodID + "_" + prodlabelID).removeClass("panel_1_labcat_product_name_off");
		$("#panel1LabCatProductName" + prodID + "_" + prodlabelID).addClass("panel_1_labcat_product_name_hover_off");
	}
}
function panel1LabCatProdMouseOut(prodID, prodlabelID) {
	if ($("#panel1LabCatProductName" + prodID + "_" + prodlabelID).hasClass("panel_1_labcat_product_name_hover_on")) {
		$("#panel1LabCatProductName" + prodID + "_" + prodlabelID).removeClass("panel_1_labcat_product_name_hover_on");
		$("#panel1LabCatProductName" + prodID + "_" + prodlabelID).addClass("panel_1_labcat_product_name_on");
	}
	if ($("#panel1LabCatProductName" + prodID + "_" + prodlabelID).hasClass("panel_1_labcat_product_name_hover_off")) {
		$("#panel1LabCatProductName" + prodID + "_" + prodlabelID).removeClass("panel_1_labcat_product_name_hover_off");
		$("#panel1LabCatProductName" + prodID + "_" + prodlabelID).addClass("panel_1_labcat_product_name_off");
	}
}
function panel1LabCatProdImgReplace(whatState, prodID, prodlabelID) {
	//if(gLog==1){console.log("panel1LabCatProdImgReplace START", prodID, prodlabelID);}
	var isOn = 0;
	for (x=0; x<prodDisplayArray.length.length; x++) {
		if (prodDisplayArray[x][0] == prodID) {
			isOn = prodDisplayArray[x][9];
			break;
		}
	}
	if (whatState == 1) {
		if (document.getElementById("panel1LabCatProductBigImgDivBack" + prodID + "_" + prodlabelID) && $(".panel_1_labcat_product_big_img_div_back_"+prodID + "_" + prodlabelID).hasClass("img_replace_active")) {
			$(".panel_1_labcat_product_big_img_div_over_"+prodID + "_" + prodlabelID).show();
			$(".panel_1_labcat_product_big_img_div_back_"+prodID + "_" + prodlabelID).removeClass("panel_1_labcat_product_big_img_div_back_off");
			$(".panel_1_labcat_product_big_img_div_back_"+prodID + "_" + prodlabelID).addClass("panel_1_labcat_product_big_img_div_back_on");
		}
		if (document.getElementById("panel1LabCatProductSmImgDivBack" + prodID + "_" + prodlabelID) && $(".panel_1_labcat_product_sm_img_div_back_"+prodID + "_" + prodlabelID).hasClass("img_replace_active")) {
			$(".panel_1_labcat_product_sm_img_div_over_"+prodID + "_" + prodlabelID).show();
			$(".panel_1_labcat_product_sm_img_div_back_"+prodID + "_" + prodlabelID).removeClass("panel_1_labcat_product_sm_img_div_back_off");
			$(".panel_1_labcat_product_sm_img_div_back_"+prodID + "_" + prodlabelID).addClass("panel_1_labcat_product_sm_img_div_back_on");
		}
	}
	else {
		if (document.getElementById("panel1LabCatProductBigImgDivBack" + prodID + "_" + prodlabelID) && $(".panel_1_labcat_product_big_img_div_back_"+prodID + "_" + prodlabelID).hasClass("img_replace_active") && isOn == 0) {
			$(".panel_1_labcat_product_big_img_div_over_"+prodID + "_" + prodlabelID).hide();
			$(".panel_1_labcat_product_big_img_div_back_"+prodID + "_" + prodlabelID).addClass("panel_1_labcat_product_big_img_div_back_off");
			$(".panel_1_labcat_product_big_img_div_back_"+prodID + "_" + prodlabelID).removeClass("panel_1_labcat_product_big_img_div_back_on");
		}
		if (document.getElementById("panel1LabCatProductSmImgDivBack" + prodID + "_" + prodlabelID) && $(".panel_1_labcat_product_sm_img_div_back_"+prodID + "_" + prodlabelID).hasClass("img_replace_active") && isOn == 0) {
			$(".panel_1_labcat_product_sm_img_div_over_"+prodID + "_" + prodlabelID).hide();
			$(".panel_1_labcat_product_sm_img_div_back_"+prodID + "_" + prodlabelID).addClass("panel_1_labcat_product_sm_img_div_back_off");
			$(".panel_1_labcat_product_sm_img_div_back_"+prodID + "_" + prodlabelID).removeClass("panel_1_labcat_product_sm_img_div_back_on");
		}
	}
}
function panel1LabCatFill(isRestrict) {
	if(gLog==1){console.log("panel1LabCatFill START", isRestrict);}
	var checkLArr = [];
	checkLArr[0] = ["Parent","parent"];
	checkLArr[1] = ["Child","child"];
	checkLArr[2] = ["Sub","sub"];
	if (isRestrict) {
		for (pl=0; pl<labelArray.length; pl++) {
			var plSel = 1;
			var hasChild = 0;
			for (cl=0; cl<labelArray.length; cl++) {
				var clSel = 1;
				var hasSub = 0;
				if (labelArray[cl][9] == labelArray[pl][0]) {
					hasChild = 1;
					if (labelArray[cl][3] == 0) {
						plSel = 0;
					}
				}
				for (sl=0; sl<labelArray.length; sl++) {
					if (labelArray[sl][9] == labelArray[cl][0]) {
						hasSub = 1
						if (labelArray[sl][3] == 0) {
							clSel = 0;
						}
					}
				}
				if (hasSub == 1) {
					labelArray[cl][3] = clSel;
				}
			}
			if (hasChild == 1) {
				labelArray[pl][3] = plSel;
			}
		}
		for (l=0; l<labelArray.length; l++) {
			if (labelArray[l][3] == 1) {
				if(gLog==1){console.log("panel1LabCatFill - All Selected", labelArray[l][1]);}
				for (d=0; d<checkLArr.length; d++) {
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_name_off");
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_name_hover_off");
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_name_on");
					if (document.getElementById("panel1LabCat" + checkLArr[d][0] + "BigImgDivBack" + labelArray[l][0]) && $("#panel1LabCat" + checkLArr[d][0] + "BigImgDivBack" + labelArray[l][0]).hasClass("img_replace_active")) {
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_over_" + labelArray[l][0]).fadeIn(50);
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_off");
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_on");
					}
					if (document.getElementById("panel1LabCat" + checkLArr[d][0] + "SmImgDivBack" + labelArray[l][0]) && $("#panel1LabCat" + checkLArr[d][0] + "SmImgDivBack" + labelArray[l][0]).hasClass("img_replace_active")) {
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_over_" + labelArray[l][0]).fadeIn(50);
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_off");
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_on");
					}
				}
			}
			else {
				if(gLog==1){console.log("panel1LabCatFill - Not All Selected", labelArray[l][1]);}
				for (d=0; d<checkLArr.length; d++) {
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_name_on");
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_name_hover_on");
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_name_off");
					if (document.getElementById("panel1LabCat" + checkLArr[d][0] + "BigImgDivBack" + labelArray[l][0]) && $("#panel1LabCat" + checkLArr[d][0] + "BigImgDivBack" + labelArray[l][0]).hasClass("img_replace_active")) {
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_over_" + labelArray[l][0]).fadeOut(50);
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_off");
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_on");
					}
					if (document.getElementById("panel1LabCat" + checkLArr[d][0] + "SmImgDivBack" + labelArray[l][0]) && $("#panel1LabCat" + checkLArr[d][0] + "SmImgDivBack" + labelArray[l][0]).hasClass("img_replace_active")) {
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_over_" + labelArray[l][0]).fadeOut(50);
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_off");
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_on");
					}
				}
			}
		}
	}
	else {
		for (l=0; l<labelArray.length; l++) {
			var allInLab = 1;
			for (pla=0; pla<prodLabelArray.length; pla++) {
				if (prodLabelArray[pla][2] == labelArray[l][0]) {
					for (p=0; p<prodDisplayArray.length; p++) {
						if (prodDisplayArray[p][0] == prodLabelArray[pla][1]) {
							if (prodDisplayArray[p][9] == 0) {
								allInLab = 0;
							}
							break;
						}
					}
				}
				if (allInLab == 0) {
					break;
				}
			}
			if (allInLab == 1) {
				if(gLog==1){console.log("panel1LabCatFill - All Selected", labelArray[l][1]);}
				for (d=0; d<checkLArr.length; d++) {
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_name_off");
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_name_hover_off");
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_name_on");
					if (document.getElementById("panel1LabCat" + checkLArr[d][0] + "BigImgDivBack" + labelArray[l][0]) && $("#panel1LabCat" + checkLArr[d][0] + "BigImgDivBack" + labelArray[l][0]).hasClass("img_replace_active")) {
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_over_" + labelArray[l][0]).fadeIn(50);
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_off");
						$(".panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_on");
					}
					if (document.getElementById("panel1LabCat" + checkLArr[d][0] + "SmImgDivBack" + labelArray[l][0]) && $("#panel1LabCat" + checkLArr[d][0] + "SmImgDivBack" + labelArray[l][0]).hasClass("img_replace_active")) {
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_over_" + labelArray[l][0]).fadeIn(50);
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_off");
						$(".panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_on");
					}
				}
				labelArray[l][3] = 1;
			}
			else {
				if(gLog==1){console.log("panel1LabCatFill - Not All Selected", labelArray[l][1]);}
				for (d=0; d<checkLArr.length; d++) {
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_name_on");
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_name_hover_on");
					$("#panel1LabCat" + checkLArr[d][0] + "Name" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_name_off");
					if (document.getElementById("panel1" + checkLArr[d][0] + "BigImgDivBack" + labelArray[l][0]) && $("#panel1" + checkLArr[d][0] + "BigImgDivBack" + labelArray[l][0]).hasClass("img_replace_active")) {
						$(".panel_1_" + checkLArr[d][1] + "_big_img_div_over_" + labelArray[l][0]).fadeOut(50);
						$(".panel_1_" + checkLArr[d][1] + "_big_img_div_back_" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_off");
						$(".panel_1_" + checkLArr[d][1] + "_big_img_div_back_" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_big_img_div_back_on");
					}
					if (document.getElementById("panel1" + checkLArr[d][0] + "SmImgDivBack" + labelArray[l][0]) && $("#panel1" + checkLArr[d][0] + "SmImgDivBack" + labelArray[l][0]).hasClass("img_replace_active")) {
						$(".panel_1_" + checkLArr[d][1] + "_sm_img_div_over_" + labelArray[l][0]).fadeOut(50);
						$(".panel_1_" + checkLArr[d][1] + "_sm_img_div_back_" + labelArray[l][0]).addClass("panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_off");
						$(".panel_1_" + checkLArr[d][1] + "_sm_img_div_back_" + labelArray[l][0]).removeClass("panel_1_labcat_" + checkLArr[d][1] + "_sm_img_div_back_on");
					}
				}
				labelArray[l][3] = 0;
			}
		}
	}
}
function panel1CAChild(theInd,theID) {
	$(".panel_1_product_label").hide();
	$(".panel_1_product_label_sub").hide();
	for (x=0; x<labelArray.length; x++) {
		if (labelArray[x][9] == theID) {
			$(".panel_1_product_label_sub_"+labelArray[x][0]).show();
		}
	}
	if (document.getElementById('panel1NavLabel')) {
		document.getElementById('panel1NavLabelText').innerHTML = labelArray[theInd][1];
		document.getElementById('panel1NavLabel').style.display = "block";
	}
}
function panel1CAParent() {
	if (document.getElementById('panel1NavLabel')) {
		document.getElementById('panel1NavLabel').style.display = "none";
	}
	$(".panel_1_product_label_sub").hide();
	$(".panel_1_product_label").show();
	$('.product_holder_area').hide();
	$('.discontinued_holder_area').hide();
	$('.brand_holder_area').show();
	panel1FamLabelReset();
	panel1LabelReset();
}
function panel1CopyStoreListText(whatElm,baseText,altText) {
	var writeVal = "";
	var gotTitle = "Retailer Results in " + document.getElementById('revCodeZip').value;
	if ((whatStoreUp+resultsNum) > storeDisplayArray.length) {
		var whatStoreEnd = storeDisplayArray.length;
	}
	else {
		var whatStoreEnd = whatStoreUp+resultsNum;
	}
	for (x=whatStoreUp; x<whatStoreEnd; x++) {
		if (storeDisplayArray[x][15] != "") {
			var phoneFormat = storeDisplayArray[x][15].substring(0,3)+"."+storeDisplayArray[x][15].substring(3,6)+"."+storeDisplayArray[x][15].substring(6,10) +"<br>";
		}
		else {
			var phoneFormat = "";
		}
		writeVal += "<br>" + storeDisplayArray[x][0] + "<br>" + storeDisplayArray[x][1] + "<br>" + storeDisplayArray[x][3] + ", " + storeDisplayArray[x][4] + " " + storeDisplayArray[x][5] + "<br>" + phoneFormat;
	}
	copyIt(writeVal,whatElm,baseText,altText,gotTitle);
}
function panel1CopyDirectAddress(storeID,whatElm,baseText,altText) {
	var writeVal = "";
	var gotTitle = "";
	for (x=0; x<storeDisplayArray.length; x++) {
		if (storeDisplayArray[x][13] == storeID) {
			if (storeDisplayArray[x][15] != "") {
				var phoneFormat = storeDisplayArray[x][15].substring(0,3)+"."+storeDisplayArray[x][15].substring(3,6)+"."+storeDisplayArray[x][15].substring(6,10) + "<br>";
			}
			else {
				var phoneFormat = "";
			}
			writeVal += "<br>" + storeDisplayArray[x][0] + "<br>" + storeDisplayArray[x][1] + "<br>" + storeDisplayArray[x][3] + ", " + storeDisplayArray[x][4] + " " + storeDisplayArray[x][5] + "<br>" + phoneFormat;
			gotTitle = storeDisplayArray[x][0];
			var thisProdArray = storeDisplayArray[x][9].split(",");
			for (s=0; s<thisProdArray.length; s++) {
				for (p=0; p<prodDisplayArray.length; p++) {
					if (prodDisplayArray[p][0] == thisProdArray[s]) {
						writeVal += "<div>" + prodDisplayArray[p][2] + "<\/div>";
						break;
					}
				}
			}
			break;
		}
	}
	copyIt(writeVal,whatElm,baseText,altText,gotTitle);
}
function prodSelectFilterIt(overRide) {
	var thisDisplayLimit = prodSelectDisplayLimit;
	if (overRide) {
		thisDisplayLimit = 0;
	}
	var setMore = 0;
	var totResFound = 0;
	var moreResFound = 0;
	var writeArray = [];
	var writeCount = 0;
	if (document.getElementById('prodSelectFilterField')) {
		var noSpaces = document.getElementById('prodSelectFilterField').value.replace(/ /g, '');
		var checkAgg = noSpaces.length;
		if (document.getElementById('prodSelectFilterField').value != "" && checkAgg >= prodSelectStartLimit) {
			if(gLog==1){console.log("prodSelectFilterIt - RUN FILTER checkAgg,prodSelectStartLimit",checkAgg,prodSelectStartLimit);}
			var ecCheckArr = document.getElementById('prodSelectFilterField').value.toLowerCase().split(" ");
			var prodSelectHTML = autotextIt(p1TemplateSet.panel1ProdSelectStartDiv,"panel1ProdSelectStart");
			for (j=0; j<prodDisplayArray.length; j++) {
				var textToTest = prodDisplayArray[j][1].toLowerCase() + " " + prodDisplayArray[j][2].toLowerCase();
				var includeDaProd = 0;
				if (prodSelectSearch == "OR") {
					for (u=0; u<ecCheckArr.length; u++) {
						if (textToTest.indexOf(ecCheckArr[u]) != -1 && ecCheckArr[u] != " " && ecCheckArr[u] != "") {
							includeDaProd = 1;
							break;
						}
					}
				}
				else {
					var numMatches = 0;
					for (u=0; u<ecCheckArr.length; u++) {
						if (textToTest.indexOf(ecCheckArr[u]) != -1 || ecCheckArr[u] == "") {
							numMatches++;
						}
					}
					if (numMatches == ecCheckArr.length) {
						includeDaProd = 1;
					}
					if(gLog==1){console.log("prodSelectFilterIt - numMatches,ecCheckArr.length",numMatches,ecCheckArr.length);}
				}
				if (includeDaProd == 1) {
					if (thisDisplayLimit != 0 && totResFound >= thisDisplayLimit) {
						moreResFound++;
					}
					var repItArr = [];
					var repItCount = 0;
					var repItUPCArr = [];
					var repItUPCCount = 0;
					var arrayHTML = "";
					var prodSelectItemHTML = autotextIt(p1TemplateSet.panel1ProdSelectItemDiv,"panel1ProdSelectItem");
					var prodDiscTagStart = prodSelectItemHTML.indexOf("<!--HIGHPROD");
					if (prodDiscTagStart != -1) {
						var prodDiscTagEnd = prodSelectItemHTML.indexOf(">",prodDiscTagStart);
						var prodDiscTagStrip = prodSelectItemHTML.substring(prodDiscTagStart,(prodDiscTagEnd+1));
						var prodDiscHTMLStart = prodSelectItemHTML.substr(0,prodDiscTagStart);
						var prodDiscHTMLEnd = prodSelectItemHTML.substr((prodDiscTagEnd+1));
						var prodDiscWrite = "";
						var discVal = prodDisplayArray[j][6];
						if (discVal != 1) {
							prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1ProdSelectItem_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
						}
						prodSelectItemHTML = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
					}
					var prodNameTagStart = prodSelectItemHTML.indexOf("<!--PRODNAME");
					if (prodNameTagStart != -1) {
						var prodNameTagEnd = prodSelectItemHTML.indexOf(">",prodNameTagStart);
						var prodNameTagStrip = prodSelectItemHTML.substring(prodNameTagStart,(prodNameTagEnd+1));
						var baseProdNameHTMLStart = prodSelectItemHTML.substr(0,prodNameTagStart);
						var baseProdNameHTMLEnd = prodSelectItemHTML.substr((prodNameTagEnd+1));
						if (prodSelectHighlightSelect == 1) {
							var prodNameBold = prodDisplayArray[j][2].toLowerCase();
							for (u=0; u<ecCheckArr.length; u++) {
								var goForIt = 1;
								var startAt = 0;
								while (goForIt == 1) {
									var thisCheck = prodNameBold.indexOf(ecCheckArr[u],startAt);
									if (thisCheck != -1 && ecCheckArr[u] != "") {
										repItArr[repItCount] = [thisCheck, thisCheck+ecCheckArr[u].length,prodDisplayArray[j][2].substring(thisCheck, thisCheck+ecCheckArr[u].length)];
										startAt = thisCheck+ecCheckArr[u].length;
										var holdIt = "";
										for (z=0; z<ecCheckArr[u].length; z++) {
											holdIt += "|";
										}
										prodNameBold = prodNameBold.replace(ecCheckArr[u],holdIt);
										repItCount++;
										if (prodSelectMatch == "ONE") {
											goForIt = 0;
										}
									}
									else {
										goForIt = 0;
									}
								}
							}
							var prodNameRep = "";
							var startBit = 0;
							sortCol(repItArr,0);
							for (f=0; f<repItArr.length; f++) {
								prodNameRep += prodDisplayArray[j][2].substring(startBit, repItArr[f][0]) + "<span class='prod_select_highlight'>" + repItArr[f][2] + "<\/span>";
								startBit = repItArr[f][1];
							}
							prodNameRep += prodDisplayArray[j][2].substr(startBit);
							if(gLog==1){console.log("prodSelectFilterIt -repItArr",repItArr);}
						}
						else {
							prodNameRep = prodDisplayArray[j][2];
						}
						prodSelectItemHTML = baseProdNameHTMLStart + "<span id='prodSelectProductName" + prodDisplayArray[j][0] + "' class='prod_select_product_name'>" + prodNameRep + "<\/span>" + baseProdNameHTMLEnd;
					}
					var prodDescTagStart = prodSelectItemHTML.indexOf("<!--PRODDESC");
					if (prodDescTagStart != -1) {
						var prodDescTagEnd = prodSelectItemHTML.indexOf(">",prodDescTagStart);
						var prodDescTagStrip = prodSelectItemHTML.substring(prodDescTagStart,(prodDescTagEnd+1));
						var baseProdDescHTMLStart = prodSelectItemHTML.substr(0,prodDescTagStart);
						var baseProdDescHTMLEnd = prodSelectItemHTML.substr((prodDescTagEnd+1));
						prodSelectItemHTML = baseProdDescHTMLStart + "<span id='prodSelectProductDesc" + prodDisplayArray[j][0] + "' class='prod_select_product_desc'>" + prodDisplayArray[j][3] + "<\/span>" + baseProdDescHTMLEnd;
					}
					var prodUPCTagStart = prodSelectItemHTML.indexOf("<!--PRODUPC");
					if (prodUPCTagStart != -1) {
						var prodUPCTagEnd = prodSelectItemHTML.indexOf(">",prodUPCTagStart);
						var prodUPCTagStrip = prodSelectItemHTML.substring(prodUPCTagStart,(prodUPCTagEnd+1));
						var baseProdUPCHTMLStart = prodSelectItemHTML.substr(0,prodUPCTagStart);
						var baseProdUPCHTMLEnd = prodSelectItemHTML.substr((prodUPCTagEnd+1));
						if (prodSelectHighlightSelect == 1) {
							var prodUPCBold = prodDisplayArray[j][1].toLowerCase();
							var repItUPCArr = [];
							var repItUPCCount = 0;
							for (u=0; u<ecCheckArr.length; u++) {
								var goForIt = 1;
								var startAt = 0;
								while (goForIt == 1) {
									var thisCheck = prodUPCBold.indexOf(ecCheckArr[u],startAt);
									if (thisCheck != -1 && ecCheckArr[u] != "") {
										repItUPCArr[repItUPCCount] = [thisCheck, thisCheck+ecCheckArr[u].length,prodDisplayArray[j][1].substring(thisCheck, thisCheck+ecCheckArr[u].length)];
										startAt = thisCheck+ecCheckArr[u].length;
										var holdIt = "";
										for (z=0; z<ecCheckArr[u].length; z++) {
											holdIt += "|";
										}
										prodUPCBold = prodUPCBold.replace(ecCheckArr[u],holdIt);
										repItUPCCount++;
										if (prodSelectMatch == "ONE") {
											goForIt = 0;
										}
									}
									else {
										goForIt = 0;
									}
								}
							}
							var prodUPCRep = "";
							var startBit = 0;
							sortCol(repItUPCArr,0);
							for (f=0; f<repItUPCArr.length; f++) {
								prodUPCRep += prodDisplayArray[j][1].substring(startBit, repItUPCArr[f][0]) + "<span class='prod_select_highlight'>" + repItUPCArr[f][2] + "<\/span>";
								startBit = repItUPCArr[f][1];
							}
							prodUPCRep += prodDisplayArray[j][1].substr(startBit);
							if(gLog==1){console.log("prodSelectFilterIt -repItUPCArr",repItUPCArr);}
						}
						else {
							prodUPCRep = prodDisplayArray[j][1];
						}
						prodSelectItemHTML = baseProdUPCHTMLStart + "<span id='prodSelectProductUPC" + prodDisplayArray[j][0] + "' class='prod_select_product_upc'>" + prodUPCRep + "<\/span>" + baseProdUPCHTMLEnd;
					}
					var prodBigImgTagStart = prodSelectItemHTML.indexOf("<!--PRODBIGIMG");
					if (prodBigImgTagStart != -1) {
						var prodBigImgTagEnd = prodSelectItemHTML.indexOf(">",prodBigImgTagStart);
						var prodBigImgTagStrip = prodSelectItemHTML.substring(prodBigImgTagStart,(prodBigImgTagEnd+1));
						var baseProdBigImgHTMLStart = prodSelectItemHTML.substr(0,prodBigImgTagStart);
						var baseProdBigImgHTMLEnd = prodSelectItemHTML.substr((prodBigImgTagEnd+1));
						prodSelectItemHTML = baseProdBigImgHTMLStart + "<img title=\"" + prodDisplayArray[j][2] + "\" alt=\"" + prodDisplayArray[j][2] + "\" id='prodSelectProductBigImg" + prodDisplayArray[j][0] + "' class='prod_select_product_big_img' src='" + clientImgBase + prodDisplayArray[j][4] + "'>" + baseProdBigImgHTMLEnd;
					}
					var prodSmImgTagStart = prodSelectItemHTML.indexOf("<!--PRODSMIMG");
					if (prodSmImgTagStart != -1) {
						var prodSmImgTagEnd = prodSelectItemHTML.indexOf(">",prodSmImgTagStart);
						var prodSmImgTagStrip = prodSelectItemHTML.substring(prodSmImgTagStart,(prodSmImgTagEnd+1));
						var baseProdSmImgHTMLStart = prodSelectItemHTML.substr(0,prodSmImgTagStart);
						var baseProdSmImgHTMLEnd = prodSelectItemHTML.substr((prodSmImgTagEnd+1));
						prodSelectItemHTML = baseProdSmImgHTMLStart + "<img title=\"" + prodDisplayArray[j][2] + "\" alt=\"" + prodDisplayArray[j][2] + "\" id='prodSelectProductSmImg" + prodDisplayArray[j][0] + "' class='prod_select_product_sm_img' src='" + clientImgBase + prodDisplayArray[j][5] + "'>" + baseProdSmImgHTMLEnd;
					}
					if (prodDisplayArray[j][9] == 1) {
						var currState = " prod_select_item_row_on";
					}
					else {
						var currState = " prod_select_item_row_off";
					}
					arrayHTML = "<div id='prodSelectItemRow" + prodDisplayArray[j][0] + "' class='prod_select_item_row prod_select_item_row_" + prodDisplayArray[j][0] + currState + "' onclick='prodSelectItem(" + prodDisplayArray[j][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){prodSelectItem(" + prodDisplayArray[j][0] + ");}'";
					if (hoverState==1) {
						arrayHTML += " onmouseover='genericButtonOver(\"prod_select_item_row_" + prodDisplayArray[j][0] + "\",\"prod_select_item_row\");' onfocus='genericButtonOver(\"prod_select_item_row_" + prodDisplayArray[j][0] + "\",\"prod_select_item_row\");' onmouseout='genericButtonOut(\"prod_select_item_row_" + prodDisplayArray[j][0] + "\",\"prod_select_item_row\");' onblur='genericButtonOut(\"prod_select_item_row_" + prodDisplayArray[j][0] + "\",\"prod_select_item_row\");'";
					}
					arrayHTML += " tabindex='0' title=\"" + prodDisplayArray[j][2] + "\">" + prodSelectItemHTML + "<\/div>";
					writeArray[writeCount] = [repItCount+repItUPCCount,arrayHTML];
					writeCount++;
					totResFound++;
				}
			}
			if (document.getElementById('prodSelectAutoShell')) {
				if (totResFound == 0) {
					$("#prodSelectAutoShell").hide();
				}
				else {
					sortCol(writeArray,0,1);
					if(gLog==1){console.log("prodSelectFilterIt - writeArray",writeArray);}
					for (q=0; q<writeCount; q++) {
						prodSelectHTML += writeArray[q][1];
						if (thisDisplayLimit != 0 && q == thisDisplayLimit) {
							break;
						}
					}
					if (prodSelectDisplayMore == 1 && moreResFound != 0) {
						prodSelectHTML += "<div id='prodSelectItemMore' class='prod_select_item_more' onclick='prodSelectFilterIt(1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){prodSelectFilterIt(1);}'";
						if (hoverState==1) {
							prodSelectHTML += " onmouseover='genericButtonOver(\"prod_select_item_more\",\"prod_select_item_more\");' onfocus='genericButtonOver(\"prod_select_item_more\",\"prod_select_item_more\");' onmouseout='genericButtonOut(\"prod_select_item_more\",\"prod_select_item_more\");' onblur='genericButtonOut(\"prod_select_item_more\",\"prod_select_item_more\");'";
						}
						prodSelectHTML += " tabindex='0' title=\"View More Results\">View " + (moreResFound-1) + " More Results<\/div>"
					}
					prodSelectHTML += autotextIt(p1TemplateSet.panel1ProdSelectEndDiv,"panel1ProdSelectEnd");
					document.getElementById('prodSelectAutoShell').innerHTML = prodSelectHTML;
					$("#prodSelectAutoShell").show();
				}
			}
			if(gLog==1){console.log("prodSelectFilterIt - Total Results Found: ",totResFound);}
		}
		else {
			if(gLog==1){console.log("prodSelectFilterIt - HALT FILTER checkAgg,prodSelectStartLimit",checkAgg,prodSelectStartLimit);}
			$("#prodSelectAutoShell").hide();
		}
		return false;
	}
}
function prodSelectItem(theID) {
	for (x=0; x<prodDisplayArray.length; x++) {
		if (prodDisplayArray[x][0] == theID) {
			if (prodDisplayArray[x][9] == 0) {
				$(".prod_select_item_row_"+prodDisplayArray[x][0]).removeClass("prod_select_item_row_hover");
				$(".prod_select_item_row_"+prodDisplayArray[x][0]).removeClass("prod_select_item_row_off");
				$(".prod_select_item_row_"+prodDisplayArray[x][0]).addClass("prod_select_item_row_on");
				window[('panel1ProductNameVar'+prodDisplayArray[x][0])] = 1;
				prodDisplayArray[x][9] = 1;
				if (document.getElementById("prodSelectFilterField")) {
					document.getElementById("prodSelectFilterField").value = prodDisplayArray[x][2];
				}
				if (prodSelectMultiSelect == 0) {
					setTimeout(function() {
						genericCloseMe();
					}, 1000);
				}
			}
			else {
				$(".prod_select_item_row_"+prodDisplayArray[x][0]).removeClass("prod_select_item_row_hover");
				$(".prod_select_item_row_"+prodDisplayArray[x][0]).removeClass("prod_select_item_row_on");
				$(".prod_select_item_row_"+prodDisplayArray[x][0]).addClass("prod_select_item_row_off");
				window[('panel1ProductNameVar'+prodDisplayArray[x][0])] = 0;
				prodDisplayArray[x][9] = 0;
			}
		}
		else if (prodSelectMultiSelect == 0) {
			$(".prod_select_item_row_"+prodDisplayArray[x][0]).removeClass("prod_select_item_row_hover");
			$(".prod_select_item_row_"+prodDisplayArray[x][0]).removeClass("prod_select_item_row_on");
			$(".prod_select_item_row_"+prodDisplayArray[x][0]).addClass("prod_select_item_row_off");
			window[('panel1ProductNameVar'+prodDisplayArray[x][0])] = 0;
			prodDisplayArray[x][9] = 0;
		}
	}
	//prodSelectSubmit();
}
function prodSelectClear() {
	if (document.getElementById('prodSelectFilterField')) {
		document.getElementById('prodSelectFilterField').value = "";
		genericCloseMe();
	}
}
function prodSelectSubmit() {
	if (document.getElementById("panel1AddressField") && document.getElementById("prodSelectFilterField")) {
		var gottaProd = 0;
		prodCartArray.length = 0;
		for (x=0; x<prodDisplayArray.length; x++) {
			if (prodDisplayArray[x][9] == 1) {
				gottaProd = 1;
				prodCartArray.push(prodDisplayArray[x][0]);
			}
		}
		if (document.getElementById("panel1AddressField").value != "") {
			$("#prodSelectImgSpan").hide();
			$("#prodSelectText").hide();
			$("#prodSelectUPC").hide();
			if (prodSelectMultiSelect == 0) {
				for (x=0; x<prodDisplayArray.length; x++) {
					if (prodDisplayArray[x][9] == 1) {
						if (document.getElementById('prodSelectImg')) {
							document.getElementById('prodSelectImg').src = clientImgBase + prodDisplayArray[x][4];
							$("#prodSelectImgSpan").show();
						}
						if (document.getElementById('prodSelectText')) {
							document.getElementById('prodSelectText').innerHTML = prodDisplayArray[x][2];
							$("#prodSelectText").show();
						}
						if (document.getElementById('prodSelectUPC')) {
							document.getElementById('prodSelectUPC').innerHTML = prodDisplayArray[x][1];
							$("#prodSelectUPC").show();
						}
						break;
					}
				}
			}
			$("#panel1ResultsTotal").show();
			panel1SubmitForm(1);
		}
	}
}
function panel1RedrawFilter() {
	filterContentArr.length = 0;
	if (panel1RedrawType == 1) {
		if(gLog==1){console.log("panel1RedrawFilter START -- Product");}
		//
	}
	else if (panel1RedrawType == 2) {
		if(gLog==1){console.log("panel1RedrawFilter START -- Group");}
		//
	}
	var ind = 0;
	labelFilterCrumbArr.length = 0;
	var dubCount = 0;
	p1CurrLabProdArr.length = 0;
	isaLabelOn = 0;
	p1RedrawDietArray.length = 0;
	var selectAllIsOn = 1;
	if (topLabelOn == 1) {
		isaFamLabelOn = 0;
		isaTopLabelOn = 0;
		for (m=0;m<labelArray.length;m++) {
			if (labelArray[m][3] == 1 && labelArray[m][9] == 0) {
				isaTopLabelOn = labelArray[m][0];
				if(gLog==1){console.log("panel1RedrawFilter - Found TopLabel " + labelArray[m][0]);}
				if (document.getElementById('panel1LabelCrumbShell')) {
					labelFilterCrumbArr[ind]=["toplabel",m,labelArray[m][0],labelArray[m][2]];
					ind++;
				}
				break;
			}
		}
	}
	else {
		isaFamLabelOn = 0;
		isaTopLabelOn = 0;
		for (m=0;m<famArray.length;m++) {
			if (famArray[m][5] == 1) {
				isaFamLabelOn = famArray[m][0];
				if(gLog==1){console.log("panel1RedrawFilter - Found FamLabel " + famArray[m][0]);}
				if (document.getElementById('panel1LabelCrumbShell')) {
					labelFilterCrumbArr[ind]=["family",m,famArray[m][0],famArray[m][1]];
					ind++;
				}
				break;
			}
		}
	}
	for (m=0;m<labelArray.length;m++) {
		if (topLabelOn == 1) {
			var labCheck = 0;
		}
		else {
			var labCheck = -1;
		}
		if (labelArray[m][3] == 1 && labelArray[m][9] != labCheck) {
			isaLabelOn = labelArray[m][0];
			if(gLog==1){console.log("panel1RedrawFilter - Found Label " + labelArray[m][0]);}
			if (document.getElementById('panel1LabelCrumbShell')) {
				labelFilterCrumbArr[ind]=["label",m,labelArray[m][0],labelArray[m][1]];
				ind++;
			}
		}
	}
	if (dietArray.length) {
		for (m=0;m<dietArray.length;m++) {
			if (dietArray[m][3] == 1) {
				p1RedrawDietArray.push(dietArray[m][0]);
				if(gLog==1){console.log("panel1RedrawFilter - Found Diet " + dietArray[m][0]);}
				if (document.getElementById('panel1LabelCrumbShell')) {
					labelFilterCrumbArr[ind]=["diet",m,dietArray[m][0],dietArray[m][1]];
					ind++;
				}
			}
		}
	}
	if(gLog==1){console.log("panel1RedrawFilter - panel1FilterField ",document.getElementById('panel1FilterField').value);}
	if(gLog==1){console.log("panel1RedrawFilter - p1RedrawDietArray ",p1RedrawDietArray);}
	if (caFilterTextArray.length != 0) {
		for (t=0; t<caFilterTextArray.length; t++) {
			labelFilterCrumbArr[ind]=["text",t,0,caFilterTextArray[t]];
			ind++;
		}
	}
	if (isaLabelOn == 0 && isaFamLabelOn == 0 && isaTopLabelOn == 0 && p1RedrawDietArray.length == 0 && caFilterTextArray == 0 && preRedrawOn != "") {
		for (m=0;m<labelArray.length;m++) {
			if (labelArray[m][4] == preRedrawOn) {
				labelArray[m][3] = 1;
				isaLabelOn = labelArray[m][0];
				if(gLog==1){console.log("panel1RedrawFilter - enforce PREDRAW " + labelArray[m][0]);}
				if (document.getElementById('panel1LabelCrumbShell')) {
					labelFilterCrumbArr[ind]=["label",m,labelArray[m][0],labelArray[m][1]];
					ind++;
				}
			}
		}
	}
	if (labelFilterCrumbArr.length) {
		if(gLog==1){console.log("panel1RedrawFilter - labelFilterCrumbArr " ,labelFilterCrumbArr);}
		if (document.getElementById('panel1LabelCrumbShell')) {
			var labelCrumbWrite = "";
			var caCrumbCloseVal = "";
			var caCrumbCloseText = "";
			for (q=0; q<labelFilterCrumbArr.length; q++) {
				if (labelFilterCrumbArr[q][0] == "label") {
					if (caCrumbClose == 1) {
						caCrumbCloseVal = " onclick='panel1ProductLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");}'";
						caCrumbCloseText = " onclick='document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();}'";
					}
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer panel_1_crumb_item_outer_label'" + caCrumbCloseVal + " tabindex='0' title=\"" + labelFilterCrumbArr[q][3] + "\"><div class='panel_1_crumb_item_inner panel_1_crumb_item_inner_label'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
				else if (labelFilterCrumbArr[q][0] == "family") {
					if (caCrumbClose == 1) {
						caCrumbCloseVal = " onclick='panel1ProductFamLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductFamLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");}'";
						caCrumbCloseText = " onclick='document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();}'";
					}
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer panel_1_crumb_item_outer_family'" + caCrumbCloseVal + " tabindex='0' title=\"" + labelFilterCrumbArr[q][3] + "\"><div class='panel_1_crumb_item_inner panel_1_crumb_item_inner_family'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
				else if (labelFilterCrumbArr[q][0] == "toplabel") {
					if (caCrumbClose == 1) {
						caCrumbCloseVal = " onclick='panel1TopLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1TopLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");}'";
						caCrumbCloseText = " onclick='document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();}'";
					}
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer panel_1_crumb_item_outer_toplabel'" + caCrumbCloseVal + " tabindex='0' title=\"" + labelFilterCrumbArr[q][3] + "\"><div class='panel_1_crumb_item_inner panel_1_crumb_item_inner_toplabel'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
				else if (labelFilterCrumbArr[q][0] == "diet") {
					if (caCrumbClose == 1) {
						caCrumbCloseVal = " onclick='panel1DietListSelect(" + labelFilterCrumbArr[q][2] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1DietListSelect(" + labelFilterCrumbArr[q][2] + ");}'";
						caCrumbCloseText = " onclick='document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){document.getElementById(\"panel1FilterField\").value=\"\";panel1ClassFilter();}'";
					}
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer panel_1_crumb_item_outer_diet'" + caCrumbCloseVal + " tabindex='0' title=\"" + labelFilterCrumbArr[q][3] + "\"><div class='panel_1_crumb_item_inner panel_1_crumb_item_inner_diet'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
				else if (labelFilterCrumbArr[q][0] == "text") {
					if (caCrumbClose == 1) {
						caCrumbCloseVal = " onclick='panel1ProductLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductLabelSelect(" + labelFilterCrumbArr[q][1] + "," + labelFilterCrumbArr[q][2] + ");}'";
						caCrumbCloseText = " onclick='panel1FilterTextClear(" + labelFilterCrumbArr[q][1] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1FilterTextClear(" + labelFilterCrumbArr[q][1] + ");}'";
					}
					labelCrumbWrite += "<div class='panel_1_crumb_item_outer panel_1_crumb_item_outer_text'" + caCrumbCloseText + " tabindex='0' title=\"" + labelFilterCrumbArr[q][3] + "\"><div class='panel_1_crumb_item_inner panel_1_crumb_item_inner_text'><i class='fa fa-times'><\/i>" + labelFilterCrumbArr[q][3] + "<\/div><\/div>";
				}
			}
			if (caCrumbClearButton == 1) {
				labelCrumbWrite += "<div id='breadcrumbClearButton' class='breadcrumb_clear_button breadcrumb_clear_button_off'";
				if (hoverState==1) {
					labelCrumbWrite += " onmouseover='genericButtonOver(\"breadcrumb_clear_button\",\"breadcrumb_clear_button\");' onfocus='genericButtonOver(\"breadcrumb_clear_button\",\"breadcrumb_clear_button\");' onmouseout='genericButtonOut(\"breadcrumb_clear_button\",\"breadcrumb_clear_button\");' onblur='genericButtonOut(\"breadcrumb_clear_button\",\"breadcrumb_clear_button\");'";
				}
				labelCrumbWrite += " onclick='clearBreadcrumb();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){clearBreadcrumb();}' tabindex='0' title=\"" + breadcrumbClearButtonValue + "\">" + breadcrumbClearButtonValue + "<\/div>";
			}
			document.getElementById('panel1LabelCrumbItems').innerHTML = labelCrumbWrite;
			$("#panel1LabelCrumbShell").show();
		}
		else{
			document.getElementById('panel1LabelCrumbItems').innerHTML = "";
			$("#panel1LabelCrumbShell").hide();
			if (crumbHideArr.length) {
				for (x=0; x<crumbHideArr.length; x++) {
					$("."+crumbHideArr[x]).hide();
				}
			}
			if (crumbShowArr.length) {
				for (y=0; y<crumbShowArr.length; y++) {
					$("."+crumbShowArr[y]).show();
				}
			}
		}
		var countResNum = 0;
		redrawLabelCountArr.length = 0;
		if (panel1RedrawType == 1) {
			if(gLog==1){console.log("panel1RedrawFilter compile panel1RedrawType == 1");}
			for (y=0; y<prodDisplayArray.length; y++) {
				// 0=productID; 1=family match; 2=label match; 3=text match; 4=diet match; 5=labels, 6=base family, 7=diet list, 8=toplabel match;
				redrawLabelCountArr[y] = [prodDisplayArray[y][0],0,0,0,0,prodDisplayArray[y][19],prodDisplayArray[y][17],prodDisplayArray[y][39],0];
				if (panel1RedrawType == 1) {
					if (caFilterTextArray.length == 0) {
						var includeProduct = 1;
					}
					else {
						var includeProduct = 0;
						var testToText = 0;
						for (t=0; t<caFilterTextArray.length; t++) {
							//var lowNameTest = prodDisplayArray[y][1].toLowerCase() + " " + prodDisplayArray[y][2].toLowerCase() + " " + prodDisplayArray[y][3].toLowerCase() + " " + prodDisplayArray[y][16].toLowerCase();
							//var lowNameVal = lowNameTest.replace(/[^a-zA-Z0-9 ]/gi,'');
							//var lowSearchVal = caFilterTextArray[t].toLowerCase();
							var lowSearchTest = caFilterTextArray[t].toLowerCase();
							var lowNameTest = prodDisplayArray[y][1].toLowerCase() + " " + prodDisplayArray[y][2].toLowerCase() + " " + prodDisplayArray[y][3].toLowerCase() + " " + prodDisplayArray[y][16].toLowerCase();
							//var lowNameNorm = lowNameTest.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
							//var lowSearchNorm = lowSearchTest.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
							var lowNameVal = lowNameTest.replace(/[^a-z0-9 ]/g,'');
							var lowSearchVal = lowSearchTest.replace(/[^a-z0-9 ]/g,'');
							if (lowNameVal.indexOf(lowSearchVal) != -1) {
								//if(gLog==1){console.log("panel1RedrawFilter - matched=",lowNameVal,lowSearchVal);}
								testToText++;
							}
						}
						if (testToText == caFilterTextArray.length) {
							includeProduct = 1;
						}
					}
					prodDisplayArray[y][10] = includeProduct;
					redrawLabelCountArr[y][3] = includeProduct;
				}
				if (isaFamLabelOn != 0) {
					var famlabelGood = 0;
					if (isaFamLabelOn == prodDisplayArray[y][17]) {
						famlabelGood = 1;
						redrawLabelCountArr[y][1] = isaFamLabelOn;
						//if(gLog==1){console.log("panel1RedrawFilter - FamLabel Product " + prodDisplayArray[y][0]);}
					}
				}
				else {
					var famlabelGood = 1;
				}
				if (isaTopLabelOn != 0) {
					var toplabelGood = 0;
					var topLabelSplit = prodDisplayArray[y][19].split(",");
					for (u=0; u<topLabelSplit.length; u++) {
						if (isaTopLabelOn == topLabelSplit[u]) {
							toplabelGood = 1;
							redrawLabelCountArr[y][8] = isaTopLabelOn;
							break;
						}
					}
				}
				else {
					var toplabelGood = 1;
				}
				if (isaLabelOn != 0) {
					var labelGood = 0;
					var chunkPL = prodDisplayArray[y][19].split(",");
					var thisLab = "0";
					var labOnCount = 0;
					var labSelCount = 0;
					for (j=0; j<labelArray.length; j++) {
						if (labelArray[j][3] == 1) {
							labOnCount++;
							for (a=0; a<chunkPL.length; a++) {
								if (chunkPL[a] == labelArray[j][0]) {
									labSelCount++;
									thisLab += "," + labelArray[j][0];
									//if(gLog==1){console.log("panel1RedrawFilter - Label Product " + prodDisplayArray[y][0]);}
								}
							}
						}
					}
					if (labOnCount == labSelCount && labOnCount != 0) {
						redrawLabelCountArr[y][2] = thisLab;
						labelGood = 1;
					}
				}
				else {
					var labelGood = 1;
				}
				if (famlabelGood == 1 && toplabelGood == 1 && labelGood == 1) {
					prodDisplayArray[y][11] = 1;
				}
				else {
					prodDisplayArray[y][11] = 0;
				}
				var dietGood = 1;
				if (p1RedrawDietArray.length != 0) {
					dietGood = 0;
					dietDub = 0;
					var testDiet = prodDisplayArray[y][39].split(",");
					for (w=0; w<p1RedrawDietArray.length; w++) {
						for (r=0; r<testDiet.length; r++) {
							if (testDiet[r] == p1RedrawDietArray[w]) {
								dietDub++;
							}
						}
					}
					if (dietDub == p1RedrawDietArray.length) {
						dietGood = 1;
					}
				}
				if (prodDisplayArray[y][10] == 1 && prodDisplayArray[y][11] == 1 && dietGood == 1) {
					p1CurrLabProdArr[dubCount] = [prodDisplayArray[y][0],y,0,prodDisplayArray[y][1]];
					dubCount++;
					filterContentArr[countResNum] = prodDisplayArray[y];
					countResNum++;
				}
			}
			if(gLog==1){console.log("panel1RedrawFilter filterContentArr",filterContentArr);}
		}
		else if (panel1RedrawType == 2) {
			if(gLog==1){console.log("panel1RedrawFilter compile panel1RedrawType == 2");}
			for (y=0; y<prodGroupArray.length; y++) {
				// 0=groupID; 1=family match; 2=label match; 3=text match; 4=diet match; 5=labels, 6=base family, 7=diet list, 8=toplabel match;
				redrawLabelCountArr[y] = [prodGroupArray[y][0],0,0,0,0,prodGroupArray[y][9],prodGroupArray[y][11],prodGroupArray[y][10],0];
				if (caFilterTextArray.length == 0) {
					var includeProduct = 1;
				}
				else {
					var includeProduct = 0;
					var testToText = 0;
					for (t=0; t<caFilterTextArray.length; t++) {
						//var lowSearchVal = caFilterTextArray[t].toLowerCase();
						//var lowNameTest = prodGroupArray[y][1].toLowerCase();
						//var lowNameVal = lowNameTest.replace(/[^a-zA-Z0-9 ]/gi,'');
						var lowSearchTest = caFilterTextArray[t].toLowerCase();
						var lowNameTest = prodGroupArray[y][1].toLowerCase();
						//var lowNameNorm = lowNameTest.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
						//var lowSearchNorm = lowSearchTest.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
						var lowNameVal = lowNameTest.replace(/[^a-z0-9 ]/g,'');
						var lowSearchVal = lowSearchTest.replace(/[^a-z0-9 ]/g,'');
						if (lowNameVal.indexOf(lowSearchVal) != -1) {
							testToText++;
						}
					}
					if (testToText == caFilterTextArray.length) {
						includeProduct = 1;
					}
				}
				redrawLabelCountArr[y][3] = includeProduct;
				if (isaFamLabelOn != 0) {
					var famlabelGood = 0;
					var pgFamList = prodGroupArray[y][11].split(",");
					for (u=0; u<pgFamList.length; u++) {
						if (isaFamLabelOn == pgFamList[u]) {
							famlabelGood = 1;
							redrawLabelCountArr[y][1] = isaFamLabelOn;
							break;
						}
					}
				}
				else {
					var famlabelGood = 1;
				}
				if (isaTopLabelOn != 0) {
					var toplabelGood = 0;
					var pgTopList = prodGroupArray[y][9].split(",");
					for (u=0; u<pgTopList.length; u++) {
						if (isaTopLabelOn == pgTopList[u]) {
							toplabelGood = 1;
							redrawLabelCountArr[y][8] = isaTopLabelOn;
							break;
						}
					}
				}
				else {
					var toplabelGood = 1;
				}
				if (isaLabelOn != 0) {
					var labelGood = 0;
					var chunkPL = prodGroupArray[y][9].split(",");
					var thisLab = "0";
					var labOnCount = 0;
					var labSelCount = 0;
					for (j=0; j<labelArray.length; j++) {
						if (labelArray[j][3] == 1) {
							labOnCount++;
							for (a=0; a<chunkPL.length; a++) {
								if (chunkPL[a] == labelArray[j][0]) {
									labSelCount++;
									thisLab += "," + labelArray[j][0];
								}
							}
						}
					}
					if (labOnCount == labSelCount && labOnCount != 0) {
						redrawLabelCountArr[y][2] = thisLab;
						labelGood = 1;
					}
				}
				else {
					var labelGood = 1;
				}
				var dietGood = 1;
				if (p1RedrawDietArray.length != 0) {
					dietGood = 0;
					dietDub = 0;
					var testDiet = prodGroupArray[y][10].split(",");
					for (w=0; w<p1RedrawDietArray.length; w++) {
						for (r=0; r<testDiet.length; r++) {
							if (testDiet[r] == p1RedrawDietArray[w]) {
								dietDub++;
							}
						}
					}
					if (dietDub == p1RedrawDietArray.length) {
						dietGood = 1;
					}
				}
				if (famlabelGood == 1 && toplabelGood == 1 && labelGood == 1 && dietGood == 1 && includeProduct == 1) {
					p1CurrLabProdArr[dubCount] = [prodGroupArray[y][0],y,0,prodGroupArray[y][1]];
					dubCount++;
					filterContentArr[countResNum] = prodGroupArray[y];
					countResNum++;
				}
			}
			if(gLog==1){console.log("panel1RedrawFilter filterContentArr",filterContentArr);}
		}
		if (document.getElementById('panel1RedrawLabelShell')) {
			if ((panel1FamLabelHideLabels == 1 && (isaFamLabelOn != 0 || isaTopLabelOn != 0) || (panel1BrandLabelHideLabels == 1 && panel1BrandLabelOn != 0))) {
				p1WriteRedrawLabels(1);
			}
			else {
				p1WriteRedrawLabels();
			}
		}
		if (document.getElementById('panel1DietListShell') && dietArray.length != 0) {
			p1WriteDietList();
		}
		if (filterMaxNum == 0 || filterContentArr.length <= filterMaxNum) {
			panel1WriteRedraw(1,filterContentArr.length);
		}
		else {
			panel1WriteRedraw(1,filterMaxNum);
		}
	}
	else {
		redrawLabelCountArr.length = 0;
		$('.product_holder_area').hide();
		$('.discontinued_holder_area').hide();
		$('.brand_holder_area').show();
		panel1FamLabelReset();
		panel1LabelReset();
		if(document.getElementById('caProdRedrawArea')) {
			document.getElementById('caProdRedrawArea').innerHTML = "";
		}
		if(document.getElementById('caGroupRedrawArea')) {
			document.getElementById('caGroupRedrawArea').innerHTML = "";
		}
		isaFamLabelOn = 0;
		isaLabelOn = 0;
		caFilterTextArray.length = 0;
		p1RedrawDietArray.length = 0;
		$('#caPaginationArea').hide();
		$("#panel1LabelCrumbShell").hide();
		$("#panel1FilterNum").hide();
		if (document.getElementById('panel1RedrawLabelShell')) {
			p1WriteRedrawLabels();
		}
		if (document.getElementById('panel1DietListShell') && dietArray.length != 0) {
			p1WriteDietList();
		}
		loaderToggle(0);
	}
	if(gLog==1){console.log("panel1RedrawFilter p1CurrLabProdArr",p1CurrLabProdArr);}

}
function panel1WriteRedraw(startAt,endAt) {
	if (panel1RedrawType == 1) {
		if(gLog==1){console.log("panel1WriteRedraw START -- Product startAt,endAt",startAt,endAt);}
		//
	}
	else if (panel1RedrawType == 2) {
		if(gLog==1){console.log("panel1WriteRedraw START -- Group startAt,endAt",startAt,endAt);}
		//
	}
	var startVal = startAt-1;
	var countResNum = filterContentArr.length;
	var postLoadArr = [];
	var postLoadCount = 0;
	var endVal = endAt;
	if (endAt > filterContentArr.length) {
		endVal = filterContentArr.length;
	}
	var selectAllIsOn = 0;
	if (document.getElementById('caProdRedrawArea')) {
		document.getElementById('caProdRedrawArea').innerHTML = "";
		$('.brand_holder_area').hide();
		$('.product_holder_area').show();
		if (countResNum != 0) {
			for (y=startVal; y<endVal; y++) {
				postLoadArr[postLoadCount] = [filterContentArr[y][0],filterContentArr[y][4],filterContentArr[y][5]];
				postLoadCount++;
				if (filterContentArr[y][9] == 1) {
					var cpn = " panel_1_product_name_on";
					var cpd = " panel_1_product_desc_on";
					var cbi = " panel_1_product_big_img_on";
					var cbil = " panel_1_product_big_img_link_on";
					var csi = " panel_1_product_sm_img_on";
					var csil = " panel_1_product_sm_img_link_on";
				}
				else {
					var cpn = " panel_1_product_name_off";
					var cpd = " panel_1_product_desc_off";
					var cbi = " panel_1_product_big_img_off";
					var cbil = " panel_1_product_big_img_link_off";
					var csi = " panel_1_product_sm_img_off";
					var csil = " panel_1_product_sm_img_link_off";
					selectAllIsOn = 0;
				}
				if(gLog==1){console.log("panel1WriteRedraw - SHOW,selectAllIsOn ",filterContentArr[y][1],selectAllIsOn);}
				var productLink = " onclick='redrawProdSelect(" + filterContentArr[y][0] + ");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){redrawProdSelect(" + filterContentArr[y][0] + ");return false;}'";
				var productHTMLTest = autotextIt(p1TemplateSet.panel1ProductDiv,"panel1Product");
				var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
				if (prodDiscTagStart != -1) {
					var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
					var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
					var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
					var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
					var prodDiscWrite = "";
					var discVal = filterContentArr[y][6];
					if (discVal != 1) {
						prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1Product_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
					}
					productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
				}
				var productNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
				if (productNameTagStart != -1) {
					var productNameTagEnd = productHTMLTest.indexOf(">",productNameTagStart);
					var productNameTagStrip = productHTMLTest.substring(productNameTagStart,(productNameTagEnd+1));
					var productNameHTMLStart = productHTMLTest.substr(0,productNameTagStart);
					var productNameHTMLEnd = productHTMLTest.substr((productNameTagEnd+1));
					var prodNameSizeStart = productNameTagStrip.indexOf(" SIZE");
					if (prodNameSizeStart != -1) {
						var prodNameDispVal = filterContentArr[y][21];
					}
					else {
						var prodNameDispVal = filterContentArr[y][2];
					}
					var productNameTagWrite = "";
					productNameTagWrite += "<div id='productName" + filterContentArr[y][0] + "' class='panel_1_product_name" + cpn + "'" + productLink;
					if (hoverState==1) {
						productNameTagWrite += " onmouseover='productMouseOver(" + filterContentArr[y][0] + ");' onfocus='productMouseOver(" + filterContentArr[y][0] + ");' onmouseout='productMouseOut(" + filterContentArr[y][0] + ");' onblur='productMouseOut(" + filterContentArr[y][0] + ");'";
					}
					productNameTagWrite += " tabindex='0' title=\"" + prodNameDispVal + "\">" + prodNameDispVal + "<\/div>";
					productHTMLTest = productNameHTMLStart + productNameTagWrite + productNameHTMLEnd;
				}
				var productDescTagStart = productHTMLTest.indexOf("<!--PRODDESC");
				if (productDescTagStart != -1 && filterContentArr[y][3] != "") {
					var productDescTagEnd = productHTMLTest.indexOf(">",productDescTagStart);
					var productDescTagStrip = productHTMLTest.substring(productDescTagStart,(productDescTagEnd+1));
					var productDescHTMLStart = productHTMLTest.substr(0,productDescTagStart);
					var productDescHTMLEnd = productHTMLTest.substr((productDescTagEnd+1));
					var productDescTagWrite = "";
					productDescTagWrite += "<div id='productDesc" + filterContentArr[y][0] + "' class='panel_1_product_desc" + cpn + "'" + productLink;
					if (hoverState==1) {
						productDescTagWrite += " onmouseover='productMouseOver(" + filterContentArr[y][0] + ");' onfocus='productMouseOver(" + filterContentArr[y][0] + ");' onmouseout='productMouseOut(" + filterContentArr[y][0] + ");' onblur='productMouseOut(" + filterContentArr[y][0] + ");'";
					}
					productDescTagWrite += ">" + filterContentArr[y][3] + "<\/div>";
					productHTMLTest = productDescHTMLStart + productDescTagWrite + productDescHTMLEnd;
				}
				var productBigImgTagStart = productHTMLTest.indexOf("<!--PRODBIGIMG");
				if (productBigImgTagStart != -1) {
					var productBigImgTagEnd = productHTMLTest.indexOf(">",productBigImgTagStart);
					var productBigImgTagStrip = productHTMLTest.substring(productBigImgTagStart,(productBigImgTagEnd+1));
					var productBigImgHTMLStart = productHTMLTest.substr(0,productBigImgTagStart);
					var productBigImgHTMLEnd = productHTMLTest.substr((productBigImgTagEnd+1));
					var productBigImgWrite = "";
					productBigImgWrite += "<a id='productBigImgLink" + filterContentArr[y][0] + "' href='#'" + productLink;
					if (hoverState==1) {
						productBigImgWrite += " onmouseover='productMouseOver(" + filterContentArr[y][0] + ");' onfocus='productMouseOver(" + filterContentArr[y][0] + ");' onmouseout='productMouseOut(" + filterContentArr[y][0] + ");' onblur='productMouseOut(" + filterContentArr[y][0] + ");'";
					}
					productBigImgWrite += " class='panel_1_product_big_img_link" + cbil + "'><img title=\"" + filterContentArr[y][2] + "\" alt=\"" + filterContentArr[y][2] + "\" id='productBigImg" + filterContentArr[y][0] + "' class='panel_1_product_big_img" + cbi + "' src='" + clientImgBase + filterContentArr[y][4] + "'><\/a>";
					productHTMLTest = productBigImgHTMLStart + productBigImgWrite + productBigImgHTMLEnd;
				}
				var productSmImgTagStart = productHTMLTest.indexOf("<!--PRODSMIMG");
				if (productSmImgTagStart != -1) {
					var productSmImgTagEnd = productHTMLTest.indexOf(">",productSmImgTagStart);
					var productSmImgTagStrip = productHTMLTest.substring(productSmImgTagStart,(productSmImgTagEnd+1));
					var productSmImgHTMLStart = productHTMLTest.substr(0,productSmImgTagStart);
					var productSmImgHTMLEnd = productHTMLTest.substr((productSmImgTagEnd+1));
					var productSmImgWrite = "";
					productSmImgWrite += "<a id='productSmImgLink" + filterContentArr[y][0] + "' href='#'" + productLink;
					if (hoverState==1) {
						productSmImgWrite += " onmouseover='productMouseOver(" + filterContentArr[y][0] + ");' onfocus='productMouseOver(" + filterContentArr[y][0] + ");' onmouseout='productMouseOut(" + filterContentArr[y][0] + ");' onblur='productMouseOut(" + filterContentArr[y][0] + ");'";
					}
					productSmImgWrite += " class='panel_1_product_sm_img_link" + csil + "'><img title=\"" + filterContentArr[y][2] + "\" alt=\"" + filterContentArr[y][2] + "\" id='productSmImg" + filterContentArr[y][0] + "' class='panel_1_product_sm_img" + csi + "' src='" + clientImgBase + filterContentArr[y][5] + "'><\/a>";
					productHTMLTest = productSmImgHTMLStart + productSmImgWrite + productSmImgHTMLEnd;
				}
				var prodUPCTagStart = productHTMLTest.indexOf("<!--PRODUPC");
				if (prodUPCTagStart != -1) {
					var prodUPCTagEnd = productHTMLTest.indexOf(">",prodUPCTagStart);
					var prodUPCTagStrip = productHTMLTest.substring(prodUPCTagStart,(prodUPCTagEnd+1));
					var prodUPCHTMLStart = productHTMLTest.substr(0,prodUPCTagStart);
					var prodUPCHTMLEnd = productHTMLTest.substr((prodUPCTagEnd+1));
					productHTMLTest = prodUPCHTMLStart + "<span id='prodSelectProductUPC" + filterContentArr[y][0] + "' class='panel_1_product_upc'>" + filterContentArr[y][1] + "<\/span>" + prodUPCHTMLEnd;
				}
				var prodDietTagStart = productHTMLTest.indexOf("<!--PRODDIET");
				if (prodDietTagStart != -1) {
					var prodDietTagEnd = productHTMLTest.indexOf(">",prodDietTagStart);
					var prodDietTagStrip = productHTMLTest.substring(prodDietTagStart,(prodDietTagEnd+1));
					var prodDietHTMLStart = productHTMLTest.substr(0,prodDietTagStart);
					var prodDietHTMLEnd = productHTMLTest.substr((prodDietTagEnd+1));
					if (dietArray.length) {
						var dietContent = "";
						var dSplit = filterContentArr[y][39].split(",");
						for (i=0; i<dSplit.length; i++) {
							for (b=0; b<dietArray.length; b++) {
								if (dSplit[i] == dietArray[b][0]) {
									dietContent += "<span class='panel_1_product_diet_item'>" + dietArray[b][1] + "<\/span>";
									break;
								}
							}
						}
						if (dietContent != "") {
							productHTMLTest = prodDietHTMLStart + "<div class='panel_1_product_diet_shell'>" + dietContent + "<\/div>" + prodDietHTMLEnd;
						}
						else {
							productHTMLTest = prodDietHTMLStart + prodDietHTMLEnd;
						}
					}
					else {
						productHTMLTest = prodDietHTMLStart + prodDietHTMLEnd;
					}
				}
				document.getElementById('caProdRedrawArea').innerHTML += productHTMLTest;
			}
		}
		else {
			var baseHTML = autotextIt(p1TemplateSet.panel1NoFilterProductsDiv,"panel1NoFilterProducts");
			var searchTermsTagStart = baseHTML.indexOf("<!--SEARCHTERMS");
			if (searchTermsTagStart != -1 && caFilterTextArray.length != 0) {
				var searchTermsTagEnd = baseHTML.indexOf(">",searchTermsTagStart);
				var searchTermsTagStrip = baseHTML.substring(searchTermsTagStart,(searchTermsTagEnd+1));
				var searchTermsHTMLStart = baseHTML.substr(0,searchTermsTagStart);
				var searchTermsHTMLEnd = baseHTML.substr((searchTermsTagEnd+1));
				var searchTermWrite = "";
				if (caFilterTextArray.length == 1) {
					searchTermWrite += "<span class='panel_2_search_term_item'>\"" + caFilterTextArray[0] + "\"<\/span>";
				}
				else if (caFilterTextArray.length == 2) {
					searchTermWrite += "<span class='panel_2_search_term_item'>\"" + caFilterTextArray[0] + "\"<\/span> and <span class='panel_2_search_term_item'>\"" + caFilterTextArray[1] + "\"<\/span>";
				}
				else {
					var lastOne = caFilterTextArray.length - 1;
					for (g=0; g<caFilterTextArray.length; g++) {
						if (g == lastOne) {
							searchTermWrite += "and <span class='panel_2_search_term_item'>\"" + caFilterTextArray[g] + "\"<\/span>";
						}
						else {
							searchTermWrite += "<span class='panel_2_search_term_item'>\"" + caFilterTextArray[g] + "\"<\/span>, ";
						}
					}
				}
				baseHTML = searchTermsHTMLStart + "<div id='panel2SearchTerms' class='panel_2_search_terms'>" + searchTermWrite + "<\/div>" + searchTermsHTMLEnd;
			}
			var clearTextButtonTagStart = baseHTML.indexOf("<!--CLEARTEXT");
			if (clearTextButtonTagStart != -1 && caFilterTextArray.length != 0) {
				var clearTextButtonTagEnd = baseHTML.indexOf(">",clearTextButtonTagStart);
				var clearTextButtonTagStrip = baseHTML.substring(clearTextButtonTagStart,(clearTextButtonTagEnd+1));
				var clearTextButtonHTMLStart = baseHTML.substr(0,clearTextButtonTagStart);
				var clearTextButtonHTMLEnd = baseHTML.substr((clearTextButtonTagEnd+1));
				var clearTextButtonRender = "";
				var clearTextButtonValueStart = clearTextButtonTagStrip.indexOf(" VALUE=");
				if (clearTextButtonValueStart != -1) {
					var clearTextButtonValueEnd = clearTextButtonTagStrip.indexOf("]",clearTextButtonValueStart);
					var clearTextButtonValueVar = clearTextButtonTagStrip.substring((clearTextButtonValueStart+8),(clearTextButtonValueEnd));
				}
				else {
					var clearTextButtonValueVar = "CLEAR";
				}
				var clearTextButtonItalicStart = clearTextButtonTagStrip.indexOf(" FNTAW=");
				if (clearTextButtonItalicStart != -1) {
					var clearTextButtonItalicEnd = clearTextButtonTagStrip.indexOf("]",clearTextButtonItalicStart);
					var clearTextButtonItalicVar = "<i class='fa " + clearTextButtonTagStrip.substring((clearTextButtonItalicStart+8),(clearTextButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var clearTextButtonItalicVar = "";
				}
				clearTextButtonRender += "<div id='panel1ClearTextButton' class='panel_1_clear_text_button panel_1_clear_text_button_off'";
				if (hoverState==1) {
					clearTextButtonRender += " onmouseover='panel1ButtonHover(\"panel1ClearTextButton\",\"panel_1_clear_text_button\",1);' onfocus='panel1ButtonHover(\"panel1ClearTextButton\",\"panel_1_clear_text_button\",1);' onmouseout='panel1ButtonHover(\"panel1ClearTextButton\",\"panel_1_clear_text_button\",0);' onblur='panel1ButtonHover(\"panel1ClearTextButton\",\"panel_1_clear_text_button\",0);'";
				}
				clearTextButtonRender += " onclick='clearFilterText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){clearFilterText();}' tabindex='0' title=\"" + clearTextButtonValueVar + "\">" + clearTextButtonItalicVar + clearTextButtonValueVar + "<\/div>";
				baseHTML = clearTextButtonHTMLStart + clearTextButtonRender + clearTextButtonHTMLEnd;
			}
			document.getElementById('caProdRedrawArea').innerHTML += baseHTML;
		}
	}
	if (document.getElementById('caGroupRedrawArea')) {
		document.getElementById('caGroupRedrawArea').innerHTML = "";
		$('.brand_holder_area').hide();
		$('.product_holder_area').show();
		if (countResNum != 0) {
			for (y=startVal; y<endVal; y++) {
				postLoadArr[postLoadCount] = [filterContentArr[y][0],filterContentArr[y][3],filterContentArr[y][4]];
				postLoadCount++;
				if (filterContentArr[y][6] == 1) {
					var cpn = " panel_1_group_name_on";
					var cbi = " panel_1_group_big_img_on";
					var csi = " panel_1_group_sm_img_on";
					var csh = " panel_1_group_shell_on";
				}
				else {
					var cpn = " panel_1_group_name_off";
					var cbi = " panel_1_group_big_img_off";
					var csi = " panel_1_group_sm_img_off";
					var csh = " panel_1_group_shell_off";
					selectAllIsOn = 0;
				}
				var hasHC = "";
				if(gLog==1){console.log("panel1WriteRedraw - SHOW,Products,selectAllIsOn ",filterContentArr[y][1],filterContentArr[y][7],selectAllIsOn);}
				var groupLink = " onclick='redrawGroupSelect(" + filterContentArr[y][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){redrawGroupSelect(" + filterContentArr[y][0] + ");}' tabindex='0' title=\"" + filterContentArr[y][1] + "\"";
				var groupHTMLTest = autotextIt(p1TemplateSet.panel1GroupDiv,"panel1Group");
				var groupDiscTagStart = groupHTMLTest.indexOf("<!--HIGHPROD");
				if (groupDiscTagStart != -1) {
					var groupDiscTagEnd = groupHTMLTest.indexOf(">",groupDiscTagStart);
					var groupDiscTagStrip = groupHTMLTest.substring(groupDiscTagStart,(groupDiscTagEnd+1));
					var groupDiscHTMLStart = groupHTMLTest.substr(0,groupDiscTagStart);
					var groupDiscHTMLEnd = groupHTMLTest.substr((groupDiscTagEnd+1));
					var groupDiscWrite = "";
					var discTestArr = [];
					if (filterContentArr[y][7].indexOf(",") != -1) {
						var prodGroupSub = filterContentArr[y][7].split(",");
					}
					else {
						var prodGroupSub = [filterContentArr[y][7]];
					}
					for (pga=0; pga<prodGroupSub.length; pga++) {
						for (cdc=0; cdc<prodDisplayArray.length; cdc++) {
							if (prodGroupSub[pga] == prodDisplayArray[cdc][0]) {
								discTestArr.push(prodDisplayArray[cdc][6]);
								break;
							}
						}
					}
					if (discTestArr.length != 0) {
						var discFoundArr = discTestArr.filter( onlyUnique );
						if (discFoundArr.length == 1 && discFoundArr[0] != 1) {
							groupDiscWrite = "<div class='global_" + hpArr[discFoundArr[0]][1] + " panel1Group" + hpArr[discFoundArr[0]][1] + "'>" + hpArr[discFoundArr[0]][0] + "<\/div>";
						}
					}
					groupHTMLTest = groupDiscHTMLStart + groupDiscWrite + groupDiscHTMLEnd;
				}
				var groupNameTagStart = groupHTMLTest.indexOf("<!--GROUPNAME");
				if (groupNameTagStart != -1) {
					var groupNameTagEnd = groupHTMLTest.indexOf(">",groupNameTagStart);
					var groupNameTagStrip = groupHTMLTest.substring(groupNameTagStart,(groupNameTagEnd+1));
					var groupNameHTMLStart = groupHTMLTest.substr(0,groupNameTagStart);
					var groupNameHTMLEnd = groupHTMLTest.substr((groupNameTagEnd+1));
					var prodNameDispVal = filterContentArr[y][1];
					var groupNameTagWrite = "";
					groupNameTagWrite += "<div id='groupName" + filterContentArr[y][0] + "' class='panel_1_group_name" + cpn + "'>" + prodNameDispVal + "<\/div>";
					groupHTMLTest = groupNameHTMLStart + groupNameTagWrite + groupNameHTMLEnd;
				}
				var groupBigImgTagStart = groupHTMLTest.indexOf("<!--GROUPBIGIMG");
				if (groupBigImgTagStart != -1) {
					var groupBigImgTagEnd = groupHTMLTest.indexOf(">",groupBigImgTagStart);
					var groupBigImgTagStrip = groupHTMLTest.substring(groupBigImgTagStart,(groupBigImgTagEnd+1));
					var groupBigImgHTMLStart = groupHTMLTest.substr(0,groupBigImgTagStart);
					var groupBigImgHTMLEnd = groupHTMLTest.substr((groupBigImgTagEnd+1));
					var groupBigImgWrite = "";
					groupBigImgWrite += "<img title=\"" + filterContentArr[y][1] + "\" alt=\"" + filterContentArr[y][1] + "\" id='groupBigImg" + filterContentArr[y][0] + "' class='panel_1_group_big_img" + cbi + "' src='" + clientImgBase + filterContentArr[y][3] + "'>";
					groupHTMLTest = groupBigImgHTMLStart + groupBigImgWrite + groupBigImgHTMLEnd;
				}
				var groupSmImgTagStart = groupHTMLTest.indexOf("<!--GROUPSMIMG");
				if (groupSmImgTagStart != -1) {
					var groupSmImgTagEnd = groupHTMLTest.indexOf(">",groupSmImgTagStart);
					var groupSmImgTagStrip = groupHTMLTest.substring(groupSmImgTagStart,(groupSmImgTagEnd+1));
					var groupSmImgHTMLStart = groupHTMLTest.substr(0,groupSmImgTagStart);
					var groupSmImgHTMLEnd = groupHTMLTest.substr((groupSmImgTagEnd+1));
					var groupSmImgWrite = "";
					groupSmImgWrite += "<img title=\"" + filterContentArr[y][1] + "\" alt=\"" + filterContentArr[y][1] + "\" id='groupSmImg" + filterContentArr[y][0] + "' class='panel_1_group_sm_img" + csi + "' src='" + clientImgBase + filterContentArr[y][4] + "'>";
					groupHTMLTest = groupSmImgHTMLStart + groupSmImgWrite + groupSmImgHTMLEnd;
				}
				var groupProductsTagStart = groupHTMLTest.indexOf("<!--GROUPPRODUCTS");
				if (groupProductsTagStart != -1) {
					var groupProductsTagEnd = groupHTMLTest.indexOf(">",groupProductsTagStart);
					var groupProductsTagStrip = groupHTMLTest.substring(groupProductsTagStart,(groupProductsTagEnd+1));
					var groupProductsHTMLStart = groupHTMLTest.substr(0,groupProductsTagStart);
					var groupProductsHTMLEnd = groupHTMLTest.substr((groupProductsTagEnd+1));
					if (p1groupProductsSet == 0) {
						var groupProductsSingularStart = groupProductsTagStrip.indexOf(" SINGULAR=");
						if (groupProductsSingularStart != -1) {
							var groupProductsSingularEnd = groupProductsTagStrip.indexOf("]",groupProductsSingularStart);
							p1groupProductsSingularVar = " " + groupProductsTagStrip.substring((groupProductsSingularStart+11),(groupProductsSingularEnd));
						}
						var groupProductsPluralStart = groupProductsTagStrip.indexOf(" PLURAL=");
						if (groupProductsPluralStart != -1) {
							var groupProductsPluralEnd = groupProductsTagStrip.indexOf("]",groupProductsPluralStart);
							p1groupProductsPluralVar = " " + groupProductsTagStrip.substring((groupProductsPluralStart+9),(groupProductsPluralEnd));
						}
						p1groupProductsSet = 1;
					}
					if (filterContentArr[y][8] == 1) {
						var groupProductsText = p1groupProductsSingularVar;
					}
					else {
						var groupProductsText = p1groupProductsPluralVar;
					}
					groupHTMLTest = groupProductsHTMLStart + "<div class='panel_1_group_products'><span class='panel_1_group_products_count'>" + filterContentArr[y][8] + "<\/span><span class='panel_1_group_products_text'>" + groupProductsText + "<\/span><\/div>" + groupProductsHTMLEnd;
				}
				var prodDietTagStart = groupHTMLTest.indexOf("<!--GROUPDIET");
				if (prodDietTagStart != -1) {
					var prodDietTagEnd = groupHTMLTest.indexOf(">",prodDietTagStart);
					var prodDietTagStrip = groupHTMLTest.substring(prodDietTagStart,(prodDietTagEnd+1));
					var prodDietHTMLStart = groupHTMLTest.substr(0,prodDietTagStart);
					var prodDietHTMLEnd = groupHTMLTest.substr((prodDietTagEnd+1));
					if (dietArray.length) {
						var dietContent = "";
						var dSplit = filterContentArr[y][10].split(",");
						for (i=0; i<dSplit.length; i++) {
							for (b=0; b<dietArray.length; b++) {
								if (dSplit[i] == dietArray[b][0]) {
									dietContent += "<span class='panel_1_group_diet_item'>" + dietArray[b][1] + "<\/span>";
									break;
								}
							}
						}
						if (dietContent != "") {
							groupHTMLTest = prodDietHTMLStart + "<div class='panel_1_group_diet_shell'>" + dietContent + "<\/div>" + prodDietHTMLEnd;
						}
						else {
							groupHTMLTest = prodDietHTMLStart + prodDietHTMLEnd;
						}
					}
					else {
						groupHTMLTest = prodDietHTMLStart + prodDietHTMLEnd;
					}
				}
				var groupModalTagStart = groupHTMLTest.indexOf("<!--GROUPMODAL");
				var groupModalInsert = "";
				if (groupModalTagStart != -1) {
					var groupModalTagEnd = groupHTMLTest.indexOf(">",groupModalTagStart);
					var groupModalTagStrip = groupHTMLTest.substring(groupModalTagStart,(groupModalTagEnd+1));
					var groupModalHTMLStart = groupHTMLTest.substr(0,groupModalTagStart);
					var groupModalHTMLEnd = groupHTMLTest.substr((groupModalTagEnd+1));
					groupModalInsert = "<div id='panel1GroupModalShell" + filterContentArr[y][0] + "' class='panel_1_group_modal_shell panel_close_me' style='display:none;'><\/div>";
					groupHTMLTest = groupModalHTMLStart + groupModalHTMLEnd;
					if (filterContentArr[y][8] != 1) {
						groupLink = " onclick='panel1GroupModalWrite(" + filterContentArr[y][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1GroupModalWrite(" + filterContentArr[y][0] + ");}' tabindex='0' title=\"" + filterContentArr[y][1] + "\"";
					}
				}
				var groupHoverCountTagStart = groupHTMLTest.indexOf("<!--HOVERCOUNT");
				if (groupHoverCountTagStart != -1) {
					var groupHoverCountTagEnd = groupHTMLTest.indexOf(">",groupHoverCountTagStart);
					var groupHoverCountTagStrip = groupHTMLTest.substring(groupHoverCountTagStart,(groupHoverCountTagEnd+1));
					var groupHoverCountHTMLStart = groupHTMLTest.substr(0,groupHoverCountTagStart);
					var groupHoverCountHTMLEnd = groupHTMLTest.substr((groupHoverCountTagEnd+1));
					var groupHoverCountSelWrite = "";
					var groupHoverCountNoSelWrite = "";
					var groupHoverCountOneStart = groupHoverCountTagStrip.indexOf(" SHOWONE");
					if ((groupHoverCountOneStart != -1 && filterContentArr[y][8] == 1) || filterContentArr[y][8] != 1) {
						hasHC = " has_hover_count has_hover_count_" + filterContentArr[y][0];
						var groupHoverCountSelTest = autotextIt(p1TemplateSet.panel1GroupHoverSelDiv,"panel1GroupHoverSel");
						var hoverCountSelTagStart = groupHoverCountSelTest.indexOf("<!--COUNT");
						if (hoverCountSelTagStart != -1) {
							var hoverCountSelTagEnd = groupHoverCountSelTest.indexOf(">",hoverCountSelTagStart);
							var hoverCountSelTagStrip = groupHoverCountSelTest.substring(hoverCountSelTagStart,(hoverCountSelTagEnd+1));
							var hoverCountSelHTMLStart = groupHoverCountSelTest.substr(0,hoverCountSelTagStart);
							var hoverCountSelHTMLEnd = groupHoverCountSelTest.substr((hoverCountSelTagEnd+1));
							if (p1hoverCountSelSet == 0) {
								var hoverCountSelSingularStart = hoverCountSelTagStrip.indexOf(" SINGULAR=");
								if (hoverCountSelSingularStart != -1) {
									var hoverCountSelSingularEnd = hoverCountSelTagStrip.indexOf("]",hoverCountSelSingularStart);
									p1hoverCountSelSingularVar = hoverCountSelTagStrip.substring((hoverCountSelSingularStart+11),(hoverCountSelSingularEnd));
								}
								var hoverCountSelPluralStart = hoverCountSelTagStrip.indexOf(" PLURAL=");
								if (hoverCountSelPluralStart != -1) {
									var hoverCountSelPluralEnd = hoverCountSelTagStrip.indexOf("]",hoverCountSelPluralStart);
									p1hoverCountSelPluralVar = hoverCountSelTagStrip.substring((hoverCountSelPluralStart+9),(hoverCountSelPluralEnd));
								}
								p1hoverCountSelSet = 1;
							}
							var thisHCCount = 0;
							if (prodCartArray.length) {
								var thisHCArr = filterContentArr[y][7].split(",");
								for (hc=0; hc<thisHCArr.length; hc++) {
									for (pc=0; pc<prodCartArray.length; pc++) {
										if (parseInt(prodCartArray[pc]) == parseInt(thisHCArr[hc])) {
											thisHCCount++;
											break;
										}
									}
								}
							}
							if (filterContentArr[y][8] == 1) {
								groupHoverCountSelTest = hoverCountSelHTMLStart + "<span class='panel_1_hover_count_sel_shell'><span id='panel1HoverCountSelCart" + filterContentArr[y][0] + "' class='panel_1_hover_count_sel_cart'>" + thisHCCount + "<\/span> <span class='panel_1_hover_count_sel_text'>" + p1hoverCountSelSingularVar + "<\/span><\/span>" + hoverCountSelHTMLEnd;
							}
							else {
								groupHoverCountSelTest = hoverCountSelHTMLStart + "<span class='panel_1_hover_count_sel_shell'><span id='panel1HoverCountSelCart" + filterContentArr[y][0] + "' class='panel_1_hover_count_sel_cart'>" + thisHCCount + "<\/span> of <span class='panel_1_hover_count_sel_total'>" + filterContentArr[y][8] + "<\/span> <span class='panel_1_hover_count_sel_text'>" + p1hoverCountSelPluralVar + "<\/span><\/span>" + hoverCountSelHTMLEnd;
							}
							groupHoverCountSelWrite += "<div id='panel1HoverCountSelShell" + filterContentArr[y][0] + "'";
							if (thisHCCount == 0) {
								groupHoverCountSelWrite += " style='display:none;'";
							}
							groupHoverCountSelWrite += " class='panel_1_hover_count_sel_shell_outer'>" + groupHoverCountSelTest + "<\/div>";
						}
						var groupHoverCountNoSelTest = autotextIt(p1TemplateSet.panel1GroupHoverNoSelDiv,"panel1GroupHoverNoSel");
						var hoverCountNoSelTagStart = groupHoverCountNoSelTest.indexOf("<!--COUNT");
						if (hoverCountNoSelTagStart != -1) {
							var hoverCountNoSelTagEnd = groupHoverCountNoSelTest.indexOf(">",hoverCountNoSelTagStart);
							var hoverCountNoSelTagStrip = groupHoverCountNoSelTest.substring(hoverCountNoSelTagStart,(hoverCountNoSelTagEnd+1));
							var hoverCountNoSelHTMLStart = groupHoverCountNoSelTest.substr(0,hoverCountNoSelTagStart);
							var hoverCountNoSelHTMLEnd = groupHoverCountNoSelTest.substr((hoverCountNoSelTagEnd+1));
							if (p1hoverCountNoSelSet == 0) {
								var hoverCountNoSelSingularStart = hoverCountNoSelTagStrip.indexOf(" SINGULAR=");
								if (hoverCountNoSelSingularStart != -1) {
									var hoverCountNoSelSingularEnd = hoverCountNoSelTagStrip.indexOf("]",hoverCountNoSelSingularStart);
									p1hoverCountNoSelSingularVar = hoverCountNoSelTagStrip.substring((hoverCountNoSelSingularStart+11),(hoverCountNoSelSingularEnd));
								}
								var hoverCountNoSelPluralStart = hoverCountNoSelTagStrip.indexOf(" PLURAL=");
								if (hoverCountNoSelPluralStart != -1) {
									var hoverCountNoSelPluralEnd = hoverCountNoSelTagStrip.indexOf("]",hoverCountNoSelPluralStart);
									p1hoverCountNoSelPluralVar = hoverCountNoSelTagStrip.substring((hoverCountNoSelPluralStart+9),(hoverCountNoSelPluralEnd));
								}
								p1hoverCountNoSelSet = 1;
							}
							groupHoverCountNoSelTest = hoverCountNoSelHTMLStart + "<span class='panel_1_hover_count_nosel_shell'><span id='panel1HoverCountNoSelCart" + filterContentArr[y][0] + "' class='panel_1_hover_count_nosel_cart'>" + filterContentArr[y][8] + "<\/span> <span class='panel_1_hover_count_nosel_text'>";
							if (filterContentArr[y][8] == 1) {
								groupHoverCountNoSelTest += p1hoverCountNoSelSingularVar;
							}
							else {
								groupHoverCountNoSelTest += p1hoverCountNoSelPluralVar;
							}
							groupHoverCountNoSelTest += "<\/span><\/span>" + hoverCountNoSelHTMLEnd;
							groupHoverCountNoSelWrite += "<div id='panel1HoverCountNoSelShell" + filterContentArr[y][0] + "' style='display:none;' class='panel_1_hover_count_nosel_shell_outer'>" + groupHoverCountNoSelTest + "<\/div>";
						}
					}
					groupHTMLTest = groupHoverCountHTMLStart + groupHoverCountSelWrite + groupHoverCountNoSelWrite + groupHoverCountHTMLEnd;
				}
				var preWrite = "<div id='panel1GroupShell" + filterContentArr[y][0] + "' class='panel_1_group_shell" + csh + hasHC + "'";
				if (hoverState==1) {
					preWrite += " onmouseover='groupMouseOver(" + filterContentArr[y][0] + ");' onfocus='groupMouseOver(" + filterContentArr[y][0] + ");' onmouseout='groupMouseOut(" + filterContentArr[y][0] + ");' onblur='groupMouseOut(" + filterContentArr[y][0] + ");'";
				}
				preWrite += "><div id='panel1GroupShellInner'" + groupLink + ">" + groupHTMLTest + "</\div>" + groupModalInsert + "<\/div>";
				document.getElementById('caGroupRedrawArea').innerHTML += preWrite;
			}
		}
		else {
			var baseHTML = autotextIt(p1TemplateSet.panel1NoFilterProductsDiv,"panel1NoFilterProducts");
			var searchTermsTagStart = baseHTML.indexOf("<!--SEARCHTERMS");
			if (searchTermsTagStart != -1 && caFilterTextArray.length != 0) {
				var searchTermsTagEnd = baseHTML.indexOf(">",searchTermsTagStart);
				var searchTermsTagStrip = baseHTML.substring(searchTermsTagStart,(searchTermsTagEnd+1));
				var searchTermsHTMLStart = baseHTML.substr(0,searchTermsTagStart);
				var searchTermsHTMLEnd = baseHTML.substr((searchTermsTagEnd+1));
				var searchTermWrite = "";
				if (caFilterTextArray.length == 1) {
					searchTermWrite += "<span class='panel_2_search_term_item'>\"" + caFilterTextArray[0] + "\"<\/span>";
				}
				else if (caFilterTextArray.length == 2) {
					searchTermWrite += "<span class='panel_2_search_term_item'>\"" + caFilterTextArray[0] + "\"<\/span> and <span class='panel_2_search_term_item'>\"" + caFilterTextArray[1] + "\"<\/span>";
				}
				else {
					var lastOne = caFilterTextArray.length - 1;
					for (g=0; g<caFilterTextArray.length; g++) {
						if (g == lastOne) {
							searchTermWrite += "and <span class='panel_2_search_term_item'>\"" + caFilterTextArray[g] + "\"<\/span>";
						}
						else {
							searchTermWrite += "<span class='panel_2_search_term_item'>\"" + caFilterTextArray[g] + "\"<\/span>, ";
						}
					}
				}
				baseHTML = searchTermsHTMLStart + "<div id='panel2SearchTerms' class='panel_2_search_terms'>" + searchTermWrite + "<\/div>" + searchTermsHTMLEnd;
			}
			var clearTextButtonTagStart = baseHTML.indexOf("<!--CLEARTEXT");
			if (clearTextButtonTagStart != -1 && caFilterTextArray.length != 0) {
				var clearTextButtonTagEnd = baseHTML.indexOf(">",clearTextButtonTagStart);
				var clearTextButtonTagStrip = baseHTML.substring(clearTextButtonTagStart,(clearTextButtonTagEnd+1));
				var clearTextButtonHTMLStart = baseHTML.substr(0,clearTextButtonTagStart);
				var clearTextButtonHTMLEnd = baseHTML.substr((clearTextButtonTagEnd+1));
				var clearTextButtonRender = "";
				var clearTextButtonValueStart = clearTextButtonTagStrip.indexOf(" VALUE=");
				if (clearTextButtonValueStart != -1) {
					var clearTextButtonValueEnd = clearTextButtonTagStrip.indexOf("]",clearTextButtonValueStart);
					var clearTextButtonValueVar = clearTextButtonTagStrip.substring((clearTextButtonValueStart+8),(clearTextButtonValueEnd));
				}
				else {
					var clearTextButtonValueVar = "CLEAR";
				}
				var clearTextButtonItalicStart = clearTextButtonTagStrip.indexOf(" FNTAW=");
				if (clearTextButtonItalicStart != -1) {
					var clearTextButtonItalicEnd = clearTextButtonTagStrip.indexOf("]",clearTextButtonItalicStart);
					var clearTextButtonItalicVar = "<i class='fa " + clearTextButtonTagStrip.substring((clearTextButtonItalicStart+8),(clearTextButtonItalicEnd)) + "'><\/i>";
				}
				else {
					var clearTextButtonItalicVar = "";
				}
				clearTextButtonRender += "<div id='panel1ClearTextButton' class='panel_1_clear_text_button panel_1_clear_text_button_off'";
				if (hoverState==1) {
					clearTextButtonRender += " onmouseover='panel1ButtonHover(\"panel1ClearTextButton\",\"panel_1_clear_text_button\",1);' onfocus='panel1ButtonHover(\"panel1ClearTextButton\",\"panel_1_clear_text_button\",1);' onmouseout='panel1ButtonHover(\"panel1ClearTextButton\",\"panel_1_clear_text_button\",0);' onblur='panel1ButtonHover(\"panel1ClearTextButton\",\"panel_1_clear_text_button\",0);'";
				}
				clearTextButtonRender += " onclick='clearFilterText();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){clearFilterText();}' tabindex='0' title=\"" + clearTextButtonValueVar + "\">" + clearTextButtonItalicVar + clearTextButtonValueVar + "<\/div>";
				baseHTML = clearTextButtonHTMLStart + clearTextButtonRender + clearTextButtonHTMLEnd;
			}
			document.getElementById('caGroupRedrawArea').innerHTML += baseHTML;
		}
	}
	if (panel1PostLoad == 1) {
		for (b=0; b<postLoadArr.length; b++) {
			if (document.getElementById('panel1ProductBigImgDivBack'+postLoadArr[b][0])) {
				if ($('#panel1ProductBigImgDivBack'+postLoadArr[b][0]).hasClass('post_load_on')){}
				else {
					$('#panel1ProductBigImgDivBack'+postLoadArr[b][0]).addClass('post_load_on');
					$('#panel1ProductBigImgDivBack'+postLoadArr[b][0]).css("background-image", "url('" + clientImgBase + postLoadArr[b][1] + "')");
				}
			}
			if (document.getElementById('panel1ProductSmImgDivBack'+postLoadArr[b][0])) {
				if ($('#panel1ProductSmImgDivBack'+postLoadArr[b][0]).hasClass('post_load_on')){}
				else {
					$('#panel1ProductSmImgDivBack'+postLoadArr[b][0]).addClass('post_load_on');
					$('#panel1ProductSmImgDivBack'+postLoadArr[b][0]).css("background-image", "url('" + clientImgBase + postLoadArr[b][2] + "')");
				}
			}
		}
	}
	if (countResNum != 0) {
		if (document.getElementById('panel1FilterNum')) {
			if (filterContentArr.length <= filterMaxNum) {
				document.getElementById('panel1FilterNumNum').innerHTML = countResNum;
			}
			else {
				document.getElementById('panel1FilterNumNum').innerHTML = startAt + " to " + endVal + " of " + countResNum;
			}
			document.getElementById('panel1FilterNum').style.display = "block";
		}
		if (document.getElementById('caPaginationArea')) {
			if (filterContentArr.length > filterMaxNum) {
				caWritePagination(startAt,endAt);
			}
			else {
				$('#caPaginationArea').hide();
			}
		}
	}
	else {
		if (document.getElementById('panel1FilterNum')) {
			document.getElementById('panel1FilterNum').style.display = "none";
		}
		$('#caPaginationArea').hide();
	}
	if (p1FilterTop == 1) {
		if (enableResize == 2 && filterScrollStop == 0) {
			if(gLog==1){console.log("panel1WriteRedraw SCRL");}
			parent.postMessage("SCRL:",refurl);
		}
		filterScrollStop = 0;
		$('html,body').scrollTop(0);
		window.scrollTo(0,0);
		document.getElementById('panel0').scrollTop = 0;
	}
	if (document.getElementById('p1SelProdLabButton')) {
		if (selectAllIsOn == 1) {
			if(gLog==1){console.log("panel1WriteRedraw - selectAllIsOn == 1");}
			$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_off');
			$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
			$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_on');
		}
		else {
			if(gLog==1){console.log("panel1WriteRedraw - selectAllIsOn == 0");}
			$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_on');
			$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
			$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_off');
		}
	}
		if(gLog==1){console.log("panel1WriteRedraw END labelArray",labelArray);}
	loaderToggle(0);
}
function caWritePagination(startAt,endAt) {
	if(gLog==1){console.log("caWritePagination startAt,endAt",startAt,endAt);}
	var pageHTMLStart = autotextIt(p1TemplateSet.panel1PaginationStartDiv,"panel1PaginationStart");
	var pageHTMLItem = "";
	var pageHTMLEnd = autotextIt(p1TemplateSet.panel1PaginationEndDiv,"panel1PaginationEnd");
	var numPages = Math.ceil(filterContentArr.length/filterMaxNum);
	if(gLog==1){console.log("caWritePagination numPages",numPages);}
	var pageTrack = 1;
	for (p=0; p<numPages; p++) {
		var pageIncr = p+1;
		var pageHTMLItemTest = autotextIt(p1TemplateSet.panel1PaginationItemDiv,"panel1PaginationItem");
		var pageNumStart = pageHTMLItemTest.indexOf("<!--PAGENUM");
		if (pageNumStart != -1) {
			var pageNumEnd = pageHTMLItemTest.indexOf(">",pageNumStart);
			var pageNumStrip = pageHTMLItemTest.substring(pageNumStart,(pageNumEnd+1));
			var pageNumHTMLStart = pageHTMLItemTest.substr(0,pageNumStart);
			var pageNumHTMLEnd = pageHTMLItemTest.substr((pageNumEnd+1));
			var pageNumLink = "";
			var pageNumStyle = " panel_1_ca_pagination_on";
			if (pageTrack != startAt) {
				pageNumLink = " style='cursor:pointer;' onclick='caWritePagination("+pageTrack+","+(parseInt(pageTrack)+parseInt(filterMaxNum)-1)+");panel1WriteRedraw("+pageTrack+","+(parseInt(pageTrack)+parseInt(filterMaxNum)-1)+")' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){caWritePagination("+pageTrack+","+(parseInt(pageTrack)+parseInt(filterMaxNum)-1)+");panel1WriteRedraw("+pageTrack+","+(parseInt(pageTrack)+parseInt(filterMaxNum)-1)+")}'";
				pageNumStyle = "";
			}
			pageHTMLItemTest = pageNumHTMLStart + "<span class='panel_1_ca_pagination_num" + pageNumStyle + "'" + pageNumLink + " tabindex='0' title=\"Go To Page " + pageIncr + "\">" + pageIncr + "<\/span>" + pageNumHTMLEnd;
		}
		pageHTMLItem += pageHTMLItemTest;
		pageTrack = parseInt(pageTrack)+parseInt(filterMaxNum);
	}
	document.getElementById('caPaginationArea').innerHTML = pageHTMLStart + pageHTMLItem + pageHTMLEnd
	$('#caPaginationArea').show();
}
function caRedrawSelectAll(wasClick) {
	if (wasClick && panel1ProdShopCartNoProd == 1) {
		panel1CatSelectForce(1);
	}
	else {
		for (pl=0; pl<p1CurrLabProdArr.length; pl++) {
			var pls = p1CurrLabProdArr[pl][1];
			p1CurrLabProdArr[pl][2] = prodDisplayArray[pls][9];
		}
		if(gLog==1){console.log("caRedrawSelectAll (preload) ", p1CurrLabProdArr);}
		if (p1CurrLabProdArr.length) {
			var foundEmAll = 1;
			for (x=0; x<p1CurrLabProdArr.length; x++) {
				if (p1CurrLabProdArr[x][2] == 0) {
					foundEmAll = 0;
				}
			}
		}
		else {
			foundEmAll = 0;
		}
		if (wasClick) {
			if (!p1CurrLabProdArr.length) {
				for (j=0; j<prodDisplayArray.length; j++) {
					p1CurrLabProdArr[j] = [prodDisplayArray[j][0],j,prodDisplayArray[j][9]];
				}
			}
			var oneIsOff = 0;
			for (q=0; q<p1CurrLabProdArr.length; q++) {
				if (p1CurrLabProdArr[q][2] == 0) {
					oneIsOff = 1;
					break;
				}
			}
			if (oneIsOff == 1) {
				for (z=0; z<p1CurrLabProdArr.length; z++) {
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_name_off');
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).addClass('panel_1_product_name_on');
					if (document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]) && $('#panel1ProductBigImg'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck != "_2") {
							var baseStart = baseImg.substr(0,(baseLength-4));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]).src = baseStart + "_2" + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductBigImgDivBack'+p1CurrLabProdArr[z][0]) && $('#panel1ProductBigImgDivBack'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_big_img_div_over_"+p1CurrLabProdArr[z][0]).fadeIn(50);
						$(".panel_1_product_big_img_div_back_"+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_big_img_div_back_off');
						$(".panel_1_product_big_img_div_back_"+p1CurrLabProdArr[z][0]).addClass('panel_1_product_big_img_div_back_on');
					}
					if (document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]) && $('#panel1ProductSmImg'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck != "_2") {
							var baseStart = baseImg.substr(0,(baseLength-4));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]).src = baseStart + "_2" + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductSmImgDivBack'+p1CurrLabProdArr[z][0]) && $('#panel1ProductSmImgDivBack'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_sm_img_div_over_"+p1CurrLabProdArr[z][0]).fadeIn(50);
						$(".panel_1_product_sm_img_div_back_"+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_sm_img_div_back_off');
						$(".panel_1_product_sm_img_div_back_"+p1CurrLabProdArr[z][0]).addClass('panel_1_product_sm_img_div_back_on');
					}
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).removeClass('panel_1_cart_button_hover');
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).removeClass('panel_1_cart_button_off');
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).addClass('panel_1_cart_button_on');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).removeClass('panel_1_multiFilter_l3_prodname_hover');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).removeClass('panel_1_multiFilter_l3_prodname_off');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).addClass('panel_1_multiFilter_l3_prodname_on');
					$('.panel_1_multiFilter_l3_prodname_ion_'+p1CurrLabProdArr[z][0]).show();
					$('.panel_1_multiFilter_l3_prodname_ioff_'+p1CurrLabProdArr[z][0]).hide();
					p1CurrLabProdArr[z][2] = 1;
					var pdaSet = p1CurrLabProdArr[z][1];
					prodDisplayArray[pdaSet][9] = "1";
					window['panel1ProductNameVar'+p1CurrLabProdArr[z][0]] = 1;
				}
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_off');
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
				$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_on');
				$("#p1SelProdLabButtonItalicOff").hide();
				$("#p1SelProdLabButtonItalicOn").show();
			}
			else {
				for (z=0; z<p1CurrLabProdArr.length; z++) {
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_name_hover');
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_name_on');
					$('#panel1ProductName'+p1CurrLabProdArr[z][0]).addClass('panel_1_product_name_off');
					if (document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]) && $('#panel1ProductBigImg'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck == "_2") {
							var baseStart = baseImg.substr(0,(baseLength-6));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductBigImg'+p1CurrLabProdArr[z][0]).src = baseStart + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductBigImgDivBack'+p1CurrLabProdArr[z][0]) && $('#panel1ProductBigImgDivBack'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_big_img_div_over_"+p1CurrLabProdArr[z][0]).fadeOut(50);
						$(".panel_1_product_big_img_div_back_"+p1CurrLabProdArr[z][0]).addClass('panel_1_product_big_img_div_back_off');
						$(".panel_1_product_big_img_div_back_"+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_big_img_div_back_on');
					}
					if (document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]) && $('#panel1ProductSmImg'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						var baseImg = document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]).src;
						var baseLength = baseImg.length;
						var baseCheck = baseImg.substr((baseLength-6),2);
						if (baseCheck == "_2") {
							var baseStart = baseImg.substr(0,(baseLength-6));
							var baseEnd = baseImg.substr((baseLength-4),baseLength);
							document.getElementById('panel1ProductSmImg'+p1CurrLabProdArr[z][0]).src = baseStart + baseEnd;
						}
					}
					if (document.getElementById('panel1ProductSmImgDivBack'+p1CurrLabProdArr[z][0]) && $('#panel1ProductSmImgDivBack'+p1CurrLabProdArr[z][0]).hasClass('img_replace_active')) {
						$(".panel_1_product_sm_img_div_over_"+p1CurrLabProdArr[z][0]).fadeOut(50);
						$(".panel_1_product_sm_img_div_back_"+p1CurrLabProdArr[z][0]).addClass('panel_1_product_sm_img_div_back_off');
						$(".panel_1_product_sm_img_div_back_"+p1CurrLabProdArr[z][0]).removeClass('panel_1_product_sm_img_div_back_on');
					}
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).removeClass('panel_1_cart_button_hover');
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).removeClass('panel_1_cart_button_on');
					$('#panel1CartButton'+p1CurrLabProdArr[z][0]).addClass('panel_1_cart_button_off');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).removeClass('panel_1_multiFilter_l3_prodname_hover');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).removeClass('panel_1_multiFilter_l3_prodname_on');
					$('.panel_1_multiFilter_l3_prodname_'+p1CurrLabProdArr[z][0]).addClass('panel_1_multiFilter_l3_prodname_off');
					$('.panel_1_multiFilter_l3_prodname_ion_'+p1CurrLabProdArr[z][0]).hide();
					$('.panel_1_multiFilter_l3_prodname_ioff_'+p1CurrLabProdArr[z][0]).show();
					p1CurrLabProdArr[z][2] = 0;
					var pdaSet = p1CurrLabProdArr[z][1];
					prodDisplayArray[pdaSet][9] = "0";
					window['panel1ProductNameVar'+p1CurrLabProdArr[z][0]] = 0;
				}
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_on');
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
				$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_off');
				$("#p1SelProdLabButtonItalicOn").hide();
				$("#p1SelProdLabButtonItalicOff").show();
			}
			var prodIDArr = []
			prodCartArray.length = 0;
			for (y=0;y<prodDisplayArray.length;y++) {
				if (prodDisplayArray[y][9] == 1) {
					prodCartArray.push(prodDisplayArray[y][0]);
					prodIDArr.push(prodDisplayArray[y][1]);
				}
			}
			document.getElementById('PROD').value = prodIDArr.toString(",");
			panel1ProdCartDraw();
		}
		else {
			if (foundEmAll == 1) {
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_off');
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
				$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_on');
				$("#p1SelProdLabButtonItalicOff").hide();
				$("#p1SelProdLabButtonItalicOn").show();
			}
			else {
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_on');
				$("#p1SelProdLabButton").removeClass('panel_1_select_product_label_button_hover');
				$("#p1SelProdLabButton").addClass('panel_1_select_product_label_button_off');
				$("#p1SelProdLabButtonItalicOn").hide();
				$("#p1SelProdLabButtonItalicOff").show();
			}
		}
	}
}
function p1WriteRedrawLabels(hideIt) {
	if(gLog==1){console.log("p1WriteRedrawLabels (redrawLabelCountArr,labelArray,hideIt) ", redrawLabelCountArr,labelArray,hideIt);}
	var labelHTML = "";
	p1RedrawLabelArray.length = 0;
	p1rla = 0;
	p1RedrawLabelOff.length = 0;
	p1rlo = 0;
	// 0=productID; 1=family match; 2=label match; 3=text match; 4=diet match; 5=labels, 6=base family;
	if (p1RedrawLabelExpand == 0) {
		if(gLog==1){console.log("p1WriteRedrawLabels p1RedrawLabelExpand == 0");}
		for (l=0;l<labelArray.length;l++) {
			if (labelArray[l][17] == 1) {
				var incLevel = 0;
				var qCt = 0;
				if (isaFamLabelOn == 0 && topLabelOn == 0) {
					incLevel = 1;
				}
				else if (isaTopLabelOn == 0 && topLabelOn == 1) {
					incLevel = 1;
				}
				if (isaFamLabelOn == 0 && isaTopLabelOn == 0 && isaLabelOn == 0 && caFilterTextArray.length == 0 && p1RedrawDietArray.length == 0) {
					if(gLog==1){console.log("p1WriteRedrawLabels (labelArray[l][11]) ", labelArray[l][11]);}
					incLevel = 1;
					qCt = labelArray[l][11];
				}
				else {
					for (q=0; q<redrawLabelCountArr.length; q++) {
						var labSplit = redrawLabelCountArr[q][5].split(",");
						var useThis = 0;
						var dietGood = 1;
						if (p1RedrawDietArray.length != 0) {
							dietGood = 0;
							dietDub = 0;
							var testDiet = redrawLabelCountArr[q][7].split(",");
							for (w=0; w<p1RedrawDietArray.length; w++) {
								for (r=0; r<testDiet.length; r++) {
									if (testDiet[r] == p1RedrawDietArray[w]) {
										dietDub++;
									}
								}
							}
							if (dietDub == p1RedrawDietArray.length) {
								dietGood = 1;
							}
						}
						for (g=0; g<labSplit.length; g++) {
							if (labSplit[g] == labelArray[l][0]) {
								useThis = 1;
							}
						}
						if (useThis != 0) {
							if ((isaFamLabelOn == 0 && topLabelOn == 0) || (isaFamLabelOn != 0 && topLabelOn == 0 && redrawLabelCountArr[q][1] == isaFamLabelOn) || (isaTopLabelOn != 0 && topLabelOn == 1 && redrawLabelCountArr[q][8] == isaTopLabelOn)) {
								if ((caFilterTextArray.length == 0 || redrawLabelCountArr[q][3] == 1) && dietGood == 1) {
									qCt++;
								}
								incLevel = 1;
							}
						}
					}
				}
				if (incLevel == 1 && (topLabelOn == 0 || (isaTopLabelOn != 0 && (labelArray[l][9] == isaTopLabelOn || labelArray[l][0] == isaTopLabelOn)))) {
					p1RedrawLabelArray.push(labelArray[l]);
					p1RedrawLabelArray[p1rla][20] = qCt;
					p1RedrawLabelArray[p1rla][19] = l;
					p1rla++;
				}
				else {
					p1RedrawLabelOff.push(labelArray[l]);
					p1RedrawLabelOff[p1rlo][20] = qCt;
					p1RedrawLabelOff[p1rlo][19] = l;
					p1rlo++;
				}
			}
		}
		if (p1RedrawLabelClear == 1 && filterContentArr.length != 0) {
			labelHTML += "<div class='panel_1_redraw_labels_clear' onclick='clearBreadcrumb();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){clearBreadcrumb();}' tabindex='0' title=\"" + redrawClearText + "\"><div class='panel_1_redraw_labels_clear_header'>"+redrawClearText+"<\/div><\/div>";
		}
		if (p1RedrawLabelFamily == 1 && filterContentArr.length != 0) {
			labelHTML += "<div class='panel_1_redraw_labels_family'><div class='panel_1_redraw_labels_family_header'>"+redrawBrandText+"<\/div>";
			for (f=0; f<famArray.length; f++) {
				var fCT = 0;
				for (q=0; q<redrawLabelCountArr.length; q++) {
					var useThis = 1;
					if (isaLabelOn != 0) {
						useThis = 0;
						var labSplit = redrawLabelCountArr[q][5].split(",");
						for (g=0; g<labSplit.length; g++) {
							if (labSplit[g] == isaLabelOn) {
								useThis = 1;
							}
						}
					}
					var dietGood = 1;
					if (p1RedrawDietArray.length != 0) {
						dietGood = 0;
						dietDub = 0;
						var testDiet = redrawLabelCountArr[q][7].split(",");
						for (w=0; w<p1RedrawDietArray.length; w++) {
							for (r=0; r<testDiet.length; r++) {
								if (testDiet[r] == p1RedrawDietArray[w]) {
									dietDub++;
								}
							}
						}
						if (dietDub == p1RedrawDietArray.length) {
							dietGood = 1;
						}
					}
					if (redrawLabelCountArr[q][6] == famArray[f][0] && (caFilterTextArray.length == 0 || redrawLabelCountArr[q][3] == 1) && useThis == 1 && dietGood == 1) {
						fCT++;
					}
				}
				var countWrite = "";
				if (p1RedrawLabelCount == 1) {
					countWrite = "<span id='panel1LabelFamBadge" + famArray[f][0] + "' class='counter_badge panel_1_label_fam_badge'>(" + fCT + ")<\/span>";
				}
				labelHTML += "<div class='panel_1_product_label_fam panel_1_product_label_fam_" + famArray[f][0];
				if (fCT != 0) {
					if (famArray[f][5] == 1) {
						labelHTML += " panel_1_product_label_fam_on' style='cursor:pointer;'";
					}
					else {
						labelHTML += " panel_1_product_label_fam_off' style='cursor:pointer;'";
					}
				}
				else {
					labelHTML += " panel_1_product_label_fam_noclick'";
				}
				if (hoverState == 1 && fCT != 0) {
					labelHTML += " onmouseover='panel1ProductLabelFamMouseover("+f+","+famArray[f][0]+");' onfocus='panel1ProductLabelFamMouseover("+f+","+famArray[f][0]+");' onmouseout='panel1ProductLabelFamMouseout("+f+","+famArray[f][0]+");' onblur='panel1ProductLabelFamMouseout("+f+","+famArray[f][0]+");'";
				}
				if (fCT != 0) {
					labelHTML += " onclick='panel1ProductFamLabelSelect("+f+","+famArray[f][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductFamLabelSelect("+f+","+famArray[f][0]+");}'";
				}
				labelHTML += " tabindex='0' title=\"" + famArray[f][1] + "\">" + famArray[f][1] + countWrite + "<\/div>";
			}
			labelHTML += "</div>";
		}
		labelHTML += "<div class='panel_1_redraw_labels_active'><div class='panel_1_redraw_labels_active_header'>"+redrawLabelText+"<\/div>";
		var howManyLOn = 0;
		for (u=0; u<p1RedrawLabelArray.length; u++) {
			if (p1RedrawLabelArray[u][3] == 1) {
				howManyLOn++;
			}
		}
		for (l=0; l<p1RedrawLabelArray.length; l++) {
			var countWrite = "";
			if (p1RedrawLabelCount == 1) {
				countWrite = "<span id='panel1LabelBadge" + p1RedrawLabelArray[l][0] + "' class='counter_badge panel_1_label_badge'>(" + p1RedrawLabelArray[l][20] + ")<\/span>";
			}
			labelHTML += "<div class='panel_1_product_label panel_1_product_label_" + p1RedrawLabelArray[l][0];
			if (p1RedrawLabelArray[l][20] != 0) {
				if (p1RedrawLabelArray[l][3] == 1) {
					if (topLabelOn == 1 && isaTopLabelOn != 0 && p1RedrawLabelArray[l][0] == isaTopLabelOn && howManyLOn > 1) {
						labelHTML += " panel_1_product_label_off' style='cursor:pointer;'";
					}
					else {
						labelHTML += " panel_1_product_label_on' style='cursor:pointer;'";
					}
				}
				else {
					labelHTML += " panel_1_product_label_off' style='cursor:pointer;'";
				}
			}
			else {
				labelHTML += " panel_1_product_label_noclick'";
			}
			if (hoverState == 1 && p1RedrawLabelArray[l][20] != 0) {
				labelHTML += " onmouseover='panel1ProductLabelMouseover("+p1RedrawLabelArray[l][19]+","+p1RedrawLabelArray[l][0]+");' onfocus='panel1ProductLabelMouseover("+p1RedrawLabelArray[l][19]+","+p1RedrawLabelArray[l][0]+");' onmouseout='panel1ProductLabelMouseout("+p1RedrawLabelArray[l][19]+","+p1RedrawLabelArray[l][0]+");' onblur='panel1ProductLabelMouseout("+p1RedrawLabelArray[l][19]+","+p1RedrawLabelArray[l][0]+");'";
			}
			if (p1RedrawLabelArray[l][20] != 0) {
				labelHTML += " onclick='panel1ProductLabelSelect("+p1RedrawLabelArray[l][19]+","+p1RedrawLabelArray[l][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1ProductLabelSelect("+p1RedrawLabelArray[l][19]+","+p1RedrawLabelArray[l][0]+");}'";
			}
			labelHTML += " tabindex='0' title=\"" + p1RedrawLabelArray[l][1] + "\">" + p1RedrawLabelArray[l][1] + countWrite + "<\/div>";
		}
		labelHTML += "</div>";
		if (!hideIt) {
			labelHTML += "<div class='panel_1_redraw_labels_inactive'>";
			for (l=0; l<p1RedrawLabelOff.length; l++) {
				var countWrite = "";
				if (p1RedrawLabelCount == 1) {
					countWrite = "<span id='panel1LabelBadge" + p1RedrawLabelOff[l][0] + "' class='counter_badge panel_1_label_badge'>(" + p1RedrawLabelOff[l][20] + ")<\/span>";
				}
				labelHTML += "<div class='panel_1_product_label panel_1_product_label_" + p1RedrawLabelOff[l][0] + " panel_1_product_label_no_prod'>" + p1RedrawLabelOff[l][1] + countWrite + "<\/div>";
			}
			labelHTML += "</div>";
		}
	}
	else if (p1RedrawLabelExpand == 1) {
		if(gLog==1){console.log("p1WriteRedrawLabels p1RedrawLabelExpand == 1");}
		for (a=0; a<labelArray.length; a++) {
			var qCt = 0;
			if (isaFamLabelOn == 0 && isaLabelOn == 0 && caFilterTextArray.length == 0 && p1RedrawDietArray.length == 0) {
				qCt = labelArray[a][11];
				if(gLog==1){console.log("p1WriteRedrawLabels - qCt=labelArray[a][11]",labelArray[a][0],labelArray[a][1],qCt);}
			}
			else {
				for (q=0; q<redrawLabelCountArr.length; q++) {
					var labSplit = redrawLabelCountArr[q][5].split(",");
					var useThis = 0;
					var dietGood = 1;
					if (p1RedrawDietArray.length != 0) {
						dietGood = 0;
						dietDub = 0;
						var testDiet = redrawLabelCountArr[q][7].split(",");
						for (w=0; w<p1RedrawDietArray.length; w++) {
							for (r=0; r<testDiet.length; r++) {
								if (testDiet[r] == p1RedrawDietArray[w]) {
									dietDub++;
								}
							}
						}
						if (dietDub == p1RedrawDietArray.length) {
							dietGood = 1;
						}
					}
					for (g=0; g<labSplit.length; g++) {
						if (labSplit[g] == labelArray[a][0]) {
							useThis = 1;
						}
					}
					if (useThis == 1) {
						if (isaFamLabelOn == 0 || (isaFamLabelOn != 0 && redrawLabelCountArr[q][1] == isaFamLabelOn)) {
							if ((caFilterTextArray.length == 0 || redrawLabelCountArr[q][3] == 1) && dietGood == 1) {
								qCt++;
							}
							incLevel = 1;
						}
					}
				}
				if(gLog==1){console.log("p1WriteRedrawLabels - Compile qCt",labelArray[a][0],labelArray[a][1],qCt);}
			}
			labelArray[a][20] = qCt;
		}
		for (a=0; a<labelArray.length; a++) {
			if (labelArray[a][9] == 0) {
				var hasLevTwo = 0;
				var labelTwoHTML = "";
				for (b=0; b<labelArray.length; b++) {
					if (labelArray[b][9] == labelArray[a][0]) {
						hasLevTwo++;
						var hasLevThree = 0;
						var labelThreeHTML = "";
						for (c=0; c<labelArray.length; c++) {
							if (labelArray[c][9] == labelArray[b][0]) {
								hasLevThree++;
								var countWrite = "";
								if (p1RedrawLabelCount == 1) {
									countWrite = "<span id='panel1LabelBadge" + labelArray[c][0] + "' class='counter_badge panel_1_label_badge'>(" + labelArray[c][20] + ")<\/span>";
								}
								labelThreeHTML += "<div id='brandLabelSideThree" + labelArray[c][0] + "' class='panel_1_product_label_expand_three panel_1_product_label panel_1_product_label_" + labelArray[c][0];
								var flHideC = "";
								if (panel1FamLabelHideLabels == 1 && labelArray[c][20] == 0) {
									flHideC = " style='display:none;'";
								}
								if (labelArray[c][20] != 0) {
									if (labelArray[c][3] == 1) {
										labelThreeHTML += " panel_1_product_label_on' style='cursor:pointer;'";
									}
									else {
										labelThreeHTML += " panel_1_product_label_off' style='cursor:pointer;'";
									}
								}
								else {
									if (labelArray[c][3] == 1) {
										labelThreeHTML += " panel_1_product_label_noclick_selected'" + flHideC;
									}
									else {
										labelThreeHTML += " panel_1_product_label_noclick'" + flHideC;
									}
								}
								if (hoverState == 1 && labelArray[c][20] != 0) {
									labelThreeHTML += " onmouseover='panel1ProductLabelMouseover("+c+","+labelArray[c][0]+");' onfocus='panel1ProductLabelMouseover("+c+","+labelArray[c][0]+");' onmouseout='panel1ProductLabelMouseout("+c+","+labelArray[c][0]+");' onblur='panel1ProductLabelMouseout("+c+","+labelArray[c][0]+");'";
								}
								if (labelArray[c][20] != 0) {
									labelThreeHTML += " onclick='panel1RedrawLabelSelect("+labelArray[c][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1RedrawLabelSelect("+labelArray[c][0]+");}'";
								}
								labelThreeHTML += " tabindex='0' title=\"" + labelArray[c][1] + "\">" + labelArray[c][1] + countWrite + "<\/div>";
							}
						}
						var countWrite = "";
						if (p1RedrawLabelCount == 1) {
							countWrite = "<span id='panel1LabelBadge" + labelArray[b][0] + "' class='counter_badge panel_1_label_badge'>(" + labelArray[b][20] + ")<\/span>";
						}
						labelTwoHTML += "<div id='brandLabelSideTwo" + labelArray[b][0] + "' class='panel_1_product_label_expand_two panel_1_product_label panel_1_product_label_" + labelArray[b][0];
						var flHideB = "";
						if (panel1FamLabelHideLabels == 1 && labelArray[b][20] == 0) {
							flHideB = " style='display:none;'";
						}
						if (labelArray[b][20] != 0) {
							if (labelArray[b][3] == 1) {
								if (hasLevThree != 0) {
									labelTwoHTML += " label_arrow_down";
								}
								labelTwoHTML += " panel_1_product_label_on' style='cursor:pointer;'";
							}
							else {
								if (hasLevThree != 0) {
									labelTwoHTML += " label_arrow_up";
								}
								labelTwoHTML += " panel_1_product_label_off' style='cursor:pointer;'";
							}
						}
						else {
							if (labelArray[b][3] == 1) {
								labelTwoHTML += " panel_1_product_label_noclick_selected'" + flHideB;
							}
							else {
								labelTwoHTML += " panel_1_product_label_noclick'" + flHideB;
							}
						}
						if (hoverState == 1 && labelArray[b][20] != 0) {
							labelTwoHTML += " onmouseover='panel1ProductLabelMouseover("+b+","+labelArray[b][0]+");' onfocus='panel1ProductLabelMouseover("+b+","+labelArray[b][0]+");' onmouseout='panel1ProductLabelMouseout("+b+","+labelArray[b][0]+");' onblur='panel1ProductLabelMouseout("+b+","+labelArray[b][0]+");'";
						}
						if (labelArray[b][20] != 0) {
							labelTwoHTML += " onclick='panel1RedrawLabelSelect("+labelArray[b][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1RedrawLabelSelect("+labelArray[b][0]+");}'";
						}
						labelTwoHTML += " tabindex='0' title=\"" + labelArray[b][1] + "\">" + labelArray[b][1] + countWrite + "<\/div>";
						if (hasLevThree != 0) {
							labelTwoHTML += "<div id='brandLabelSideSubShell" + labelArray[a][0] + "' class='brand_label_side_sub_shell brand_label_side_sub_shell_" + labelArray[a][0];
							if (labelArray[b][3] == 1) {
								labelTwoHTML += " brand_label_side_sub_shell_on' style='display:block;'";
							}
							else {
								labelTwoHTML += " brand_label_side_sub_shell_off' style='display:none;'";
							}
							labelTwoHTML += ">" + labelThreeHTML + "<\/div>";
						}
					}
				}
				var countWrite = "";
				if (p1RedrawLabelCount == 1) {
					countWrite = "<span id='panel1LabelBadge" + labelArray[a][0] + "' class='counter_badge panel_1_label_badge'>(" + labelArray[a][20] + ")<\/span>";
				}
				labelHTML += "<div id='brandLabelSideTop" + labelArray[a][0] + "' class='panel_1_product_label_expand_top panel_1_product_label panel_1_product_label_" + labelArray[a][0];
				var bHideA = " style='cursor:pointer;'";
				if (panel1BrandLabelHideLabels == 1 && panel1BrandLabelOn != 0) {
					if (labelArray[a][9] == 0 && labelArray[a][0] != panel1BrandLabelOn) {
						bHideA = " style='display:none;'";
					}
				}
				var flHideA = "";
				if (panel1FamLabelHideLabels == 1 && labelArray[a][20] == 0) {
					flHideA = " style='display:none;'";
				}
				if (labelArray[a][20] != 0) {
					if (labelArray[a][3] == 1) {
						if (hasLevTwo != 0) {
							labelHTML += " label_arrow_down";
						}
						labelHTML += " panel_1_product_label_on'" + bHideA;
					}
					else {
						if (hasLevTwo != 0) {
							labelHTML += " label_arrow_up";
						}
						labelHTML += " panel_1_product_label_off'" + bHideA;
					}
				}
				else {
					if (labelArray[a][3] == 1) {
						labelHTML += " panel_1_product_label_noclick_selected'" + flHideA+ bHideA;
					}
					else {
						labelHTML += " panel_1_product_label_noclick'" + flHideA+ bHideA;
					}
				}
				if (hoverState == 1 && labelArray[a][20] != 0) {
					labelHTML += " onmouseover='panel1ProductLabelMouseover("+a+","+labelArray[a][0]+");' onfocus='panel1ProductLabelMouseover("+a+","+labelArray[a][0]+");' onmouseout='panel1ProductLabelMouseout("+a+","+labelArray[a][0]+");' onblur='panel1ProductLabelMouseout("+a+","+labelArray[a][0]+");'";
				}
				if (labelArray[a][20] != 0) {
					if (p1RedrawLabelNoTop == 0) {
						labelHTML += " onclick='panel1NoTopSelect("+labelArray[a][0]+");panel1RedrawLabelSelect("+labelArray[a][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1NoTopSelect("+labelArray[a][0]+");panel1RedrawLabelSelect("+labelArray[a][0]+");}'";
					}
					else {
						labelHTML += " onclick='panel1NoTopSelect("+labelArray[a][0]+",1);' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1NoTopSelect("+labelArray[a][0]+",1);}'";
					}
				}
				labelHTML += " tabindex='0' title=\"" + labelArray[a][1] + "\">" + labelArray[a][1] + countWrite + "<\/div>";
				if (hasLevTwo != 0) {
					labelHTML += "<div id='brandLabelSideShell" + labelArray[a][0] + "' class='brand_label_side_shell brand_label_side_shell_" + labelArray[a][0];
					if (labelArray[a][3] == 1) {
						labelHTML += " brand_label_side_shell_on' style='display:block;'";
					}
					else {
						labelHTML += " brand_label_side_shell_off' style='display:none;'";
					}
					labelHTML += ">" + labelTwoHTML + "<\/div>";
				}
			}
		}
	}
	if (p1RedrawLabelModal == 1) {
		if (winWidth <= globalRespWidth && document.getElementById('panel1RedrawLabelModalShell')) {
			document.getElementById('panel1RedrawLabelModalShell').innerHTML = labelHTML;
			document.getElementById('panel1RedrawLabelShell').innerHTML = "";
		}
		else {
			document.getElementById('panel1RedrawLabelShell').innerHTML = labelHTML;
			if (document.getElementById('panel1RedrawLabelModalShell')) {
				document.getElementById('panel1RedrawLabelModalShell').innerHTML = "";
			}
		}
	}
	else {
		document.getElementById('panel1RedrawLabelShell').innerHTML = labelHTML;
	}
}
function p1WriteDietList() {
	if(gLog==1){console.log("p1WriteDietList - START");}
	if (document.getElementById('panel1DietListShell') && dietArray.length != 0) {
		var dietHTML = "<div class='panel_1_diet_list_content'><div class='panel_1_diet_list_content_header'>"+redrawDietText+"<\/div>";
		for (f=0; f<dietArray.length; f++) {
			var dCT = 0;
			if (redrawLabelCountArr.length) {
				if(gLog==1){console.log("p1WriteDietList - redrawLabelCountArr.length",redrawLabelCountArr.length);}
				for (q=0; q<redrawLabelCountArr.length; q++) {
					var useThis = 1;
					if (isaLabelOn != 0) {
						useThis = 0
						var labSplit = redrawLabelCountArr[q][5].split(",");
						for (g=0; g<labSplit.length; g++) {
							if (labSplit[g] == isaLabelOn) {
								useThis = 1;
							}
						}
					}
					if (useThis == 1) {
						if (isaFamLabelOn == 0 || (isaFamLabelOn != 0 && redrawLabelCountArr[q][1] == isaFamLabelOn)) {
							var foundThisDiet = 0;
							var dietGood = 0;
							if (p1RedrawDietArray.length != 0) {
								dietDub = 0;
								var testDiet = redrawLabelCountArr[q][7].split(",");
								for (w=0; w<p1RedrawDietArray.length; w++) {
									for (r=0; r<testDiet.length; r++) {
										if (testDiet[r] == p1RedrawDietArray[w]) {
											dietDub++;
										}
										if (testDiet[r] == dietArray[f][0]) {
											foundThisDiet = 1;
										}
									}
								}
								if (dietDub == p1RedrawDietArray.length) {
									dietGood = 1;
								}
							}
							else {
								var testDiet = redrawLabelCountArr[q][7].split(",");
								for (r=0; r<testDiet.length; r++) {
									if (testDiet[r] == dietArray[f][0]) {
										foundThisDiet = 1;
										dietGood = 1;
									}
								}
							}
							if ((caFilterTextArray.length == 0 || redrawLabelCountArr[q][3] == 1) && dietGood == 1 && foundThisDiet == 1) {
								dCT++;
							}
						}
					}
				}
			}
			else {
				if(gLog==1){console.log("p1WriteDietList - dietArray[f][5]");}
				dCT = dietArray[f][5];
			}
			var countWrite = "";
			if (p1RedrawLabelCount == 1) {
				countWrite = "<span id='panel1DietListBadge" + dietArray[f][0] + "' class='counter_badge panel_1_diet_list_badge'>(" + dCT + ")<\/span>";
			}
			dietHTML += "<div class='panel_1_diet_list panel_1_diet_list_" + dietArray[f][0];
			if (dCT != 0) {
				if (dietArray[f][3] == 1) {
					dietHTML += " panel_1_diet_list_on' style='cursor:pointer;'";
				}
				else {
					dietHTML += " panel_1_diet_list_off' style='cursor:pointer;'";
				}
			}
			else {
				dietHTML += " panel_1_diet_list_noclick'";
			}
			if (hoverState == 1 && dCT != 0) {
				dietHTML += " onmouseover='panel1DietListMouseover("+f+","+dietArray[f][0]+");' onfocus='panel1DietListMouseover("+f+","+dietArray[f][0]+");' onmouseout='panel1DietListMouseout("+f+","+dietArray[f][0]+");' onblur='panel1DietListMouseout("+f+","+dietArray[f][0]+");'";
			}
			if (dCT != 0) {
				dietHTML += " onclick='panel1DietListSelect("+dietArray[f][0]+");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1DietListSelect("+dietArray[f][0]+");}'";
			}
			dietHTML += " tabindex='0' title=\"" + dietArray[f][1] + "\">" + dietArray[f][1] + countWrite + "<\/div>";
		}
		dietHTML += "</div>";
		if (p1RedrawLabelModal == 1) {
			if (winWidth <= globalRespWidth && document.getElementById('panel1DietListModalShell')) {
				document.getElementById('panel1DietListModalShell').innerHTML = dietHTML;
				document.getElementById('panel1DietListShell').innerHTML = "";
			}
			else {
				document.getElementById('panel1DietListShell').innerHTML = dietHTML;
				if (document.getElementById('panel1DietListModalShell')) {
					document.getElementById('panel1DietListModalShell').innerHTML = "";
				}
			}
		}
		else {
			document.getElementById('panel1DietListShell').innerHTML = dietHTML;
		}
	}
}
function panel1DietListMouseover(arrayVal,idVal) {
	if (dietArray[arrayVal][3] == 0) {
		$('.panel_1_diet_list_'+idVal).removeClass('panel_1_diet_list_off');
		$('.panel_1_diet_list_'+idVal).addClass('panel_1_diet_list_hover_off');
	}
	else {
		$('.panel_1_diet_list_'+idVal).removeClass('panel_1_diet_list_on');
		$('.panel_1_diet_list_'+idVal).addClass('panel_1_diet_list_hover_on');
	}
}
function panel1DietListMouseout(arrayVal,idVal) {
	if (dietArray[arrayVal][3] == 0) {
		$('.panel_1_diet_list_'+idVal).removeClass('panel_1_diet_list_hover_off');
		$('.panel_1_diet_list_'+idVal).removeClass('panel_1_diet_list_on');
		$('.panel_1_diet_list_'+idVal).addClass('panel_1_diet_list_off');
	}
	else {
		$('.panel_1_diet_list_'+idVal).removeClass('panel_1_diet_list_hover_on');
		$('.panel_1_diet_list_'+idVal).removeClass('panel_1_diet_list_off');
		$('.panel_1_diet_list_'+idVal).addClass('panel_1_diet_list_on');
	}
}
function panel1DietListSelect(dietID) {
	for (d=0; d<dietArray.length; d++) {
		if (dietArray[d][0] == dietID) {
			if (dietArray[d][3] == 0) {
				$('.panel_1_diet_list_'+dietID).removeClass('panel_1_diet_list_hover_off');
				$('.panel_1_diet_list_'+dietID).removeClass('panel_1_diet_list_hover_on');
				$('.panel_1_diet_list_'+dietID).removeClass('panel_1_diet_list_off');
				$('.panel_1_diet_list_'+dietID).addClass('panel_1_diet_list_on');
				dietArray[d][3] = 1;
			}
			else {
				$('.panel_1_diet_list_'+dietID).removeClass('panel_1_diet_list_hover_off');
				$('.panel_1_diet_list_'+dietID).removeClass('panel_1_diet_list_hover_on');
				$('.panel_1_diet_list_'+dietID).removeClass('panel_1_diet_list_on');
				$('.panel_1_diet_list_'+dietID).addClass('panel_1_diet_list_off');
				dietArray[d][3] = 0;
			}
			break;
		}
	}
	panel1RedrawFilter();
}
function clearFilterText() {
	caFilterTextArray.length = 0;
	panel1RedrawFilter();
	if (document.getElementById("panel1FilterField")) {
		document.getElementById("panel1FilterField").focus();
	}
}
function p1WriteFilterModal() {
	if(gLog==1){console.log("writeFilterModal - START");}
	var baseHTML = autotextIt(p1TemplateSet.panel1FilterModalDiv,"panel1FilterModal");
	if (baseHTML.length != -1) {
		var redrawLabelStart = baseHTML.indexOf("<!--REDRAWLABEL");
		if (redrawLabelStart != -1) {
			var redrawLabelEnd = baseHTML.indexOf(">",redrawLabelStart);
			var redrawLabelStrip = baseHTML.substring(redrawLabelStart,(redrawLabelEnd+1));
			var redrawLabelHTMLStart = baseHTML.substr(0,redrawLabelStart);
			var redrawLabelHTMLEnd = baseHTML.substr((redrawLabelEnd+1));
			baseHTML = redrawLabelHTMLStart + "<div id='panel1RedrawLabelModalShell' class='panel_1_redraw_label_modal_shell'><\/div>" + redrawLabelHTMLEnd;
		}
		var dietListStart = baseHTML.indexOf("<!--DIETLIST");
		if (dietListStart != -1) {
			var dietListEnd = baseHTML.indexOf(">",dietListStart);
			var dietListStrip = baseHTML.substring(dietListStart,(dietListEnd+1));
			var dietListHTMLStart = baseHTML.substr(0,dietListStart);
			var dietListHTMLEnd = baseHTML.substr((dietListEnd+1));
			baseHTML = dietListHTMLStart + "<div id='panel1DietListModalShell' class='panel_1_diet_list_modal_shell'><\/div>" + dietListHTMLEnd;
		}
		var closeButtonTagStart = baseHTML.indexOf("<!--CLOSEBUTTON");
		if (closeButtonTagStart != -1) {
			var closeButtonTagEnd = baseHTML.indexOf(">",closeButtonTagStart);
			var closeButtonTagStrip = baseHTML.substring(closeButtonTagStart,(closeButtonTagEnd+1));
			var closeButtonHTMLStart = baseHTML.substr(0,closeButtonTagStart);
			var closeButtonHTMLEnd = baseHTML.substr((closeButtonTagEnd+1));
			var closeButtonRender = "";
			var closeButtonValueStart = closeButtonTagStrip.indexOf(" VALUE=");
			if (closeButtonValueStart != -1) {
				var closeButtonValueEnd = closeButtonTagStrip.indexOf("]",closeButtonValueStart);
				var closeButtonValueVar = closeButtonTagStrip.substring((closeButtonValueStart+8),(closeButtonValueEnd));
			}
			else {
				var closeButtonValueVar = "X";
			}
			var closeButtonItalicStart = closeButtonTagStrip.indexOf(" FNTAW=");
			if (closeButtonItalicStart != -1) {
				var closeButtonItalicEnd = closeButtonTagStrip.indexOf("]",closeButtonItalicStart);
				var closeButtonItalicVar = "<i class='fa " + closeButtonTagStrip.substring((closeButtonItalicStart+8),(closeButtonItalicEnd)) + "'><\/i>";
			}
			else {
				var closeButtonItalicVar = "";
			}
			closeButtonRender += "<div id='panel1CloseButton' class='panel_1_close_button panel_1_close_button_off'";
			if (hoverState==1) {
				closeButtonRender += " onmouseover='panel1ButtonHover(\"panel1CloseButton\",\"panel_1_close_button\",1);' onfocus='panel1ButtonHover(\"panel1CloseButton\",\"panel_1_close_button\",1);' onmouseout='panel1ButtonHover(\"panel1CloseButton\",\"panel_1_close_button\",0);' onblur='panel1ButtonHover(\"panel1CloseButton\",\"panel_1_close_button\",0);'";
			}
			closeButtonRender += " onclick='modalClose();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){modalClose();}' tabindex='0' title=\"Close\">" + closeButtonItalicVar + closeButtonValueVar + "<\/div>";
			baseHTML = closeButtonHTMLStart + closeButtonRender + closeButtonHTMLEnd;
		}
		document.getElementById('modalDivFront').innerHTML = baseHTML;
	}
}
function p1WriteBrandLabel() {
	if(gLog==1){console.log("p1WriteBrandLabel - START");}
	var writeHTML = "";
	for (b=0; b<labelArray.length; b++) {
		if (labelArray[b][9] == 0) {
			var baseHTML = autotextIt(p1TemplateSet.panel1RedrawBrandLabelDiv,"panel1RedrawBrandLabel");
			if (p1RedrawLabelNoTop == 0) {
				var labelLink = " onclick='panel1NoTopSelect("+labelArray[b][0]+");panel1RedrawLabelSelect("+labelArray[b][0]+");return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1NoTopSelect("+labelArray[b][0]+");panel1RedrawLabelSelect("+labelArray[b][0]+");return false;}' tabindex='0' title=\"" + labelArray[b][1] + "\"";
			}
			else {
				var labelLink = " onclick='panel1NoTopSelect("+labelArray[b][0]+",1);return false;' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){panel1NoTopSelect("+labelArray[b][0]+",1);return false;}' tabindex='0' title='" + labelArray[b][1] + "\"";
			}
			var labelNameTagStart = baseHTML.indexOf("<!--LABELNAME");
			if (labelNameTagStart != -1) {
				var labelNameTagEnd = baseHTML.indexOf(">",labelNameTagStart);
				var labelNameTagStrip = baseHTML.substring(labelNameTagStart,(labelNameTagEnd+1));
				var labelNameHTMLStart = baseHTML.substr(0,labelNameTagStart);
				var labelNameHTMLEnd = baseHTML.substr((labelNameTagEnd+1));
				var labelNameTagWrite = "";
				labelNameTagWrite += "<div id='brandLabelName" + labelArray[b][0] + "' class='panel_1_brand_label_name panel_1_brand_label_name_off'" + labelLink;
				if (hoverState==1) {
					labelNameTagWrite += " onmouseover='brandLabelMouseOver(" + labelArray[b][0] + ");' onfocus='brandLabelMouseOver(" + labelArray[b][0] + ");' onmouseout='brandLabelMouseOut(" + labelArray[b][0] + ");' onblur='brandLabelMouseOut(" + labelArray[b][0] + ");'";
				}
				labelNameTagWrite += ">" + labelArray[b][1] + "<\/div>";
				baseHTML = labelNameHTMLStart + labelNameTagWrite + labelNameHTMLEnd;
			}
			var labelBigImgTagStart = baseHTML.indexOf("<!--LABELBIGIMG");
			if (labelBigImgTagStart != -1) {
				var labelBigImgTagEnd = baseHTML.indexOf(">",labelBigImgTagStart);
				var labelBigImgTagStrip = baseHTML.substring(labelBigImgTagStart,(labelBigImgTagEnd+1));
				var labelBigImgHTMLStart = baseHTML.substr(0,labelBigImgTagStart);
				var labelBigImgHTMLEnd = baseHTML.substr((labelBigImgTagEnd+1));
				var labelBigImgWrite = "";
				labelBigImgWrite += "<a id='brandLabelBigImgLink" + labelArray[b][0] + "' href=''" + labelLink;
				if (hoverState==1) {
					labelBigImgWrite += " onmouseover='brandLabelMouseOver(" + labelArray[b][0] + ");' onfocus='brandLabelMouseOver(" + labelArray[b][0] + ");' onmouseout='brandLabelMouseOut(" + labelArray[b][0] + ");' onblur='brandLabelMouseOut(" + labelArray[b][0] + ");'";
				}
				labelBigImgWrite += " class='panel_1_brand_label_big_img_link panel_1_brand_label_big_img_link_off'><img title=\"" + labelArray[b][1] + "\" alt=\"" + labelArray[b][1] + "\" id='brandLabelBigImg" + labelArray[b][0] + "' class='panel_1_brand_label_big_img panel_1_brand_label_big_img_off' src='" + clientImgBase + labelArray[b][6] + "'><\/a>";
				baseHTML = labelBigImgHTMLStart + labelBigImgWrite + labelBigImgHTMLEnd;
			}
			var labelSmImgTagStart = baseHTML.indexOf("<!--LABELSMIMG");
			if (labelSmImgTagStart != -1) {
				var labelSmImgTagEnd = baseHTML.indexOf(">",labelSmImgTagStart);
				var labelSmImgTagStrip = baseHTML.substring(labelSmImgTagStart,(labelSmImgTagEnd+1));
				var labelSmImgHTMLStart = baseHTML.substr(0,labelSmImgTagStart);
				var labelSmImgHTMLEnd = baseHTML.substr((labelSmImgTagEnd+1));
				var labelSmImgWrite = "";
				labelSmImgWrite += "<a id='brandLabelSmImgLink" + labelArray[b][0] + "' href=''" + labelLink;
				if (hoverState==1) {
					labelSmImgWrite += " onmouseover='brandLabelMouseOver(" + labelArray[b][0] + ");' onfocus='brandLabelMouseOver(" + labelArray[b][0] + ");' onmouseout='brandLabelMouseOut(" + labelArray[b][0] + ");' onblur='brandLabelMouseOut(" + labelArray[b][0] + ");'";
				}
				labelSmImgWrite += " class='panel_1_brand_label_sm_img_link panel_1_brand_label_sm_img_link_off'><img title=\"" + labelArray[b][1] + "\" alt=\"" + labelArray[b][1] + "\" id='brandLabelSmImg" + labelArray[b][0] + "' class='panel_1_brand_label_sm_img panel_1_brand_label_sm_img_off' src='" + clientImgBase + labelArray[b][7] + "'><\/a>";
				baseHTML = labelSmImgHTMLStart + labelSmImgWrite + labelSmImgHTMLEnd;
			}
			writeHTML += baseHTML;
		}
	}
	document.getElementById('panel1RedrawBrandLabelShell').innerHTML = writeHTML;
}
function brandLabelMouseOver(theID) {
	var isOn = 0;
	for (x=0; x<labelArray.length; x++) {
		if (labelArray[x][0] == theID) {
			if (labelArray[x][3] == 1) {
				isOn = 1;
			}
			break;
		}
	}
	if (isOn == 0) {
		if ($("#brandLabelName" + theID).hasClass("panel_1_brand_label_name_off")) {
			$("#brandLabelName" + theID).removeClass("panel_1_brand_label_name_off");
			$("#brandLabelName" + theID).addClass("panel_1_brand_label_name_hover");
		}
		if ($("#brandLabelSideTop" + theID).hasClass("panel_1_product_label_off")) {
			$("#brandLabelSideTop" + theID).removeClass("panel_1_product_label_off");
			$("#brandLabelSideTop" + theID).addClass("panel_1_product_label_hover");
		}
		if (document.getElementById("brandLabelBigImg" + theID)) {
			$("#brandLabelBigImg"+theID).removeClass("panel_1_brand_label_big_img_off");
			$("#brandLabelBigImg"+theID).addClass("panel_1_brand_label_big_img_hover");
			$("#brandLabelBigImgLink"+theID).removeClass("panel_1_brand_label_big_img_link_off");
			$("#brandLabelBigImgLink"+theID).addClass("panel_1_brand_label_big_img_link_hover");
		}
		if (document.getElementById("brandLabelSmImg" + theID)) {
			$("#brandLabelSmImg"+theID).removeClass("panel_1_brand_label_sm_img_off");
			$("#brandLabelSmImg"+theID).addClass("panel_1_brand_label_sm_img_hover");
			$("#brandLabelSmImgLink"+theID).removeClass("panel_1_brand_label_sm_img_link_off");
			$("#brandLabelSmImgLink"+theID).addClass("panel_1_brand_label_sm_img_link_hover");
		}
	}
}
function brandLabelMouseOut(theID) {
	var isOn = 0;
	for (x=0; x<labelArray.length; x++) {
		if (labelArray[x][0] == theID) {
			if (labelArray[x][3] == 1) {
				isOn = 1;
			}
			break;
		}
	}
	if (isOn == 0) {
		if ($("#brandLabelName" + theID).hasClass("panel_1_brand_label_name_hover")) {
			$("#brandLabelName" + theID).removeClass("panel_1_brand_label_name_hover");
			$("#brandLabelName" + theID).addClass("panel_1_brand_label_name_off");
		}
		if ($("#brandLabelSideTop" + theID).hasClass("panel_1_product_label_hover")) {
			$("#brandLabelSideTop" + theID).removeClass("panel_1_product_label_hover");
			$("#brandLabelSideTop" + theID).addClass("panel_1_product_label_off");
		}
		if (document.getElementById("brandLabelBigImg" + theID)) {
			$("#brandLabelBigImg"+theID).removeClass("panel_1_brand_label_big_img_hover");
			$("#brandLabelBigImg"+theID).addClass("panel_1_brand_label_big_img_off");
			$("#brandLabelBigImgLink"+theID).removeClass("panel_1_brand_label_big_img_link_hover");
			$("#brandLabelBigImgLink"+theID).addClass("panel_1_brand_label_big_img_link_off");
		}
		if (document.getElementById("brandLabelSmImg" + theID)) {
			$("#brandLabelSmImg"+theID).removeClass("panel_1_brand_label_sm_img_hover");
			$("#brandLabelSmImg"+theID).addClass("panel_1_brand_label_sm_img_off");
			$("#brandLabelSmImgLink"+theID).removeClass("panel_1_brand_label_sm_img_link_hover");
			$("#brandLabelSmImgLink"+theID).addClass("panel_1_brand_label_big_img_link_off");
		}
	}
}
function productMouseOver(theID) {
	var isOn = 0;
	for (x=0; x<prodDisplayArray.length; x++) {
		if (prodDisplayArray[x][0] == theID) {
			if (prodDisplayArray[x][9] == 1) {
				isOn = 1;
			}
			break;
		}
	}
	if (isOn == 0) {
		if ($("#productName" + theID).hasClass("panel_1_product_name_off")) {
			$("#productName" + theID).removeClass("panel_1_product_name_off");
			$("#productName" + theID).addClass("panel_1_product_name_hover");
		}
		if ($("#productDesc" + theID).hasClass("panel_1_product_desc_off")) {
			$("#productDesc" + theID).removeClass("panel_1_product_desc_off");
			$("#productDesc" + theID).addClass("panel_1_product_desc_hover");
		}
		if ($("#productSideTop" + theID).hasClass("panel_1_product_label_off")) {
			$("#productSideTop" + theID).removeClass("panel_1_product_label_off");
			$("#productSideTop" + theID).addClass("panel_1_product_label_hover");
		}
		if (document.getElementById("productBigImg" + theID)) {
			$("#productBigImg"+theID).removeClass("panel_1_product_big_img_off");
			$("#productBigImg"+theID).addClass("panel_1_product_big_img_hover");
			$("#productBigImgLink"+theID).removeClass("panel_1_product_big_img_link_off");
			$("#productBigImgLink"+theID).addClass("panel_1_product_big_img_link_hover");
		}
		if (document.getElementById("productSmImg" + theID)) {
			$("#productSmImg"+theID).removeClass("panel_1_product_sm_img_off");
			$("#productSmImg"+theID).addClass("panel_1_product_sm_img_hover");
			$("#productSmImgLink"+theID).removeClass("panel_1_product_sm_img_link_off");
			$("#productSmImgLink"+theID).addClass("panel_1_product_sm_img_link_hover");
		}
	}
}
function productMouseOut(theID) {
	var isOn = 0;
	for (x=0; x<prodDisplayArray.length; x++) {
		if (prodDisplayArray[x][0] == theID) {
			if (prodDisplayArray[x][9] == 1) {
				isOn = 1;
			}
			break;
		}
	}
	if (isOn == 0) {
		if ($("#productName" + theID).hasClass("panel_1_product_name_hover")) {
			$("#productName" + theID).removeClass("panel_1_product_name_hover");
			$("#productName" + theID).addClass("panel_1_product_name_off");
		}
		if ($("#productSideTop" + theID).hasClass("panel_1_product_label_hover")) {
			$("#productSideTop" + theID).removeClass("panel_1_product_label_hover");
			$("#productSideTop" + theID).addClass("panel_1_product_label_off");
		}
		if (document.getElementById("productBigImg" + theID)) {
			$("#productBigImg"+theID).removeClass("panel_1_product_big_img_hover");
			$("#productBigImg"+theID).addClass("panel_1_product_big_img_off");
			$("#productBigImgLink"+theID).removeClass("panel_1_product_big_img_link_hover");
			$("#productBigImgLink"+theID).addClass("panel_1_product_big_img_link_off");
		}
		if (document.getElementById("productSmImg" + theID)) {
			$("#productSmImg"+theID).removeClass("panel_1_product_sm_img_hover");
			$("#productSmImg"+theID).addClass("panel_1_product_sm_img_off");
			$("#productSmImgLink"+theID).removeClass("panel_1_product_sm_img_link_hover");
			$("#productSmImgLink"+theID).addClass("panel_1_product_big_img_link_off");
		}
	}
}
function groupMouseOver(theID) {
	var isOn = 0;
	for (x=0; x<prodGroupArray.length; x++) {
		if (prodGroupArray[x][0] == theID) {
			if (prodGroupArray[x][6] == 1) {
				isOn = 1;
			}
			break;
		}
	}
	if (isOn == 1 && document.getElementById("panel1HoverCountSelShell"+theID)) {
		$("#panel1HoverCountSelShell" + theID).show();
	}
	if (isOn == 0 && document.getElementById("panel1HoverCountNoSelShell"+theID)) {
		$("#panel1HoverCountNoSelShell" + theID).show();
	}
	if ($("#panel1GroupShell" + theID).hasClass("panel_1_group_shell_off")) {
		$("#panel1GroupShell" + theID).removeClass("panel_1_group_shell_off");
		$("#panel1GroupShell" + theID).addClass("panel_1_group_shell_hover_off");
	}
	if ($("#panel1GroupShell" + theID).hasClass("panel_1_group_shell_on")) {
		$("#panel1GroupShell" + theID).removeClass("panel_1_group_shell_on");
		$("#panel1GroupShell" + theID).addClass("panel_1_group_shell_hover_on");
	}
}
function groupMouseOut(theID) {
	if ($("#panel1GroupShell" + theID).hasClass("panel_1_group_shell_hover_off")) {
		if (document.getElementById("panel1HoverCountSelShell"+theID)) {
			$("#panel1HoverCountSelShell" + theID).hide();
		}
		if (document.getElementById("panel1HoverCountNoSelShell"+theID)) {
			$("#panel1HoverCountNoSelShell" + theID).hide();
		}
		$("#panel1GroupShell" + theID).removeClass("panel_1_group_shell_hover_off");
		$("#panel1GroupShell" + theID).addClass("panel_1_group_shell_off");
	}
	if ($("#panel1GroupShell" + theID).hasClass("panel_1_group_shell_hover_on")) {
		$("#panel1GroupShell" + theID).removeClass("panel_1_group_shell_hover_on");
		$("#panel1GroupShell" + theID).addClass("panel_1_group_shell_on");
	}
}
function groupProductMouseOver(theID,theClass) {
	if ($("#"+theID).hasClass(theClass+"_off")) {
		$("#"+theID).removeClass(theClass+"_off");
		$("#"+theID).addClass(theClass+"_hover_off");
	}
	else if ($("#"+theID).hasClass(theClass+"_on")) {
		$("#"+theID).removeClass(theClass+"_on");
		$("#"+theID).addClass(theClass+"_hover_on");
	}
}
function groupProductMouseOut(theID,theClass) {
	if ($("#"+theID).hasClass(theClass+"_hover_off")) {
		$("#"+theID).removeClass(theClass+"_hover_off");
		$("#"+theID).addClass(theClass+"_off");
	}
	else if ($("#"+theID).hasClass(theClass+"_hover_on")) {
		$("#"+theID).removeClass(theClass+"_hover_on");
		$("#"+theID).addClass(theClass+"_on");
	}
}
function panel1NoTopSelect(theID,setVal) {
	$(".brand_label_side_shell").hide();
	for (q=0; q<labelArray.length; q++) {
		if (labelArray[q][9] == 0) {
			if (labelArray[q][0] == theID) {
				$(".panel_1_brand_label_name").removeClass("panel_1_brand_label_name_on");
				$(".panel_1_brand_label_name").removeClass("panel_1_brand_label_name_hover");
				$(".panel_1_brand_label_name").addClass("panel_1_brand_label_name_off");
				$(".panel_1_product_label_expand_top").removeClass("panel_1_product_label_on");
				$(".panel_1_product_label_expand_top").removeClass("panel_1_product_label_hover");
				$(".panel_1_product_label_expand_top").addClass("panel_1_product_label_off");
				$(".panel_1_brand_label_big_img").removeClass("panel_1_brand_label_big_img_on");
				$(".panel_1_brand_label_big_img").removeClass("panel_1_brand_label_big_img_hover");
				$(".panel_1_brand_label_big_img").addClass("panel_1_brand_label_big_img_off");
				$(".panel_1_brand_label_big_img_link").removeClass("panel_1_brand_label_big_img_link_on");
				$(".panel_1_brand_label_big_img_link").removeClass("panel_1_brand_label_big_img_link_hover");
				$(".panel_1_brand_label_big_img_link").addClass("panel_1_brand_label_big_img_link_off");
				$(".panel_1_brand_label_sm_img").removeClass("panel_1_brand_label_sm_img_on");
				$(".panel_1_brand_label_sm_img").removeClass("panel_1_brand_label_sm_img_hover");
				$(".panel_1_brand_label_sm_img").addClass("panel_1_brand_label_sm_img_off");
				$(".panel_1_brand_label_sm_img_link").removeClass("panel_1_brand_label_sm_img_link_on");
				$(".panel_1_brand_label_sm_img_link").removeClass("panel_1_brand_label_sm_img_link_hover");
				$(".panel_1_brand_label_sm_img_link").addClass("panel_1_brand_label_sm_img_link_off");
				if (labelArray[q][3] == 0) {
					if (setVal) {
						labelArray[q][3] = 1;
					}
					redrawExpandVar = theID;
					$("#brandLabelSideShell"+labelArray[q][0]).show();
					$("#brandLabelName" + theID).removeClass("panel_1_brand_label_name_off");
					$("#brandLabelName" + theID).removeClass("panel_1_brand_label_name_hover");
					$("#brandLabelName" + theID).addClass("panel_1_brand_label_name_on");
					$("#brandLabelSideTop" + theID).removeClass("panel_1_product_label_off");
					$("#brandLabelSideTop" + theID).removeClass("panel_1_product_label_hover");
					$("#brandLabelSideTop" + theID).addClass("panel_1_product_label_on");
					$("#brandLabelBigImg"+theID).removeClass("panel_1_brand_label_big_img_off");
					$("#brandLabelBigImg"+theID).removeClass("panel_1_brand_label_big_img_hover");
					$("#brandLabelBigImg"+theID).addClass("panel_1_brand_label_big_img_on");
					$("#brandLabelBigImgLink"+theID).removeClass("panel_1_brand_label_big_img_link_off");
					$("#brandLabelBigImgLink"+theID).removeClass("panel_1_brand_label_big_img_link_hover");
					$("#brandLabelBigImgLink"+theID).addClass("panel_1_brand_label_big_img_link_on");
					$("#brandLabelSmImg"+theID).removeClass("panel_1_brand_label_sm_img_off");
					$("#brandLabelSmImg"+theID).removeClass("panel_1_brand_label_sm_img_hover");
					$("#brandLabelSmImg"+theID).addClass("panel_1_brand_label_sm_img_on");
					$("#brandLabelSmImgLink"+theID).removeClass("panel_1_brand_label_sm_img_link_off");
					$("#brandLabelSmImgLink"+theID).removeClass("panel_1_brand_label_sm_img_link_hover");
					$("#brandLabelSmImgLink"+theID).addClass("panel_1_brand_label_sm_img_link_on");
				}
				else {
					if (setVal) {
						labelArray[q][3] = 0;
					}
					redrawExpandVar = 0;
				}
			}
			else {
				if (setVal) {
					labelArray[q][3] = 0;
				}
			}
		}
	}
}
function redrawProdSelect(theID) {
	for (q=0; q<prodDisplayArray.length; q++) {
		if (prodDisplayArray[q][0] == theID) {
			if (prodDisplayArray[q][9] == 0) {
				$("#productName"+theID).removeClass("panel_1_product_name_off");
				$("#productName"+theID).removeClass("panel_1_product_name_hover");
				$("#productName"+theID).addClass("panel_1_product_name_on");
				$("#productDesc"+theID).removeClass("panel_1_product_desc_off");
				$("#productDesc"+theID).removeClass("panel_1_product_desc_hover");
				$("#productDesc"+theID).addClass("panel_1_product_desc_on");
				$("#productBigImg"+theID).removeClass("panel_1_product_big_img_off");
				$("#productBigImg"+theID).removeClass("panel_1_product_big_img_hover");
				$("#productBigImg"+theID).addClass("panel_1_product_big_img_on");
				$("#productBigImgLink"+theID).removeClass("panel_1_product_big_img_link_off");
				$("#productBigImgLink"+theID).removeClass("panel_1_product_big_img_link_hover");
				$("#productBigImgLink"+theID).addClass("panel_1_product_big_img_link_on");
				$("#productSmImg"+theID).removeClass("panel_1_product_sm_img_off");
				$("#productSmImg"+theID).removeClass("panel_1_product_sm_img_hover");
				$("#productSmImg"+theID).addClass("panel_1_product_sm_img_on");
				$("#productSmImgLink"+theID).removeClass("panel_1_product_sm_img_link_off");
				$("#productSmImgLink"+theID).removeClass("panel_1_product_sm_img_link_hover");
				$("#productSmImgLink"+theID).addClass("panel_1_product_sm_img_link_on");
				prodDisplayArray[q][9] = 1;
				window["panel1ProductNameVar"+theID] = 1;
			}
			else {
				$("#productName"+theID).removeClass("panel_1_product_name_on");
				$("#productName"+theID).removeClass("panel_1_product_name_hover");
				$("#productName"+theID).addClass("panel_1_product_name_off");
				$("#productDesc"+theID).removeClass("panel_1_product_desc_on");
				$("#productDesc"+theID).removeClass("panel_1_product_desc_hover");
				$("#productDesc"+theID).addClass("panel_1_product_desc_off");
				$("#productBigImg"+theID).removeClass("panel_1_product_big_img_on");
				$("#productBigImg"+theID).removeClass("panel_1_product_big_img_hover");
				$("#productBigImg"+theID).addClass("panel_1_product_big_img_off");
				$("#productBigImgLink"+theID).removeClass("panel_1_product_big_img_link_on");
				$("#productBigImgLink"+theID).removeClass("panel_1_product_big_img_link_hover");
				$("#productBigImgLink"+theID).addClass("panel_1_product_big_img_link_off");
				$("#productSmImg"+theID).removeClass("panel_1_product_sm_img_on");
				$("#productSmImg"+theID).removeClass("panel_1_product_sm_img_hover");
				$("#productSmImg"+theID).addClass("panel_1_product_sm_img_off");
				$("#productSmImgLink"+theID).removeClass("panel_1_product_sm_img_link_on");
				$("#productSmImgLink"+theID).removeClass("panel_1_product_sm_img_link_hover");
				$("#productSmImgLink"+theID).addClass("panel_1_product_sm_img_link_off");
				prodDisplayArray[q][9] = 0;
				window["panel1ProductNameVar"+theID] = 0;
			}
			break;
		}
	}
	panel1ProdCart(theID);
}
function redrawSelAllProd() {
	var allDemOn = 1;
	for (g=0; g<filterContentArr.length; g++) {
		if (filterContentArr[g][9] == 0) {
			allDemOn = 0;
			break;
		}
	}
	if (allDemOn == 0) {
		for (g=0; g<filterContentArr.length; g++) {
			$("#productName"+filterContentArr[g][0]).removeClass("panel_1_product_name_off");
			$("#productName"+filterContentArr[g][0]).removeClass("panel_1_product_name_hover");
			$("#productName"+filterContentArr[g][0]).addClass("panel_1_product_name_on");
			$("#productDesc"+filterContentArr[g][0]).removeClass("panel_1_product_desc_off");
			$("#productDesc"+filterContentArr[g][0]).removeClass("panel_1_product_desc_hover");
			$("#productDesc"+filterContentArr[g][0]).addClass("panel_1_product_desc_on");
			$("#productBigImg"+filterContentArr[g][0]).removeClass("panel_1_product_big_img_off");
			$("#productBigImg"+filterContentArr[g][0]).removeClass("panel_1_product_big_img_hover");
			$("#productBigImg"+filterContentArr[g][0]).addClass("panel_1_product_big_img_on");
			$("#productBigImgLink"+filterContentArr[g][0]).removeClass("panel_1_product_big_img_link_off");
			$("#productBigImgLink"+filterContentArr[g][0]).removeClass("panel_1_product_big_img_link_hover");
			$("#productBigImgLink"+filterContentArr[g][0]).addClass("panel_1_product_big_img_link_on");
			$("#productSmImg"+filterContentArr[g][0]).removeClass("panel_1_product_sm_img_off");
			$("#productSmImg"+filterContentArr[g][0]).removeClass("panel_1_product_sm_img_hover");
			$("#productSmImg"+filterContentArr[g][0]).addClass("panel_1_product_sm_img_on");
			$("#productSmImgLink"+filterContentArr[g][0]).removeClass("panel_1_product_sm_img_link_off");
			$("#productSmImgLink"+filterContentArr[g][0]).removeClass("panel_1_product_sm_img_link_hover");
			$("#productSmImgLink"+filterContentArr[g][0]).addClass("panel_1_product_sm_img_link_on");
			for (x=0; x<prodDisplayArray.length; x++) {
				if (prodDisplayArray[x][0] == filterContentArr[g][0]) {
					prodDisplayArray[x][9] = 1;
					window["panel1ProductNameVar"+prodDisplayArray[x][0]] = 1;
					break;
				}
			}
		}
	}
	else {
		var tempCartArray = [];
		for (y=0;y<prodCartArray.length;y++) {
			tempCartArray[y] = [prodCartArray[y],1];
		}
		for (g=0; g<filterContentArr.length; g++) {
			$("#productName"+filterContentArr[g][0]).removeClass("panel_1_product_name_on");
			$("#productName"+filterContentArr[g][0]).removeClass("panel_1_product_name_hover");
			$("#productName"+filterContentArr[g][0]).addClass("panel_1_product_name_off");
			$("#productDesc"+filterContentArr[g][0]).removeClass("panel_1_product_desc_on");
			$("#productDesc"+filterContentArr[g][0]).removeClass("panel_1_product_desc_hover");
			$("#productDesc"+filterContentArr[g][0]).addClass("panel_1_product_desc_off");
			$("#productBigImg"+filterContentArr[g][0]).removeClass("panel_1_product_big_img_on");
			$("#productBigImg"+filterContentArr[g][0]).removeClass("panel_1_product_big_img_hover");
			$("#productBigImg"+filterContentArr[g][0]).addClass("panel_1_product_big_img_off");
			$("#productBigImgLink"+filterContentArr[g][0]).removeClass("panel_1_product_big_img_link_on");
			$("#productBigImgLink"+filterContentArr[g][0]).removeClass("panel_1_product_big_img_link_hover");
			$("#productBigImgLink"+filterContentArr[g][0]).addClass("panel_1_product_big_img_link_off");
			$("#productSmImg"+filterContentArr[g][0]).removeClass("panel_1_product_sm_img_on");
			$("#productSmImg"+filterContentArr[g][0]).removeClass("panel_1_product_sm_img_hover");
			$("#productSmImg"+filterContentArr[g][0]).addClass("panel_1_product_sm_img_off");
			$("#productSmImgLink"+filterContentArr[g][0]).removeClass("panel_1_product_sm_img_link_on");
			$("#productSmImgLink"+filterContentArr[g][0]).removeClass("panel_1_product_sm_img_link_hover");
			$("#productSmImgLink"+filterContentArr[g][0]).addClass("panel_1_product_sm_img_link_off");
			for (x=0; x<prodDisplayArray.length; x++) {
				if (prodDisplayArray[x][0] == filterContentArr[g][0]) {
					prodDisplayArray[x][9] = 0;
					window["panel1ProductNameVar"+prodDisplayArray[x][0]] = 0;
					break;
				}
			}
			for (y=0;y<tempCartArray.length;y++) {
				if (tempCartArray[y][0] == filterContentArr[g][0]) {
					tempCartArray[y][1] = 0;
					break;
				}
			}
		}
		prodCartArray.length = 0;
		pcIdx = 0;
		for (y=0;y<tempCartArray.length;y++) {
			if (tempCartArray[y][1] == 1) {
				prodCartArray[pcIdx] = tempCartArray[y][0];
				break;
			}
		}

	}
	panel1ProdCart();
}
function redrawGroupSelect(theID,aProdId) {
	if(gLog==1){console.log("redrawGroupSelect - START: ",theID,aProdId);}
	if (!aProdId) {
		$('.panel_1_group_modal_shell').hide();
	}
	if (aProdId) {
		var isInCart = 0;
		var whatIndex = 0;
		for (z=0;z<prodDisplayArray.length;z++) {
			if (prodDisplayArray[z][0] == aProdId) {
				whatIndex = z;
				break;
			}
		}
		for (x=0;x<prodCartArray.length; x++) {
			if (prodCartArray[x] == prodDisplayArray[whatIndex][0]) {
				isInCart = 1;
				break;
			}
		}
		if (isInCart == 0) {
			// DO SIZE POPUP STUFF
			prodCartArray.push(prodDisplayArray[whatIndex][0]);
			prodDisplayArray[whatIndex][9] = 1;
			window[('panel1ProductNameVar'+prodDisplayArray[whatIndex][0])] = 1;
			panel1ProdCartDraw();
		}
		else {
			panel1ProdCartRemove(aProdId);
		}
		panel1GroupModalWrite(theID);
	}
	else {
		var foundPGArr = [];
		var pgOnOff = -1;
		for (pga=0; pga<prodGroupArray.length; pga++) {
			if (prodGroupArray[pga][0] == theID) {
				foundPGArr = prodGroupArray[pga][7].split(",");
				pgOnOff = prodGroupArray[pga][6];
			}
		}
		if (pgOnOff == 0) {
			for (fpga=0; fpga<foundPGArr.length; fpga++) {
				for (pdaz=0; pdaz<prodDisplayArray.length; pdaz++) {
					if (prodDisplayArray[pdaz][0] == foundPGArr[fpga]) {
						var checkDaCart = 0;
						for (x=0;x<prodCartArray.length; x++) {
							if (prodCartArray[x] == prodDisplayArray[pdaz][0]) {
								if (prodDisplayArray[pdaz][9] == 0) {
									checkDaCart = 1;
								}
								break;
							}
						}
						if (checkDaCart == 0) {
							prodCartArray.push(prodDisplayArray[pdaz][0]);
							prodDisplayArray[pdaz][9] = 1;
							window[('panel1ProductNameVar'+prodDisplayArray[pdaz][0])] = 1;
						}
						break;
					}
				}
			}
		}
		else if (pgOnOff == 1) {
			var tempCartArray = [];
			for (x=0;x<prodCartArray.length;x++) {
				var foundDisOne = 0;
				for (fpga=0; fpga<foundPGArr.length; fpga++) {
					if (prodCartArray[x] == foundPGArr[fpga]) {
						foundDisOne = 1;
						for (pdaz=0; pdaz<prodDisplayArray.length; pdaz++) {
							if (prodDisplayArray[pdaz][0] == foundPGArr[fpga]) {
								prodDisplayArray[pdaz][9] = 0;
								window[('panel1ProductNameVar'+prodDisplayArray[pdaz][0])] = 0;
								break;
							}
						}
						break;
					}
				}
				if (foundDisOne == 0) {
					tempCartArray.push(prodCartArray[x]);
				}
			}
			prodCartArray.length = 0;
			for (y=0;y<tempCartArray.length;y++) {
				prodCartArray[y] = tempCartArray[y];
			}
		}
		redrawGroupDraw();
	}
	panel1ProdCartDraw();
}
function redrawGroupDraw() {
	if(gLog==1){console.log("redrawGroupDraw - START");}
	for (pga=0; pga<prodGroupArray.length; pga++) {
		var pgSplit = prodGroupArray[pga][7].split(",");
		var pgPush = [];
		for (psp=0; psp<pgSplit.length; psp++) {
			for (fpg=0; fpg<prodCartArray.length; fpg++) {
				if (pgSplit[psp] == prodCartArray[fpg]) {
					pgPush.push(pgSplit[psp]);
					break;
				}
			}
		}
		if (pgPush.length) {
			$("#panel1GroupShell" + prodGroupArray[pga][0]).removeClass("panel_1_group_shell_off");
			$("#panel1GroupShell" + prodGroupArray[pga][0]).removeClass("panel_1_group_shell_hover_off");
			$("#panel1GroupShell" + prodGroupArray[pga][0]).addClass("panel_1_group_shell_on");
			prodGroupArray[pga][6] = 1;
			if (document.getElementById('panel1HoverCountSelCart'+prodGroupArray[pga][0])) {
				document.getElementById('panel1HoverCountSelCart'+prodGroupArray[pga][0]).innerHTML = pgPush.length;
				$("#panel1HoverCountNoSelShell"+prodGroupArray[pga][0]).hide();
				$("#panel1HoverCountSelShell"+prodGroupArray[pga][0]).show();
			}
		}
		else {
			$("#panel1GroupShell" + prodGroupArray[pga][0]).removeClass("panel_1_group_shell_on");
			$("#panel1GroupShell" + prodGroupArray[pga][0]).removeClass("panel_1_group_shell_hover_on");
			$("#panel1GroupShell" + prodGroupArray[pga][0]).addClass("panel_1_group_shell_off");
			prodGroupArray[pga][6] = 0;
			if (document.getElementById('panel1HoverCountSelCart'+prodGroupArray[pga][0])) {
				document.getElementById('panel1HoverCountSelCart'+prodGroupArray[pga][0]).innerHTML = pgPush.length;
				$("#panel1HoverCountSelShell"+prodGroupArray[pga][0]).hide();
				$("#panel1HoverCountNoSelShell"+prodGroupArray[pga][0]).hide();
			}
		}
	}
}
function panel1RedrawLabelSelect(idVal) {
	if(gLog==1){console.log("panel1RedrawLabelSelect - START",idVal);}
	var whatState = 0;
	for (x=0;x<labelArray.length;x++) {
		if (labelArray[x][0] == idVal && labelArray[x][9] == 0 && panel1BrandLabelHideLabels == 1) {
			if (panel1BrandLabelOn == idVal) {
				panel1BrandLabelOn = 0;
			}
			else {
				panel1BrandLabelOn = idVal;
			}
			if(gLog==1){console.log("panel1RedrawLabelSelect - panel1BrandLabelOn",panel1BrandLabelOn);}
		}
		if (labelArray[x][0] == idVal && labelArray[x][3] == 0) {
			whatState = 1;
		}
		labelArray[x][3] = 0;
	}
	var checkUp = 1;
	var thisID = idVal;
	while (checkUp == 1) {
		var checkForMiss = 0;
		for (x=0;x<labelArray.length;x++) {
			if (labelArray[x][0] == thisID) {
				if (whatState == 1 || (whatState == 0 && labelArray[x][0] != idVal)) {
					labelArray[x][3] = 1;
				}
				checkForMiss++;
				if (labelArray[x][9] == 0) {
					thisID = 0;
					checkUp = 0;
				}
				else {
					thisID = labelArray[x][9];
				}
				break;
			}
		}
		if (checkForMiss == 0) {
			checkUp = 0;
		}
	}
	panel1RedrawFilter();
}
function panel1GroupModalWrite(gID) {
	genericCloseMe();
	var isOneOnNow = 0;
	if(gLog==1){console.log("panel1GroupModalWrite - " + gID);}
	var groupSubProdBase = [];
	var groupSubProdArr = [];
	var theX = -1;
	for (x=0; x<prodGroupArray.length; x++) {
		if (prodGroupArray[x][0] == gID) {
			groupSubProdBase = prodGroupArray[x][7].split(",");
			for (q=0; q<groupSubProdBase.length; q++) {
				for (p=0; p<prodDisplayArray.length; p++) {
					if (groupSubProdBase[q] == prodDisplayArray[p][0]) {
						groupSubProdArr[q] = prodDisplayArray[p];
						break;
					}
				}
			}
			theX = x;
			break;
		}
	}
	if(gLog==1){console.log("panel1GroupModalWrite - groupSubProdArr ",groupSubProdArr);}
	var startHTML = autotextIt(p1TemplateSet.panel1GroupModalStartDiv,"panel1GroupModalStart");
	var itemHTML = "";
	var itemRowHTML = autotextIt(p1TemplateSet.panel1GroupModalItemDiv,"panel1GroupModalItem");
	var endHTML = autotextIt(p1TemplateSet.panel1GroupModalEndDiv,"panel1GroupModalEnd");
	var baseID = "GroupModal";
	var baseClass = "group_modal";
	var isCatProdOn = 0;
	for (y=0; y<groupSubProdArr.length; y++) {
		var productHTMLTest = itemRowHTML;
		var prodDiscTagStart = productHTMLTest.indexOf("<!--HIGHPROD");
		if (prodDiscTagStart != -1) {
			var prodDiscTagEnd = productHTMLTest.indexOf(">",prodDiscTagStart);
			var prodDiscTagStrip = productHTMLTest.substring(prodDiscTagStart,(prodDiscTagEnd+1));
			var prodDiscHTMLStart = productHTMLTest.substr(0,prodDiscTagStart);
			var prodDiscHTMLEnd = productHTMLTest.substr((prodDiscTagEnd+1));
			var prodDiscWrite = "";
			var discVal = groupSubProdArr[y][6];
			if (discVal != 1) {
				prodDiscWrite = "<div class='global_" + hpArr[discVal][1] + " panel1GroupModalItem_" + hpArr[discVal][1] + "'>" + hpArr[discVal][0] + "<\/div>";
			}
			productHTMLTest = prodDiscHTMLStart + prodDiscWrite + prodDiscHTMLEnd;
		}
		var prodNameTagStart = productHTMLTest.indexOf("<!--PRODNAME");
		if (prodNameTagStart != -1) {
			var prodNameTagEnd = productHTMLTest.indexOf(">",prodNameTagStart);
			var prodNameTagStrip = productHTMLTest.substring(prodNameTagStart,(prodNameTagEnd+1));
			var baseProdNameHTMLStart = productHTMLTest.substr(0,prodNameTagStart);
			var baseProdNameHTMLEnd = productHTMLTest.substr((prodNameTagEnd+1));
			var descTest = prodNameTagStrip.indexOf(" DESC");
			if (descTest != -1) {
				var descVal = "<span class='panel_1_" + baseClass + "_prod_desc'>" + groupSubProdArr[y][3] + "<\/span>";
			}
			else {
				var descVal = "";
			}
			var prodNameTagLinkTest = prodNameTagStrip.indexOf(" LINK");
			var prodNameTagLink = "";
			if (prodNameTagLinkTest != -1) {
				prodNameTagLink = " style='cursor:pointer;' onclick='redrawGroupSelect(" + gID + "," + groupSubProdArr[y][0] + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){redrawGroupSelect(" + gID + "," + groupSubProdArr[y][0] + ");}'";
				if (hoverState==1) {
					prodNameTagLink += " onmouseover='groupProductMouseOver(\"panel1" + baseID + "Prod" + gID + "_" + groupSubProdArr[y][0] + "\", \"panel_1_" + baseClass + "_prod\");' onfocus='groupProductMouseOver(\"panel1" + baseID + "Prod" + gID + "_" + groupSubProdArr[y][0] + "\", \"panel_1_" + baseClass + "_prod\");' onmouseout='groupProductMouseOut(\"panel1" + baseID + "Prod" + gID + "_" + groupSubProdArr[y][0] + "\", \"panel_1_" + baseClass + "_prod\");' onblur='groupProductMouseOut(\"panel1" + baseID + "Prod" + gID + "_" + groupSubProdArr[y][0] + "\", \"panel_1_" + baseClass + "_prod\");'";
				}
			}
			var prodNameItalicStart = prodNameTagStrip.indexOf(" FNTAW=");
			if (prodNameItalicStart != -1) {
				var prodNameItalicEnd = prodNameTagStrip.indexOf("]",prodNameItalicStart);
				var prodNameItalicVar = "<i class='fa " + prodNameTagStrip.substring((prodNameItalicStart+8),(prodNameItalicEnd)) + "'><\/i>";
			}
			else {
				var prodNameItalicVar = "";
			}
			var prodNameSizeStart = prodNameTagStrip.indexOf(" SIZE");
			if (prodNameSizeStart != -1) {
				var prodNameSizeVar = groupSubProdArr[y][21];
			}
			else {
				var prodNameSizeVar = groupSubProdArr[y][2];
			}
			if (groupSubProdArr[y][9] == "1") {
				isCatProdOn++;
				var baseProductStyle = " panel_1_" + baseClass + "_prod_on";
				isOneOnNow++;
			}
			else {
				var baseProductStyle = " panel_1_" + baseClass + "_prod_off";
			}
			productHTMLTest = baseProdNameHTMLStart + "<div id='panel1" + baseID + "Prod" + gID + "_" + groupSubProdArr[y][0] + "' class='panel_1_" + baseClass + "_prod panel_1_" + baseClass + "_prod_" + gID + "_" + groupSubProdArr[y][0] + baseProductStyle + "'" + prodNameTagLink + " tabindex='0' title=\"" + prodNameSizeVar + "\">" + prodNameItalicVar + "<span class='panel_1_" + baseClass + "_prod_name'>" + prodNameSizeVar + "<\/span>" + descVal + "<\/div>" + baseProdNameHTMLEnd;
		}
		itemHTML += productHTMLTest;
	}
	var selAllTagStart = startHTML.indexOf("<!--SELECTALL");
	if (selAllTagStart != -1) {
		var selAllTagEnd = startHTML.indexOf(">",selAllTagStart);
		var selAllTagStrip = startHTML.substring(selAllTagStart,(selAllTagEnd+1));
		var selAllHTMLStart = startHTML.substr(0,selAllTagStart);
		var selAllHTMLEnd = startHTML.substr((selAllTagEnd+1));
		var selAllContent = "";
		var selAllValueStart = selAllTagStrip.indexOf(" VALUE=");
		if (selAllValueStart != -1) {
			var selAllValueEnd = selAllTagStrip.indexOf("]", selAllValueStart);
			var selAllValueVal = selAllTagStrip.substring((selAllValueStart+8),(selAllValueEnd));
		}
		else {
			var selAllValueVal = "SELECT ALL";
		}
		if (isCatProdOn == groupSubProdArr.length) {
			var baseSelAllStyle = " panel_1_" + baseClass + "_prod_all_on";
		}
		else {
			var baseSelAllStyle = " panel_1_" + baseClass + "_prod_all_off";
		}
		selAllContent += "<div id='panel1" + baseID + "ProdAll" + gID + "_" + prodGroupArray[theX][0] + "' class='panel_1_" + baseClass + "_prod_all_" + gID + "_" + prodGroupArray[theX][0] + " panel_1_" + baseClass + "_prod_all" + baseSelAllStyle + "'";
		if (hoverState==1) {
			selAllContent += " onmouseover='groupProductMouseOver(\"panel1GroupModalProdAll" + gID + "_" + prodGroupArray[theX][0] + "\", \"panel_1_" + baseClass + "_prod_all\");' onfocus='groupProductMouseOver(\"panel1GroupModalProdAll" + gID + "_" + prodGroupArray[theX][0] + "\", \"panel_1_" + baseClass + "_prod_all\");' onmouseout='groupProductMouseOut(\"panel1GroupModalProdAll" + gID + "_" + prodGroupArray[theX][0] + "\", \"panel_1_" + baseClass + "_prod_all\");' onblur='groupProductMouseOut(\"panel1GroupModalProdAll" + gID + "_" + prodGroupArray[theX][0] + "\", \"panel_1_" + baseClass + "_prod_all\");'";
		}
		selAllContent += " onclick='redrawGroupSelect(" + gID + ");' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){redrawGroupSelect(" + gID + ");}' tabindex='0' title=\"" + selAllValueVal + "\">" + selAllValueVal + "<\/div>";
		var catAllMulti = selAllTagStrip.indexOf(" MULTI");
		if (catAllMulti != -1 && prodGroupArray[theX][8] == 1) {
			var calAllWriteIt = 0;
		}
		else {
			var calAllWriteIt = 1;
		}
		if (calAllWriteIt == 0) {
			startHTML = selAllHTMLStart + selAllHTMLEnd;
		}
		else {
			startHTML = selAllHTMLStart + selAllContent + selAllHTMLEnd;
		}
	}
	var closeButtonTagStart = startHTML.indexOf("<!--CLOSEBUTTON");
	if (closeButtonTagStart != -1) {
		var closeButtonTagEnd = startHTML.indexOf(">",closeButtonTagStart);
		var closeButtonTagStrip = startHTML.substring(closeButtonTagStart,(closeButtonTagEnd+1));
		var closeButtonHTMLStart = startHTML.substr(0,closeButtonTagStart);
		var closeButtonHTMLEnd = startHTML.substr((closeButtonTagEnd+1));
		var closeButtonRender = "";
		var closeButtonItalicStart = closeButtonTagStrip.indexOf(" FNTAW=");
		if (closeButtonItalicStart != -1) {
			var closeButtonItalicEnd = closeButtonTagStrip.indexOf("]",closeButtonItalicStart);
			var closeButtonItalicVar = "<i class='fa " + closeButtonTagStrip.substring((closeButtonItalicStart+8),(closeButtonItalicEnd)) + "'><\/i>";
		}
		else {
			var closeButtonItalicVar = "";
		}
		closeButtonRender += "<div id='panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "' class='panel_1_" + baseClass + "_close_button panel_1_" + baseClass + "_close_button_off'";
		if (hoverState==1) {
			closeButtonRender += " onmouseover='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",1);' onfocus='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",1);' onmouseout='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",0);' onblur='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",0);'";
		}
		closeButtonRender += " onclick='closeGroupModal();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){closeGroupModal();}' tabindex='0' title=\"Close\">" + closeButtonItalicVar + "<\/div>";
		startHTML = closeButtonHTMLStart + closeButtonRender + closeButtonHTMLEnd;
	}
	var closeButtonTagStart = endHTML.indexOf("<!--CLOSEBUTTON");
	if (closeButtonTagStart != -1) {
		var closeButtonTagEnd = endHTML.indexOf(">",closeButtonTagStart);
		var closeButtonTagStrip = endHTML.substring(closeButtonTagStart,(closeButtonTagEnd+1));
		var closeButtonHTMLStart = endHTML.substr(0,closeButtonTagStart);
		var closeButtonHTMLEnd = endHTML.substr((closeButtonTagEnd+1));
		var closeButtonRender = "";
		var closeButtonItalicStart = closeButtonTagStrip.indexOf(" FNTAW=");
		if (closeButtonItalicStart != -1) {
			var closeButtonItalicEnd = closeButtonTagStrip.indexOf("]",closeButtonItalicStart);
			var closeButtonItalicVar = "<i class='fa " + closeButtonTagStrip.substring((closeButtonItalicStart+8),(closeButtonItalicEnd)) + "'><\/i>";
		}
		else {
			var closeButtonItalicVar = "";
		}
		closeButtonRender += "<div id='panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "' class='panel_1_" + baseClass + "_close_button panel_1_" + baseClass + "_close_button_off'";
		if (hoverState==1) {
			closeButtonRender += " onmouseover='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",1);' onfocus='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",1);' onmouseout='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",0);' onblur='panel1ButtonHover(\"panel1" + baseID + "CloseButton" + gID + "_" + prodGroupArray[theX][0] + "\",\"panel_1_" + baseClass + "_close_button\",0);'";
		}
		closeButtonRender += " onclick='closeGroupModal();' onkeyup='if(window.event){kc=window.event.keyCode;}else{kc=e.which;}if(kc==13){closeGroupModal();}' tabindex='0' title=\"Close\">" + closeButtonItalicVar + "<\/div>";
		endHTML = closeButtonHTMLStart + closeButtonRender + closeButtonHTMLEnd;
	}
	var baseHTML = startHTML + itemHTML + endHTML;
	document.getElementById("panel1GroupModalShell"+gID).innerHTML = baseHTML;
	$('.panel_1_group_modal_shell').hide();
	document.getElementById("panel1GroupModalShell"+gID).style.display = "block";
	if (isOneOnNow != 0) {
		$("#panel1GroupShell" + gID).removeClass("panel_1_group_shell_off");
		$("#panel1GroupShell" + gID).removeClass("panel_1_group_shell_hover_off");
		$("#panel1GroupShell" + gID).addClass("panel_1_group_shell_on");
		prodGroupArray[theX][6] = 1;
		if (document.getElementById('panel1HoverCountSelCart'+gID)) {
			document.getElementById('panel1HoverCountSelCart'+gID).innerHTML = isOneOnNow;
			$("#panel1HoverCountNoSelShell"+gID).hide();
			$("#panel1HoverCountSelShell"+gID).show();
		}
	}
	else {
		$("#panel1GroupShell" + gID).removeClass("panel_1_group_shell_on");
		$("#panel1GroupShell" + gID).removeClass("panel_1_group_shell_hover_on");
		$("#panel1GroupShell" + gID).addClass("panel_1_group_shell_off");
		prodGroupArray[theX][6] = 0;
		if (document.getElementById('panel1HoverCountSelCart'+gID)) {
			document.getElementById('panel1HoverCountSelCart'+gID).innerHTML = isOneOnNow;
			$("#panel1HoverCountSelShell"+gID).hide();
			$("#panel1HoverCountNoSelShell"+gID).hide();
		}
	}
}
function closeGroupModal() {
	$('.panel_1_group_modal_shell').hide();
}
scriptLoad++;