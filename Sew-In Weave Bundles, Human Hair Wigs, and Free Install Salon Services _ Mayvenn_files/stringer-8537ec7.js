"use strict";!function(t,e,n,r){function i(t){l("stringer.distinct_id",T.distinct_id,{domain:d()}),_=C[t.environment],S=t.sourceSite||S,E=t.debug||E,_||f("Invalid Environment",t.environment)}function o(e,n,r){var i=/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i;e&&!i.test(t.navigator.userAgent)&&p({id:h(A),name:e,source:S,resource:{device:R,browser:T,page:{url:t.location.href,title:t.document.title,referrer:t.document.referrer},visitor:x,client:{ts:Date.now()}},data:n},r)}function a(t,e){x={user_email:t,user_id:e},l("stringer.user_email",t),l("stringer.user_id",e)}function c(){x={},g("stringer.user_email"),g("stringer.user_id")}function u(t){return null===t||void 0===t}function s(t){for(var e=document.cookie.split(";"),n=RegExp("^\\s*"+t+"=\\s*(.*?)\\s*$"),r=0;r<e.length;r++){var i=e[r],o=i.match(n);if(o)return decodeURIComponent(o[1])}return null}function d(){var e=t.location.hostname.split(".");return e.slice(Math.max(e.length-2,0)).join(".")}function l(e,n,r){r=r||{},r.domain=r.domain||t.location.hostname;var i=new Date((new Date).getTime()+31536e7);u(n)&&(i=new Date(1970,1,1));var o=e+"="+encodeURIComponent(n)+"; domain="+r.domain+"; path=/; expires="+i.toUTCString();"https:"===t.location.protocol&&(o+=";secure"),t.document.cookie=o}function g(t,e){l(t,null,{domain:e})}function f(){try{E&&void 0!==e&&e.log&&e.log.apply(e,Array.prototype.concat.apply(["stringer"],arguments))}catch(t){}}function m(t){return JSON.stringify(t).replace(/[\u007F-\uFFFF]/g,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).substr(-4)})}function p(e,n){f("send",_,e);var r={cbTriggered:!1},i=function(){!r.cbTriggered&&n&&n(),r.cbTriggered=!0};t.setTimeout(i,500);var o=new XMLHttpRequest;o.open("POST",_),o.setRequestHeader("Content-Type","text/plain"),o.onreadystatechange=function(){4===o.readyState&&i()},o.send(m(e))}function h(t){var e=t();e[6]=15&e[6]|64,e[8]=63&e[8]|128;for(var n=0,r=[],i=0;i<256;i++)r[i]=(i+256).toString(16).substr(1);return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function v(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}function y(t,e){b[t]=function(){try{e.apply(b,arguments)}catch(e){f("error in "+t,e)}return b}}function w(t){return t(T.distinct_id)}var _,b={},A=function(t){var e,n=t.crypto||t.msCrypto;if(!e&&n&&n.getRandomValues)try{var r=new Uint8Array(16);e=function(){return n.getRandomValues(r),r},e()}catch(t){}if(!e){var i=new Array(16);e=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}return e}(t),R=function(){return{height:t.screen.height,width:t.screen.width,pixel_ratio:t.devicePixelRatio}}(),T=function(){return{distinct_id:s("stringer.distinct_id")||v(24),height:document.documentElement.clientHeight,width:document.documentElement.clientWidth,vendor:t.navigator.vendor}}(),x=function(){var t={},e=s("stringer.user_email"),n=s("stringer.user_id");return e&&(t.user_email=e),n&&(t.user_id=n),t}(),S="default",C={production:"https://t.mayvenn.com/",acceptance:"https://t.diva-acceptance.com/",development:"http://localhost:3013"},E=!1;b.loaded=!0,y("init",i),y("track",o),y("identify",a),y("clear",c),y("getBrowserId",w),t.stringer=b,Array.isArray(n)&&function(t){f("processing queue",t),t.forEach(function(t){var e=t.shift(1),n=b[e];n?(f("invoke",e,t),n.apply(null,t)):f("invalid command",e)}),t.length=0}(n)}(window,console,window.stringer);